{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lodash/lodash.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/classnames/index.js","webpack:///external \"React\"","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/reakit/es/_rollupPluginBabelHelpers-959e870d.js","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/reakit-utils/es/getDocument.js","webpack:///./node_modules/reakit-utils/es/useLiveRef.js","webpack:///./node_modules/tinycolor2/tinycolor.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/reakit-system/es/useToken.js","webpack:///./node_modules/reakit-system/es/createHook.js","webpack:///./node_modules/reakit-utils/es/toArray.js","webpack:///./node_modules/reakit-system/es/useOptions.js","webpack:///./node_modules/reakit-system/es/useProps.js","webpack:///./node_modules/reakit-utils/es/splitProps.js","webpack:///./node_modules/reakit-system/es/createComponent.js","webpack:///./node_modules/@wordpress/is-shallow-equal/lib/index.js","webpack:///./node_modules/reakit/es/CompositeState-de01a7f3.js","webpack:///./node_modules/reakit-utils/es/isSelfTarget.js","webpack:///./node_modules/reakit-utils/es/applyState.js","webpack:///./node_modules/reakit-system/es/_rollupPluginBabelHelpers-5ba0a876.js","webpack:///./node_modules/reakit-utils/es/useSealedState.js","webpack:///./node_modules/memize/index.js","webpack:///./node_modules/reakit/es/Id/IdState.js","webpack:///@wordpress/components/src/toolbar-context/index.js","webpack:///./node_modules/reakit/es/Id/IdProvider.js","webpack:///./node_modules/reakit-utils/es/hasFocusWithin.js","webpack:///./node_modules/reakit-utils/es/useForkRef.js","webpack:///./node_modules/reakit-utils/es/getActiveElement.js","webpack:///./node_modules/reakit-system/es/SystemContext.js","webpack:///./node_modules/reakit-utils/es/isButton.js","webpack:///./node_modules/reakit/es/Box/Box.js","webpack:///./node_modules/reakit/es/Tabbable/Tabbable.js","webpack:///./node_modules/reakit-utils/es/matches.js","webpack:///./node_modules/reakit-utils/es/tabbable.js","webpack:///./node_modules/reakit-utils/es/createOnKeyDown.js","webpack:///./node_modules/reakit-system/es/useCreateElement.js","webpack:///./node_modules/react-autosize-textarea/lib/index.js","webpack:///./node_modules/dom-scroll-into-view/lib/index.js","webpack:///./node_modules/react-spring/web.cjs.js","webpack:///./node_modules/rungen/dist/utils/is.js","webpack:///./node_modules/turbo-combine-reducers/index.js","webpack:///./node_modules/is-promise/index.js","webpack:///@wordpress/components/src/toolbar-item/index.js","webpack:///./node_modules/reakit/es/Toolbar/ToolbarState.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/equivalent-key-map/equivalent-key-map.js","webpack:///./node_modules/qs/lib/utils.js","webpack:///./node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack:///./node_modules/sprintf-js/src/sprintf.js","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///@wordpress/warning/src/index.js","webpack:///./node_modules/gradient-parser/build/node.js","webpack:///./node_modules/react-is/index.js","webpack:///./node_modules/qs/lib/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/rungen/dist/utils/helpers.js","webpack:///./node_modules/rungen/dist/utils/keys.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/qs/lib/formats.js","webpack:///external \"ReactDOM\"","webpack:///./node_modules/rungen/dist/index.js","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///../src/options.js","webpack:///../src/showdown.js","webpack:///../src/helpers.js","webpack:///../src/converter.js","webpack:///../src/subParsers/anchors.js","webpack:///../src/subParsers/autoLinks.js","webpack:///../src/subParsers/blockGamut.js","webpack:///../src/subParsers/blockQuotes.js","webpack:///../src/subParsers/codeBlocks.js","webpack:///../src/subParsers/codeSpans.js","webpack:///../src/subParsers/completeHTMLDocument.js","webpack:///../src/subParsers/detab.js","webpack:///../src/subParsers/ellipsis.js","webpack:///../src/subParsers/emoji.js","webpack:///../src/subParsers/encodeAmpsAndAngles.js","webpack:///../src/subParsers/encodeBackslashEscapes.js","webpack:///../src/subParsers/encodeCode.js","webpack:///../src/subParsers/escapeSpecialCharsWithinTagAttributes.js","webpack:///../src/subParsers/githubCodeBlocks.js","webpack:///../src/subParsers/hashBlock.js","webpack:///../src/subParsers/hashCodeTags.js","webpack:///../src/subParsers/hashElement.js","webpack:///../src/subParsers/hashHTMLBlocks.js","webpack:///../src/subParsers/hashHTMLSpans.js","webpack:///../src/subParsers/hashPreCodeTags.js","webpack:///../src/subParsers/headers.js","webpack:///../src/subParsers/horizontalRule.js","webpack:///../src/subParsers/images.js","webpack:///../src/subParsers/italicsAndBold.js","webpack:///../src/subParsers/lists.js","webpack:///../src/subParsers/metadata.js","webpack:///../src/subParsers/outdent.js","webpack:///../src/subParsers/paragraphs.js","webpack:///../src/subParsers/runExtension.js","webpack:///../src/subParsers/spanGamut.js","webpack:///../src/subParsers/strikethrough.js","webpack:///../src/subParsers/stripLinkDefinitions.js","webpack:///../src/subParsers/tables.js","webpack:///../src/subParsers/underline.js","webpack:///../src/subParsers/unescapeSpecialChars.js","webpack:///../src/subParsers/makeMarkdown/blockquote.js","webpack:///../src/subParsers/makeMarkdown/codeBlock.js","webpack:///../src/subParsers/makeMarkdown/codeSpan.js","webpack:///../src/subParsers/makeMarkdown/emphasis.js","webpack:///../src/subParsers/makeMarkdown/header.js","webpack:///../src/subParsers/makeMarkdown/hr.js","webpack:///../src/subParsers/makeMarkdown/image.js","webpack:///../src/subParsers/makeMarkdown/links.js","webpack:///../src/subParsers/makeMarkdown/list.js","webpack:///../src/subParsers/makeMarkdown/listItem.js","webpack:///../src/subParsers/makeMarkdown/node.js","webpack:///../src/subParsers/makeMarkdown/paragraph.js","webpack:///../src/subParsers/makeMarkdown/pre.js","webpack:///../src/subParsers/makeMarkdown/strikethrough.js","webpack:///../src/subParsers/makeMarkdown/strong.js","webpack:///../src/subParsers/makeMarkdown/table.js","webpack:///../src/subParsers/makeMarkdown/tableCell.js","webpack:///../src/subParsers/makeMarkdown/txt.js","webpack:///../src/loader.js","webpack:///./node_modules/mousetrap/mousetrap.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/refx/refx.js","webpack:///./node_modules/redux-multi/lib/index.js","webpack:///../src/ResizeListener.js","webpack:///../src/useOnResize.js","webpack:///../src/useResizeAware.js","webpack:///./node_modules/traverse/index.js","webpack:///./node_modules/css-mediaquery/index.js","webpack:///./node_modules/re-resizable/lib/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/rungen/dist/create.js","webpack:///./node_modules/rungen/dist/controls/builtin.js","webpack:///./node_modules/rungen/dist/controls/async.js","webpack:///./node_modules/rungen/dist/utils/dispatcher.js","webpack:///./node_modules/rungen/dist/controls/wrap.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/@wordpress/is-shallow-equal/lib/objects.js","webpack:///./node_modules/@wordpress/is-shallow-equal/lib/arrays.js","webpack:///./node_modules/mousetrap/plugins/global-bind/mousetrap-global-bind.js","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/react-is/cjs/react-is.production.min.js","webpack:///./node_modules/react-autosize-textarea/lib/TextareaAutosize.js","webpack:///./node_modules/autosize/dist/autosize.js","webpack:///./node_modules/line-height/lib/line-height.js","webpack:///./node_modules/computed-style/dist/computedStyle.commonjs.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js","webpack:///./node_modules/dom-scroll-into-view/lib/util.js","webpack:///./node_modules/qs/lib/stringify.js","webpack:///./node_modules/qs/lib/parse.js","webpack:///./node_modules/re-resizable/lib/resizer.js","webpack:///./node_modules/fast-memoize/src/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///@wordpress/primitives/src/svg/index.js","webpack:///@wordpress/icons/src/library/chevron-up.js","webpack:///@wordpress/icons/src/library/chevron-down.js","webpack:///@wordpress/hooks/src/validateNamespace.js","webpack:///@wordpress/hooks/src/validateHookName.js","webpack:///@wordpress/hooks/src/createAddHook.js","webpack:///@wordpress/hooks/src/createRemoveHook.js","webpack:///@wordpress/hooks/src/createHasHook.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///@wordpress/hooks/src/createRunHook.js","webpack:///@wordpress/hooks/src/createCurrentHook.js","webpack:///@wordpress/hooks/src/createDoingHook.js","webpack:///@wordpress/hooks/src/createDidHook.js","webpack:///@wordpress/hooks/src/createHooks.js","webpack:///@wordpress/hooks/src/index.js","webpack:///@wordpress/deprecated/src/index.js","webpack:///@wordpress/element/src/react.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///@wordpress/dom/src/dom.js","webpack:///@wordpress/dom/src/focusable.js","webpack:///@wordpress/dom/src/tabbable.js","webpack:///@wordpress/dom/src/index.js","webpack:///./node_modules/@tannin/postfix/index.js","webpack:///@wordpress/i18n/src/sprintf.js","webpack:///./node_modules/@tannin/evaluate/index.js","webpack:///./node_modules/@tannin/compile/index.js","webpack:///./node_modules/tannin/index.js","webpack:///./node_modules/@tannin/plural-forms/index.js","webpack:///@wordpress/i18n/src/create-i18n.js","webpack:///@wordpress/i18n/src/default-i18n.js","webpack:///@wordpress/keycodes/src/platform.js","webpack:///@wordpress/keycodes/src/index.js","webpack:///@wordpress/compose/src/hooks/use-media-query/index.js","webpack:///@wordpress/compose/src/hooks/use-viewport-match/index.js","webpack:///@wordpress/icons/src/library/close.js","webpack:///@wordpress/components/src/popover/utils.js","webpack:///@wordpress/compose/src/utils/create-higher-order-component/index.js","webpack:///@wordpress/components/src/higher-order/with-focus-return/context.js","webpack:///@wordpress/components/src/higher-order/with-focus-return/index.js","webpack:///@wordpress/components/src/higher-order/with-constrained-tabbing/index.js","webpack:///@wordpress/components/src/higher-order/with-focus-outside/index.js","webpack:///@wordpress/components/src/popover/detect-outside.js","webpack:///@wordpress/components/src/scroll-lock/index.js","webpack:///@wordpress/components/src/isolated-event-container/index.js","webpack:///@wordpress/components/src/slot-fill/bubbles-virtually/slot-fill-context.js","webpack:///@wordpress/components/src/slot-fill/bubbles-virtually/use-slot.js","webpack:///@wordpress/element/src/utils.js","webpack:///@wordpress/components/src/slot-fill/bubbles-virtually/slot-fill-provider.js","webpack:///@wordpress/components/src/slot-fill/context.js","webpack:///@wordpress/components/src/slot-fill/slot.js","webpack:///@wordpress/components/src/slot-fill/fill.js","webpack:///@wordpress/components/src/slot-fill/bubbles-virtually/slot.js","webpack:///@wordpress/components/src/slot-fill/bubbles-virtually/fill.js","webpack:///@wordpress/components/src/slot-fill/index.js","webpack:///@wordpress/components/src/animate/index.js","webpack:///@wordpress/components/src/popover/index.js","webpack:///@wordpress/components/src/shortcut/index.js","webpack:///@wordpress/components/src/tooltip/index.js","webpack:///@wordpress/components/src/dashicon/index.js","webpack:///@wordpress/components/src/icon/index.js","webpack:///@wordpress/components/src/button/index.js","webpack:///@wordpress/components/src/panel/body.js","webpack:///@wordpress/components/src/panel/row.js","webpack:///@wordpress/compose/src/higher-order/pure/index.js","webpack:///@wordpress/components/src/color-picker/utils.js","webpack:///@wordpress/compose/src/hooks/use-keyboard-shortcut/index.js","webpack:///@wordpress/components/src/keyboard-shortcuts/index.js","webpack:///@wordpress/components/src/color-picker/alpha.js","webpack:///@wordpress/compose/src/higher-order/compose.js","webpack:///@wordpress/compose/src/hooks/use-instance-id/index.js","webpack:///@wordpress/compose/src/higher-order/with-instance-id/index.js","webpack:///@wordpress/components/src/visually-hidden/index.js","webpack:///@wordpress/components/src/visually-hidden/utils.js","webpack:///@wordpress/components/src/color-picker/hue.js","webpack:///@wordpress/a11y/src/add-container.js","webpack:///@wordpress/a11y/src/filter-message.js","webpack:///@wordpress/dom-ready/src/index.js","webpack:///@wordpress/a11y/src/index.js","webpack:///@wordpress/a11y/src/clear.js","webpack:///@wordpress/components/src/base-control/index.js","webpack:///@wordpress/components/src/text-control/index.js","webpack:///@wordpress/components/src/color-picker/inputs.js","webpack:///@wordpress/components/src/color-picker/saturation.js","webpack:///@wordpress/components/src/color-picker/index.js","webpack:///@wordpress/components/src/spinner/index.js","webpack:///@wordpress/escape-html/src/index.js","webpack:///@wordpress/escape-html/src/escape-greater.js","webpack:///@wordpress/element/src/raw-html.js","webpack:///@wordpress/element/src/serialize.js","webpack:///@wordpress/components/src/notice/index.js","webpack:///./js/template-designer/contexts/TemplateDesignerContext.js","webpack:///@wordpress/components/src/panel/header.js","webpack:///@wordpress/components/src/panel/index.js","webpack:///./js/template-designer/components/OptionsPanel.js","webpack:///@wordpress/components/src/radio-control/index.js","webpack:///@wordpress/components/src/utils/colors-values.js","webpack:///@wordpress/components/src/utils/colors.js","webpack:///@wordpress/components/src/range-control/utils.js","webpack:///./node_modules/@emotion/memoize/dist/memoize.browser.esm.js","webpack:///./node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js","webpack:///./node_modules/@emotion/sheet/dist/sheet.browser.esm.js","webpack:///./node_modules/@emotion/stylis/dist/stylis.browser.esm.js","webpack:///./node_modules/@emotion/cache/dist/cache.browser.esm.js","webpack:///./node_modules/@emotion/utils/dist/utils.browser.esm.js","webpack:///./node_modules/@emotion/hash/dist/hash.browser.esm.js","webpack:///./node_modules/@emotion/unitless/dist/unitless.browser.esm.js","webpack:///./node_modules/@emotion/serialize/dist/serialize.browser.esm.js","webpack:///./node_modules/@emotion/css/dist/css.browser.esm.js","webpack:///./node_modules/@emotion/core/dist/core.browser.esm.js","webpack:///./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js","webpack:///@wordpress/components/src/utils/rtl.js","webpack:///@wordpress/components/src/range-control/styles/range-control-styles.js","webpack:///@wordpress/components/src/utils/reduce-motion.js","webpack:///@wordpress/components/src/range-control/mark.js","webpack:///@wordpress/components/src/range-control/rail.js","webpack:///@wordpress/components/src/range-control/tooltip.js","webpack:///@wordpress/components/src/range-control/index.js","webpack:///@wordpress/icons/src/library/arrow-down.js","webpack:///@wordpress/icons/src/library/arrow-left.js","webpack:///@wordpress/icons/src/library/arrow-up.js","webpack:///@wordpress/icons/src/library/arrow-right.js","webpack:///./js/template-designer/functions/helper-functions.js","webpack:///./js/template-designer/components/EditableElement.js","webpack:///@wordpress/components/src/select-control/index.js","webpack:///@wordpress/components/src/number-control/index.js","webpack:///@wordpress/components/src/toolbar-button/toolbar-button-container.js","webpack:///@wordpress/components/src/toolbar-button/index.js","webpack:///@wordpress/components/src/toolbar-group/toolbar-group-container.js","webpack:///@wordpress/components/src/dropdown/index.js","webpack:///@wordpress/components/src/navigable-container/container.js","webpack:///@wordpress/components/src/navigable-container/menu.js","webpack:///@wordpress/components/src/dropdown-menu/index.js","webpack:///@wordpress/components/src/toolbar-group/toolbar-group-collapsed.js","webpack:///@wordpress/components/src/toolbar-group/index.js","webpack:///./node_modules/reakit-utils/es/fireEvent.js","webpack:///./node_modules/reakit-utils/es/createEvent.js","webpack:///./node_modules/reakit-utils/es/createKeyboardEvent.js","webpack:///./node_modules/reakit-utils/es/getDefaultView.js","webpack:///./node_modules/reakit/es/Composite/Composite.js","webpack:///./node_modules/reakit-utils/es/fireKeyboardEvent.js","webpack:///./node_modules/reakit/es/Toolbar/Toolbar.js","webpack:///@wordpress/components/src/toolbar/toolbar-container.js","webpack:///@wordpress/components/src/toolbar/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/redux/es/redux.js","webpack:///@wordpress/redux-routine/src/is-generator.js","webpack:///@wordpress/redux-routine/src/is-action.js","webpack:///@wordpress/redux-routine/src/runtime.js","webpack:///@wordpress/data/src/promise-middleware.js","webpack:///@wordpress/data/src/resolvers-cache-middleware.js","webpack:///@wordpress/data/src/namespace-store/metadata/utils.js","webpack:///@wordpress/data/src/namespace-store/metadata/reducer.js","webpack:///@wordpress/data/src/namespace-store/metadata/selectors.js","webpack:///@wordpress/data/src/namespace-store/metadata/actions.js","webpack:///@wordpress/data/src/namespace-store/index.js","webpack:///@wordpress/redux-routine/src/index.js","webpack:///@wordpress/data/src/store/index.js","webpack:///@wordpress/data/src/registry.js","webpack:///@wordpress/data/src/default-registry.js","webpack:///@wordpress/data/src/plugins/persistence/storage/object.js","webpack:///@wordpress/data/src/plugins/persistence/storage/default.js","webpack:///@wordpress/data/src/plugins/persistence/index.js","webpack:///./node_modules/use-memo-one/dist/use-memo-one.esm.js","webpack:///@wordpress/priority-queue/src/request-idle-callback.js","webpack:///@wordpress/priority-queue/src/index.js","webpack:///@wordpress/data/src/components/registry-provider/context.js","webpack:///@wordpress/data/src/components/registry-provider/use-registry.js","webpack:///@wordpress/data/src/components/async-mode-provider/context.js","webpack:///@wordpress/data/src/components/use-select/index.js","webpack:///@wordpress/data/src/components/async-mode-provider/use-async-mode.js","webpack:///@wordpress/data/src/components/with-select/index.js","webpack:///@wordpress/data/src/components/use-dispatch/use-dispatch.js","webpack:///@wordpress/data/src/components/use-dispatch/use-dispatch-with-map.js","webpack:///@wordpress/data/src/components/with-dispatch/index.js","webpack:///@wordpress/data/src/components/with-registry/index.js","webpack:///@wordpress/data/src/index.js","webpack:///@wordpress/blocks/src/store/reducer.js","webpack:///./node_modules/rememo/es/rememo.js","webpack:///@wordpress/blocks/src/store/selectors.js","webpack:///@wordpress/blocks/src/store/actions.js","webpack:///@wordpress/blocks/src/store/index.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/bytesToUuid.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///@wordpress/icons/src/library/block-default.js","webpack:///@wordpress/blocks/src/api/utils.js","webpack:///@wordpress/blocks/src/api/constants.js","webpack:///@wordpress/blocks/src/api/registration.js","webpack:///@wordpress/blocks/src/api/factory.js","webpack:///./node_modules/hpq/es/get-path.js","webpack:///./node_modules/hpq/es/index.js","webpack:///@wordpress/autop/src/index.js","webpack:///@wordpress/block-serialization-default-parser/src/index.js","webpack:///../../src/generated/html5-named-char-refs.ts","webpack:///../../src/entity-parser.ts","webpack:///../../src/utils.ts","webpack:///../../src/evented-tokenizer.ts","webpack:///@wordpress/html-entities/src/index.js","webpack:///../../src/tokenizer.ts","webpack:///@wordpress/blocks/src/api/validation/logger.js","webpack:///@wordpress/blocks/src/block-content-provider/index.js","webpack:///@wordpress/blocks/src/api/serializer.js","webpack:///@wordpress/blocks/src/api/validation/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack:///@wordpress/blocks/src/api/children.js","webpack:///@wordpress/blocks/src/api/node.js","webpack:///@wordpress/blocks/src/api/parser.js","webpack:///@wordpress/blocks/src/api/matchers.js","webpack:///@wordpress/blocks/src/api/raw-handling/phrasing-content.js","webpack:///@wordpress/blocks/src/api/raw-handling/utils.js","webpack:///@wordpress/blocks/src/api/raw-handling/normalise-blocks.js","webpack:///@wordpress/blocks/src/api/raw-handling/special-comment-converter.js","webpack:///@wordpress/blocks/src/api/raw-handling/list-reducer.js","webpack:///@wordpress/blocks/src/api/raw-handling/blockquote-normaliser.js","webpack:///@wordpress/blocks/src/api/raw-handling/figure-content-reducer.js","webpack:///@wordpress/shortcode/src/index.js","webpack:///@wordpress/blocks/src/api/raw-handling/shortcode-converter.js","webpack:///@wordpress/blocks/src/api/raw-handling/comment-remover.js","webpack:///@wordpress/blocks/src/api/raw-handling/is-inline-content.js","webpack:///@wordpress/blocks/src/api/raw-handling/phrasing-content-reducer.js","webpack:///@wordpress/blocks/src/api/raw-handling/head-remover.js","webpack:///@wordpress/blocks/src/api/raw-handling/ms-list-converter.js","webpack:///@wordpress/blob/src/index.js","webpack:///@wordpress/blocks/src/api/raw-handling/image-corrector.js","webpack:///@wordpress/blocks/src/api/raw-handling/markdown-converter.js","webpack:///@wordpress/blocks/src/api/raw-handling/iframe-remover.js","webpack:///@wordpress/blocks/src/api/raw-handling/google-docs-uid-remover.js","webpack:///@wordpress/blocks/src/api/raw-handling/html-formatting-remover.js","webpack:///@wordpress/blocks/src/api/raw-handling/br-remover.js","webpack:///@wordpress/blocks/src/api/raw-handling/empty-paragraph-remover.js","webpack:///@wordpress/blocks/src/api/raw-handling/paste-handler.js","webpack:///@wordpress/blocks/src/api/raw-handling/index.js","webpack:///@wordpress/blocks/src/api/templates.js","webpack:///@wordpress/rich-text/src/store/reducer.js","webpack:///@wordpress/rich-text/src/store/selectors.js","webpack:///@wordpress/rich-text/src/store/actions.js","webpack:///@wordpress/rich-text/src/is-format-equal.js","webpack:///@wordpress/rich-text/src/normalise-formats.js","webpack:///@wordpress/rich-text/src/create-element.js","webpack:///@wordpress/rich-text/src/store/index.js","webpack:///@wordpress/rich-text/src/create.js","webpack:///@wordpress/rich-text/src/special-characters.js","webpack:///@wordpress/rich-text/src/concat.js","webpack:///@wordpress/rich-text/src/get-active-formats.js","webpack:///@wordpress/rich-text/src/get-active-format.js","webpack:///@wordpress/rich-text/src/get-text-content.js","webpack:///@wordpress/rich-text/src/get-line-index.js","webpack:///@wordpress/rich-text/src/is-collapsed.js","webpack:///@wordpress/rich-text/src/is-empty.js","webpack:///@wordpress/rich-text/src/remove-format.js","webpack:///@wordpress/rich-text/src/insert.js","webpack:///@wordpress/rich-text/src/remove.js","webpack:///@wordpress/rich-text/src/replace.js","webpack:///@wordpress/rich-text/src/remove-line-separator.js","webpack:///@wordpress/rich-text/src/slice.js","webpack:///@wordpress/rich-text/src/split.js","webpack:///@wordpress/rich-text/src/to-tree.js","webpack:///@wordpress/rich-text/src/get-format-type.js","webpack:///@wordpress/rich-text/src/to-dom.js","webpack:///@wordpress/rich-text/src/to-html-string.js","webpack:///@wordpress/rich-text/src/indent-list-items.js","webpack:///@wordpress/rich-text/src/can-indent-list-items.js","webpack:///@wordpress/compose/src/higher-order/with-safe-timeout/index.js","webpack:///@wordpress/rich-text/src/component/format-edit.js","webpack:///@wordpress/rich-text/src/get-active-object.js","webpack:///@wordpress/rich-text/src/component/with-format-types.js","webpack:///@wordpress/rich-text/src/component/boundary-style.js","webpack:///@wordpress/rich-text/src/component/inline-warning.js","webpack:///@wordpress/rich-text/src/component/index.js","webpack:///@wordpress/rich-text/src/update-formats.js","webpack:///@wordpress/viewport/src/store/actions.js","webpack:///@wordpress/viewport/src/store/selectors.js","webpack:///@wordpress/viewport/src/store/index.js","webpack:///@wordpress/viewport/src/store/reducer.js","webpack:///@wordpress/compose/src/higher-order/if-condition/index.js","webpack:///@wordpress/viewport/src/with-viewport-match.js","webpack:///@wordpress/viewport/src/listener.js","webpack:///@wordpress/viewport/src/index.js","webpack:///@wordpress/keyboard-shortcuts/src/store/reducer.js","webpack:///@wordpress/keyboard-shortcuts/src/store/actions.js","webpack:///@wordpress/keyboard-shortcuts/src/store/selectors.js","webpack:///@wordpress/keyboard-shortcuts/src/store/index.js","webpack:///@wordpress/keyboard-shortcuts/src/hooks/use-shortcut.js","webpack:///@wordpress/block-editor/src/components/colors/utils.js","webpack:///@wordpress/block-editor/src/components/block-edit/context.js","webpack:///@wordpress/block-editor/src/components/inspector-controls/index.js","webpack:///@wordpress/components/src/higher-order/with-filters/index.js","webpack:///@wordpress/block-editor/src/components/block-edit/edit.js","webpack:///@wordpress/block-editor/src/components/block-edit/index.js","webpack:///@wordpress/components/src/color-indicator/index.js","webpack:///@wordpress/components/src/button-group/index.js","webpack:///@wordpress/icons/src/icon/index.js","webpack:///@wordpress/icons/src/library/check.js","webpack:///@wordpress/components/src/circular-option-picker/index.js","webpack:///@wordpress/components/src/color-palette/index.js","webpack:///@wordpress/compose/src/hooks/use-dragging/index.js","webpack:///@wordpress/components/src/angle-picker-control/index.js","webpack:///@wordpress/components/src/custom-gradient-picker/icons.js","webpack:///@wordpress/icons/src/library/plus-circle.js","webpack:///@wordpress/components/src/custom-gradient-picker/constants.js","webpack:///@wordpress/components/src/custom-gradient-picker/serializer.js","webpack:///@wordpress/components/src/custom-gradient-picker/utils.js","webpack:///@wordpress/components/src/custom-gradient-picker/control-points.js","webpack:///@wordpress/components/src/custom-gradient-picker/custom-gradient-bar.js","webpack:///@wordpress/components/src/custom-gradient-picker/index.js","webpack:///@wordpress/components/src/gradient-picker/index.js","webpack:///@wordpress/block-editor/src/components/gradients/index.js","webpack:///@wordpress/block-editor/src/components/colors-gradients/control.js","webpack:///@wordpress/block-editor/src/components/colors-gradients/panel-color-gradient-settings.js","webpack:///@wordpress/block-editor/src/components/contrast-checker/index.js","webpack:///@wordpress/block-editor/src/components/colors/use-colors.js","webpack:///@wordpress/block-editor/src/components/font-sizes/utils.js","webpack:///@wordpress/icons/src/library/text-color.js","webpack:///./node_modules/compute-scroll-into-view/es/index.js","webpack:///./node_modules/downshift/dist/downshift.esm.js","webpack:///@wordpress/components/src/custom-select-control/index.js","webpack:///@wordpress/components/src/font-size-picker/index.js","webpack:///@wordpress/block-editor/src/components/font-sizes/font-size-picker.js","webpack:///@wordpress/block-editor/src/components/font-sizes/with-font-sizes.js","webpack:///@wordpress/icons/src/library/align-left.js","webpack:///@wordpress/icons/src/library/align-center.js","webpack:///@wordpress/icons/src/library/align-right.js","webpack:///@wordpress/block-editor/src/components/alignment-toolbar/index.js","webpack:///@wordpress/components/src/higher-order/with-spoken-messages/index.js","webpack:///@wordpress/components/src/autocomplete/index.js","webpack:///@wordpress/block-editor/src/components/autocomplete/index.js","webpack:///@wordpress/icons/src/library/position-left.js","webpack:///@wordpress/icons/src/library/position-center.js","webpack:///@wordpress/icons/src/library/position-right.js","webpack:///@wordpress/icons/src/library/stretch-wide.js","webpack:///@wordpress/icons/src/library/stretch-full-width.js","webpack:///@wordpress/block-editor/src/components/block-alignment-toolbar/index.js","webpack:///@wordpress/block-editor/src/components/block-title/index.js","webpack:///@wordpress/block-editor/src/components/block-controls/index.js","webpack:///@wordpress/block-editor/src/components/block-format-controls/index.js","webpack:///@wordpress/block-editor/src/components/block-icon/index.js","webpack:///@wordpress/icons/src/library/create.js","webpack:///@wordpress/element/src/create-interpolate-element.js","webpack:///@wordpress/icons/src/library/plus.js","webpack:///@wordpress/components/src/tip/index.js","webpack:///@wordpress/block-editor/src/components/inserter/tips.js","webpack:///@wordpress/block-editor/src/components/inserter/search-form.js","webpack:///@wordpress/block-editor/src/components/block-card/index.js","webpack:///@wordpress/block-editor/src/store/defaults.js","webpack:///@wordpress/block-editor/src/store/array.js","webpack:///@wordpress/block-editor/src/store/reducer.js","webpack:///@wordpress/block-editor/src/store/controls.js","webpack:///@wordpress/data/src/factory.js","webpack:///@wordpress/block-editor/src/store/actions.js","webpack:///@wordpress/block-editor/src/store/selectors.js","webpack:///@wordpress/block-editor/src/store/effects.js","webpack:///@wordpress/block-editor/src/store/middlewares.js","webpack:///@wordpress/block-editor/src/store/index.js","webpack:///@wordpress/block-editor/src/components/provider/with-registry-provider.js","webpack:///@wordpress/block-editor/src/components/provider/index.js","webpack:///@wordpress/components/src/disabled/index.js","webpack:///@wordpress/compose/src/hooks/use-resize-observer/index.js","webpack:///@wordpress/components/src/modal/frame.js","webpack:///@wordpress/components/src/modal/header.js","webpack:///@wordpress/components/src/modal/aria-helper.js","webpack:///@wordpress/components/src/modal/index.js","webpack:///@wordpress/components/src/menu-group/index.js","webpack:///@wordpress/components/src/menu-item/index.js","webpack:///@wordpress/icons/src/library/more-horizontal.js","webpack:///@wordpress/block-editor/src/components/warning/index.js","webpack:///@wordpress/block-editor/src/components/block-compare/block-view.js","webpack:///@wordpress/block-editor/src/components/block-compare/index.js","webpack:///@wordpress/block-editor/src/components/block-list/block-invalid-warning.js","webpack:///@wordpress/block-editor/src/components/block-list/block-crash-warning.js","webpack:///@wordpress/block-editor/src/components/block-list/block-crash-boundary.js","webpack:///@wordpress/block-editor/src/components/block-list/block-html.js","webpack:///@wordpress/block-editor/src/utils/dom.js","webpack:///@wordpress/compose/src/hooks/use-reduced-motion/index.js","webpack:///@wordpress/block-editor/src/components/block-list/moving-animation.js","webpack:///@wordpress/block-editor/src/components/block-list/use-multi-selection.js","webpack:///@wordpress/block-editor/src/components/writing-flow/focus-capture.js","webpack:///@wordpress/block-editor/src/components/writing-flow/index.js","webpack:///@wordpress/block-editor/src/components/block-list/insertion-point.js","webpack:///@wordpress/block-editor/src/components/block-list/breadcrumb.js","webpack:///@wordpress/block-editor/src/components/navigable-toolbar/index.js","webpack:///@wordpress/block-editor/src/components/block-list/block-contextual-toolbar.js","webpack:///@wordpress/block-editor/src/components/block-list/block-popover.js","webpack:///@wordpress/block-editor/src/components/block-list/root-container.js","webpack:///@wordpress/block-editor/src/components/block-list/block-elements.js","webpack:///@wordpress/block-editor/src/components/block-list/block-wrapper.js","webpack:///@wordpress/block-editor/src/components/block-list/block.js","webpack:///@wordpress/block-editor/src/components/default-block-appender/index.js","webpack:///@wordpress/block-editor/src/components/block-list-appender/index.js","webpack:///@wordpress/icons/src/library/upload.js","webpack:///@wordpress/components/src/drop-zone/provider.js","webpack:///@wordpress/components/src/drop-zone/index.js","webpack:///@wordpress/block-editor/src/components/block-drop-zone/index.js","webpack:///@wordpress/block-editor/src/components/block-list/index.js","webpack:///@wordpress/block-editor/src/components/block-preview/auto.js","webpack:///@wordpress/block-editor/src/components/block-preview/index.js","webpack:///@wordpress/block-editor/src/components/inserter/preview-panel.js","webpack:///@wordpress/url/src/add-query-args.js","webpack:///@wordpress/icons/src/library/controls-repeat.js","webpack:///@wordpress/block-editor/src/components/inserter-list-item/index.js","webpack:///@wordpress/block-editor/src/components/block-types-list/index.js","webpack:///@wordpress/block-editor/src/components/inserter/child-blocks.js","webpack:///@wordpress/block-editor/src/components/inserter-menu-extension/index.js","webpack:///@wordpress/block-editor/src/components/inserter/search-items.js","webpack:///@wordpress/block-editor/src/components/inserter/block-list.js","webpack:///@wordpress/block-editor/src/components/inserter/menu.js","webpack:///@wordpress/block-editor/src/components/inserter/index.js","webpack:///@wordpress/block-editor/src/components/button-block-appender/index.js","webpack:///@wordpress/block-editor/src/components/block-navigation/list.js","webpack:///@wordpress/block-editor/src/components/block-navigation/index.js","webpack:///@wordpress/block-editor/src/components/block-navigation/dropdown.js","webpack:///@wordpress/components/src/placeholder/index.js","webpack:///@wordpress/icons/src/library/layout.js","webpack:///@wordpress/block-editor/src/components/block-variation-picker/index.js","webpack:///@wordpress/block-editor/src/components/block-vertical-alignment-toolbar/icons.js","webpack:///@wordpress/block-editor/src/components/block-vertical-alignment-toolbar/index.js","webpack:///@wordpress/block-editor/src/components/color-palette/with-color-context.js","webpack:///@wordpress/block-editor/src/components/color-palette/index.js","webpack:///@wordpress/block-editor/src/components/image-size-control/index.js","webpack:///@wordpress/block-editor/src/components/inner-blocks/with-client-id.js","webpack:///@wordpress/block-editor/src/components/inner-blocks/button-block-appender.js","webpack:///@wordpress/block-editor/src/components/inner-blocks/default-block-appender.js","webpack:///@wordpress/block-editor/src/components/inner-blocks/index.js","webpack:///@wordpress/block-editor/src/components/inspector-advanced-controls/index.js","webpack:///@wordpress/icons/src/library/external.js","webpack:///@wordpress/components/src/external-link/index.js","webpack:///@wordpress/url/src/filter-url-for-display.js","webpack:///@wordpress/url/src/safe-decode-uri.js","webpack:///@wordpress/url/src/get-protocol.js","webpack:///@wordpress/url/src/is-email.js","webpack:///@wordpress/url/src/prepend-http.js","webpack:///@wordpress/url/src/is-url.js","webpack:///@wordpress/components/src/form-toggle/index.js","webpack:///@wordpress/components/src/toggle-control/index.js","webpack:///@wordpress/block-editor/src/components/link-control/settings-drawer.js","webpack:///@wordpress/components/src/text-highlight/index.js","webpack:///@wordpress/icons/src/library/globe.js","webpack:///@wordpress/block-editor/src/components/link-control/search-item.js","webpack:///@wordpress/icons/src/library/keyboard-return.js","webpack:///@wordpress/block-editor/src/components/link-control/search-input.js","webpack:///@wordpress/block-editor/src/components/link-control/search-create-button.js","webpack:///@wordpress/block-editor/src/components/link-control/index.js","webpack:///@wordpress/block-editor/src/components/line-height-control/index.js","webpack:///@wordpress/block-editor/src/components/line-height-control/utils.js","webpack:///@wordpress/components/src/form-file-upload/index.js","webpack:///@wordpress/icons/src/library/media.js","webpack:///@wordpress/block-editor/src/components/media-upload/index.js","webpack:///@wordpress/block-editor/src/components/media-upload/check.js","webpack:///@wordpress/icons/src/library/pencil.js","webpack:///@wordpress/block-editor/src/components/media-replace-flow/index.js","webpack:///@wordpress/block-editor/src/components/url-popover/link-viewer.js","webpack:///@wordpress/block-editor/src/components/url-input/index.js","webpack:///@wordpress/block-editor/src/components/url-popover/index.js","webpack:///@wordpress/block-editor/src/components/url-popover/link-editor.js","webpack:///@wordpress/block-editor/src/components/media-placeholder/index.js","webpack:///@wordpress/element/src/platform.js","webpack:///@wordpress/block-editor/src/components/rich-text/remove-browser-shortcuts.js","webpack:///@wordpress/block-editor/src/components/rich-text/file-paste-handler.js","webpack:///@wordpress/block-editor/src/components/rich-text/format-toolbar/index.js","webpack:///@wordpress/block-editor/src/components/rich-text/format-toolbar-container.js","webpack:///@wordpress/block-editor/src/components/rich-text/shortcut.js","webpack:///@wordpress/block-editor/src/components/rich-text/input-event.js","webpack:///@wordpress/block-editor/src/components/rich-text/index.js","webpack:///@wordpress/rich-text/src/insert-line-separator.js","webpack:///@wordpress/block-editor/src/components/editable-text/index.js","webpack:///@wordpress/block-editor/src/components/plain-text/index.js","webpack:///@wordpress/block-editor/src/components/tool-selector/index.js","webpack:///@wordpress/components/src/unit-control/styles/unit-control-styles.js","webpack:///@wordpress/components/src/unit-control/utils.js","webpack:///@wordpress/components/src/unit-control/unit-select-control.js","webpack:///@wordpress/components/src/unit-control/index.js","webpack:///@wordpress/block-editor/src/components/unit-control/index.js","webpack:///@wordpress/icons/src/library/link.js","webpack:///@wordpress/block-editor/src/components/url-input/button.js","webpack:///@wordpress/block-editor/src/components/url-popover/image-url-input-ui.js","webpack:///@wordpress/block-editor/src/components/block-settings-menu/block-settings-menu-first-item.js","webpack:///@wordpress/block-editor/src/components/skip-to-selected-block/index.js","webpack:///@wordpress/token-list/src/index.js","webpack:///@wordpress/block-editor/src/components/block-styles/index.js","webpack:///@wordpress/wordcount/src/defaultSettings.js","webpack:///@wordpress/wordcount/src/stripTags.js","webpack:///@wordpress/wordcount/src/transposeAstralsToCountableChar.js","webpack:///@wordpress/wordcount/src/stripHTMLEntities.js","webpack:///@wordpress/wordcount/src/stripConnectors.js","webpack:///@wordpress/wordcount/src/stripRemovables.js","webpack:///@wordpress/wordcount/src/stripHTMLComments.js","webpack:///@wordpress/wordcount/src/stripShortcodes.js","webpack:///@wordpress/wordcount/src/stripSpaces.js","webpack:///@wordpress/wordcount/src/transposeHTMLEntitiesToCountableChars.js","webpack:///@wordpress/wordcount/src/index.js","webpack:///@wordpress/block-editor/src/components/multi-selection-inspector/index.js","webpack:///@wordpress/block-editor/src/components/default-style-picker/index.js","webpack:///@wordpress/block-editor/src/components/block-inspector/index.js","webpack:///@wordpress/block-editor/src/components/block-mover/mover-description.js","webpack:///@wordpress/block-editor/src/components/block-mover/icons.js","webpack:///@wordpress/components/src/draggable/index.js","webpack:///@wordpress/block-editor/src/components/block-draggable/index.js","webpack:///@wordpress/block-editor/src/components/block-mover/index.js","webpack:///@wordpress/block-editor/src/components/block-selection-clearer/index.js","webpack:///@wordpress/block-editor/src/components/block-actions/index.js","webpack:///@wordpress/block-editor/src/components/block-settings-menu/block-mode-toggle.js","webpack:///@wordpress/block-editor/src/components/block-settings-menu/block-convert-button.js","webpack:///@wordpress/block-editor/src/components/block-settings-menu/block-html-convert-button.js","webpack:///@wordpress/block-editor/src/components/block-settings-menu/block-unknown-convert-button.js","webpack:///@wordpress/block-editor/src/components/block-settings-menu-controls/index.js","webpack:///@wordpress/block-editor/src/components/block-settings-menu/index.js","webpack:///@wordpress/block-editor/src/components/block-switcher/index.js","webpack:///@wordpress/block-editor/src/components/block-toolbar/utils.js","webpack:///@wordpress/block-editor/src/components/block-toolbar/index.js","webpack:///@wordpress/block-editor/src/components/copy-handler/index.js","webpack:///@wordpress/block-editor/src/utils/get-paste-event-data.js","webpack:///@wordpress/block-editor/src/utils/transform-styles/ast/stringify/compiler.js","webpack:///@wordpress/block-editor/src/utils/transform-styles/ast/stringify/compress.js","webpack:///@wordpress/block-editor/src/utils/transform-styles/ast/stringify/identity.js","webpack:///@wordpress/block-editor/src/components/keyboard-shortcuts/index.js","webpack:///@wordpress/block-editor/src/components/observe-typing/index.js","webpack:///@wordpress/block-editor/src/components/typewriter/index.js","webpack:///@wordpress/block-editor/src/hooks/align.js","webpack:///@wordpress/block-editor/src/hooks/anchor.js","webpack:///@wordpress/block-editor/src/hooks/custom-class-name.js","webpack:///@wordpress/block-editor/src/hooks/generated-class-name.js","webpack:///@wordpress/block-editor/src/hooks/utils.js","webpack:///@wordpress/block-editor/src/hooks/color-panel.js","webpack:///@wordpress/block-editor/src/hooks/color.js","webpack:///@wordpress/block-editor/src/hooks/line-height.js","webpack:///@wordpress/block-editor/src/hooks/font-size.js","webpack:///@wordpress/block-editor/src/hooks/style.js","webpack:///./js/template-designer/components/HeaderText.js","webpack:///@wordpress/components/src/resizable-box/index.js","webpack:///./js/template-designer/components/HeaderImage.js","webpack:///./js/template-designer/components/MailHeader.js","webpack:///./js/template-designer/components/MailContent.js","webpack:///./js/template-designer/components/MailFooter.js","webpack:///./js/template-designer/components/MailTemplate.js","webpack:///./js/template-designer/src/index.js","webpack:///./node_modules/reakit/es/Clickable/Clickable.js","webpack:///./node_modules/reakit/es/Id/Id.js","webpack:///./node_modules/reakit-utils/es/isTextField.js","webpack:///./node_modules/reakit/es/setTextFieldValue-78ab5d56.js","webpack:///./node_modules/reakit/es/Composite/CompositeItem.js","webpack:///./node_modules/reakit-utils/es/isPortalEvent.js","webpack:///./node_modules/reakit-utils/es/contains.js","webpack:///./node_modules/reakit/es/Toolbar/ToolbarItem.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","FUNC_ERROR_TEXT","PLACEHOLDER","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrim","reTrimStart","reTrimEnd","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsBreakRange","rsMathOpRange","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","reOptMod","rsSeq","join","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","parseInt","freeGlobal","global","freeSelf","self","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","types","require","binding","e","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","apply","func","thisArg","args","length","arrayAggregator","array","setter","iteratee","accumulator","index","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","result","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","Array","arrayPush","values","offset","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","undefined","basePropertyOf","baseReduce","current","baseTimes","baseUnary","baseValues","props","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","string","test","mapToArray","map","size","forEach","overArg","transform","arg","replaceHolders","setToArray","set","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","match","unicodeToArray","split","asciiToArray","unescapeHtmlChar","_","runInContext","context","uid","defaults","pick","Date","Error","Math","String","TypeError","arrayProto","funcProto","objectProto","coreJsData","funcToString","toString","idCounter","maskSrcKey","exec","keys","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","replace","Buffer","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","objectCreate","propertyIsEnumerable","splice","spreadableSymbol","isConcatSpreadable","symIterator","iterator","symToStringTag","getNative","ctxClearTimeout","clearTimeout","ctxNow","now","ctxSetTimeout","setTimeout","nativeCeil","ceil","nativeFloor","floor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","nativeRandom","random","nativeReverse","reverse","DataView","Map","Promise","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","isArray","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","isObject","baseLodash","chainAll","this","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","add","Stack","data","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","push","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","number","lower","upper","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","constructor","input","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","cloneDataView","cloneTypedArray","regexp","cloneRegExp","symbol","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","includes","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","pop","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","path","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInvoke","parent","last","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","message","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","comparer","sort","baseSortBy","objCriteria","criteria","othCriteria","ordersLength","compareAscending","order","compareMultiple","basePickBy","baseSet","basePullAll","indexOf","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","start","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","end","baseSome","baseSortedIndex","retHighest","low","high","MAX_ARRAY_LENGTH","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","id","slice","copy","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","charAt","trailing","createCompounder","callback","words","deburr","createCtor","arguments","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","newHolders","createRecurry","fn","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","defaultValue","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","noop","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrLength","arrValue","flatten","otherFunc","type","getValue","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","resolve","ctorString","isMaskable","stubFalse","otherArgs","oldArray","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","count","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","charCodeAt","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","WRAP_BIND_FLAG","debounce","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","cancel","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","next","done","iteratorToArray","remainder","toLength","isBinary","assign","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","omit","CLONE_DEEP_FLAG","basePick","pickBy","prop","toPairs","toPairsIn","camelCase","word","toLowerCase","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","toUpperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","chunk","compact","concat","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","filter","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","once","orderBy","propertyOf","pullAllBy","pullAllWith","reject","remove","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","target","position","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNaN","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduce","reduceRight","repeat","sample","some","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sum","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trim","trimEnd","trimStart","truncate","omission","search","substring","newEnd","unescape","uniqueId","prefix","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","define","_defineProperty","obj","configurable","writable","hasOwn","classNames","classes","argType","inner","default","React","_objectWithoutProperties","excluded","objectWithoutPropertiesLoose","sourceSymbolKeys","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_objectWithoutPropertiesLoose","sourceKeys","_arrayLikeToArray","arr","len","arr2","_createForOfIteratorHelperLoose","minLen","from","_unsupportedIterableToArray","getDocument","element","ownerDocument","window","document","useLiveRef","ref","useRef","trimLeft","trimRight","tinyCounter","mathRound","mathMin","mathMax","mathRandom","tinycolor","color","opts","rgb","g","b","a","v","ok","format","named","names","matchers","rgba","hsl","h","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","substr","convertToPercentage","f","q","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","hex","pad2","rgbaToArgbHex","convertDecimalToHex","desaturate","amount","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","pow","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","_applyModification","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","parms","level","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","isOnePointZero","processPercent","isPercentage","abs","val","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","useToken","token","useDebugValue","useContext","SystemContext","createHook","_options$useState","composedHooks","compose","__useOptions","hookOptions","htmlProps","useOptions","hookName","useHook","_step","_iterator","unstable_ignoreUseOptions","useProps","useComposeOptions","useComposeProps","_step2","_iterator2","hook","composedKeys","__keys","useState","splitProps","picked","omitted","_i","_propsKeys","forwardRef","component","forwardRef$1","createComponent","_ref","propsAreEqual","as","_ref$keys","_ref$useCreateElement","useCreateElement","useCreateElement$1","shouldMemo","memo","Comp","_ref2","_ref2$as","_as$render","_splitProps","_options","_useHook","wrapElement","elementProps","asKeys","render","asOptions","allProps","_element","memo$1","isShallowEqualObjects","isShallowEqualArrays","findDOMIndex","items","item","currentItem","Boolean","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","findFirstEnabledItem","excludeId","disabled","findEnabledItemById","groupItems","groups","_loop","groupId","getMaxLength","rows","verticalizeItems","verticalized","grid","flattened","row","fillGroups","getCurrentId","passedId","_findFirstEnabledItem","currentId","nullItem","getItemsInGroup","horizontal","vertical","addItemAtIndex","reducer","state","virtual","unstable_virtual","rtl","orientation","loop","pastIds","moves","unstable_moves","initialVirtual","initialRTL","initialOrientation","initialCurrentId","initialLoop","initialWrap","_group","_id","nextGroups","_item","_group2","_r$ref$current","contains","nextItem","_index","nextState","_id2","nextItems","nextPastIds","pastId","_nextState","nextId","_id3","filteredPastIds","_nextPastIds","_item2","isRTL","allItems","isGrid","currentIndex","_nextItems","nextItemsInGroup","allTheWay","_nextItem2","oppositeOrientation","getOppositeOrientation","canLoop","canWrap","hasNullItem","_nextItem3","shouldInsertNullItem","placeItemsAfter","_nextItem4","_nextId","_nextItem","_hasNullItem","_nextState2","verticalItems","_hasNullItem2","_nextState3","_verticalItems","_hasNullItem3","_nextState4","firstItem","_nextState5","applyState","nextCurrentId","useAction","useCallback","unstable_useCompositeState","initialState","_useSealedState","useSealedState","_useSealedState$unsta","_useSealedState$rtl","_useSealedState$loop","_useSealedState$wrap","sealed","_React$useReducer","useReducer","_React$useReducer$","dispatch","_React$useState","hasActiveWidget","setHasActiveWidget","idState","unstable_useIdState","unstable_hasActiveWidget","unstable_setHasActiveWidget","registerItem","unregisterItem","registerGroup","unregisterGroup","move","up","down","unstable_setVirtual","setRTL","setOrientation","setCurrentId","setLoop","setWrap","reset","isSelfTarget","event","currentTarget","argument","currentValue","isUpdater","node","searchCache","prev","maxSize","initialBaseId","baseId","generateId","unstable_IdContext","idCountRef","unstable_setBaseId","unstable_idCountRef","ToolbarContext","createContext","hasFocusWithin","activeElement","getActiveElement","activeDescendant","getAttribute","querySelector","setRef","useForkRef","refA","refB","useMemo","buttonInputTypes","isButton","tagName","useBox","isUserAgent","navigator","userAgent","isSafariOrFirefoxOnMac","useTabbable","htmlRef","htmlTabIndex","tabIndex","htmlOnClick","onClick","htmlOnMouseDown","onMouseDown","htmlStyle","style","onClickRef","onMouseDownRef","trulyDisabled","focusable","nativeTabbable","setNativeTabbable","pointerEvents","useEffect","tabbable","_onClickRef$current","stopPropagation","preventDefault","_onMouseDownRef$curre","defaultPrevented","isFocusControl","isFocusable","focus","selectors","msMatchesSelector","webkitMatchesSelector","selector","offsetWidth","offsetHeight","getClientRects","isVisible","createOnKeyDown","_temp","keyMap","onKey","onKeyDown","_ref$shouldKeyDown","shouldKeyDown","_ref$preventDefault","_onKeyDown$current","finalKeyMap","shouldPreventDefault","shouldStopPropagation","children","isRenderProp","createElement","TextareaAutosize_1","_interopDefault","ex","_extends","React__default","_inheritsLoose","_assertThisInitialized","is","fun","str","num","und","nul","equ","useForceUpdate","withDefault","callProp","_len","_key","interpolateTo","forward","to","config","onStart","onRest","onFrame","force","immediate","attach","destroyed","lazy","getForwardProps","k","_extends2","applyAnimatedValues","colorNames","Animated","payload","_proto","getAnimatedValue","getPayload","detach","getChildren","addChild","child","removeChild","AnimatedArray","_Animated","_this","AnimatedObject","_Animated2","_this2","_len3","_key3","_proto2","animated","_key4","injectApplyAnimatedValues","injectColorNames","interpolation","requestFrame","cb","requestAnimationFrame","cancelFrame","cancelAnimationFrame","injectStringInterpolator","defaultElement","injectDefaultElement","el","createAnimatedStyle","manualFrameloop","animatedApi","injectCreateAnimatedStyle","factory","Globals","freeze","injectFrame","raf","caf","injectNow","nowFn","injectAnimatedApi","injectManualFrameloop","AnimatedProps","_AnimatedObject","active","controllers","_isArray","controller","isActive","configIdx","configs","endOfAnimation","lastTime","valIdx","animatedValues","animation","fromValues","toValues","lastPosition","isAnimated","velocity","initialVelocity","setValue","duration","easing","startTime","decay","exp","lastVelocity","numSteps","tension","friction","mass","isOvershooting","isVelocity","isDisplacement","delete","stop","createInterpolator","output","extrapolate","outputRange","inputRange","extrapolateLeft","extrapolateRight","findRange","inputMin","inputMax","outputMin","outputMax","AnimatedInterpolation","_AnimatedArray","parents","calc","updateConfig","AnimatedValue","_value","animatedStyles","startPosition","addAnimatedStyles","styles","animatedStyle","clearStyles","AnimatedValueArray","G","Controller","idle","hasChanged","guid","local","merged","animations","interpolations","listeners","queue","localQueue","getValues","_ref$delay","ops","_to","diff","onEnd","_ref3","_ref3$from","_ref3$to","_ref4","finished","async","runAsync","pause","_ref5","_this3","fresh","then","_this4","_this$props","_this$props$from","_this$props$to","_this$props$config","_ref6","acc","_ref7","isInterpolation","fromValue","toValue","toConfig","interpolation$$1","_extends3","currentValueDiffersFromGoal","hasNewGoal","hasNewConfig","destroy","useSprings","mounted","ctrl","isFn","_useMemo","newProps","useImperativeHandle","all","updateCtrl","updateProps","propValues","_props$keys","cleanUp","filterKey","_ref8","instances","transitions","deleted","forceUpdate","AnimatedStyle","colors","transparent","NUMBER","parts","parse255","int","parse360","parse1","parsePercentage","colorToRgba","int32Color","stringShapeRegex","colorRegex","colorNamesRegex","isUnitlessNumber","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixes","dangerousStyleValue","isCustomProperty","prefixKey","attributeCache","rangeValue","outputRanges","p1","p2","p3","p4","instance","setAttribute","scrollTop","scrollLeft","attributes","nodeName","parentNode","styleName","textContent","styleValue","setProperty","dashCase","lowercase","Component","propsAnimated","attachProps","oldPropsAnimated","didUpdate","_getValue","animatedProps","refFn","childRef","handleRef","extendedAnimated","gentle","wobbly","stiff","slow","molasses","useSpring","_useSprings","useTrail","attachIdx","attachController","useTransition","keyTransform","_get","_get$lazy","_get$reset","unique","onDestroyed","enter","leave","_onRest","extra","prevProps","paused","_ref9","_get2","_get2$trail","trail","_get2$order","_get3","_keys","_items","currentKeys","currentSet","nextSet","added","removed","originalKey","updated","shift","keyIndex","slot","unshift","left","right","_ref10","pos","changed","diffItems","transition","useChain","refs","timeSteps","timeFrame","ctrls","rI","_typeof","_keys2","error","promise","throw","fork","race","cps","subscribe","channel","reducers","getNextState","JSON","stringify","isPromise","accessibleToolbarState","itemProps","useToolbarItem","useToolbarState","_useSealedState$orien","ctor","superCtor","super_","TempCtor","_defineProperties","descriptor","getValuePair","_map","_arrayTreeMap","_objectTreeMap","propertyValue","valuePair","EquivalentKeyMap","Constructor","_classCallCheck","iterablePairs","protoProps","staticProps","previousValuePair","hexTable","arrayToObject","plainObjects","combine","j","compacted","compactQueue","decode","decoder","charset","strWithoutPlus","decodeURIComponent","encode","defaultEncoder","$0","allowPrototypes","mergeTarget","targetItem","subClass","superClass","__proto__","re","not_string","not_bool","not_type","not_primitive","numeric_arg","json","not_json","text","modulo","key_access","index_access","sign","sprintf","sprintf_format","sprintf_parse","vsprintf","fmt","argv","parse_tree","ph","pad_character","pad_length","is_positive","cursor","tree_length","param_no","fromCharCode","width","toExponential","toFixed","Number","toPrecision","pad_char","align","sprintf_cache","_fmt","arg_names","SyntaxError","field_list","replacement_field","field_match","ponyfill","warning","GradientParser","parse","tokens","msg","err","getAST","ast","matchListing","matchDefinition","matchGradient","matchLinearOrientation","matchListRadialOrientations","orientationMatcher","matchCall","captures","scan","colorStops","matchColorStop","radialOrientations","lookaheadCache","radialOrientation","matchRadialOrientation","radialType","circle","matchLength","matchExtentKeyword","matchCircle","ellipse","matchDistance","matchEllipse","positioning","matchPositioning","matchAtPosition","defaultPosition","location","x","y","matcher","matchNumber","captureIndex","blankCaptures","consume","code","formats","createChannel","task","competitors","timeout","_len2","_key2","_len4","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","nextTick","title","browser","env","version","versions","on","addListener","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","cwd","chdir","umask","percentTwenties","util","Format","RFC1738","RFC3986","formatters","ReactDOM","wrapControls","asyncControls","_helpers","_create2","_interopRequireDefault","_async2","_wrap2","symbolObservablePonyfill","observable","getDefaultOpts","simple","defaultOptions","omitExtraWLInCodeBlocks","describe","noHeaderId","prefixHeaderId","rawPrefixHeaderId","ghCompatibleHeaderId","rawHeaderId","headerLevelStart","parseImgDimensions","simplifiedAutoLink","excludeTrailingPunctuationFromURLs","literalMidWordUnderscores","literalMidWordAsterisks","strikethrough","tables","tablesHeaderId","ghCodeBlocks","tasklists","smoothLivePreview","smartIndentationFix","description","disableForced4SpacesIndentedSublists","simpleLineBreaks","requireSpaceBeforeHeadingText","ghMentions","ghMentionsLink","encodeEmails","openLinksInNewWindow","backslashEscapesHTMLTags","emoji","underline","completeHTMLDocument","metadata","splitAdjacentBlockquotes","opt","showdown","parsers","extensions","globalOptions","setFlavor","flavor","github","original","ghost","vanilla","allOn","allOptionsOn","validate","extension","errMsg","valid","helper","baseMsg","ext","regex","ln","escapeCharactersCallback","wholeMatch","m1","setOption","getOption","getOptions","resetOptions","preset","option","getFlavor","getFlavorOptions","getDefaultOptions","subParser","stdExtName","validExtension","getAllExtensions","removeExtension","resetExtensions","validateExtension","console","warn","escapeCharacters","charsToEscape","afterBackslash","regexString","unescapeHTMLEntities","txt","rgxFindMatchPos","flags","matchRecursiveRegExp","matchPos","replaceRecursiveRegExp","replacement","repStr","finalStr","lng","bits","regexIndexOf","splitAtIndex","encodeEmailAddress","mail","ch","targetLength","padString","alert","log","regexes","asteriskDashAndColon","emojis","Converter","converterOptions","langExtensions","outputModifiers","setConvFlavor","parsed","raw","_parseExtension","legacyExtensionLoading","validExt","listen","gOpt","_constructor","_dispatch","evtName","globals","ei","nText","makeHtml","gHtmlBlocks","gHtmlMdBlocks","gHtmlSpans","gUrls","gTitles","gDimensions","gListLevel","hashLinkCounts","converter","rsp","rgx","rTrimInputText","makeMarkdown","makeMd","src","HTMLParser","doc","innerHTML","preList","pres","querySelectorAll","presPH","childElementCount","firstChild","content","language","className","outerHTML","substitutePreCodeTags","clean","childNodes","nodeValue","nodes","mdDoc","addExtension","useExtension","extensionName","getMetadata","getMetadataFormat","_setMetadataPair","_setMetadataFormat","_setMetadataRaw","writeAnchorTag","linkText","linkId","url","m5","m6","wm","st","mentions","username","lnk","simpleURLRegex","simpleURLRegex2","delimUrlRegex","simpleMailRegex","delimMailRegex","replaceLink","leadingMagicChars","link","m2","m3","trailingPunctuation","trailingMagicChars","lnkTxt","append","lmc","tmc","replaceMail","href","bq","pre","codeblock","nextChar","doctype","doctypeParsed","lang","meta","leadingText","numSpaces","emojiCode","delim","blockText","blockTags","repFunc","inside","opTagPos","rgx1","patLeft","patRight","subTexts","newSubText1","hashHTMLSpan","html","repText","$1","setextRegexH1","setextRegexH2","spanGamut","hID","headerId","hashBlock","matchFound","hLevel","atxStyle","customizedHeaderId","hText","span","header","writeImageTag","altText","height","gDims","parseInside","lead","processListItems","listStr","trimTrailing","isParagraphed","m4","taskbtn","checked","bulletStyle","otp","wm2","styleStartNumber","list","listType","res","parseConsecutiveLists","olRgx","ulRgx","counterRxg","parseCL","parseMetadataContents","wholematch","grafs","grafsOut","grafsOutIt","codeFlag","$2","replaceFunc","blankLines","parseCells","cell","parseTable","rawTable","tableLines","sLine","rawHeaders","rawStyles","rawCells","headers","cells","tableHeaderId","ii","tb","tblLgn","buildTable","charCodeToReplace","hasChildNodes","childrenLength","innerTxt","headerLevel","headerMark","hasAttribute","listItems","listItemsLenght","listNum","listItemTxt","childrenLenght","spansOnly","tableArray","headings","headContent","allign","cols","getElementsByTagName","cellContent","cellSpacesCount","strLen","_REVERSE_MAP","_MAP","8","9","13","16","17","18","20","27","32","33","34","35","36","37","38","39","40","45","46","91","93","224","_KEYCODE_MAP","106","107","109","110","111","186","187","188","189","190","191","192","219","220","221","222","_SHIFT_MAP","_SPECIAL_ALIASES","platform","Mousetrap","_bindMultiple","unbind","trigger","_directMap","_callbacks","stopCallback","_belongsTo","ancestor","composedPath","initialEventTarget","isContentEditable","handleKey","_handleKey","addKeycodes","init","documentMousetrap","_addEvent","addEventListener","attachEvent","_characterFromEvent","character","which","shiftKey","_isModifier","_pickBestAction","modifiers","_getReverseMap","_getKeyInfo","combination","_keysFromString","targetElement","_resetTimer","_sequenceLevels","_ignoreNextKeyup","_ignoreNextKeypress","_nextExpectedAction","_resetSequences","doNotReset","activeSequences","_getMatches","sequenceName","modifiers1","modifiers2","seq","metaKey","ctrlKey","deleteCombo","combo","deleteSequence","_fireCallback","sequence","srcElement","returnValue","_preventDefault","cancelBubble","_stopPropagation","_handleKeyEvent","keyCode","altKey","_eventModifiers","_bindSequence","_increaseSequence","nextAction","_callbackAndReset","wrappedCallback","_bindSingle","info","callbacks","maxLevel","processedSequenceCallback","ignoreThisKeypress","combinations","effects","middleware","flattenIntoMap","store","handlerAction","handlers","display","top","overflow","onResize","getTarget","contentDocument","defaultView","removeEventListener","aria-hidden","aria-label","frameBorder","defaultReporter","reporter","sizes","setSizes","ResizeListener","traverse","Traverse","walk","immutable","alive","walker","node_","keepGoing","isRoot","circular","stopHere","post","block","updateState","objectKeys","isLeaf","notLeaf","notRoot","isLast","isFirst","dst","toS","getTime","T","ps","xs","mediaQuery","parseQuery","query","inverse","typeMatch","expressionsMatch","expressions","expression","feature","modifier","expValue","toPx","toDpi","toDecimal","RE_MEDIA_QUERY","RE_MQ_EXPRESSION","RE_MQ_FEATURE","RE_LENGTH_UNIT","RE_RESOLUTION_UNIT","ratio","numbers","decimal","resolution","extendStatics","__extends","setPrototypeOf","__","__assign","__importStar","__importDefault","resizer_1","fast_memoize_1","DEFAULT_SIZE","snap","hasDirection","findClosestSnap","snapArray","snapGap","closestGapIndex","curr","gap","searchStr","getStringSize","getPixelSize","parentSize","innerWidth","innerHeight","calculateNewMax","maxWidth","maxHeight","minWidth","minHeight","definedProps","Resizable","_super","resizable","parentLeft","parentTop","resizableLeft","resizableTop","targetLeft","targetTop","isResizing","propsSize","direction","backgroundStyle","backgroundColor","bottom","flexBasis","onResizeStart","onMouseMove","onMouseUp","defaultSize","children_1","classList","orgWidth","orgHeight","orgPosition","getSize","getParentSize","base","wrapChanged","flexWrap","bindEvents","unbindEvents","componentDidMount","computedStyle","getComputedStyle","setState","appendChild","componentWillUnmount","parent_1","createSizeForCssProperty","newSize","kind","calculateNewMaxFromBoundary","bounds","parent_2","boundWidth","boundHeight","calculateNewSizeFromDirection","clientX","clientY","scale","resizeRatio","lockAspectRatio","lockAspectRatioExtraHeight","lockAspectRatioExtraWidth","newWidth","newHeight","extraHeight","extraWidth","calculateNewSizeFromAspectRatio","computedMinWidth","computedMaxWidth","computedMinHeight","computedMaxHeight","extraMinWidth","extraMaxWidth","extraMinHeight","extraMaxHeight","lockedMinWidth","lockedMaxWidth","lockedMinHeight","lockedMaxHeight","setBoundingClientRect","parent_3","parentRect","getBoundingClientRect","targetRect","top_1","nativeEvent","MouseEvent","TouchEvent","touches","parent_4","flexDirection","flexDir","_c","boundaryMax","newGridWidth","newGridHeight","delta","newState","onResizeStop","updateSize","renderResizer","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","handleComponent","resizers","Resizer","replaceStyles","extendsProps","userSelect","sizeStyle","boxSizing","defaultProps","topRight","bottomRight","bottomLeft","topLeft","PureComponent","webpackPolyfill","deprecate","runtime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","displayName","isGeneratorFunction","genFun","mark","awrap","iter","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","_builtin2","_is2","_toConsumableArray","userControls","controls","success","iterate","gen","yieldValue","control","_callee","_context","any","_is","rungen","yieldNext","raiseNext","hasError","gotResultSuccess","gotResultError","_dispatcher2","forkedTasks","dispatcher","unsubscribe","fail","competitor","listener","_value$func","originalModule","aKeys","bKeys","aValue","_globalCallbacks","_originalStopCallback","bindGlobal","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","bool","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","for","w","z","u","$$typeof","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isFragment","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","__rest","autosize","getLineHeight","TextareaAutosize","dispatchEvent","EVENT_TYPE","createEvent","initEvent","textarea","updateLineHeight","onChange","saveDOMNodeRef","innerRef","getLocals","maxRows","locals","componentDidUpdate","propTypes","Event","bubbles","evt","ta","heightOffset","clientWidth","cachedHeight","pageResize","resize","overflowY","overflowX","wordWrap","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","changeOverflow","scrollHeight","overflows","getParentOverflows","docTop","documentElement","styleHeight","actualHeight","methods","lnHeightStr","lnHeight","_lnHeightStyle","_node","fontSizeStr","fontSize","padding","border","body","currentStyle","letter","ReferenceError","elem","container","getWindow","allowHorizontalScroll","onlyScrollIfNeeded","alignWithTop","alignWithLeft","offsetTop","offsetLeft","offsetBottom","offsetRight","isWin","isWindow","elemOffset","eh","outerHeight","ew","outerWidth","containerOffset","cw","containerScroll","diffTop","diffBottom","win","winScroll","ww","wh","clientHeight","css","getScroll","getScrollLeft","getScrollTop","getOffset","box","docElem","clientLeft","clientTop","getClientPosition","parentWindow","_RE_NUM_NO_PX","RE_POS","LEFT","getComputedStyleX","isBorderBoxFn","computedStyle_","getPropertyValue","rsLeft","pixelLeft","BOX_MODELS","swap","old","getPBMWidth","cssProp","domUtils","getWH","viewportWidth","viewportHeight","docWidth","docHeight","borderBoxValue","isBorderBox","cssBoxValue","borderBoxValueOrIsBorderBox","refWin","documentElementProp","compatMode","cssShow","visibility","getWHIgnoreDisplay","includeMargin","setOffset","scrollTo","utils","arrayPrefixGenerators","brackets","comma","indices","pushToArray","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","allowDots","charsetSentinel","delimiter","encoder","encodeValuesOnly","formatter","serializeDate","date","skipNulls","strictNullHandling","generateArrayPrefix","objKeys","normalizeStringifyOptions","arrayFormat","joined","arrayLimit","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","numberStr","parseArrayValue","maybeMap","parseKeys","givenKey","valuesParsed","segment","leaf","cleanRoot","0","parseObject","normalizeParseOptions","tempObj","cleanStr","skipIndex","bracketEqualsPos","encodedVal","parseValues","newObj","onTouchStart","monadic","serializer","cacheKey","computedValue","variadic","assemble","strategy","serialize","strategyDefault","serializerDefault","ObjectWithoutPrototypeCache","cacheDefault","strategies","_createClass","_possibleConstructorReturn","assertThisInitialized","_getPrototypeOf","_setPrototypeOf","_inherits","Circle","Path","Polygon","RadialGradient","LinearGradient","Stop","SVG","isPressed","appliedProps","role","viewBox","xmlns","priority","validateHookName","validateNamespace","handler","namespace","hooks","hookInfo","runs","doAction","handlersRemoved","_iterableToArray","arrayLikeToArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","returnFirstArg","filters","addAction","createAddHook","addFilter","removeAction","createRemoveHook","removeFilter","hasAction","createHasHook","hasFilter","removeAllActions","removeAllFilters","createRunHook","applyFilters","currentAction","createCurrentHook","currentFilter","doingAction","createDoingHook","doingFilter","didAction","createDidHook","didFilter","createHooks","logged","deprecated","alternative","plugin","hint","pluginMessage","versionMessage","useInsteadMessage","linkMessage","hintMessage","concatChildren","childrenArguments","Children","cloneElement","_arrayWithHoles","_nonIterableRest","_slicedToArray","arrayWithHoles","_arr","_n","_d","_e","_s","iterableToArrayLimit","nonIterableRest","DOMParser","TEXT_NODE","ELEMENT_NODE","DOCUMENT_POSITION_FOLLOWING","getRectangleFromRange","startContainer","rect","padNode","selection","placeCaretAtHorizontalEdge","rangeTarget","isReverse","hiddenCaretRangeFromPoint","originalZIndex","originalPosition","point","caretRangeFromPoint","placeCaretAtVerticalEdge","mayUseScroll","editableRect","isTextField","selectionStart","contentEditable","getScrollContainer","insertAfter","processedNode","referenceNode","unwrap","replaceTag","newNode","__unstableStripHTML","parseFromString","SELECTOR","elements","img","isValidFocusableArea","getTabIndex","isTabbableIndex","mapElementToObjectTabbable","mapObjectTabbableToElement","compareObjectTabbables","aTabIndex","bTabIndex","filterTabbable","focusables","CHOSEN_RADIO_BY_NAME","hasChosen","hadChosenElement","findFocusable","findPrevious","findNext","PRECEDENCE","OPENERS","TERMINATORS","PATTERN","logErrorOnce","sprintfjs","OPERATORS","compile","terms","term","postfix","variables","getOperatorResult","earlyReturn","DEFAULT_OPTIONS","contextDelimiter","onMissingKey","Tannin","pluralForms","getPluralForm","domain","plural","pf","plural_forms","getPluralExpression","dcnpgettext","singular","tannin","setLocaleData","_x","DEFAULT_LOCALE_DATA","i18n","single","_nx","isAppleOS","_window","BACKSPACE","ENTER","UP","RIGHT","DOWN","ALT","CTRL","SHIFT","primary","_isApple","primaryShift","primaryAlt","secondary","access","alt","ctrlShift","shiftAlt","rawShortcut","displayShortcutList","isApple","replacementKeyMap","modifierKeys","replacementKey","capitalizedCharacter","displayShortcut","shortcutList","shortcutAriaLabel","mods","getModifiers","useMediaQuery","setMatch","updateMatch","BREAKPOINTS","huge","wide","large","medium","small","mobile","CONDITIONS","OPERATOR_EVALUATORS","ViewportMatchWidthContext","useViewportMatch","simulatedWidth","mediaQueryResult","computePopoverXAxisPosition","contentSize","xAxis","corner","anchorMidPoint","anchorRect","centerAlignment","popoverLeft","contentWidth","leftAlignmentX","chosenYAxis","rightAlignmentX","leftAlignment","rightAlignment","chosenXAxis","chosenWidth","boundaryRect","boundaryElement","computePopoverYAxisPosition","scrollRect","yAxis","popoverTop","middleAlignment","contentHeight","topAlignment","bottomAlignment","chosenHeight","computePopoverPosition","sticky","anchorRef","relativeOffsetTop","yAxisPosition","xAxisPosition","EnhancedComponent","mapComponentToEnhancedComponent","OriginalComponent","focusHistory","Provider","Consumer","createHigherOrderComponent","withFocusReturn","WrappedComponent","onFocusReturn","FocusReturn","activeElementOnMount","isFocused","ownFocusedElements","candidate","onFocus","onBlur","setIsFocusedFalse","childProps","createRef","tabbables","focusContainRef","firstTabbable","lastTabbable","INPUT_BUTTON_TYPES","isFocusNormalizedButton","onTouchEnd","queueBlurCheck","bindNode","withFocusOutside","createScrollLockComponent","htmlDocument","lockCounter","previousScrollTop","scrollingElement","locked","setLocked","requestLock","releaseLock","slots","fills","registerSlot","unregisterSlot","registerFill","unregisterFill","registry","slotFills","updateSlot","isEmptyElement","setSlots","setFills","prevSlots","fillProps","nextSlots","prevFills","fillRef","SlotFillContext","getSlot","getFills","SlotComponent","fillKey","fillChildren","childKey","occurrences","setSlot","useSlot","useLayoutEffect","createPortal","isShallowEqual","bubblesVirtually","createSlotFill","FillComponent","Fill","Slot","origin","classnames","FocusManaged","withConstrainedTabbing","computeAnchorRect","shouldAnchorIncludePadding","anchorRefFallback","getAnchorRect","withoutPadding","topRect","bottomRect","paddingLeft","paddingRight","setStyle","setClass","PopoverContainer","headerTitle","onClose","noArrow","isAlternate","focusOnMount","expandOnMobile","animate","onClickOutside","onFocusOutside","__unstableSticky","__unstableSlotName","__unstableAllowVerticalSubpixelPosition","__unstableAllowHorizontalSubpixelPosition","__unstableFixedPosition","__unstableBoundaryParent","contentProps","contentRef","containerRef","contentRect","isMobileViewport","animateOrigin","setAnimateOrigin","isExpanded","refresh","subpixels","anchor","offsetParent","offsetParentRect","yAxisMapping","xAxisMapping","animateYAxis","animateXAxis","timeoutId","intervalHandle","refreshOnAnimationFrame","rafId","observeElement","observer","focusTimeout","useFocusContentOnMount","maybeClose","clickEvent","animateClassName","icon","shortcut","displayText","ariaLabel","isOver","eventName","isDelayed","isMouseDown","onMouseEnter","createToggleIsOver","onMouseLeave","createSetIsMouseDown","Dashicon","extraProps","iconClass","additionalProps","dashiconSize","iconSize","isValidElement","disabledEventsOnDisabledButton","isPrimary","isLarge","isSmall","isTertiary","isBusy","isDefault","isSecondary","isLink","isDestructive","showTooltip","tooltipPosition","label","Tag","tagProps","shouldShowTooltip","PanelBody","opened","initialOpen","forwardedRef","isOpened","aria-expanded","chevronDown","forwardedPanelBody","Wrapped","colorToState","oldHue","getPointOffset","containerLeft","containerTop","isValidHex","lh","isDisabled","mousetrap","hasAlt","hasShift","KeyboardShortcut","useKeyboardShortcut","shortcuts","Alpha","change","intValue","calculateAlphaChange","rgbString","gradient","background","pointerLocation","pageup","pagedown","home","onTouchMove","handleChange","aria-valuemax","aria-valuemin","aria-valuenow","aria-orientation","preventKeyEvents","pure","instanceMap","useInstanceId","createId","instanceId","renderAsRenderProps","Hue","calculateHueChange","aria-describedby","addContainer","ariaLive","previousMessage","regions","filterMessage","containerAssertive","containerPolite","BaseControl","hideLabelFromVision","help","htmlFor","TextControl","Input","valueKey","handleKeyDown","PureButton","speak","normalizeValue","disableAlpha","toggleViews","Saturation","intSaturation","saturation","bright","calculateSaturationChange","isValidColor","passed","dataToColors","oldColors","ColorPicker","draftHex","draftRgb","draftHsl","onChangeComplete","isValueEmpty","commitValues","Spinner","REGEXP_INVALID_ATTRIBUTE_NAME","escapeAmpersand","escapeLessThan","escapeAttribute","__unstableEscapeGreaterThan","escapeQuotationMark","escapeHTML","escapeEditableHTML","isValidAttributeName","RawHTML","dangerouslySetInnerHTML","__html","ATTRIBUTES_TYPES","SELF_CLOSING_TAGS","BOOLEAN_ATTRIBUTES","ENUMERATED_ATTRIBUTES","CSS_PROPERTIES_SUPPORTS_UNITLESS","hasPrefix","isInternalAttribute","attribute","getNormalAttributeValue","normalName","getNormalStylePropertyName","normalValue","getNormalStylePropertyValue","renderStyle","getNormalAttributeName","renderElement","legacyContext","renderChildren","wrapperProps","renderNativeComponent","renderComponent","renderAttributes","isBooleanAttribute","isMeaningfulAttribute","status","spokenMessage","onRemove","isDismissible","politeness","getDefaultPoliteness","__unstableHTML","renderToString","useSpokenMessage","buttonCustomClasses","noDefaultClasses","TemplateDesignerContext","TemplateDesignerContextProvider","panelTitle","setPanelTitle","panelOptions","setPanelOptions","editingElement","setEditingElement","setSettings","isLoading","setIsLoading","updateSetting","OptionsPanel","templateDesignerContext","RadioControl","selected","onChangeValue","BASE","G2","focusDark","darkGray","mediumGray","lightGray","ui","tertiary","DARK_GRAY","900","800","700","600","500","400","300","200","150","100","DARK_OPACITY","backgroundFill","DARK_OPACITY_LIGHT","LIGHT_GRAY","LIGHT_OPACITY_LIGHT","BLUE","wordpress","dark","highlight","UI","borderFocus","COLORS","darkOpacity","darkOpacityLight","lightGrayLight","hexValue","alpha","floatClamp","reactPropsRegex","StyleSheet","isSpeedy","speedy","tags","ctr","nonce","insert","rule","_tag","createTextNode","createStyleElement","nextSibling","insertBefore","sheet","styleSheets","ownerNode","sheetForTag","isImportRule","insertRule","cssRules","stylis_min","W","X","ia","Z","F","P","L","ja","ka","aa","ba","la","ma","R","na","ea","oa","H","S","B","U","D","M","C","K","I","J","N","ca","O","da","fa","Y","E","ha","Q","use","toSheet","Sheet","ruleSheet","line","column","createCache","stylisOptions","stylis","Stylis","inserted","_insert","stylisPlugins","serialized","shouldCache","registered","getRegisteredStyles","registeredStyles","rawClassName","insertStyles","isStringTag","murmur2","unitlessKeys","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","WebkitLineClamp","hyphenateRegex","animationRegex","isProcessableValue","processStyleName","processStyleValue","unitless","handleInterpolation","mergedProps","couldBeSelectorInterpolation","__emotion_styles","anim","interpolated","createStringFromObject","previousCursor","cached","labelPattern","serializeStyles","stringMode","strings","identifierName","hashString","EmotionCacheContext","HTMLElement","ThemeContext","withEmotionCache","cls","toAdd","theme","cx","ele","testOmitPropsOnStringTag","isPropValid","testOmitPropsOnComponent","getDefaultShouldForwardProp","_objectSpread","createStyled","shouldForwardProp","targetClassName","__emotion_forwardProp","isReal","__emotion_real","baseTag","__emotion_base","defaultShouldForwardProp","shouldUseAs","Styled","finalTag","classInterpolations","finalShouldForwardProp","withComponent","nextTag","nextOptions","LOWER_LEFT_REGEXP","LOWER_RIGHT_REGEXP","UPPER_LEFT_REGEXP","UPPER_RIGHT_REGEXP","getRtl","getConvertedKey","convertLTRToRTL","ltrStyles","rtlStyles","isRtl","rangeHeight","Root","Wrapper","marks","marginBottom","marginLeft","BeforeIconWrapper","marginRight","AfterIconWrapper","Rail","disabledBackgroundColor","Track","MarksWrapper","Mark","isFilled","MarkLabel","ThumbWrapper","Thumb","borderColor","boxShadow","InputRange","Tooltip","show","reduceMotion","InputNumber","ActionRightWrapper","RangeMark","labelClasses","RangeRail","restProps","Marks","marksData","isCustomMarks","markCount","markValue","useMarks","SimpleTooltip","inputRef","positionProp","renderTooltipContent","setPosition","calculatePosition","nextPosition","useTooltipPosition","BaseRangeControl","afterIcon","allowReset","beforeIcon","currentInput","colorProp","initialPosition","showTooltipProp","valueProp","withInputField","valueRef","setClampValue","useControlledRangeValue","setShowTooltip","setIsFocused","isCurrentlyFocused","isThumbFocused","isValueReset","inputSliderValue","rangeFillValue","fillValue","fillValueOffset","wrapperClasses","describedBy","enableTooltip","handleOnChange","nextValue","handleOnReset","handleShowTooltip","handleHideTooltip","hoverInteractions","onShow","onHide","setShow","timeoutRef","setDebouncedTimeout","handleOnMouseMove","handleOnMouseLeave","useDebouncedHoverInteraction","offsetStyle","inputMode","getIntVal","fallback","EditableElement","elementTitle","elementName","frameSize","handleAlign","SelectControl","multiple","newValues","NumberControl","isShiftStepEnabled","shiftStep","baseValue","incrementalValue","containerClassName","data-subscript","isOpen","onToggle","prevState","renderContent","renderToggle","contentClassName","popoverProps","close","NavigableContainer","finder","getFocusableIndex","directIndex","getFocusableContext","cycle","eventToOffset","onNavigate","stopNavigationEvents","nextIndex","total","cycleValue","bindContainer","forwardedNavigableContainer","onlyBrowserTabstops","toggleProps","menuProps","menuLabel","noIcons","controlSets","mergedPopoverProps","mergeProps","mergedToggleProps","openOnArrowDown","aria-haspopup","mergedMenuProps","controlSet","indexOfSet","indexOfControl","aria-checked","renderDropdownMenu","isCollapsed","finalClassName","fireEvent","eventInit","_eventInit","_eventInit2","cancelable","createKeyboardEvent","KeyboardEvent","initKeyboardEvent","getDefaultView","isIE11","isIE11$1","useKeyboardEventProxy","htmlEventHandler","eventHandlerRef","_eventHandlerRef$curr","canProxyKeyboardEvent","currentElement","isItem","unstable_useComposite","htmlOnFocus","htmlOnBlur","htmlOnKeyDown","htmlOnKeyUp","onKeyUp","previousItem","onFocusRef","onBlurRef","activeElementRef","elementRef","useActiveElementRef","_onFocusRef$current2","_onFocusRef$current","_currentItem$ref$curr","previousActiveElement","relatedTarget","previousActiveElementWasItem","_options$setCurrentId","_onBlurRef$current","_previousItem$current","targetIsItem","nextActiveElement","getNextActiveElementOnBlur","nextActiveElementIsItem","onMove","_options$groups","isVertical","isHorizontal","ArrowUp","_options$move","_options$last","ArrowRight","ArrowDown","ArrowLeft","Home","End","PageUp","PageDown","tabbableHTMLProps","useToolbar","Toolbar","accessibilityLabel","toolbarState","__experimentalAccessibilityLabel","asyncGeneratorStep","_next","_throw","_asyncToGenerator","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","isSubscribed","replaceReducer","nextReducer","outerSubscribe","observeState","$$observable","applyMiddleware","middlewares","middlewareAPI","isGenerator","isAction","isActionOfType","createRuntime","rungenControls","routine","unhandledActionControl","rungenRuntime","resolvers","selectorName","resolversByArgs","subKeysIsResolved","nextKeyState","isStarting","getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers","startResolution","finishResolution","invalidateResolution","invalidateResolutionForStore","invalidateResolutionForStoreSelector","createNamespace","createResolversCacheMiddleware","normalizedControls","createReduxRoutineMiddleware","enhancers","combineReducers","createReduxStore","mapActions","registrySelector","mapSelectors","mappedResolvers","fulfill","selectorResolver","metadataSelectors","metadataActions","fulfillResolver","fulfillSelector","mapResolvers","lastState","getSelectors","getActions","getCoreDataSelector","getCoreDataAction","createRegistry","storeConfigs","stores","getResolveSelectors","memize","hasFinished","getResult","select","registerGenericStore","namespaces","__experimentalResolveSelect","createCoreDataStore","withPlugins","storage","getItem","objectStorage","setItem","DEFAULT_STORAGE","createPersistenceInterface","storageKey","persisted","persistencePlugin","persistence","registerStore","persistedState","getPersistedState","createPersistOnChange","insertUsage","preferences","editPostState","hadPersistedState","hadFullscreenModePreference","features","fullscreenMode","areTipsEnabled","hasWelcomeGuide","welcomeGuide","useMemoOne","inputs","committed","newInputs","lastInputs","areInputsEqual","createRequestIdleCallback","createQueue","waitingList","elementsMap","isRunning","runWaitingList","hasTimeRemaining","deadline","nextElement","requestIdleCallback","RegistryConsumer","useRegistry","useIsomorphicLayoutEffect","renderQueue","useSelect","mapSelect","isAsync","queueContext","forceRender","latestMapSelect","latestIsAsync","latestMapOutput","latestMapOutputError","isMountedAndNotUnsubscribing","mapOutput","errorMessage","onStoreChange","newMapOutput","mapSelectToProps","storeName","currentDispatchMap","currentDispatchProps","dispatchProps","useDispatchWithMap","mapDispatchToProps","defaultRegistry","DEFAULT_CATEGORIES","slug","createBlockNameSetterReducer","defaultBlockName","freeformFallbackBlockName","unregisteredFallbackBlockName","groupingBlockName","LEAF_KEY","hasWeakMap","blockTypes","blockStyles","blockType","blockVariations","variation","categories","categoryToChange","category","collections","getDependants","rootCache","getCache","callSelector","dependants","isUniqueByDependants","lastDependants","dependant","getNormalizedBlockType","getBlockType","getBlockTypes","createSelector","variations","getBlockVariations","getDefaultBlockVariation","getFreeformFallbackBlockName","getUnregisteredFallbackBlockName","getChildBlockNames","getBlockSupport","hasBlockSupport","isMatchingSearchTerm","getNormalizedSearchTerm","normalizedSearchTerm","isSearchMatch","hasChildBlocks","hasChildBlocksWithInserterSupport","addBlockTypes","removeBlockTypes","addBlockStyles","blockName","removeBlockStyles","styleNames","addBlockVariations","removeBlockVariations","variationNames","setDefaultBlockName","setFreeformFallbackBlockName","setUnregisteredFallbackBlockName","setGroupingBlockName","setCategories","updateCategory","addBlockCollection","removeBlockCollection","getRandomValues","crypto","msCrypto","rnds8","rng","byteToHex","bytesToUuid","buf","bth","v4","rnds","isUnmodifiedDefaultBlock","getDefaultBlockName","createBlock","newDefaultBlock","normalizeBlockType","getBlockLabel","getLabel","stripHTML","DEPRECATED_ENTRY_KEYS","getFreeformContentHandlerName","getUnregisteredTypeHandlerName","isReusableBlock","blockOrType","innerBlocks","sanitizedAttributes","schema","clientId","uuid","cloneBlock","mergeAttributes","newInnerBlocks","isPossibleTransformForSource","isMultiBlock","blocks","firstBlockName","isWildcardBlockTransform","sourceBlock","isContainerGroupBlock","getPossibleBlockTransformations","blockTypesForFromTransforms","allBlockTypes","findTransform","getBlockTransforms","getBlockTypesForPossibleFromTransforms","blockTypesForToTransforms","transformsTo","possibleTransforms","transformation","getBlockTypesForPossibleToTransforms","blockTypeOrName","switchToBlockType","blocksArray","firstBlock","sourceName","isBlockSelectionOfSameType","transformationsFrom","transformationResults","currentBlock","firstSwitchedBlock","transformedBlock","getBlockFromExample","example","innerBlock","getPath","segments","implementation","createHTMLDocument","htmlSplitRegex","replaceInHtmlTags","textArr","workingInput","htmlSplit","needles","needle","replacePairs","haystack","tokenizer","Block","attrs","innerContent","Freeform","proceed","startedAt","closerMatch","namespaceMatch","nameMatch","attrsMatch","voidMatch","isCloser","isVoid","hasAttrs","parseJSON","nextToken","tokenType","startOffset","tokenLength","stackDepth","leadingHtmlStart","addFreeform","addBlockFromStack","addInnerBlock","tokenStart","prevOffset","Frame","stackTop","rawLength","lastOffset","endOffset","HEXCHARCODE","CHARCODE","NAMED","WSP","entity","ALPHA","CRLF","char","entityParser","tagNameBuffer","states","beforeData","peek","isIgnoredEndTag","transitionTo","beginData","markTagStart","appendToData","consumeCharRef","finishData","tagOpen","isAlpha","beginStartTag","appendToTagName","markupDeclarationOpen","beginComment","commentStart","finishComment","appendToCommentData","commentStartDash","comment","commentEndDash","commentEnd","isSpace","finishTag","endTagName","beforeAttributeName","reportSyntaxError","beginAttribute","appendToAttributeName","attributeName","beginAttributeValue","finishAttributeValue","afterAttributeName","beforeAttributeValue","appendToAttributeValue","attributeValueDoubleQuoted","attributeValueSingleQuoted","attributeValueUnquoted","afterAttributeValueQuoted","selfClosingStartTag","markTagAsSelfClosing","endTagOpen","beginEndTag","tokenize","tokenizePart","tokenizeEOF","preprocessInput","flushData","endIndex","startLine","startColumn","EventedTokenizer","_currentAttribute","currentAttribute","addLocInfo","selfClosing","isQuoted","syntaxError","decodeEntities","_decodeTextArea","decoded","createLogger","logger","createLogHandler","getItems","createQueuedLogger","withBlockContentContext","BlockContent","isInnerBlocks","getBlockDefaultClassName","getSaveElement","save","getSaveContent","getCommentAttributes","attributeSchema","getBlockContent","saveContent","getCommentDelimitedContent","serializedAttributes","serializeAttributes","rawBlockName","saveAttributes","serializeBlock","REGEXP_WHITESPACE","REGEXP_ONLY_WHITESPACE","REGEXP_STYLE_URL_TYPE","MEANINGFUL_ATTRIBUTES","TEXT_NORMALIZATIONS","getTextPiecesSplitOnWhitespace","REGEXP_NAMED_CHARACTER_REFERENCE","REGEXP_DECIMAL_CHARACTER_REFERENCE","REGEXP_HEXADECIMAL_CHARACTER_REFERENCE","DecodeEntityParser","getMeaningfulAttributePairs","isEquivalentTextTokens","actualChars","actual","expectedChars","expected","normalize","getNormalizedStyleValue","getStyleProperties","valueParts","isEqualAttributesOfName","class","isEqualTagAttributePairs","expectedAttributes","actualValue","nameLower","expectedValue","isEqualAttributes","isEqualTokensOfType","StartTag","Chars","Comment","getNextNonWhitespaceToken","getHTMLTokens","Tokenizer","isClosedByToken","currentToken","isEquivalentHTML","actualTokens","expectedTokens","actualToken","expectedToken","isEqualTokens","getBlockContentValidationResult","generatedBlockContent","validationIssues","fromDOM","domNodes","toHTML","domNode","blockNode","canConcatToPreviousString","getChildrenArray","getNamedNodeMapAsObject","nodeMap","isOfTypes","isOfType","matcherFromSource","sourceConfig","attr","toBooleanAttributeMatcher","subMatchers","parseWithAttributeSchema","hpqParse","getBlockAttribute","enumSet","commentAttributes","isValidByType","isValidByEnum","getBlockAttributes","blockAttributes","createBlockWithFallback","originalName","freeformContentFallbackBlock","unregisteredFallbackBlock","br","preTags","textParts","lastText","textPart","allBlocks","texts","textPiece","autop","reconstitutedBlockNode","originalUndelimitedContent","serializeBlockNode","isCommentDelimited","originalContent","isFallbackBlock","deprecatedDefinitions","isEligible","deprecatedBlockType","migratedAttributes","migratedInnerBlocks","migrate","getMigratedBlock","childIndex","parseWithGrammar","parseImplementation","textContentSchema","strong","em","del","ins","abbr","sub","sup","dfn","var","samp","kbd","ruby","rt","rp","bdi","bdo","wbr","phrasingContentSchema","audio","canvas","embed","video","getPhrasingContentSchema","isPhrasingContent","isTextContent","getBlockContentSchema","schemas","hasAnchorSupport","isPaste","deepFilterNodeList","deepFilterHTML","removeInvalidHTML","cleanNodeList","inline","allowEmpty","mattchers","getSibling","sibling","decuDoc","accuDoc","decu","accu","COMMENT_NODE","customText","noTeaser","createMore","createNextpage","isList","prevElement","parentElement","parentListItem","prevListItem","parentList","normaliseBlocks","wrapFigureContent","beforeElement","figure","isFigureContent","nodeToInsert","canHaveAnchor","shortcode","fromMatch","numeric","segmentHTMLToShortcodeBlock","excludedBlockNames","transformsFrom","transformTags","transformTag","previousIndex","beforeHTML","HTML","afterHTML","deepCheck","isInline","isDoubleBR","fontStyle","textDecorationLine","textDecoration","verticalAlign","prevNode","isNumeric","newListNode","listNode","listItem","receivingNode","URL","createObjectURL","revokeObjectURL","createBlobURL","atob","File","uint8Array","file","previousSibling","filterInlineHTML","pasteHandler","plainText","isPlain","slackMarkdownVariantCorrector","pieces","shortcodeConverter","hasShortcodes","isInlineContent","rawTransforms","blockContentSchema","piece","rawTransform","htmlToBlocks","trimmedPlainText","rawHandler","getRawTransformations","innerBlocksTemplate","synchronizeBlocksWithTemplate","normalizeAttributes","normalizeAttribute","isHTMLAttribute","isQueryAttribute","definition","formatTypes","getFormatTypes","getFormatType","getFormatTypeForBareElement","bareElementTagName","getFormatTypeForClassName","addFormatTypes","removeFormatTypes","isFormatEqual","format1","format2","attributes1","attributes2","keys1","keys2","normaliseFormats","newFormats","formatsAtPreviousIndex","newFormatsAtIndex","formatsAtIndex","previousFormat","simpleFindKey","multilineTag","multilineWrapperTags","isEditableTree","__unstableIsEditableTree","preserveWhiteSpace","replacements","createFromMultilineElement","createFromElement","accumulateSelection","endContainer","currentLength","ZWNBSPRegExp","removePadding","currentWrapperTags","collapseWhiteSpace","filterRange","mergePair","lastFormats","lastFormat","newFormat","formatType","registeredAttributes","unregisteredAttributes","toFormat","getAttributes","mergeFormats","getActiveFormats","activeFormats","EMPTY_ACTIVE_FORMATS","formatsBefore","formatsAfter","getActiveFormat","getTextContent","getLineIndex","startIndex","isEmptyLine","removeFormat","filterFormats","valueToInsert","newText","newReplacements","removeLineSeparator","backward","collapsed","removeStart","removeEnd","splitAtSelection","nextStart","fromFormat","boundaryClass","elementAttributes","toTree","createEmpty","getLastChild","getParent","isText","getText","appendText","onStartIndex","onEndIndex","formatsLength","tree","multilineFormat","deepestActiveFormat","lastCharacterFormats","lastSeparatorFormats","shouldInsertPadding","lastCharacter","characterFormats","pointer","isEqualUntil","contenteditable","createPathToNode","getNodeByPath","lastChild","toDom","prepareEditableTree","startPath","endPath","__unstableDomOnly","applyValue","futureChild","future","currentChild","currentAttributes","futureAttributes","applySelection","toHTMLString","createChildrenHTML","createElementHTML","attributeString","indentListItems","lineIndex","previousLineIndex","formatsAtLineIndex","formatsAtPreviousLineIndex","canIndentListItems","targetLevelLineIndex","startFormats","getTargetLevelLineIndex","targetFormats","lastformat","interactiveContentTags","FormatEdit","allowedFormats","withoutInteractiveFormatting","Edit","edit","activeFormat","activeObject","getActiveObject","isObjectActive","activeAttributes","activeObjectAttributes","formatTypesSelector","BoundaryStyle","globalStyle","InlineWarning","INSERTION_INPUT_TYPES_TO_IGNORE","defaultStyle","whiteSpace","createPrepareEditableTree","fns","RichText","selectionEnd","domOnly","onPaste","isSelected","__unstableDisableFormats","clipboardData","files","transformed","__unstablePasteRule","accumlator","removeEditorOnlyFormats","unstableOnFocus","inputType","updateFormats","withoutHistory","inputRule","markAutomaticChange","allowPrefixTransformations","onInput","__unstableInputRule","isCaretWithinFormattedText","onEnterFormattedText","onExitFormattedText","anchorNode","anchorOffset","targetNode","fixPlaceholderSelection","changeHandlers","changeHandler","valueToFormat","lastHistoryValue","onDelete","onEnter","multilineRootTag","characterBefore","reverseKey","newActiveFormatsLength","newActiveFormats","newPos","shouldReapply","selectionChanged","prepareProps","prevPrepareProps","formatToValue","prepare","TagName","ariaProps","aria-multiline","onCompositionStart","onCompositionEnd","suppressContentEditableWarning","Editable","RichTextWrapper","identifier","selectProps","selectPrefix","richTextIdentifier","blockClientId","__unstableUseDispatchWithMap","dispatchPrefix","combined","propsByPrefix","isViewportMatch","queriesResult","breakpointName","setIsMatching","queries","addDimensionsEventListener","keyCombination","aliases","unregisterShortcut","EMPTY_ARRAY","FORMATTING_METHODS","getKeyCombinationRepresentation","getShortcutKeyCombination","getShortcutRepresentation","representation","getShortcutDescription","getShortcutAliases","getAllShortcutRawKeyCombinations","getCategoryShortcuts","getColorObjectByAttributeValues","colorObj","definedColor","customColor","getColorObjectByColorValue","colorValue","getColorClassName","focusedElement","setFocusedElement","useBlockEditContext","withBlockEditContext","mapContextToProps","ifBlockEditSelected","InspectorControls","withFilters","FilteredComponent","FilteredComponentRenderer","ensureFilteredComponent","throttledForceUpdate","updatedHookName","generatedClassName","onCaretVerticalPositionChange","propsToContext","CircularOptionPicker","ColorPalette","clearable","disableCustomColors","clearColor","colorOptions","selectedIconProps","tooltipText","renderCustomColorPicker","dropdownProps","buttonProps","optionButton","check","AngleCircle","angleCircleRef","angleCircleCenter","changeAngleToPosition","centerX","centerY","pointY","pointX","angleInRadians","angleInDeg","getAngle","onDragStart","onDragMove","onDragEnd","isDragging","setIsDragging","eventsRef","endDrag","startDrag","useDragging","AnglePickerControl","inputId","inputValue","unprocessedValue","LinearGradientIcon","withInstanceId","linerGradientId","gradientUnits","x1","x2","y1","y2","stopColor","RadialGradientIcon","radialGradientId","cy","gradientTransform","DEFAULT_GRADIENT","COLOR_POPOVER_PROPS","HORIZONTAL_GRADIENT_ORIENTATION","serializeGradientColor","serializeGradientPosition","serializeGradientColorStop","serializeGradient","serializedOrientation","serializeGradientOrientation","serializedColorStops","tinyColorRgbToGradientColorStop","getGradientWithPositionAtIndexChanged","gradientAST","colorStopIndex","colorStop","relativePosition","isControlPointOverlapping","minPosition","maxPosition","itemPosition","getGradientWithPositionAtIndexSummed","currentPosition","newPosition","getGradientWithColorAtIndexChanged","getHorizontalRelativeGradientPosition","containerElement","absolutePositionValue","mouseXCoordinate","positionedElementWidth","availableWidth","getLinearGradientRepresentationOfARadial","getGradientParsed","hasGradient","gradientParser","gradientValue","ControlPointKeyboardMove","decrease","gradientIndex","getGradientWithPositionAtIndexIncreased","getGradientWithPositionAtIndexDecreased","ControlPointButton","descriptionId","ControlPoints","gradientPickerDomRef","ignoreMarkerPosition","markerPoints","onStartControlPointChange","onStopControlPointChange","controlPointMoveState","referenceGradientAST","cleanEventListeners","significantMoveHappened","listenersActivated","elemIndex","getGradientWithControlPointRemoved","InsertPoint","onOpenInserter","onCloseInserter","insertPosition","alreadyInsertedPoint","setAlreadyInsertedPoint","newGradient","relativePositionValue","getGradientWithColorAtPositionChanged","getGradientWithColorStopAdded","customGradientBarReducer","customGradientBarReducerInitialState","CustomGradientBar","onGradientStructureChange","positionValue","getMarkerPoints","gradientBarState","gradientBarStateDispatch","onMouseEnterAndMove","isMovingInserter","isInsertingControlPoint","GradientAnglePicker","angle","newAngle","GradientTypePicker","CustomGradientPicker","GradientPicker","gradients","disableCustomGradients","clearGradient","gradientOptions","__experimentalGetGradientClass","getGradientValueBySlug","__experimentalGetGradientObjectByGradientValue","getGradientSlugByValue","colorIndicatorAriaLabel","gradientIndicatorAriaLabel","colorsAndGradientKeys","VisualLabel","currentTab","colorObject","colorName","gradientObject","gradientName","ColorGradientControlInner","onColorChange","onGradientChange","canChooseAColor","canChooseAGradient","setCurrentTab","ColorGradientControlSelect","colorGradientSettings","Indicators","availableColors","availableGradients","PanelColorGradientSettingsInner","setting","titleElement","PanelColorGradientSettingsSelect","ContrastCheckerMessage","tinyBackgroundColor","tinyTextColor","textColor","fallbackBackgroundColor","fallbackTextColor","isLargeText","getFontSize","fontSizeObject","fontSizeAttribute","customFontSizeAttribute","getFontSizeClass","canOverflow","skipOverflowHiddenElements","isScrollable","scrollWidth","frame","frameElement","getFrameElement","isHiddenByFrame","alignNearest","scrollingEdgeStart","scrollingEdgeEnd","scrollingSize","scrollingBorderStart","scrollingBorderEnd","elementEdgeStart","elementEdgeEnd","elementSize","scrollIntoView","menuNode","scrollMode","boundary","checkBoundary","frames","visualViewport","viewportX","scrollX","pageXOffset","viewportY","scrollY","pageYOffset","_target$getBoundingCl","targetHeight","targetWidth","targetRight","targetBottom","targetBlock","targetInline","computations","_frame$getBoundingCli","frameStyle","borderLeft","borderLeftWidth","borderTop","borderRight","borderRightWidth","borderBottom","blockScroll","inlineScroll","scrollbarWidth","scrollbarHeight","computeScrollIntoView","callAllEventHandlers","preventDownshiftDefault","handleRefs","isControlledProp","normalizeArrowKey","getNextWrappingIndex","moveAmount","baseIndex","itemCount","getItemNodeFromIndex","itemsLastIndex","newIndex","nonDisabledNewIndex","getNextNonDisabledIndex","currentElementNode","cleanupStatus","getStatusDiv","setStatus","documentProp","div","statusDiv","getElementById","clip","margin","defaultStateValues","highlightedIndex","selectedItem","getElementIds","generateDefaultId","labelId","menuId","getItemId","toggleButtonId","getItemIndex","isAcceptedCharacterKey","capitalizeString","callOnChangeProps","changes","stateKey","propKey","invokeOnChangeHandler","onStateChange","useEnhancedReducer","enhancedReducer","stateReduceLocal","stateReducer","_useReducer","lastId","useId","_useState","setId","focusLandsOnElement","explicitOriginalTarget","itemToString","getA11yStatusMessage","selectionParameters","resultCount","getA11ySelectionMessage","itemToStringLocal","circularNavigation","environment","getDefaultValue","defaultStateValuesLocal","defaultPropKey","getInitialValue","initialPropKey","getHighlightedIndexOnOpen","initialHighlightedIndex","defaultHighlightedIndex","defaultStateValues$1","keysSoFar","getDefaultValue$1","getInitialValue$1","getItemIndexByCharacterKey","itemToStringParam","lowerCasedItemStrings","lowerCasedKeysSoFar","itemString","stateChangeTypes$1","MenuKeyDownArrowDown","MenuKeyDownArrowUp","MenuKeyDownEscape","MenuKeyDownHome","MenuKeyDownEnd","MenuKeyDownEnter","MenuKeyDownSpaceButton","MenuKeyDownCharacter","MenuBlur","MenuMouseLeave","ItemMouseMove","ItemClick","ToggleButtonKeyDownCharacter","ToggleButtonKeyDownArrowDown","ToggleButtonKeyDownArrowUp","ToggleButtonClick","FunctionToggleMenu","FunctionOpenMenu","FunctionCloseMenu","FunctionSetHighlightedIndex","FunctionSelectItem","FunctionClearKeysSoFar","FunctionReset","downshiftSelectReducer","lowercasedKey","_lowercasedKey","_keysSoFar","itemIndex","userProps","initialIsOpen","defaultIsOpen","_useEnhancedReducer","getInitialState","_useEnhancedReducer$","dispatchWithoutProps","_getElementIds","toggleButtonRef","menuRef","itemRefs","isInitialMount","shouldScroll","outerDispatch","menuKeyDownHandlers","Escape","Enter","Tab","toggleButtonKeyDownHandlers","menuHandleKeyDown","menuHandleBlur","menuHandleMouseLeave","toggleButtonHandleClick","toggleButtonHandleKeyDown","getToggleButtonProps","_temp2","_ref2$refKey","refKey","toggleButtonNode","getLabelProps","labelProps","getMenuProps","_ref$refKey","getItemProps","_temp3","_extends4","_ref3$refKey","itemNode","itemHandleMouseMove","itemHandleClick","toggleMenu","openMenu","closeMenu","setHighlightedIndex","newHighlightedIndex","selectItem","newSelectedItem","stateChangeTypes","Downshift","CustomSelectControl","onSelectedItemChange","_selectedItem","initialSelectedItem","DEFAULT_FONT_SIZE","getSelectValueFromFontSize","fontSizeValue","fontSizes","font","disableCustomFontSizes","FontSizePicker","fallbackFontSize","withSlider","currentSelectValue","setCurrentSelectValue","setFontSize","fontSizeKey","optionsArray","getSelectOptions","fontSizePickerNumberId","selectedKey","selectedValue","sliderKey","debouncedSpeak","filterOptions","maxResults","filtered","keywords","Autocomplete","selectedIndex","suppress","open","filteredOptions","onReplace","getOptionCompletion","completer","activePromise","keyedOptions","optionsData","nextSelectedIndex","idx","completers","prevRecord","prevText","textAfterSelection","allCompleters","triggerPrefix","allowContext","safeTrigger","wasOpen","wasSuppress","wasQuery","listBoxId","activeId","aria-selected","BLOCK_ALIGNMENTS_CONTROLS","center","full","DEFAULT_CONTROLS","WIDE_CONTROLS","withSelect","wideControlsEnabled","getSettings","alignWide","enabledControls","activeAlignmentControl","defaultAlignmentControl","getBlockName","ownProps","BlockControls","BlockFormatControls","BlockIcon","showColors","blockDefault","renderedIcon","foreground","createFrame","leadingTextStart","isValidConversionMap","isClosing","isSelfClosed","conversionMap","addText","stackLeadingText","indoc","closeOuterElement","globalTips","createInterpolateElement","randomIndex","InserterSearchForm","autoFocus","PREFERENCES_DEFAULTS","SETTINGS_DEFAULTS","imageSizes","allowedBlockTypes","maxUploadFileSize","allowedMimeTypes","availableLegacyWidgets","hasPermissionsToManageWidgets","__experimentalCanUserUseUnfilteredHTML","__experimentalEnableLegacyWidgetBlock","__experimentalBlockDirectory","__experimentalEnableFullSiteEditing","__experimentalEnableFullSiteEditingDemo","__mobileEnablePageTemplates","insertAt","moveTo","withoutMovedElements","mapBlockOrder","rootClientId","mapBlockParents","flattenBlocks","getFlattenedBlocksWithoutAttributes","getFlattenedBlockAttributes","getMutateSafeObject","isUpdatingSameBlockAttribute","lastAction","fillKeysWithEmptyObject","updatedId","getBlocksWithParentsClientIds","clientIds","updatedBlockUids","parentClientIds","getAllChildren","removedClientIds","replacedClientIds","stateAfterBlocksRemoval","stateAfterInsert","visibleClientIds","getNestedBlockClientIds","blocksOrder","byClientId","markNextChangeAsNotPersistent","isExplicitPersistentChange","nextIsPersistentChange","isPersistentChange","IGNORED_ACTION_TYPES","nextAttributes","subState","mappedBlocks","fromRootClientId","toRootClientId","firstClientId","firstIndex","lastClientId","indexToSelect","blockToSelect","isTyping","isDraggingBlocks","attributeKey","isMultiSelecting","isSelectionEnabled","blocksMode","blockListSettings","insertionPoint","lastBlockAttributesChange","isNavigationMode","automaticChangeStatus","highlightedBlock","isHighlighted","SELECT","registryControl","ensureDefaultBlock","selectPreviousBlock","selectNextBlock","replaceBlocks","moveBlockToPosition","insertBlocks","removeBlocks","setNavigationMode","duplicateBlocks","insertBeforeBlock","insertAfterBlock","insertDefaultBlock","receiveBlocks","updates","previousBlockClientId","selectBlock","nextBlockClientId","getBlocksWithDefaultStylesApplied","preferredStyleVariations","blockStyle","replaceBlock","createOnMove","moveBlocksDown","moveBlocksUp","templateLock","updateSelection","allowedBlocks","setTemplateValidity","synchronizeTemplate","selectPrevious","toggleBlockMode","insertBlock","updateBlockListSettings","__unstableSaveReusableBlock","__unstableMarkNextChangeAsNotPersistent","blockNames","lastSelectedIndex","clonedBlocks","multiSelect","firstSelectedIndex","INSERTER_UTILITY_HIGH","INSERTER_UTILITY_MEDIUM","INSERTER_UTILITY_LOW","INSERTER_UTILITY_NONE","templateIcon","getBlock","getBlocks","__unstableGetBlockWithoutInnerBlocks","getBlockOrder","getClientIdsOfDescendants","descendants","getClientIdsWithDescendants","topLevelIds","getGlobalBlockCount","getBlocksByClientId","getBlockSelectionStart","multiSelectedBlockCount","getMultiSelectedBlockClientIds","hasSelectedBlock","getSelectedBlockClientId","getBlockParents","ascending","getBlockParentsByBlockName","getBlockHierarchyRootClientId","getLowestCommonAncestorWithSelectedBlock","selectedId","clientParents","selectedParents","maxDepth","lowestCommonAncestor","getAdjacentBlockClientId","startClientId","getFirstMultiSelectedBlockClientId","getLastMultiSelectedBlockClientId","getBlockRootClientId","orderSet","getPreviousBlockClientId","getNextBlockClientId","getSelectedBlocksInitialCaretPosition","getSelectedBlockClientIds","blockOrder","getMultiSelectedBlocks","multiSelectedBlockClientIds","isFirstMultiSelectedBlock","isBlockMultiSelected","isAncestorMultiSelected","ancestorClientId","isMultiSelected","getMultiSelectedBlocksStartClientId","getMultiSelectedBlocksEndClientId","isBlockSelected","hasSelectedInnerBlock","deep","isBlockWithinSelection","getBlockIndex","isBlockInsertionPointVisible","isValidTemplate","getTemplate","getBlockListSettings","canInsertBlockTypeUnmemoized","checkAllowList","defaultResult","isBlockAllowedInEditor","isLocked","getTemplateLock","parentBlockListSettings","parentAllowedBlocks","hasParentAllowedBlock","blockAllowedParentBlocks","parentName","hasBlockAllowedParent","canInsertBlockType","getInsertUsage","canIncludeBlockTypeInInserter","getInserterItems","calculateUtility","calculateFrecency","buildBlockTypeInserterItem","isContextual","inserterVariations","scope","initialAttributes","utility","frecency","buildReusableBlockInserterItem","reusableBlock","referencedBlocks","__experimentalGetParsedReusableBlock","referencedBlockType","blockTypeInserterItems","reusableBlockInserterItems","getReusableBlocks","hasInserterItems","hasBlockType","hasReusableBlock","__experimentalGetAllowedBlocks","__experimentalGetBlockListSettingsForBlocks","__experimentalGetLastBlockAttributeChanges","isBlockHighlighted","MERGE_BLOCKS","clientIdA","clientIdB","blockA","blockAType","blockB","blockBType","getSelectionStart","attributeDefinition","selectedBlockType","canRestoreTextSelection","cloneA","cloneB","selectedBlock","blocksWithTheSameType","updatedAttributes","newAttributeKey","convertedHtml","convertedValue","newOffset","newHtml","selectionChange","RESET_BLOCKS","isBlocksValidToTemplate","doBlocksMatchTemplate","MULTI_SELECT","blockCount","getSelectedBlockCount","SYNCHRONIZE_TEMPLATE","resetBlocks","MARK_AUTOMATIC_CHANGE","refx","enhancedDispatch","storeConfig","persist","applyMiddlewares","withRegistry","useSubRegistry","subRegistry","setSubRegistry","newRegistry","BlockEditorProvider","updateSettings","resetSelection","isSyncingOutcomingValue","getSelectionEnd","isLastBlockChangePersistent","__unstableIsLastBlockChangeIgnored","isPersistent","newBlocks","newIsPersistent","withDispatch","DISABLED_ELIGIBLE_NODE_NAMES","Disabled","childList","subtree","ModalFrame","onRequestClose","overlayClassName","contentLabel","describedby","labelledby","aria-labelledby","closeLabel","headingId","LIVE_REGION_ARIA_ROLES","hiddenElements","isHidden","hideApp","elementShouldBeHidden","openModalCount","Modal","ariaHelper","closeButtonLabel","aria","isDismissable","otherProps","bodyOpenClassName","shouldCloseOnEsc","shouldCloseOnClickOutside","MenuGroup","secondaryActions","rawContent","renderedContent","actionText","newContent","diffChars","onKeep","onConvert","convertor","convertButtonText","getOriginalContent","converted","getConvertedContent","getDifference","BlockInvalidWarning","compare","convertToHTML","convertToBlocks","convertToClassic","attemptBlockRecovery","hasHTMLBlock","hiddenActions","blockToBlocks","blockToClassic","blockToHTML","setHtml","updateBlock","useDispatch","isValidBlockContent","getBlockDOMNode","isInsideRootBlock","getBlockClientId","elementNode","IS_IE","counterReducer","getAbsolutePosition","prefersReducedMotion","useReducedMotion","triggeredAnimation","triggerAnimation","finishedAnimation","endAnimation","setTransform","scrollContainer","adjustScrolling","destination","newTransform","animationProps","transformOrigin","getDeepestNode","hasMultiSelection","selectedBlockClientId","toggleRichText","selectedClientId","noCapture","multiSelectionContainer","getSelection","getClosestTabbable","focusableNodes","hasInnerBlocksContext","nextNode","isTabCandidate","Indicator","getBlockInsertionPoint","blockIndex","InsertionPoint","isInserterShown","setIsInserterShown","isInserterForced","setIsInserterForced","inserterElement","setInserterElement","inserterClientId","setInserterClientId","isInserterHidden","blockEl","elementRect","moverDirection","removeBlock","hasPosition","hasLabel","getAccessibleBlockLabel","focusToolbar","useShortcut","hasFixedToolbar","BlockPopover","isEmptyDefaultBlock","capturingClientId","isLargeViewport","isToolbarForced","setIsToolbarForced","blockNodes","showEmptyBlockSideInserter","shouldShowBreadcrumb","shouldShowContextualToolbar","canFocusHiddenToolbar","bottomNode","popoverPosition","data-align","wrapperSelector","blockParentsClientIds","__experimentalMoverDirection","ancestorBlockListSettings","topmostAncestorWithCaptureDescendantsToolbarsIndex","WrappedBlockPopover","BlockNodes","onSelectionStart","startMultiSelect","stopMultiSelect","anchorElement","startNode","endNode","onSelectionChange","isSelectionEnd","commonAncestorContainer","onSelectionEnd","useMultiSelection","BlockComponent","__unstableIsHtml","setBlockNodes","isFirstMultiSelected","isLastMultiSelected","isPartOfMultiSelection","enableAnimation","blockTitle","fallbackRef","blockLabel","textInputs","focusTabbable","animationStyle","useMovingAnimation","htmlSuffix","blockElementId","data-block","data-type","data-title","buttons","BlockContext","applyWithSelect","getBlockMode","focusMode","isAncestorOfSelectedBlock","isTypingWithinBlock","isFocusMode","applyWithDispatch","updateBlockAttributes","mergeBlocks","toggleSelection","__unstableMarkLastChangeAsPersistent","setAttributes","onInsertBlocks","onInsertBlocksAfter","onMerge","withViewportMatch","ifCondition","setErrorState","lightBlockWrapper","isUnregisteredBlock","isAligned","customClassName","wrapperClassName","blockEdit","insertBlocksAfter","memoizedValue","onError","getBlockCount","isBlockValid","isLastBlockDefault","isLastBlockValid","bodyPlaceholder","showPrompt","startTyping","onAppend","data-root-client-id","readOnly","isAppender","blockClientIds","canInsertDefaultBlock","CustomAppender","renderAppender","appender","lastBlockClientId","addDropZone","removeDropZone","getDragEventType","dataTransfer","isTypeSupportedByDropZone","dropZone","useDropZone","onFilesDrop","onHTMLDrop","onDrop","withPosition","__unstableIsRelative","isDraggingOverDocument","isDraggingOverElement","isRelative","DropZoneComponent","useBlockDropZone","setClientId","hasUploadPermissions","isLockedAll","srcRootClientId","srcClientId","parseDropEvent","isSrcBlockAnAncestorOfDstBlock","dstIndex","insertIndex","targetClientId","ForwardedBlockList","isDraggable","__experimentalTagName","__experimentalAppenderTagName","__experimentalPassedProps","Container","isBlockInSelection","MemoizedBlockList","__experimentalPadding","useResizeObserver","containerResizeListener","containerWidth","containtResizeListener","renderedBlocks","hoveredItemBlockType","addQueryArgs","baseUrl","queryStringIndex","itemIconStyle","onSelect","onHover","normalizedItems","rootBlockType","rootBlockTitle","rootBlockIcon","__experimentalInserterMenuExtension","normalizeSearchTerm","removeMatchingTerms","unprocessedTerm","searchItems","normalizedSearchTerms","unmatchedTerms","itemCollection","matchedVariations","labelTerm","selectBlockOnInsert","__experimentalSelectBlockOnInsert","filterValue","safeSetTimeout","_getBlockSelectionEnd","getCategories","getCollections","destRootClientId","destinationRootBlockName","__experimentalFetchReusableBlocks","rootChildBlocks","destinationRootClientId","fetchReusableBlocks","getSelectedBlock","getBlockSelectionEnd","showInsertionPoint","hideInsertionPoint","onHoverItem","getInsertionIndex","onSelectItem","insertedBlock","createBlocksFromInnerBlocksTemplate","filteredItems","childItems","suggestedItems","reusableItems","itemsPerCategory","getCategoryIndex","itemsPerCollection","getBlockNamespace","inserterResults","panels","bindPanel","openPanels","setOpenPanels","onTogglePanel","newOpenPanels","resultsFoundMessage","isPanelOpen","hasItems","categoryItems","collectionItems","post_type","stopKeyPropagation","showInserterHelpPanel","setFilterValue","hoveredItem","setHoveredItem","onKeyPress","defaultRenderToggle","hasSingleBlockType","Inserter","insertOnlyAllowedBlock","allowedBlockType","isToggleButton","BlockNavigationList","showAppender","showNestedBlocks","parentBlockClientId","shouldShowAppender","rootBlocks","rootBlock","hasHierarchy","instructions","notices","preview","isColumnLayout","resizeListener","modifierClassNames","fieldsetClasses","alignBottom","alignCenter","hasColorsToChoose","withColorContext","withClientId","showSeparator","onAddBlock","InnerBlocks","templateInProcess","__experimentalBlocks","replaceInnerBlocks","resetFunc","nextBlocks","updateNestedSettings","parentLock","newSettings","__experimentalCaptureToolbars","enableClickThrough","hasOverlay","captureToolbars","blockList","ComposedInnerBlocks","isSmallScreen","templateInsertUpdatesSelection","forceUpdateSelection","ForwardedInnerBlocks","InspectorAdvancedControls","rel","filterURLForDisplay","filteredURL","safeDecodeURI","decodeURI","getProtocol","EMAIL_REGEXP","USABLE_HREF_REGEXP","prependHTTP","helpLabel","defaultSettings","handleSettingChange","theSettings","trimmedHighlightText","suggestion","isURL","searchTerm","globe","renderSuggestions","fetchSuggestions","showInitialSuggestions","selectedSuggestion","setSelectedSuggestion","onSubmit","__experimentalRenderSuggestions","__experimentalFetchLinkSuggestions","__experimentalHandleURLSuggestions","__experimentalShowInitialSuggestions","ViewerSlot","ViewerFill","makeCancelable","hasCanceled_","isCanceled","LinkControl","showSuggestions","forceIsEditingLink","createSuggestion","cancelableOnCreate","cancelableCreateSuggestion","wrapperNode","setInputValue","isEditingLink","setIsEditingLink","isResolvingLink","setIsResolvingLink","setErrorMessage","isEndingEditWithFocus","fetchSearchSuggestions","displayURL","nextFocusTarget","handleDirectEntry","protocol","handleEntitySearch","perPage","couldBeURL","isURLLike","isInternal","getSearchHandler","handleOnCreate","newSuggestion","stopEditing","handleSelectSuggestion","viewerSlotFillProps","suggestionsListProps","buildSuggestionItemProps","suggestions","isInitialSuggestions","resultsListClasses","directLinkEntryTypes","isSingleDirectEntryResult","shouldShowCreateSuggestion","searchResultsLabelId","labelText","searchResultsLabel","LineHeightControl","isDefined","isLineHeightDefined","autoComplete","adjustedNextValue","BASE_DEFAULT_VALUE","accept","openFileDialog","mediaUpload","createNotice","removeNotice","mediaURL","mediaId","allowedTypes","onSelectURL","mediaURLValue","setMediaURLValue","editMediaButtonRef","errorNoticeID","errorElement","renderMsg","selectMedia","media","filesList","onFileChange","uploadFiles","selectURL","LinkViewerUrl","urlLabel","linkClassName","stopEventPropagation","URLInput","suggestionNodes","autocompleteRef","fetchLinkSuggestions","handleURLSuggestions","loading","request","disableSuggestions","isFullWidth","hasBorder","suggestionsListboxId","suggestionOptionIdPrefix","required","aria-autocomplete","aria-owns","aria-activedescendant","handleSuggestionClick","shouldShowSuggestions","hasValue","URLPopover","isSettingsExpanded","additionalControls","renderSettings","showSettings","onChangeInputValue","onEditLinkClick","InsertFromURLPopover","MediaPlaceholder","isURLInputVisible","allowedType","addToGallery","setMedia","labels","onDoubleClick","mediaPreview","isOneType","isAudio","isImage","isVideo","placeholderClassName","disableDropZone","onCancel","closeURLInput","mediaLibraryButton","gallery","renderPlaceholder","disableMediaButtons","dropZoneUIOnly","OS","spec","HANDLED_SHORTCUTS","SHORTCUTS_ELEMENT","RemoveBrowserShortcuts","filePasteHandler","POPOVER_PROPS","getMultilineTag","multiline","getAllowedFormats","formattingControls","disableFormats","ForwardedRichTextContainer","originalValue","originalOnChange","originalIsSelected","inlineToolbar","autocompleters","keepPlaceholderOnFocus","onSplit","onSplitMiddle","__unstableOnSplitMiddle","startAttr","reversed","__unstableEmbedURLOnPaste","disableLineBreaks","blockIsSelected","didAutomaticChange","undo","Platform","shouldBlurOnUnmount","enterFormattedText","exitFormattedText","__unstableMarkAutomaticChange","adjustedAllowedFormats","hasFormats","adjustedValue","adjustedOnChange","childrenSource","__unstableCreateElement","splitValue","pastedBlocks","hasPastedBlocks","canSplit","beforeText","previousLineSeparatorIndex","previousLineSeparatorFormats","insertLineSeparator","trimmedTextBefore","__unstableIsSelected","__unstableMultilineTag","__unstableIsCaretWithinFormattedText","__unstableOnEnterFormattedText","__unstableOnExitFormattedText","__unstableOnCreateUndoLevel","__unstableDidAutomaticChange","__unstableUndo","nestedIsSelected","MultilineTag","EditableText","__experimentalVersion","remainingProps","fontSizeStyles","sizeStyles","ValueInput","baseUnitLabelStyles","UnitLabel","UnitSelect","CSS_UNITS","UnitSelectControl","isTabbable","unitValue","UnitControl","isUnitSelectTabbable","isResetValueOnUnitChange","onUnitChange","unit","units","changeProps","BaseUnitControl","__defaultUnits","__experimentalBlockSettingsMenuFirstItem","selectedBlockElement","TokenList","initialValue","_valueAsArray","newToken","replaceActiveStyle","activeStyle","newStyle","getBlockStyles","onChangeClassName","newClassName","onSwitch","onHoverClassName","potentialStyleName","getActiveStyle","updatedClassName","styleClassName","updateClassName","HTMLRegExp","HTMLcommentRegExp","spaceRegExp","HTMLEntityRegExp","connectorRegExp","removeRegExp","astralRegExp","wordsRegExp","characters_excluding_spacesRegExp","characters_including_spacesRegExp","l10n","loadSettings","matchRegExp","stripTags","stripHTMLComments","stripShortcodes","stripSpaces","stripHTMLEntities","stripConnectors","stripRemovables","matchWords","transposeAstralsToCountableChar","transposeHTMLEntitiesToCountableChars","matchCharacters","wordCount","DefaultStylePicker","preferredStyle","onUpdatePreferredStyleVariations","selectOptions","selectOnChange","selectedBlockName","hasBlockStyles","showNoBlockSelectedMessage","isSelectedBlockUnregistered","hasFills","getBlockMoverDescription","getMovementDirection","moveDirection","selectedCount","getMultiBlockMoverDescription","movementDirection","leftArrow","points","rightArrow","withSafeTimeout","cloneWrapper","elementId","transferData","dragImage","elementWrapper","elementTopOffset","elementLeftOffset","clonePadding","onDraggableStart","onDraggableEnd","startDraggingBlocks","stopDraggingBlocks","BlockMover","onMoveUp","onMoveDown","hideDragHandle","blocksCount","getArrowIcon","getMovementDirectionLabel","draggable","aria-disabled","BlockSelectionClearer","clearSelectedBlock","hasSelection","canDuplicate","onDuplicate","onInsertBefore","onInsertAfter","onGroup","getGroupingBlockName","onUngroup","isCodeEditingEnabled","onToggleMode","BlockConvertButton","shouldRender","BlockSettingsMenuControls","selectedBlocks","firstBlockClientId","duplicate","BlockSwitcher","hoveredClassName","onTransform","inserterItems","hoveredBlock","hoveredBlockType","itemsByName","possibleBlockTransformations","destinationBlockType","useDebouncedShowMovers","debounceTimeout","showMovers","setShowMovers","shouldHideMovers","isHovered","clearTimeoutRef","debouncedShowMovers","debouncedHideMovers","BlockToolbar","selectedBlockClientIds","blockRootClientId","toggleBlockHighlight","updateBlockHighlight","useToggleBlockHighlight","nodeRef","registerRef","isFocusedWithin","handleOnFocus","handleOnBlur","gestures","useShowMoversGestures","showMoversGestures","displayHeaderToolbar","shouldShowMovers","shouldShowVisualToolbar","isMultiToolbar","animatedMoverStyles","__experimentalOrientation","canUserUseUnfilteredHTML","valueAsNumber","documentHasSelection","getPasteEventData","onCopy","onCut","Compiler","visit","Base","inherits","mapVisit","decls","sel","stylesheet","indent","indentation","rootBlocksClientIds","KeyboardShortcuts","registerShortcut","KEY_DOWN_ELIGIBLE_KEY_CODES","setSafeTimeout","typingContainer","lastMouseMove","stopTyping","bindFn","isBound","lastClientX","lastClientY","isKeyDownEligibleForStartTyping","toggleEventBindings","isIE","arrowKeyCodes","Typewriter","onScrollResize","computeCaretRect","editableNodes","currentCaretRect","caretRect","windowScroll","scrollContainerY","relativeScrollPosition","scrollContainerHeight","ALL_ALIGNMENTS","WIDE_ALIGNMENTS","getValidAlignments","hasWideBlockSupport","hasWideEnabled","validAlignments","blockAlign","AlignmentHookSettings","withToolbarControls","isEmbedButton","nextAlign","withDataAlign","ANCHOR_REGEX","withInspectorControl","getHTMLRootElementClasses","defaultClasses","actualClasses","customClasses","cleanEmptyObject","cleanedNestedObjects","enableContrastChecking","detectedBackgroundColor","setDetectedBackgroundColor","detectedColor","setDetectedColor","colorsDetectionElement","backgroundColorNode","hasColorSupport","hasGradientSupport","colorSupport","backgroundClass","gradientClass","textClass","ColorEdit","localAttributes","onChangeColor","newNamedColor","newAttributes","existingGetEditWrapperProps","addSaveProps","LineHeightEdit","typography","newLineHeightValue","FontSizeEdit","fontSizeSlug","getFontSizeObjectByValue","styleSupportKeys","typographySupportKeys","hasStyleSupport","mappings","styleKey","objectKey","getInlineStyles","withBlockControls","hasTypographySupport","HeaderText","headercolor","headerfont","mailTemplateDesigner","fonts","headerfontsize","headeralign","headerbold","headeritalic","headertexttransform","textAlign","fontFamily","textTransform","headertext","showHandle","handleStylesOverrides","handleClassName","sideHandleClassName","cornerHandleClassName","HeaderImage","fileFrame","setFileFrame","headerimg","backgroundImage","file_frame","wp","attachment","headerimg_width","headerimg_height","headerimg_alt","headerimg_align","headerimg_placement","header_spacer","marginTop","elt","MailHeader","rerenderKey","setRerenderKey","forceRerender","headerbackground","arrowDown","headerpaddingtop","arrowLeft","headerpaddingright","arrowUp","headerpaddingbottom","arrowRight","headerpaddingleft","MailContent","contentbackground","headlinecolor","headlinefont","headlinefontsize","headlinealign","headlinebold","headlineitalic","headlinetexttransform","subheadlinecolor","subheadlinefont","subheadlinefontsize","subheadlinealign","subheadlinebold","subheadlineitalic","subheadlinetexttransform","textcolor","textfont","textfontsize","textalign","textbold","textitalic","linkcolor","linkbold","linkitalic","linkunderline","linktexttransform","h1Styles","h2Styles","pStyles","aStyles","MailFooter","setEditor","footerbackground","onEditorSetup","newEditor","footer","setContent","getContent","availableFonts","oldEditor","initialize","tinymce","content_css","fixed_toolbar_container","toolbar1","toolbar2","font_formats","fontsize_formats","setup","data-placeholder","stopImmediatePropagation","MailTemplate","isSaving","setIsSaving","showSaveSuccess","setShowSaveSuccess","fetch","restUrl","resp","templateLibraryUrl","Request","haet_mail","previewMail","saveSettings","useClickable","_ref$unstable_clickOn","unstable_clickOnEnter","_ref$unstable_clickOn2","unstable_clickOnSpace","setActive","onKeyDownRef","onKeyUpRef","_onKeyDownRef$current","isEnter","isTrusted","isNativeClick","click","_onKeyUpRef$current","unstable_useId","suffix","isTextInput","HTMLInputElement","isTextArea","setTextFieldValue","getWidget","unstable_useCompositeItem","stopId","_ref$tabIndex","isCurrentItem","isCurrentItemRef","hasFocusedComposite","_options$items","useItem","shouldTabIndex","_options$registerItem","_options$unregisterIt","isPortalEvent","composite","onCharacterKeyDown","widget","Delete","Backspace","_options$first","_options$previous","_options$next","_options$up","_options$first2","_options$down","_options$last2"],"mappings":"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CCA,oPAEA,MACD,YACCA,ytBAEA,MACD,mBACCA,kDACA,MACD,uBACCA,sCACA,MACD,iBACCA,6EAEA,MACD,iBACCA,kDACA,MACD,sBACCA,iDACA,MACD,uBACCA,iDACA,MACD,kBACCA,4EAEA,MACD,iBACCA,kDACA,MACD,gBACCA,yKAEA,MACD,cACCA,iDACA,MACD,qBACCA,yCACA,MACD,sBACCA,8BACA,MACD,iBACCA,yBACA,MACD,qBACCA,0CACA,MACD,sBACCA,gCACA,MACD,iBACCA,0BACA,MACD,sBACCA,2CACA,MACD,uBACCA,+BACA,MACD,kBACCA,wBACA,MACD,mBACCA,4CACA,MACD,oBACCA,iCACA,MACD,eACCA,0BACA,MACD,UACCA,wPAEA,MACD,aACCA,ubAEA,MACD,aACCA,sZAEA,MACD,oBACCA,mEAEA,MACD,eACCA,oKAEA,MACD,WACCA,gGAEA,MACD,yBACCA,8VAEA,MACD,6BACCA,iyBAEA,MACD,gCACCA,ooBAEA,MACD,0BACCA,usBAEA,MACD,uBACCA,8cAEA,MACD,wBACCA,mZAEA,MACD,uBACCA,mcAEA,MACD,mBACCA,kKAEA,MACD,wBACCA,okCAEA,MACD,uBACCA,8fAEA,MACD,yBACCA,waAEA,MACD,eACCA,sOAEA,MACD,kBACCA,61BAEA,MACD,aACCA,sJAEA,MACD,mBACCA,opBAEA,MACD,eACCA,mSAEA,MACD,aACCA,kGAEA,MACD,aACCA,4lBAEA,MACD,WACCA,6QAEA,MACD,eACCA,kCACA,MACD,iBACCA,yZAEA,MACD,gBACCA,oDACA,MACD,iBACCA,qcAEA,MACD,gBACCA,qFAEA,MACD,gBACCA,+lBAEA,MACD,YACCA,mPAEA,MACD,kBACCA,sQAEA,MACD,mBACCA,sOAEA,MACD,YACCA,2MAEA,MACD,cACCA,mCACA,MACD,oBACCA,sCACA,MACD,uBACCA,qCACA,MACD,qBACCA,oCACA,MACD,oBACCA,sBACA,MACD,sBACCA,iFAEA,MACD,wBACCA,uEAEA,MACD,2BACCA,2DACA,MACD,yBACCA,4BACA,MACD,wBACCA,2cAEA,MACD,kBACCA,uNAEA,MACD,gBACCA,geAEA,MACD,cACCA,kKAEA,MACD,cACCA,kHAEA,MACD,eACCA,0DACA,MACD,WACCA,gNAEA,MACD,yBACCA,+DAEA,MACD,uBACCA,+DAEA,MACD,wBACCA,8DAEA,MACD,kBACCA,8YAEA,MACD,mBACCA,kCACA,MACD,kBACCA,wDACA,MACD,sBACCA,6JAEA,MACD,wBACCA,6aAEA,MACD,oBACCA,+IAEA,MACD,kBACCA,0jBAEA,MACD,oBACCA,sIAEA,MACD,wBACCA,4EAEA,MACD,oBACCA,4EAEA,MACD,qBACCA,+DAEA,MACD,yBACCA,2OAEA,MACD,iBACCA,4MAEA,MACD,oBACCA,8jCAEA,MACD,gBACCA,s6BAEA,MACD,qBACCA,kIAEA,MACD,uBACCA,6bAEA,MACD,wBACCA,qOAEA,MACD,wBACCA,6PAEA,MACD,mBACCA,sYAEA,MACD,8BACCA,mZAEA,MACD,iBACCA,4MAEA,MACD,wBACCA,q3BAEA,MACD,2BACCA,66BAEA,MACD,mBACCA,+FAEA,MACD,uBACCA,wEAEA,MACD,gBACCA,mUAEA,MACD,uBACCA,kJAEA,MACD,oBACCA,kfAEA,MACD,mBACCA,yQAEA,MACD,eACCA,wJAEA,MACD,gBACCA,uYAEA,MACD,iBACCA,oRAEA,MACD,YACCA,0QAEA,MACD,kBACCA,8NAEA,MACD,oBACCA,8JAEA,MACD,kBACCA,4PAEA,MACD,iBACCA,kWAEA,MACD,kBACCA,8LAEA,MACD,mBACCA,8NAEA,MACD,WACCA,0FAEA,MACD,eACCA,sFAEA,MACD,mBACCA,4JAEA,MACD,eACCA,kQAEA,MACD,eACCA,2JAEA,MACD,aACCA,wFAEA,MACD,WACCA,2DACA,MACD,mBACCA,iFAEA,MACD,mBACCA,kQAEA,MACD,kBACCA,wLAEA,MACD,qBACCA,kXAEA,MACD,mBACCA,kRAEA,MACD,mBACCA,oZAEA,MACD,oBACCA,kZAEA,MACD,mBACCA,oJAEA,MACD,YACCA,qOAEA,MACD,iBACCA,2UAEA,MACD,gBACCA,8JAEA,MACD,aACCA,4yBAEA,MACD,aACCA,2PAEA,MACD,cACCA,6CACA,MACD,YACCA,kOAEA,MACD,aACCA,60BAEA,MACD,WACCA,8QAEA,MACD,aACCA,uzBAEA,MACD,SACCA,4xBAEA,MACD,iBACCA,+EAEA,MACD,mBACCA,oUAEA,MACD,4BACCA,8FAEA,MACD,0BACCA,wFAEA,MACD,wBACCA,2IAEA,MACD,yBACCA,oJAEA,MACD,mBACCA,mOAEA,MACD,iBACCA,yOAEA,MACD,kBACCA,4JAEA,MACD,iBACCA,uKAEA,MACD,mBACCA,kKAEA,MACD,WACCA,gIAEA,MACD,mBACCA,8JAEA,MACD,oBACCA,8JAEA,MACD,aACCA,qIAEA,MACD,gBACCA,8sBAEA,MACD,oBACCA,6fAEA,MACD,aACCA,wJAEA,MACD,aACCA,4EAEA,MACD,gBACCA,yCACA,MACD,gBACCA,uTAEA,MACD,gBACCA,qWAEA,MACD,mBACCA,qQAEA,MACD,eACCA,gSAEA,MACD,WACCA,qQAEA,MACD,aACCA,yHAEA,MACD,oBACCA,qVAEA,MACD,kBACCA,0ZAEA,MACD,iBACCA,4EAEA,MACD,oBACCA,sCACA,MACD,qBACCA,yJAEA,MACD,wBACCA,4JAEA,MACD,wBACCA,4OAEA,MACD,iBACCA,2HAEA,MACD,kBACCA,kOAEA,MACD,gBACCA,82BAEA,MACD,eACCA,gDACA,MACD,WACCA,iDACA,MACD,iBACCA,ySAEA,MACD,cACCA,uDACA,MACD,YACCA,mBACA,MACD,YACCA,8kCAEA,MACD,WACCA,+EAEA,MACD,cACCA,kfAEA,MACD,iBACCA,2cAEA,MACD,aACCA,0HAEA,MACD,SACCA,yHAEA,MACD,eACCA,ukBAEA,MACD,gBACCA,2lBAEA,MACD,kBACCA,6eAEA,MACD,YACCA,gZAEA,MACD,qBACCA,weAEA,MACD,qBACCA,+KAEA,MACD,eACCA,yJAEA,MACD,iBACCA,qCACA,MACD,WACCA,qCACA,MACD,gBACCA,0fAEA,MACD,kBACCA,2JAEA,MACD,gBACCA,sUAEA,MACD,eACCA,kRAEA,MACD,gBACCA,iIAEA,MACD,WACCA,sFAEA,MACD,eACCA,iBACA,MACD,UACCA,iSAEA,MACD,YACCA,uDACA,MACD,eACCA,0GAEA,MACD,oBACCA,8DAEA,MACD,aACCA,wjBAEA,MACD,gBACCA,okCAEA,MACD,iBACCA,iIAEA,MACD,YACCA,kVAEA,MACD,iBACCA,uDACA,MACD,aACCA,qGAEA,MACD,gBACCA,oEAEA,MACD,aACCA,0FAEA,MACD,iBACCA,gHAEA,MACD,aACCA,6WAEA,MACD,WACCA,+BACA,MACD,UACCA,ucAEA,MACD,iBACCA,+JAEA,MACD,kBACCA,mEAEA,MACD,gBACCA,8HAEA,MACD,aACCA,2PAEA,MACD,YACCA,knBAEA,MACD,sBACCA,iOAEA,MACD,uBACCA,+NAEA,MACD,uBACCA,2bAEA,MACD,sBACCA,8NAEA,MACD,uBACCA,kOAEA,MACD,uBACCA,wTAEA,MACD,aACCA,mHAEA,MACD,UACCA,yEAEA,MACD,eACCA,wJAEA,MACD,kBACCA,uNAEA,MACD,WACCA,gGAEA,MACD,kBACCA,2NAEA,MACD,gBACCA,4MAEA,MACD,kBACCA,o7BAEA,MACD,cACCA,4mDAEA,MACD,WACCA,uJAEA,MACD,kBACCA,2iBAEA,MACD,YACCA,6KAEA,MACD,cACCA,2fAEA,MACD,WACCA,uFAEA,MACD,2BACCA,4UAEA,MACD,uBACCA,iRAEA,MACD,aACCA,2PAEA,MACD,aACCA,yUAEA,MACD,aACCA,2DACA,MACD,YACCA,yXAEA,MACD,gBACCA,gLAEA,MACD,iBACCA,wGAEA,MACD,iBACCA,8FAEA,MACD,iBACCA,8RAEA,MACD,cACCA,kQAEA,MACD,uBACCA,wEAEA,MACD,uBACCA,oKAEA,MACD,yBACCA,2QAEA,MACD,wBACCA,0OAEA,MACD,4BACCA,2YAEA,MACD,yBACCA,sJAEA,MACD,oBACCA,qxBAEA,MACD,gBACCA,wxBAEA,MACD,cACCA,4IAEA,MACD,UACCA,qEAKF,MACC,YAGD,IAAM4qG,EAAY,CA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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 107);\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.15';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(array);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n      // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/[\\r\\n]/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      // Like with sourceURL, we take care to not check the option's prototype,\n      // as this configuration is a code injection vector.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","module.exports = React;","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o) {\n  var i = 0;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  i = o[Symbol.iterator]();\n  return i.next.bind(i);\n}\n\nexport { _objectWithoutPropertiesLoose as _, _objectSpread2 as a, _createForOfIteratorHelperLoose as b };\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","module.exports = require(\"regenerator-runtime\");\n","/**\n * Returns `element.ownerDocument || window.document`.\n */\nfunction getDocument(element) {\n  return element ? element.ownerDocument || element : window.document;\n}\n\nexport { getDocument };\n","import { useRef } from 'react';\n\n/**\n * A `React.Ref` that keeps track of the passed `value`.\n */\n\nfunction useLiveRef(value) {\n  var ref = useRef(value);\n  ref.current = value;\n  return ref;\n}\n\nexport { useLiveRef };\n","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { useDebugValue, useContext } from 'react';\nimport { SystemContext } from './SystemContext.js';\n\n/**\n * React custom hook that returns the value of any token defined in the\n * SystemContext. It's mainly used internally in [`useOptions`](#useoptions)\n * and [`useProps`](#useprops).\n *\n * @example\n * import { SystemProvider, useToken } from \"reakit-system\";\n *\n * const system = {\n *   token: \"value\",\n * };\n *\n * function Component(props) {\n *   const token = useToken(\"token\", \"default value\");\n *   return <div {...props}>{token}</div>;\n * }\n *\n * function App() {\n *   return (\n *     <SystemProvider unstable_system={system}>\n *       <Component />\n *     </SystemProvider>\n *   );\n * }\n */\n\nfunction useToken(token, defaultValue) {\n  useDebugValue(token);\n  var context = useContext(SystemContext);\n  return context[token] != null ? context[token] : defaultValue;\n}\n\nexport { useToken };\n","import 'react';\nimport './SystemContext.js';\nimport './useToken.js';\nimport { useProps } from './useProps.js';\nimport { b as _createForOfIteratorHelperLoose } from './_rollupPluginBabelHelpers-5ba0a876.js';\nimport { useOptions } from './useOptions.js';\nimport { toArray } from 'reakit-utils/toArray';\n\n/**\n * Creates a React custom hook that will return component props.\n *\n * @example\n * import { createHook } from \"reakit-system\";\n *\n * const useA = createHook({\n *   name: \"A\",\n *   keys: [\"url\"], // custom props/options keys\n *   useProps(options, htmlProps) {\n *     return {\n *       ...htmlProps,\n *       href: options.url,\n *     };\n *   },\n * });\n *\n * function A({ url, ...htmlProps }) {\n *   const props = useA({ url }, htmlProps);\n *   return <a {...props} />;\n * }\n *\n * @param options\n */\nfunction createHook(options) {\n  var _options$useState;\n\n  var composedHooks = toArray(options.compose);\n\n  var __useOptions = function __useOptions(hookOptions, htmlProps) {\n    // Call the current hook's useOptions first\n    if (options.useOptions) {\n      hookOptions = options.useOptions(hookOptions, htmlProps);\n    } // If there's name, call useOptions from the system context\n\n\n    if (options.name) {\n      hookOptions = useOptions(options.name, hookOptions, htmlProps);\n    } // Run composed hooks useOptions\n\n\n    if (options.compose) {\n      for (var _iterator = _createForOfIteratorHelperLoose(composedHooks), _step; !(_step = _iterator()).done;) {\n        var hook = _step.value;\n        hookOptions = hook.__useOptions(hookOptions, htmlProps);\n      }\n    }\n\n    return hookOptions;\n  };\n\n  var useHook = function useHook(hookOptions, htmlProps, unstable_ignoreUseOptions) {\n    if (hookOptions === void 0) {\n      hookOptions = {};\n    }\n\n    if (htmlProps === void 0) {\n      htmlProps = {};\n    }\n\n    if (unstable_ignoreUseOptions === void 0) {\n      unstable_ignoreUseOptions = false;\n    }\n\n    // This won't execute when useHook was called from within another useHook\n    if (!unstable_ignoreUseOptions) {\n      hookOptions = __useOptions(hookOptions, htmlProps);\n    } // Call the current hook's useProps\n\n\n    if (options.useProps) {\n      htmlProps = options.useProps(hookOptions, htmlProps);\n    } // If there's name, call useProps from the system context\n\n\n    if (options.name) {\n      htmlProps = useProps(options.name, hookOptions, htmlProps);\n    }\n\n    if (options.compose) {\n      if (options.useComposeOptions) {\n        hookOptions = options.useComposeOptions(hookOptions, htmlProps);\n      }\n\n      if (options.useComposeProps) {\n        htmlProps = options.useComposeProps(hookOptions, htmlProps);\n      } else {\n        for (var _iterator2 = _createForOfIteratorHelperLoose(composedHooks), _step2; !(_step2 = _iterator2()).done;) {\n          var hook = _step2.value;\n          htmlProps = hook(hookOptions, htmlProps, true);\n        }\n      }\n    }\n\n    return htmlProps || {};\n  };\n\n  useHook.__useOptions = __useOptions;\n  var composedKeys = composedHooks.reduce(function (keys, hook) {\n    keys.push.apply(keys, hook.__keys || []);\n    return keys;\n  }, []); // It's used by createComponent to split option props (keys) and html props\n\n  useHook.__keys = [].concat(composedKeys, ((_options$useState = options.useState) === null || _options$useState === void 0 ? void 0 : _options$useState.__keys) || [], options.keys || []);\n\n  if (process.env.NODE_ENV !== \"production\" && options.name) {\n    Object.defineProperty(useHook, \"name\", {\n      value: \"use\" + options.name\n    });\n  }\n\n  return useHook;\n}\n\nexport { createHook };\n","/**\n * Transforms `arg` into an array if it's not already.\n *\n * @example\n * import { toArray } from \"reakit-utils\";\n *\n * toArray(\"a\"); // [\"a\"]\n * toArray([\"a\"]); // [\"a\"]\n */\nfunction toArray(arg) {\n  if (Array.isArray(arg)) {\n    return arg;\n  }\n\n  return typeof arg !== \"undefined\" ? [arg] : [];\n}\n\nexport { toArray };\n","import { useDebugValue } from 'react';\nimport './SystemContext.js';\nimport { useToken } from './useToken.js';\nimport { _ as _objectSpread2 } from './_rollupPluginBabelHelpers-5ba0a876.js';\n\n/**\n * React custom hook that returns the options returned by a given\n * `use${name}Options` in the SystemContext.\n *\n * @example\n * import React from \"react\";\n * import { SystemProvider, useOptions } from \"reakit-system\";\n *\n * const system = {\n *   useAOptions(options, htmlProps) {\n *     return {\n *       ...options,\n *       url: htmlProps.href,\n *     };\n *   },\n * };\n *\n * function A({ url, ...htmlProps }) {\n *   const options = useOptions(\"A\", { url }, htmlProps);\n *   return <a href={options.url} {...htmlProps} />;\n * }\n *\n * function App() {\n *   return (\n *     <SystemProvider unstable_system={system}>\n *       <A href=\"url\">\n *         It will convert href into url in useAOptions and then url into href in A\n *       </A>\n *     </SystemProvider>\n *   );\n * }\n */\n\nfunction useOptions(name, options, htmlProps) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (htmlProps === void 0) {\n    htmlProps = {};\n  }\n\n  var hookName = \"use\" + name + \"Options\";\n  useDebugValue(hookName);\n  var useHook = useToken(hookName);\n\n  if (useHook) {\n    return _objectSpread2({}, options, {}, useHook(options, htmlProps));\n  }\n\n  return options;\n}\n\nexport { useOptions };\n","import { useDebugValue } from 'react';\nimport './SystemContext.js';\nimport { useToken } from './useToken.js';\n\n/**\n * React custom hook that returns the props returned by a given\n * `use${name}Props` in the SystemContext.\n *\n * @example\n * import { SystemProvider, useProps } from \"reakit-system\";\n *\n * const system = {\n *   useAProps(options, htmlProps) {\n *     return {\n *       ...htmlProps,\n *       href: options.url,\n *     };\n *   },\n * };\n *\n * function A({ url, ...htmlProps }) {\n *   const props = useProps(\"A\", { url }, htmlProps);\n *   return <a {...props} />;\n * }\n *\n * function App() {\n *   return (\n *     <SystemProvider unstable_system={system}>\n *       <A url=\"url\">It will convert url into href in useAProps</A>\n *     </SystemProvider>\n *   );\n * }\n */\n\nfunction useProps(name, options, htmlProps) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (htmlProps === void 0) {\n    htmlProps = {};\n  }\n\n  var hookName = \"use\" + name + \"Props\";\n  useDebugValue(hookName);\n  var useHook = useToken(hookName);\n\n  if (useHook) {\n    return useHook(options, htmlProps);\n  }\n\n  return htmlProps;\n}\n\nexport { useProps };\n","/**\n * Splits an object (`props`) into a tuple where the first item is an object\n * with the passed `keys`, and the second item is an object with these keys\n * omitted.\n *\n * @example\n * import { splitProps } from \"reakit-utils\";\n *\n * splitProps({ a: \"a\", b: \"b\" }, [\"a\"]); // [{ a: \"a\" }, { b: \"b\" }]\n */\nfunction splitProps(props, keys) {\n  var propsKeys = Object.keys(props);\n  var picked = {};\n  var omitted = {};\n\n  for (var _i = 0, _propsKeys = propsKeys; _i < _propsKeys.length; _i++) {\n    var key = _propsKeys[_i];\n\n    if (keys.indexOf(key) >= 0) {\n      picked[key] = props[key];\n    } else {\n      omitted[key] = props[key];\n    }\n  }\n\n  return [picked, omitted];\n}\n\nexport { splitProps };\n","import { forwardRef as forwardRef$1, memo as memo$1 } from 'react';\nimport './SystemContext.js';\nimport { a as _objectWithoutPropertiesLoose, _ as _objectSpread2 } from './_rollupPluginBabelHelpers-5ba0a876.js';\nimport { useCreateElement } from './useCreateElement.js';\nimport { splitProps } from 'reakit-utils/splitProps';\n\nfunction forwardRef(component) {\n  return forwardRef$1(component);\n}\n\nfunction memo(component, propsAreEqual) {\n  return memo$1(component, propsAreEqual);\n}\n\n/**\n * Creates a React component.\n *\n * @example\n * import { createComponent } from \"reakit-system\";\n *\n * const A = createComponent({ as: \"a\" });\n *\n * @param options\n */\nfunction createComponent(_ref) {\n  var type = _ref.as,\n      useHook = _ref.useHook,\n      _ref$keys = _ref.keys,\n      keys = _ref$keys === void 0 ? (useHook === null || useHook === void 0 ? void 0 : useHook.__keys) || [] : _ref$keys,\n      _ref$useCreateElement = _ref.useCreateElement,\n      useCreateElement$1 = _ref$useCreateElement === void 0 ? useCreateElement : _ref$useCreateElement,\n      shouldMemo = _ref.memo;\n\n  var Comp = function Comp(_ref2, ref) {\n    var _ref2$as = _ref2.as,\n        as = _ref2$as === void 0 ? type : _ref2$as,\n        props = _objectWithoutPropertiesLoose(_ref2, [\"as\"]);\n\n    if (useHook) {\n      var _as$render;\n\n      var _splitProps = splitProps(props, keys),\n          _options = _splitProps[0],\n          htmlProps = _splitProps[1];\n\n      var _useHook = useHook(_options, _objectSpread2({\n        ref: ref\n      }, htmlProps)),\n          wrapElement = _useHook.wrapElement,\n          elementProps = _objectWithoutPropertiesLoose(_useHook, [\"wrapElement\"]); // @ts-ignore\n\n\n      var asKeys = ((_as$render = as.render) === null || _as$render === void 0 ? void 0 : _as$render.__keys) || as.__keys;\n      var asOptions = asKeys && splitProps(props, asKeys)[0];\n      var allProps = asOptions ? _objectSpread2({}, elementProps, {}, asOptions) : elementProps;\n\n      var _element = useCreateElement$1(as, allProps);\n\n      if (wrapElement) {\n        return wrapElement(_element);\n      }\n\n      return _element;\n    }\n\n    return useCreateElement$1(as, props);\n  };\n\n  Comp.__keys = keys;\n\n  if (process.env.NODE_ENV !== \"production\" && useHook) {\n    Comp.displayName = useHook.name.replace(/^(unstable_)?use/, \"\");\n  }\n\n  if (shouldMemo) {\n    return memo(forwardRef(Comp));\n  }\n\n  return forwardRef(Comp);\n}\n\nexport { createComponent };\n","'use strict';\n\n/**\n * Internal dependencies;\n */\nvar isShallowEqualObjects = require( './objects' );\nvar isShallowEqualArrays = require( './arrays' );\n\nvar isArray = Array.isArray;\n\n/**\n * @typedef {Record<string, any>} ComparableObject\n */\n\n/**\n * Returns true if the two arrays or objects are shallow equal, or false\n * otherwise.\n *\n * @param {any[]|ComparableObject} a First object or array to compare.\n * @param {any[]|ComparableObject} b Second object or array to compare.\n *\n * @return {boolean} Whether the two values are shallow equal.\n */\nfunction isShallowEqual( a, b ) {\n\tif ( a && b ) {\n\t\tif ( a.constructor === Object && b.constructor === Object ) {\n\t\t\treturn isShallowEqualObjects( a, b );\n\t\t} else if ( isArray( a ) && isArray( b ) ) {\n\t\t\treturn isShallowEqualArrays( a, b );\n\t\t}\n\t}\n\n\treturn a === b;\n}\n\nmodule.exports = isShallowEqual;\nmodule.exports.isShallowEqualObjects = isShallowEqualObjects;\nmodule.exports.isShallowEqualArrays = isShallowEqualArrays;\n","import { b as _createForOfIteratorHelperLoose, a as _objectSpread2, _ as _objectWithoutPropertiesLoose } from './_rollupPluginBabelHelpers-959e870d.js';\nimport { useReducer, useState, useCallback } from 'react';\nimport { useSealedState } from 'reakit-utils/useSealedState';\nimport { applyState } from 'reakit-utils/applyState';\nimport { unstable_useIdState } from './Id/IdState.js';\n\nfunction reverse(array) {\n  return array.slice().reverse();\n}\n\nfunction findDOMIndex(items, item) {\n  return items.findIndex(function (currentItem) {\n    if (!currentItem.ref.current || !item.ref.current) {\n      return false;\n    } // Returns true if the new item is located earlier in the DOM compared\n    // to the current item in the iteration.\n\n\n    return Boolean(currentItem.ref.current.compareDocumentPosition(item.ref.current) & Node.DOCUMENT_POSITION_PRECEDING);\n  });\n}\n\nfunction findFirstEnabledItem(items, excludeId) {\n  if (excludeId) {\n    return items.find(function (item) {\n      return !item.disabled && item.id !== excludeId;\n    });\n  }\n\n  return items.find(function (item) {\n    return !item.disabled;\n  });\n}\n\nfunction findEnabledItemById(items, id) {\n  if (!id) return undefined;\n  return items === null || items === void 0 ? void 0 : items.find(function (item) {\n    return item.id === id && !item.disabled;\n  });\n}\n\nfunction groupItems(items) {\n  var groups = [[]];\n\n  var _loop = function _loop() {\n    var item = _step.value;\n    var group = groups.find(function (g) {\n      return !g[0] || g[0].groupId === item.groupId;\n    });\n\n    if (group) {\n      group.push(item);\n    } else {\n      groups.push([item]);\n    }\n  };\n\n  for (var _iterator = _createForOfIteratorHelperLoose(items), _step; !(_step = _iterator()).done;) {\n    _loop();\n  }\n\n  return groups;\n}\n\nfunction getMaxLength(rows) {\n  var maxLength = 0;\n\n  for (var _iterator = _createForOfIteratorHelperLoose(rows), _step; !(_step = _iterator()).done;) {\n    var length = _step.value.length;\n\n    if (length > maxLength) {\n      maxLength = length;\n    }\n  }\n\n  return maxLength;\n}\n\n/**\n * Turns [row1, row1, row2, row2] into [row1, row2, row1, row2]\n */\n\nfunction verticalizeItems(items) {\n  var groups = groupItems(items);\n  var maxLength = getMaxLength(groups);\n  var verticalized = [];\n\n  for (var i = 0; i < maxLength; i += 1) {\n    for (var _iterator = _createForOfIteratorHelperLoose(groups), _step; !(_step = _iterator()).done;) {\n      var group = _step.value;\n\n      if (group[i]) {\n        verticalized.push(_objectSpread2({}, group[i], {\n          // If there's no groupId, it means that it's not a grid composite,\n          // but a single row instead. So, instead of verticalizing it, that\n          // is, assigning a different groupId based on the column index, we\n          // keep it undefined so they will be part of the same group.\n          // It's useful when using up/down on one-dimensional composites.\n          groupId: group[i].groupId ? \"\" + i : undefined\n        }));\n      }\n    }\n  }\n\n  return verticalized;\n}\n\nfunction flatten(grid) {\n  var flattened = [];\n\n  for (var _iterator = _createForOfIteratorHelperLoose(grid), _step; !(_step = _iterator()).done;) {\n    var row = _step.value;\n    flattened.push.apply(flattened, row);\n  }\n\n  return flattened;\n}\n\n/**\n * Turns [[row1, row1], [row2]] into [[row1, row1], [row2, row2]]\n */\n\nfunction fillGroups(groups) {\n  var maxLength = getMaxLength(groups);\n\n  for (var _iterator = _createForOfIteratorHelperLoose(groups), _step; !(_step = _iterator()).done;) {\n    var group = _step.value;\n\n    if (group.length < maxLength) {\n      for (var i = 0; i < maxLength; i += 1) {\n        if (!group[i]) {\n          group[i] = {\n            id: \"__EMPTY_ITEM__\",\n            disabled: true,\n            ref: {\n              current: null\n            },\n            groupId: group[i - 1].groupId\n          };\n        }\n      }\n    }\n  }\n\n  return groups;\n}\n\nfunction getCurrentId(options, passedId) {\n  var _findFirstEnabledItem;\n\n  if (passedId || passedId === null) {\n    return passedId;\n  }\n\n  if (options.currentId || options.currentId === null) {\n    return options.currentId;\n  }\n\n  return (_findFirstEnabledItem = findFirstEnabledItem(options.items || [])) === null || _findFirstEnabledItem === void 0 ? void 0 : _findFirstEnabledItem.id;\n}\n\nvar nullItem = {\n  id: null,\n  ref: {\n    current: null\n  }\n};\nfunction placeItemsAfter(items, id, shouldInsertNullItem) {\n  var index = items.findIndex(function (item) {\n    return item.id === id;\n  });\n  return [].concat(items.slice(index + 1), shouldInsertNullItem ? [nullItem] : [], items.slice(0, index));\n}\n\nfunction getItemsInGroup(items, groupId) {\n  return items.filter(function (item) {\n    return item.groupId === groupId;\n  });\n}\n\nvar map = {\n  horizontal: \"vertical\",\n  vertical: \"horizontal\"\n};\nfunction getOppositeOrientation(orientation) {\n  return orientation && map[orientation];\n}\n\nfunction addItemAtIndex(array, item, index) {\n  if (!(index in array)) {\n    return [].concat(array, [item]);\n  }\n\n  return [].concat(array.slice(0, index), [item], array.slice(index));\n}\n\nfunction reducer(state, action) {\n  var virtual = state.unstable_virtual,\n      rtl = state.rtl,\n      orientation = state.orientation,\n      items = state.items,\n      groups = state.groups,\n      currentId = state.currentId,\n      loop = state.loop,\n      wrap = state.wrap,\n      pastIds = state.pastIds,\n      moves = state.unstable_moves,\n      initialVirtual = state.initialVirtual,\n      initialRTL = state.initialRTL,\n      initialOrientation = state.initialOrientation,\n      initialCurrentId = state.initialCurrentId,\n      initialLoop = state.initialLoop,\n      initialWrap = state.initialWrap;\n\n  switch (action.type) {\n    case \"registerGroup\":\n      {\n        var _group = action.group; // If there are no groups yet, just add it as the first one\n\n        if (groups.length === 0) {\n          return _objectSpread2({}, state, {\n            groups: [_group]\n          });\n        } // Finds the group index based on DOM position\n\n\n        var index = findDOMIndex(groups, _group);\n        return _objectSpread2({}, state, {\n          groups: addItemAtIndex(groups, _group, index)\n        });\n      }\n\n    case \"unregisterGroup\":\n      {\n        var _id = action.id;\n        var nextGroups = groups.filter(function (group) {\n          return group.id !== _id;\n        }); // The group isn't registered, so do nothing\n\n        if (nextGroups.length === groups.length) {\n          return state;\n        }\n\n        return _objectSpread2({}, state, {\n          groups: nextGroups\n        });\n      }\n\n    case \"registerItem\":\n      {\n        var _item = action.item; // Finds the item group based on the DOM hierarchy\n\n        var _group2 = groups.find(function (r) {\n          var _r$ref$current;\n\n          return (_r$ref$current = r.ref.current) === null || _r$ref$current === void 0 ? void 0 : _r$ref$current.contains(_item.ref.current);\n        }); // Group will be null if it's a one-dimensional composite\n\n\n        var nextItem = _objectSpread2({\n          groupId: _group2 === null || _group2 === void 0 ? void 0 : _group2.id\n        }, _item);\n\n        var _index = findDOMIndex(items, nextItem);\n\n        var nextState = _objectSpread2({}, state, {\n          items: addItemAtIndex(items, nextItem, _index)\n        });\n\n        return _objectSpread2({}, nextState, {\n          currentId: getCurrentId(nextState)\n        });\n      }\n\n    case \"unregisterItem\":\n      {\n        var _id2 = action.id;\n        var nextItems = items.filter(function (item) {\n          return item.id !== _id2;\n        }); // The item isn't registered, so do nothing\n\n        if (nextItems.length === items.length) {\n          return state;\n        } // Filters out the item that is being removed from the pastIds list\n\n\n        var nextPastIds = pastIds.filter(function (pastId) {\n          return pastId !== _id2;\n        });\n\n        var _nextState = _objectSpread2({}, state, {\n          pastIds: nextPastIds,\n          items: nextItems\n        }); // If the current item is the item that is being removed, focus pastId\n\n\n        if (currentId && currentId === _id2) {\n          var nextId = getCurrentId(_objectSpread2({}, _nextState, {\n            currentId: nextPastIds[0]\n          }));\n          return _objectSpread2({}, _nextState, {\n            currentId: nextId\n          });\n        }\n\n        return _nextState;\n      }\n\n    case \"move\":\n      {\n        var _id3 = action.id; // move() does nothing\n\n        if (_id3 === undefined) {\n          return state;\n        } // Removes the current item and the item that is receiving focus from the\n        // pastIds list\n\n\n        var filteredPastIds = pastIds.filter(function (pastId) {\n          return pastId !== currentId && pastId !== _id3;\n        }); // If there's a currentId, add it to the pastIds list so it can be focused\n        // if the new item gets removed or disabled\n\n        var _nextPastIds = currentId ? [currentId].concat(filteredPastIds) : filteredPastIds; // move(null) will focus the composite element itself, not an item\n\n\n        if (_id3 === null) {\n          return _objectSpread2({}, state, {\n            pastIds: _nextPastIds,\n            unstable_moves: moves + 1,\n            currentId: getCurrentId(state, _id3)\n          });\n        }\n\n        var _item2 = findEnabledItemById(items, _id3);\n\n        return _objectSpread2({}, state, {\n          pastIds: _nextPastIds,\n          unstable_moves: _item2 ? moves + 1 : moves,\n          currentId: getCurrentId(state, _item2 === null || _item2 === void 0 ? void 0 : _item2.id)\n        });\n      }\n\n    case \"next\":\n      {\n        // If there's no item focused, we just move the first one\n        if (currentId == null) {\n          return reducer(state, _objectSpread2({}, action, {\n            type: \"first\"\n          }));\n        } // RTL doesn't make sense on vertical navigation\n\n\n        var isHorizontal = orientation !== \"vertical\";\n        var isRTL = rtl && isHorizontal;\n        var allItems = isRTL ? reverse(items) : items;\n        var currentItem = allItems.find(function (item) {\n          return item.id === currentId;\n        }); // If there's no item focused, we just move the first one\n\n        if (!currentItem) {\n          return reducer(state, _objectSpread2({}, action, {\n            type: \"first\"\n          }));\n        }\n\n        var isGrid = !!currentItem.groupId;\n        var currentIndex = allItems.indexOf(currentItem);\n\n        var _nextItems = allItems.slice(currentIndex + 1);\n\n        var nextItemsInGroup = getItemsInGroup(_nextItems, currentItem.groupId); // Home, End\n\n        if (action.allTheWay) {\n          // We reverse so we can get the last enabled item in the group. If it's\n          // RTL, nextItems and nextItemsInGroup are already reversed and don't\n          // have the items before the current one anymore. So we have to get\n          // items in group again with allItems.\n          var _nextItem2 = findFirstEnabledItem(isRTL ? getItemsInGroup(allItems, currentItem.groupId) : reverse(nextItemsInGroup));\n\n          return reducer(state, _objectSpread2({}, action, {\n            type: \"move\",\n            id: _nextItem2 === null || _nextItem2 === void 0 ? void 0 : _nextItem2.id\n          }));\n        }\n\n        var oppositeOrientation = getOppositeOrientation( // If it's a grid and orientation is not set, it's a next/previous\n        // call, which is inherently horizontal. up/down will call next with\n        // orientation set to vertical by default (see below on up/down cases).\n        isGrid ? orientation || \"horizontal\" : orientation);\n        var canLoop = loop && loop !== oppositeOrientation;\n        var canWrap = isGrid && wrap && wrap !== oppositeOrientation;\n        var hasNullItem = // `previous` and `up` will set action.hasNullItem, but when calling\n        // next directly, hasNullItem will only be true if it's not a grid and\n        // loop is set to true, which means that pressing right or down keys on\n        // grids will never focus the composite element. On one-dimensional\n        // composites that don't loop, pressing right or down keys also doesn't\n        // focus the composite element.\n        action.hasNullItem || !isGrid && canLoop && initialCurrentId === null;\n\n        if (canLoop) {\n          var loopItems = canWrap && !hasNullItem ? allItems : getItemsInGroup(allItems, currentItem.groupId); // Turns [0, 1, current, 3, 4] into [3, 4, 0, 1]\n\n          var sortedItems = placeItemsAfter(loopItems, currentId, hasNullItem);\n\n          var _nextItem3 = findFirstEnabledItem(sortedItems, currentId);\n\n          return reducer(state, _objectSpread2({}, action, {\n            type: \"move\",\n            id: _nextItem3 === null || _nextItem3 === void 0 ? void 0 : _nextItem3.id\n          }));\n        }\n\n        if (canWrap) {\n          var _nextItem4 = findFirstEnabledItem( // We can use nextItems, which contains all the next items, including\n          // items from other groups, to wrap between groups. However, if there\n          // is a null item (the composite element), we'll only use the next\n          // items in the group. So moving next from the last item will focus\n          // the composite element (null). On grid composites, horizontal\n          // navigation never focuses the composite element, only vertical.\n          hasNullItem ? nextItemsInGroup : _nextItems, currentId);\n\n          var _nextId = hasNullItem ? (_nextItem4 === null || _nextItem4 === void 0 ? void 0 : _nextItem4.id) || null : _nextItem4 === null || _nextItem4 === void 0 ? void 0 : _nextItem4.id;\n\n          return reducer(state, _objectSpread2({}, action, {\n            type: \"move\",\n            id: _nextId\n          }));\n        }\n\n        var _nextItem = findFirstEnabledItem(nextItemsInGroup, currentId);\n\n        if (!_nextItem && hasNullItem) {\n          return reducer(state, _objectSpread2({}, action, {\n            type: \"move\",\n            id: null\n          }));\n        }\n\n        return reducer(state, _objectSpread2({}, action, {\n          type: \"move\",\n          id: _nextItem === null || _nextItem === void 0 ? void 0 : _nextItem.id\n        }));\n      }\n\n    case \"previous\":\n      {\n        // If currentId is initially set to null, the composite element will be\n        // focusable while navigating with arrow keys. But, if it's a grid, we\n        // don't want to focus the composite element with horizontal navigation.\n        var _isGrid = !!groups.length;\n\n        var _hasNullItem = !_isGrid && initialCurrentId === null;\n\n        var _nextState2 = reducer(_objectSpread2({}, state, {\n          items: reverse(items)\n        }), _objectSpread2({}, action, {\n          type: \"next\",\n          hasNullItem: _hasNullItem\n        }));\n\n        return _objectSpread2({}, _nextState2, {\n          items: items\n        });\n      }\n\n    case \"down\":\n      {\n        // First, we make sure groups have the same number of items by filling it\n        // with disabled fake items. Then, we reorganize the items list so\n        // [1-1, 1-2, 2-1, 2-2] becomes [1-1, 2-1, 1-2, 2-2].\n        var verticalItems = verticalizeItems(flatten(fillGroups(groupItems(items))));\n\n        var _canLoop = loop && loop !== \"horizontal\"; // Pressing down arrow key will only focus the composite element if loop\n        // is true or vertical.\n\n\n        var _hasNullItem2 = _canLoop && initialCurrentId === null;\n\n        var _nextState3 = reducer(_objectSpread2({}, state, {\n          orientation: \"vertical\",\n          items: verticalItems\n        }), _objectSpread2({}, action, {\n          type: \"next\",\n          hasNullItem: _hasNullItem2\n        }));\n\n        return _objectSpread2({}, _nextState3, {\n          orientation: orientation,\n          items: items\n        });\n      }\n\n    case \"up\":\n      {\n        var _verticalItems = verticalizeItems(reverse(flatten(fillGroups(groupItems(items))))); // If currentId is initially set to null, we'll always focus the\n        // composite element when the up arrow key is pressed in the first row.\n\n\n        var _hasNullItem3 = initialCurrentId === null;\n\n        var _nextState4 = reducer(_objectSpread2({}, state, {\n          orientation: \"vertical\",\n          items: _verticalItems\n        }), _objectSpread2({}, action, {\n          type: \"next\",\n          hasNullItem: _hasNullItem3\n        }));\n\n        return _objectSpread2({}, _nextState4, {\n          orientation: orientation,\n          items: items\n        });\n      }\n\n    case \"first\":\n      {\n        var firstItem = findFirstEnabledItem(items);\n        return reducer(state, _objectSpread2({}, action, {\n          type: \"move\",\n          id: firstItem === null || firstItem === void 0 ? void 0 : firstItem.id\n        }));\n      }\n\n    case \"last\":\n      {\n        var _nextState5 = reducer(_objectSpread2({}, state, {\n          items: reverse(items)\n        }), _objectSpread2({}, action, {\n          type: \"first\"\n        }));\n\n        return _objectSpread2({}, _nextState5, {\n          items: items\n        });\n      }\n\n    case \"setVirtual\":\n      return _objectSpread2({}, state, {\n        unstable_virtual: applyState(action.virtual, virtual)\n      });\n\n    case \"setRTL\":\n      return _objectSpread2({}, state, {\n        rtl: applyState(action.rtl, rtl)\n      });\n\n    case \"setOrientation\":\n      return _objectSpread2({}, state, {\n        orientation: applyState(action.orientation, orientation)\n      });\n\n    case \"setCurrentId\":\n      {\n        var nextCurrentId = getCurrentId(_objectSpread2({}, state, {\n          currentId: applyState(action.currentId, currentId)\n        }));\n        return _objectSpread2({}, state, {\n          currentId: nextCurrentId\n        });\n      }\n\n    case \"setLoop\":\n      return _objectSpread2({}, state, {\n        loop: applyState(action.loop, loop)\n      });\n\n    case \"setWrap\":\n      return _objectSpread2({}, state, {\n        wrap: applyState(action.wrap, wrap)\n      });\n\n    case \"reset\":\n      return _objectSpread2({}, state, {\n        unstable_virtual: initialVirtual,\n        rtl: initialRTL,\n        orientation: initialOrientation,\n        currentId: initialCurrentId,\n        loop: initialLoop,\n        wrap: initialWrap,\n        unstable_moves: 0,\n        pastIds: []\n      });\n\n    default:\n      throw new Error();\n  }\n}\n\nfunction useAction(fn) {\n  return useCallback(fn, []);\n}\n\nfunction unstable_useCompositeState(initialState) {\n  if (initialState === void 0) {\n    initialState = {};\n  }\n\n  var _useSealedState = useSealedState(initialState),\n      _useSealedState$unsta = _useSealedState.unstable_virtual,\n      virtual = _useSealedState$unsta === void 0 ? false : _useSealedState$unsta,\n      _useSealedState$rtl = _useSealedState.rtl,\n      rtl = _useSealedState$rtl === void 0 ? false : _useSealedState$rtl,\n      orientation = _useSealedState.orientation,\n      currentId = _useSealedState.currentId,\n      _useSealedState$loop = _useSealedState.loop,\n      loop = _useSealedState$loop === void 0 ? false : _useSealedState$loop,\n      _useSealedState$wrap = _useSealedState.wrap,\n      wrap = _useSealedState$wrap === void 0 ? false : _useSealedState$wrap,\n      sealed = _objectWithoutPropertiesLoose(_useSealedState, [\"unstable_virtual\", \"rtl\", \"orientation\", \"currentId\", \"loop\", \"wrap\"]);\n\n  var _React$useReducer = useReducer(reducer, {\n    unstable_virtual: virtual,\n    rtl: rtl,\n    orientation: orientation,\n    items: [],\n    groups: [],\n    currentId: currentId,\n    loop: loop,\n    wrap: wrap,\n    unstable_moves: 0,\n    pastIds: [],\n    initialVirtual: virtual,\n    initialRTL: rtl,\n    initialOrientation: orientation,\n    initialCurrentId: currentId,\n    initialLoop: loop,\n    initialWrap: wrap\n  }),\n      _React$useReducer$ = _React$useReducer[0],\n      pastIds = _React$useReducer$.pastIds,\n      initialVirtual = _React$useReducer$.initialVirtual,\n      initialRTL = _React$useReducer$.initialRTL,\n      initialOrientation = _React$useReducer$.initialOrientation,\n      initialCurrentId = _React$useReducer$.initialCurrentId,\n      initialLoop = _React$useReducer$.initialLoop,\n      initialWrap = _React$useReducer$.initialWrap,\n      state = _objectWithoutPropertiesLoose(_React$useReducer$, [\"pastIds\", \"initialVirtual\", \"initialRTL\", \"initialOrientation\", \"initialCurrentId\", \"initialLoop\", \"initialWrap\"]),\n      dispatch = _React$useReducer[1];\n\n  var _React$useState = useState(false),\n      hasActiveWidget = _React$useState[0],\n      setHasActiveWidget = _React$useState[1];\n\n  var idState = unstable_useIdState(sealed);\n  return _objectSpread2({}, idState, {}, state, {\n    unstable_hasActiveWidget: hasActiveWidget,\n    unstable_setHasActiveWidget: setHasActiveWidget,\n    registerItem: useAction(function (item) {\n      return dispatch({\n        type: \"registerItem\",\n        item: item\n      });\n    }),\n    unregisterItem: useAction(function (id) {\n      return dispatch({\n        type: \"unregisterItem\",\n        id: id\n      });\n    }),\n    registerGroup: useAction(function (group) {\n      return dispatch({\n        type: \"registerGroup\",\n        group: group\n      });\n    }),\n    unregisterGroup: useAction(function (id) {\n      return dispatch({\n        type: \"unregisterGroup\",\n        id: id\n      });\n    }),\n    move: useAction(function (id) {\n      return dispatch({\n        type: \"move\",\n        id: id\n      });\n    }),\n    next: useAction(function (allTheWay) {\n      return dispatch({\n        type: \"next\",\n        allTheWay: allTheWay\n      });\n    }),\n    previous: useAction(function (allTheWay) {\n      return dispatch({\n        type: \"previous\",\n        allTheWay: allTheWay\n      });\n    }),\n    up: useAction(function (allTheWay) {\n      return dispatch({\n        type: \"up\",\n        allTheWay: allTheWay\n      });\n    }),\n    down: useAction(function (allTheWay) {\n      return dispatch({\n        type: \"down\",\n        allTheWay: allTheWay\n      });\n    }),\n    first: useAction(function () {\n      return dispatch({\n        type: \"first\"\n      });\n    }),\n    last: useAction(function () {\n      return dispatch({\n        type: \"last\"\n      });\n    }),\n    unstable_setVirtual: useAction(function (value) {\n      return dispatch({\n        type: \"setVirtual\",\n        virtual: value\n      });\n    }),\n    setRTL: useAction(function (value) {\n      return dispatch({\n        type: \"setRTL\",\n        rtl: value\n      });\n    }),\n    setOrientation: useAction(function (value) {\n      return dispatch({\n        type: \"setOrientation\",\n        orientation: value\n      });\n    }),\n    setCurrentId: useAction(function (value) {\n      return dispatch({\n        type: \"setCurrentId\",\n        currentId: value\n      });\n    }),\n    setLoop: useAction(function (value) {\n      return dispatch({\n        type: \"setLoop\",\n        loop: value\n      });\n    }),\n    setWrap: useAction(function (value) {\n      return dispatch({\n        type: \"setWrap\",\n        wrap: value\n      });\n    }),\n    reset: useAction(function () {\n      return dispatch({\n        type: \"reset\"\n      });\n    })\n  });\n}\nvar keys = [].concat(unstable_useIdState.__keys, [\"unstable_virtual\", \"rtl\", \"orientation\", \"items\", \"groups\", \"currentId\", \"loop\", \"wrap\", \"unstable_moves\", \"unstable_hasActiveWidget\", \"registerItem\", \"unregisterItem\", \"registerGroup\", \"unregisterGroup\", \"move\", \"next\", \"previous\", \"up\", \"down\", \"first\", \"last\", \"unstable_setVirtual\", \"setRTL\", \"setOrientation\", \"setCurrentId\", \"setLoop\", \"setWrap\", \"reset\", \"unstable_setHasActiveWidget\"]);\nunstable_useCompositeState.__keys = keys;\n\nexport { findFirstEnabledItem as a, flatten as b, groupItems as c, findEnabledItemById as f, getCurrentId as g, reverse as r, unstable_useCompositeState as u };\n","/**\n * Returns `true` if `event.target` and `event.currentTarget` are the same.\n */\nfunction isSelfTarget(event) {\n  return event.target === event.currentTarget;\n}\n\nexport { isSelfTarget };\n","function isUpdater(argument) {\n  return typeof argument === \"function\";\n}\n/**\n * Receives a `setState` argument and calls it with `currentValue` if it's a\n * function. Otherwise return the argument as the new value.\n *\n * @example\n * import { applyState } from \"reakit-utils\";\n *\n * applyState((value) => value + 1, 1); // 2\n * applyState(2, 1); // 2\n */\n\n\nfunction applyState(argument, currentValue) {\n  if (isUpdater(argument)) {\n    return argument(currentValue);\n  }\n\n  return argument;\n}\n\nexport { applyState };\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o) {\n  var i = 0;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  i = o[Symbol.iterator]();\n  return i.next.bind(i);\n}\n\nexport { _objectSpread2 as _, _objectWithoutPropertiesLoose as a, _createForOfIteratorHelperLoose as b };\n","import { useState } from 'react';\n\n/**\n * React custom hook that returns the very first value passed to `initialState`,\n * even if it changes between re-renders.\n */\nfunction useSealedState(initialState) {\n  var _React$useState = useState(initialState),\n      sealed = _React$useState[0];\n\n  return sealed;\n}\n\nexport { useSealedState };\n","/**\n * Memize options object.\n *\n * @typedef MemizeOptions\n *\n * @property {number} [maxSize] Maximum size of the cache.\n */\n\n/**\n * Internal cache entry.\n *\n * @typedef MemizeCacheNode\n *\n * @property {?MemizeCacheNode|undefined} [prev] Previous node.\n * @property {?MemizeCacheNode|undefined} [next] Next node.\n * @property {Array<*>}                   args   Function arguments for cache\n *                                               entry.\n * @property {*}                          val    Function result.\n */\n\n/**\n * Properties of the enhanced function for controlling cache.\n *\n * @typedef MemizeMemoizedFunction\n *\n * @property {()=>void} clear Clear the cache.\n */\n\n/**\n * Accepts a function to be memoized, and returns a new memoized function, with\n * optional options.\n *\n * @template {Function} F\n *\n * @param {F}             fn        Function to memoize.\n * @param {MemizeOptions} [options] Options object.\n *\n * @return {F & MemizeMemoizedFunction} Memoized function.\n */\nfunction memize( fn, options ) {\n\tvar size = 0;\n\n\t/** @type {?MemizeCacheNode|undefined} */\n\tvar head;\n\n\t/** @type {?MemizeCacheNode|undefined} */\n\tvar tail;\n\n\toptions = options || {};\n\n\tfunction memoized( /* ...args */ ) {\n\t\tvar node = head,\n\t\t\tlen = arguments.length,\n\t\t\targs, i;\n\n\t\tsearchCache: while ( node ) {\n\t\t\t// Perform a shallow equality test to confirm that whether the node\n\t\t\t// under test is a candidate for the arguments passed. Two arrays\n\t\t\t// are shallowly equal if their length matches and each entry is\n\t\t\t// strictly equal between the two sets. Avoid abstracting to a\n\t\t\t// function which could incur an arguments leaking deoptimization.\n\n\t\t\t// Check whether node arguments match arguments length\n\t\t\tif ( node.args.length !== arguments.length ) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check whether node arguments match arguments values\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tif ( node.args[ i ] !== arguments[ i ] ) {\n\t\t\t\t\tnode = node.next;\n\t\t\t\t\tcontinue searchCache;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif ( node !== head ) {\n\t\t\t\t// As tail, shift to previous. Must only shift if not also\n\t\t\t\t// head, since if both head and tail, there is no previous.\n\t\t\t\tif ( node === tail ) {\n\t\t\t\t\ttail = node.prev;\n\t\t\t\t}\n\n\t\t\t\t// Adjust siblings to point to each other. If node was tail,\n\t\t\t\t// this also handles new tail's empty `next` assignment.\n\t\t\t\t/** @type {MemizeCacheNode} */ ( node.prev ).next = node.next;\n\t\t\t\tif ( node.next ) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = head;\n\t\t\t\tnode.prev = null;\n\t\t\t\t/** @type {MemizeCacheNode} */ ( head ).prev = node;\n\t\t\t\thead = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\t// Create a copy of arguments (avoid leaking deoptimization)\n\t\targs = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tnode = {\n\t\t\targs: args,\n\n\t\t\t// Generate the result from original function\n\t\t\tval: fn.apply( null, args ),\n\t\t};\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif ( head ) {\n\t\t\thead.prev = node;\n\t\t\tnode.next = head;\n\t\t} else {\n\t\t\t// If no head, follows that there's no tail (at initial or reset)\n\t\t\ttail = node;\n\t\t}\n\n\t\t// Trim tail if we're reached max size and are pending cache insertion\n\t\tif ( size === /** @type {MemizeOptions} */ ( options ).maxSize ) {\n\t\t\ttail = /** @type {MemizeCacheNode} */ ( tail ).prev;\n\t\t\t/** @type {MemizeCacheNode} */ ( tail ).next = null;\n\t\t} else {\n\t\t\tsize++;\n\t\t}\n\n\t\thead = node;\n\n\t\treturn node.val;\n\t}\n\n\tmemoized.clear = function() {\n\t\thead = null;\n\t\ttail = null;\n\t\tsize = 0;\n\t};\n\n\tif ( process.env.NODE_ENV === 'test' ) {\n\t\t// Cache is not exposed in the public API, but used in tests to ensure\n\t\t// expected list progression\n\t\tmemoized.getCache = function() {\n\t\t\treturn [ head, tail, size ];\n\t\t};\n\t}\n\n\t// Ignore reason: There's not a clear solution to create an intersection of\n\t// the function with additional properties, where the goal is to retain the\n\t// function signature of the incoming argument and add control properties\n\t// on the return value.\n\n\t// @ts-ignore\n\treturn memoized;\n}\n\nmodule.exports = memize;\n","import { useContext, useRef, useState } from 'react';\nimport { useSealedState } from 'reakit-utils/useSealedState';\nimport { unstable_IdContext } from './IdProvider.js';\n\nfunction unstable_useIdState(initialState) {\n  if (initialState === void 0) {\n    initialState = {};\n  }\n\n  var _useSealedState = useSealedState(initialState),\n      initialBaseId = _useSealedState.baseId;\n\n  var generateId = useContext(unstable_IdContext);\n  var idCountRef = useRef(0);\n\n  var _React$useState = useState(function () {\n    return initialBaseId || generateId();\n  }),\n      baseId = _React$useState[0],\n      setBaseId = _React$useState[1];\n\n  return {\n    baseId: baseId,\n    unstable_setBaseId: setBaseId,\n    unstable_idCountRef: idCountRef\n  };\n}\nvar keys = [\"baseId\", \"unstable_setBaseId\", \"unstable_idCountRef\"];\nunstable_useIdState.__keys = keys;\n\nexport { unstable_useIdState };\n","/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\nconst ToolbarContext = createContext();\n\nexport default ToolbarContext;\n","import { createContext, useRef, useCallback, createElement } from 'react';\n\nvar defaultPrefix = \"id\";\nfunction generateRandomString(prefix) {\n  if (prefix === void 0) {\n    prefix = defaultPrefix;\n  }\n\n  return \"\" + (prefix ? prefix + \"-\" : \"\") + Math.random().toString(32).substr(2, 6);\n}\n\nvar unstable_IdContext = createContext(generateRandomString);\nfunction unstable_IdProvider(_ref) {\n  var children = _ref.children,\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? defaultPrefix : _ref$prefix;\n  var count = useRef(0);\n  var generateId = useCallback(function (localPrefix) {\n    if (localPrefix === void 0) {\n      localPrefix = prefix;\n    }\n\n    return \"\" + (localPrefix ? localPrefix + \"-\" : \"\") + ++count.current;\n  }, [prefix]);\n  return /*#__PURE__*/createElement(unstable_IdContext.Provider, {\n    value: generateId\n  }, children);\n}\n\nexport { unstable_IdContext, unstable_IdProvider };\n","import './getDocument.js';\nimport { getActiveElement } from './getActiveElement.js';\n\n/**\n * Checks if `element` has focus.\n *\n * @example\n * import { hasFocusWithin } from \"reakit-utils\";\n *\n * hasFocusWithin(document.getElementById(\"id\"));\n */\n\nfunction hasFocusWithin(element) {\n  var activeElement = getActiveElement(element);\n  if (!activeElement) return false;\n  if (element.contains(activeElement)) return true;\n  var activeDescendant = activeElement.getAttribute(\"aria-activedescendant\");\n  if (!activeDescendant) return false;\n  return activeDescendant === element.id || !!element.querySelector(\"#\" + activeDescendant);\n}\n\nexport { hasFocusWithin };\n","import { useMemo } from 'react';\n\n// https://github.com/mui-org/material-ui/blob/2bcc874cf07b81202968f769cb9c2398c7c11311/packages/material-ui/src/utils/useForkRef.js\n\nfunction setRef(ref, value) {\n  if (value === void 0) {\n    value = null;\n  }\n\n  if (!ref) return;\n\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else {\n    ref.current = value;\n  }\n}\n/**\n * Merges up to two React Refs into a single memoized function React Ref so you\n * can pass it to an element.\n *\n * @example\n * import React from \"react\";\n * import { useForkRef } from \"reakit-utils\";\n *\n * const Component = React.forwardRef((props, ref) => {\n *   const internalRef = React.useRef();\n *   return <div {...props} ref={useForkRef(internalRef, ref)} />;\n * });\n */\n\n\nfunction useForkRef(refA, refB) {\n  return useMemo(function () {\n    if (refA == null && refB == null) {\n      return null;\n    }\n\n    return function (value) {\n      setRef(refA, value);\n      setRef(refB, value);\n    };\n  }, [refA, refB]);\n}\n\nexport { useForkRef };\n","import { getDocument } from './getDocument.js';\n\n/**\n * Returns `element.ownerDocument.activeElement`.\n */\n\nfunction getActiveElement(element) {\n  return getDocument(element).activeElement;\n}\n\nexport { getActiveElement };\n","import { createContext } from 'react';\n\nvar SystemContext = createContext({});\n\nexport { SystemContext };\n","var buttonInputTypes = [\"button\", \"color\", \"file\", \"image\", \"reset\", \"submit\"];\n/**\n * Checks whether `element` is a native HTML button element or not.\n *\n * @example\n * import { isButton } from \"reakit-utils\";\n *\n * isButton(document.querySelector(\"button\")); // true\n * isButton(document.querySelector(\"input[type='button']\")); // true\n * isButton(document.querySelector(\"div\")); // false\n * isButton(document.querySelector(\"input[type='text']\")); // false\n *\n * @returns {boolean}\n */\n\nfunction isButton(element) {\n  if (element.tagName === \"BUTTON\") return true;\n\n  if (element.tagName === \"INPUT\") {\n    var input = element;\n    return buttonInputTypes.indexOf(input.type) !== -1;\n  }\n\n  return false;\n}\n\nexport { isButton };\n","import { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\n\nvar useBox = createHook({\n  name: \"Box\",\n  keys: [\"unstable_system\"]\n});\nvar Box = createComponent({\n  as: \"div\",\n  useHook: useBox\n});\n\nexport { Box, useBox };\n","import { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport { useBox } from '../Box/Box.js';\nimport { a as _objectSpread2, _ as _objectWithoutPropertiesLoose } from '../_rollupPluginBabelHelpers-959e870d.js';\nimport { useRef, useState, useEffect, useCallback } from 'react';\nimport { useForkRef } from 'reakit-utils/useForkRef';\nimport { isButton } from 'reakit-utils/isButton';\nimport { warning } from 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport { isFocusable } from 'reakit-utils/tabbable';\nimport { hasFocusWithin } from 'reakit-utils/hasFocusWithin';\n\nfunction isNativeTabbable(element) {\n  return element.tagName === \"BUTTON\" || element.tagName === \"INPUT\" || element.tagName === \"SELECT\" || element.tagName === \"TEXTAREA\" || element.tagName === \"A\" || element.tagName === \"AUDIO\" || element.tagName === \"VIDEO\";\n} // https://twitter.com/diegohaz/status/1176998102139572225\n\n\nfunction isUserAgent(string) {\n  if (typeof window === \"undefined\") return false;\n  return window.navigator.userAgent.indexOf(string) !== -1;\n}\n\nvar isSafariOrFirefoxOnMac = isUserAgent(\"Mac\") && (isUserAgent(\"Safari\") || isUserAgent(\"Firefox\"));\nvar useTabbable = createHook({\n  name: \"Tabbable\",\n  compose: useBox,\n  keys: [\"disabled\", \"focusable\"],\n  useOptions: function useOptions(options, _ref) {\n    var disabled = _ref.disabled;\n    return _objectSpread2({\n      disabled: disabled\n    }, options);\n  },\n  useProps: function useProps(options, _ref2) {\n    var htmlRef = _ref2.ref,\n        htmlTabIndex = _ref2.tabIndex,\n        htmlOnClick = _ref2.onClick,\n        htmlOnMouseDown = _ref2.onMouseDown,\n        htmlStyle = _ref2.style,\n        htmlProps = _objectWithoutPropertiesLoose(_ref2, [\"ref\", \"tabIndex\", \"onClick\", \"onMouseDown\", \"style\"]);\n\n    var ref = useRef(null);\n    var onClickRef = useLiveRef(htmlOnClick);\n    var onMouseDownRef = useLiveRef(htmlOnMouseDown);\n    var trulyDisabled = options.disabled && !options.focusable;\n\n    var _React$useState = useState(true),\n        nativeTabbable = _React$useState[0],\n        setNativeTabbable = _React$useState[1];\n\n    var tabIndex = nativeTabbable ? htmlTabIndex : htmlTabIndex || 0;\n    var style = options.disabled ? _objectSpread2({\n      pointerEvents: \"none\"\n    }, htmlStyle) : htmlStyle;\n    useEffect(function () {\n      var tabbable = ref.current;\n\n      if (!tabbable) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, \"Can't determine if the element is a native tabbable element because `ref` wasn't passed to the component.\", \"See https://reakit.io/docs/tabbable\") : void 0;\n        return;\n      }\n\n      if (!isNativeTabbable(tabbable)) {\n        setNativeTabbable(false);\n      }\n    }, []);\n    var onClick = useCallback(function (event) {\n      var _onClickRef$current;\n\n      if (options.disabled) {\n        event.stopPropagation();\n        event.preventDefault();\n        return;\n      }\n\n      (_onClickRef$current = onClickRef.current) === null || _onClickRef$current === void 0 ? void 0 : _onClickRef$current.call(onClickRef, event);\n    }, [options.disabled]);\n    var onMouseDown = useCallback(function (event) {\n      var _onMouseDownRef$curre;\n\n      if (options.disabled) {\n        event.stopPropagation();\n        event.preventDefault();\n        return;\n      }\n\n      (_onMouseDownRef$curre = onMouseDownRef.current) === null || _onMouseDownRef$curre === void 0 ? void 0 : _onMouseDownRef$curre.call(onMouseDownRef, event);\n      if (event.defaultPrevented) return;\n      var self = event.currentTarget;\n      var target = event.target;\n\n      if (isSafariOrFirefoxOnMac && isButton(self) && self.contains(target)) {\n        event.preventDefault();\n        var isFocusControl = isFocusable(target) || target.tagName === \"LABEL\";\n\n        if (!hasFocusWithin(self) || self === target || !isFocusControl) {\n          self.focus();\n        }\n      }\n    }, [options.disabled]);\n    return _objectSpread2({\n      ref: useForkRef(ref, htmlRef),\n      style: style,\n      tabIndex: !trulyDisabled ? tabIndex : undefined,\n      disabled: trulyDisabled && nativeTabbable ? true : undefined,\n      \"aria-disabled\": options.disabled ? true : undefined,\n      onClick: onClick,\n      onMouseDown: onMouseDown\n    }, htmlProps);\n  }\n});\nvar Tabbable = createComponent({\n  as: \"div\",\n  useHook: useTabbable\n});\n\nexport { Tabbable, useTabbable };\n","/**\n * Ponyfill for `Element.prototype.matches`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n */\nfunction matches(element, selectors) {\n  if (\"matches\" in element) return element.matches(selectors);\n  if (\"msMatchesSelector\" in element) return element.msMatchesSelector(selectors);\n  return element.webkitMatchesSelector(selectors);\n}\n\nexport { matches };\n","import { matches } from './matches.js';\nimport { closest } from './closest.js';\nimport './getDocument.js';\nimport { getActiveElement } from './getActiveElement.js';\n\n/** @module tabbable */\nvar selector = \"input:not([type='hidden']):not([disabled]), select:not([disabled]), \" + \"textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], \" + \"iframe, object, embed, area[href], audio[controls], video[controls], \" + \"[contenteditable]:not([contenteditable='false'])\";\n\nfunction isVisible(element) {\n  return element.offsetWidth > 0 || element.offsetHeight > 0 || element.getClientRects().length > 0;\n}\n\nfunction hasNegativeTabIndex(element) {\n  var tabIndex = parseInt(element.getAttribute(\"tabindex\") || \"0\", 10);\n  return tabIndex < 0;\n}\n/**\n * Checks whether `element` is focusable or not.\n *\n * @memberof tabbable\n *\n * @example\n * import { isFocusable } from \"reakit-utils\";\n *\n * isFocusable(document.querySelector(\"input\")); // true\n * isFocusable(document.querySelector(\"input[tabindex='-1']\")); // true\n * isFocusable(document.querySelector(\"input[hidden]\")); // false\n * isFocusable(document.querySelector(\"input:disabled\")); // false\n */\n\n\nfunction isFocusable(element) {\n  return matches(element, selector) && isVisible(element);\n}\n/**\n * Checks whether `element` is tabbable or not.\n *\n * @memberof tabbable\n *\n * @example\n * import { isTabbable } from \"reakit-utils\";\n *\n * isTabbable(document.querySelector(\"input\")); // true\n * isTabbable(document.querySelector(\"input[tabindex='-1']\")); // false\n * isTabbable(document.querySelector(\"input[hidden]\")); // false\n * isTabbable(document.querySelector(\"input:disabled\")); // false\n */\n\nfunction isTabbable(element) {\n  return isFocusable(element) && !hasNegativeTabIndex(element);\n}\n/**\n * Returns all the focusable elements in `container`.\n *\n * @memberof tabbable\n *\n * @param {Element} container\n *\n * @returns {Element[]}\n */\n\nfunction getAllFocusableIn(container) {\n  var allFocusable = Array.from(container.querySelectorAll(selector));\n  allFocusable.unshift(container);\n  return allFocusable.filter(isFocusable);\n}\n/**\n * Returns the first focusable element in `container`.\n *\n * @memberof tabbable\n *\n * @param {Element} container\n *\n * @returns {Element|null}\n */\n\nfunction getFirstFocusableIn(container) {\n  var allFocusable = getAllFocusableIn(container);\n  return allFocusable.length ? allFocusable[0] : null;\n}\n/**\n * Returns all the tabbable elements in `container`, including the container\n * itself.\n *\n * @memberof tabbable\n *\n * @param {Element} container\n * @param fallbackToFocusable If `true`, it'll return focusable elements if there are no tabbable ones.\n *\n * @returns {Element[]}\n */\n\nfunction getAllTabbableIn(container, fallbackToFocusable) {\n  var allFocusable = Array.from(container.querySelectorAll(selector));\n  var allTabbable = allFocusable.filter(isTabbable);\n\n  if (isTabbable(container)) {\n    allTabbable.unshift(container);\n  }\n\n  if (!allTabbable.length && fallbackToFocusable) {\n    return allFocusable;\n  }\n\n  return allTabbable;\n}\n/**\n * Returns the first tabbable element in `container`, including the container\n * itself if it's tabbable.\n *\n * @memberof tabbable\n *\n * @param {Element} container\n * @param fallbackToFocusable If `true`, it'll return the first focusable element if there are no tabbable ones.\n *\n * @returns {Element|null}\n */\n\nfunction getFirstTabbableIn(container, fallbackToFocusable) {\n  var _getAllTabbableIn = getAllTabbableIn(container, fallbackToFocusable),\n      first = _getAllTabbableIn[0];\n\n  return first || null;\n}\n/**\n * Returns the last tabbable element in `container`, including the container\n * itself if it's tabbable.\n *\n * @memberof tabbable\n *\n * @param {Element} container\n * @param fallbackToFocusable If `true`, it'll return the last focusable element if there are no tabbable ones.\n *\n * @returns {Element|null}\n */\n\nfunction getLastTabbableIn(container, fallbackToFocusable) {\n  var allTabbable = getAllTabbableIn(container, fallbackToFocusable);\n  return allTabbable[allTabbable.length - 1] || null;\n}\n/**\n * Returns the next tabbable element in `container`.\n *\n * @memberof tabbable\n *\n * @param {Element} container\n * @param fallbackToFocusable If `true`, it'll return the next focusable element if there are no tabbable ones.\n *\n * @returns {Element|null}\n */\n\nfunction getNextTabbableIn(container, fallbackToFocusable) {\n  var activeElement = getActiveElement(container);\n  var allFocusable = getAllFocusableIn(container);\n  var index = allFocusable.indexOf(activeElement);\n  var slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\n/**\n * Returns the previous tabbable element in `container`.\n *\n * @memberof tabbable\n *\n * @param {Element} container\n * @param fallbackToFocusable If `true`, it'll return the previous focusable element if there are no tabbable ones.\n *\n * @returns {Element|null}\n */\n\nfunction getPreviousTabbableIn(container, fallbackToFocusable) {\n  var activeElement = getActiveElement(container);\n  var allFocusable = getAllFocusableIn(container).reverse();\n  var index = allFocusable.indexOf(activeElement);\n  var slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\n/**\n * Returns the closest focusable element.\n *\n * @memberof tabbable\n *\n * @param {Element} container\n *\n * @returns {Element|null}\n */\n\nfunction getClosestFocusable(element) {\n  while (element && !isFocusable(element)) {\n    element = closest(element, selector);\n  }\n\n  return element;\n}\n\nfunction defaultIsActive(element) {\n  return getActiveElement(element) === element;\n}\n\n/**\n * Ensures `element` will receive focus if it's not already.\n *\n * @memberof tabbable\n *\n * @example\n * import { ensureFocus } from \"reakit-utils\";\n *\n * ensureFocus(document.activeElement); // does nothing\n *\n * const element = document.querySelector(\"input\");\n *\n * ensureFocus(element); // focuses element\n * ensureFocus(element, { preventScroll: true }); // focuses element preventing scroll jump\n *\n * function isActive(el) {\n *   return el.dataset.active === \"true\";\n * }\n *\n * ensureFocus(document.querySelector(\"[data-active='true']\"), { isActive }); // does nothing\n *\n * @returns {number} `requestAnimationFrame` call ID so it can be passed to `cancelAnimationFrame` if needed.\n */\nfunction ensureFocus(element, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$isActive = _ref.isActive,\n      isActive = _ref$isActive === void 0 ? defaultIsActive : _ref$isActive,\n      preventScroll = _ref.preventScroll;\n\n  if (isActive(element)) return -1;\n  element.focus({\n    preventScroll: preventScroll\n  });\n  if (isActive(element)) return -1;\n  return requestAnimationFrame(function () {\n    element.focus({\n      preventScroll: preventScroll\n    });\n  });\n}\n\nexport { ensureFocus, getAllFocusableIn, getAllTabbableIn, getClosestFocusable, getFirstFocusableIn, getFirstTabbableIn, getLastTabbableIn, getNextTabbableIn, getPreviousTabbableIn, isFocusable, isTabbable };\n","/**\n * Returns an `onKeyDown` handler to be passed to a component.\n *\n * @param options\n */\nfunction createOnKeyDown(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      keyMap = _ref.keyMap,\n      onKey = _ref.onKey,\n      stopPropagation = _ref.stopPropagation,\n      onKeyDown = _ref.onKeyDown,\n      _ref$shouldKeyDown = _ref.shouldKeyDown,\n      shouldKeyDown = _ref$shouldKeyDown === void 0 ? function () {\n    return true;\n  } : _ref$shouldKeyDown,\n      _ref$preventDefault = _ref.preventDefault,\n      preventDefault = _ref$preventDefault === void 0 ? true : _ref$preventDefault;\n\n  return function (event) {\n    if (!keyMap) return;\n    var finalKeyMap = typeof keyMap === \"function\" ? keyMap(event) : keyMap;\n    var shouldPreventDefault = typeof preventDefault === \"function\" ? preventDefault(event) : preventDefault;\n    var shouldStopPropagation = typeof stopPropagation === \"function\" ? stopPropagation(event) : stopPropagation;\n\n    if (event.key in finalKeyMap) {\n      var action = finalKeyMap[event.key];\n\n      if (typeof action === \"function\" && shouldKeyDown(event)) {\n        if (shouldPreventDefault) event.preventDefault();\n        if (shouldStopPropagation) event.stopPropagation();\n        if (onKey) onKey(event);\n        action(event); // Prevent onKeyDown from being called twice for the same keys\n\n        return;\n      }\n    }\n\n    if (onKeyDown && \"current\" in onKeyDown) {\n      var _onKeyDown$current;\n\n      (_onKeyDown$current = onKeyDown.current) === null || _onKeyDown$current === void 0 ? void 0 : _onKeyDown$current.call(onKeyDown, event);\n    } else {\n      onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(event);\n    }\n  };\n}\n\nexport { createOnKeyDown };\n","import { useContext, createElement } from 'react';\nimport { SystemContext } from './SystemContext.js';\nimport { a as _objectWithoutPropertiesLoose } from './_rollupPluginBabelHelpers-5ba0a876.js';\n\nfunction isRenderProp(children) {\n  return typeof children === \"function\";\n}\n\n/**\n * Custom hook that will call `children` if it's a function. If\n * `useCreateElement` has been passed to the context, it'll be used instead.\n *\n * @example\n * import React from \"react\";\n * import { SystemProvider, useCreateElement } from \"reakit-system\";\n *\n * const system = {\n *   useCreateElement(type, props, children = props.children) {\n *     // very similar to what `useCreateElement` does already\n *     if (typeof children === \"function\") {\n *       const { children: _, ...rest } = props;\n *       return children(rest);\n *     }\n *     return React.createElement(type, props, children);\n *   },\n * };\n *\n * function Component(props) {\n *   return useCreateElement(\"div\", props);\n * }\n *\n * function App() {\n *   return (\n *     <SystemProvider unstable_system={system}>\n *       <Component url=\"url\">{({ url }) => <a href={url}>link</a>}</Component>\n *     </SystemProvider>\n *   );\n * }\n */\n\nvar useCreateElement = function useCreateElement(type, props, children) {\n  if (children === void 0) {\n    children = props.children;\n  }\n\n  var context = useContext(SystemContext);\n\n  if (context.useCreateElement) {\n    return context.useCreateElement(type, props, children);\n  }\n\n  if (isRenderProp(children)) {\n    var _ = props.children,\n        rest = _objectWithoutPropertiesLoose(props, [\"children\"]);\n\n    return children(rest);\n  }\n\n  return createElement(type, props, children);\n};\n\nexport { useCreateElement };\n","\"use strict\";\nexports.__esModule = true;\nvar TextareaAutosize_1 = require(\"./TextareaAutosize\");\nexports[\"default\"] = TextareaAutosize_1[\"default\"];\n","'use strict';\n\nmodule.exports = require('./dom-scroll-into-view');","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar _extends = _interopDefault(require('@babel/runtime/helpers/extends'));\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/objectWithoutPropertiesLoose'));\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar _inheritsLoose = _interopDefault(require('@babel/runtime/helpers/inheritsLoose'));\nvar _assertThisInitialized = _interopDefault(require('@babel/runtime/helpers/assertThisInitialized'));\n\nvar is = {\n  arr: Array.isArray,\n  obj: function obj(a) {\n    return Object.prototype.toString.call(a) === '[object Object]';\n  },\n  fun: function fun(a) {\n    return typeof a === 'function';\n  },\n  str: function str(a) {\n    return typeof a === 'string';\n  },\n  num: function num(a) {\n    return typeof a === 'number';\n  },\n  und: function und(a) {\n    return a === void 0;\n  },\n  nul: function nul(a) {\n    return a === null;\n  },\n  set: function set(a) {\n    return a instanceof Set;\n  },\n  map: function map(a) {\n    return a instanceof Map;\n  },\n  equ: function equ(a, b) {\n    if (typeof a !== typeof b) return false;\n    if (is.str(a) || is.num(a)) return a === b;\n    if (is.obj(a) && is.obj(b) && Object.keys(a).length + Object.keys(b).length === 0) return true;\n    var i;\n\n    for (i in a) {\n      if (!(i in b)) return false;\n    }\n\n    for (i in b) {\n      if (a[i] !== b[i]) return false;\n    }\n\n    return is.und(i) ? a === b : true;\n  }\n};\nfunction merge(target, lowercase) {\n  if (lowercase === void 0) {\n    lowercase = true;\n  }\n\n  return function (object) {\n    return (is.arr(object) ? object : Object.keys(object)).reduce(function (acc, element) {\n      var key = lowercase ? element[0].toLowerCase() + element.substring(1) : element;\n      acc[key] = target(key);\n      return acc;\n    }, target);\n  };\n}\nfunction useForceUpdate() {\n  var _useState = React.useState(false),\n      f = _useState[1];\n\n  var forceUpdate = React.useCallback(function () {\n    return f(function (v) {\n      return !v;\n    });\n  }, []);\n  return forceUpdate;\n}\nfunction withDefault(value, defaultValue) {\n  return is.und(value) || is.nul(value) ? defaultValue : value;\n}\nfunction toArray(a) {\n  return !is.und(a) ? is.arr(a) ? a : [a] : [];\n}\nfunction callProp(obj) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return is.fun(obj) ? obj.apply(void 0, args) : obj;\n}\n\nfunction getForwardProps(props) {\n  var to = props.to,\n      from = props.from,\n      config = props.config,\n      onStart = props.onStart,\n      onRest = props.onRest,\n      onFrame = props.onFrame,\n      children = props.children,\n      reset = props.reset,\n      reverse = props.reverse,\n      force = props.force,\n      immediate = props.immediate,\n      delay = props.delay,\n      attach = props.attach,\n      destroyed = props.destroyed,\n      interpolateTo = props.interpolateTo,\n      ref = props.ref,\n      lazy = props.lazy,\n      forward = _objectWithoutPropertiesLoose(props, [\"to\", \"from\", \"config\", \"onStart\", \"onRest\", \"onFrame\", \"children\", \"reset\", \"reverse\", \"force\", \"immediate\", \"delay\", \"attach\", \"destroyed\", \"interpolateTo\", \"ref\", \"lazy\"]);\n\n  return forward;\n}\n\nfunction interpolateTo(props) {\n  var forward = getForwardProps(props);\n  if (is.und(forward)) return _extends({\n    to: forward\n  }, props);\n  var rest = Object.keys(props).reduce(function (a, k) {\n    var _extends2;\n\n    return !is.und(forward[k]) ? a : _extends({}, a, (_extends2 = {}, _extends2[k] = props[k], _extends2));\n  }, {});\n  return _extends({\n    to: forward\n  }, rest);\n}\nfunction handleRef(ref, forward) {\n  if (forward) {\n    // If it's a function, assume it's a ref callback\n    if (is.fun(forward)) forward(ref);else if (is.obj(forward)) {\n      forward.current = ref;\n    }\n  }\n\n  return ref;\n}\n\nvar Animated =\n/*#__PURE__*/\nfunction () {\n  function Animated() {\n    this.payload = void 0;\n    this.children = [];\n  }\n\n  var _proto = Animated.prototype;\n\n  _proto.getAnimatedValue = function getAnimatedValue() {\n    return this.getValue();\n  };\n\n  _proto.getPayload = function getPayload() {\n    return this.payload || this;\n  };\n\n  _proto.attach = function attach() {};\n\n  _proto.detach = function detach() {};\n\n  _proto.getChildren = function getChildren() {\n    return this.children;\n  };\n\n  _proto.addChild = function addChild(child) {\n    if (this.children.length === 0) this.attach();\n    this.children.push(child);\n  };\n\n  _proto.removeChild = function removeChild(child) {\n    var index = this.children.indexOf(child);\n    this.children.splice(index, 1);\n    if (this.children.length === 0) this.detach();\n  };\n\n  return Animated;\n}();\nvar AnimatedArray =\n/*#__PURE__*/\nfunction (_Animated) {\n  _inheritsLoose(AnimatedArray, _Animated);\n\n  function AnimatedArray() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Animated.call.apply(_Animated, [this].concat(args)) || this;\n    _this.payload = [];\n\n    _this.attach = function () {\n      return _this.payload.forEach(function (p) {\n        return p instanceof Animated && p.addChild(_assertThisInitialized(_this));\n      });\n    };\n\n    _this.detach = function () {\n      return _this.payload.forEach(function (p) {\n        return p instanceof Animated && p.removeChild(_assertThisInitialized(_this));\n      });\n    };\n\n    return _this;\n  }\n\n  return AnimatedArray;\n}(Animated);\nvar AnimatedObject =\n/*#__PURE__*/\nfunction (_Animated2) {\n  _inheritsLoose(AnimatedObject, _Animated2);\n\n  function AnimatedObject() {\n    var _this2;\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this2 = _Animated2.call.apply(_Animated2, [this].concat(args)) || this;\n    _this2.payload = {};\n\n    _this2.attach = function () {\n      return Object.values(_this2.payload).forEach(function (s) {\n        return s instanceof Animated && s.addChild(_assertThisInitialized(_this2));\n      });\n    };\n\n    _this2.detach = function () {\n      return Object.values(_this2.payload).forEach(function (s) {\n        return s instanceof Animated && s.removeChild(_assertThisInitialized(_this2));\n      });\n    };\n\n    return _this2;\n  }\n\n  var _proto2 = AnimatedObject.prototype;\n\n  _proto2.getValue = function getValue(animated) {\n    if (animated === void 0) {\n      animated = false;\n    }\n\n    var payload = {};\n\n    for (var _key4 in this.payload) {\n      var value = this.payload[_key4];\n      if (animated && !(value instanceof Animated)) continue;\n      payload[_key4] = value instanceof Animated ? value[animated ? 'getAnimatedValue' : 'getValue']() : value;\n    }\n\n    return payload;\n  };\n\n  _proto2.getAnimatedValue = function getAnimatedValue() {\n    return this.getValue(true);\n  };\n\n  return AnimatedObject;\n}(Animated);\n\nvar applyAnimatedValues;\nfunction injectApplyAnimatedValues(fn, transform) {\n  applyAnimatedValues = {\n    fn: fn,\n    transform: transform\n  };\n}\nvar colorNames;\nfunction injectColorNames(names) {\n  colorNames = names;\n}\nvar requestFrame = function requestFrame(cb) {\n  return typeof window !== 'undefined' ? window.requestAnimationFrame(cb) : -1;\n};\nvar cancelFrame = function cancelFrame(id) {\n  typeof window !== 'undefined' && window.cancelAnimationFrame(id);\n};\nfunction injectFrame(raf, caf) {\n  requestFrame = raf;\n  cancelFrame = caf;\n}\nvar interpolation;\nfunction injectStringInterpolator(fn) {\n  interpolation = fn;\n}\nvar now = function now() {\n  return Date.now();\n};\nfunction injectNow(nowFn) {\n  now = nowFn;\n}\nvar defaultElement;\nfunction injectDefaultElement(el) {\n  defaultElement = el;\n}\nvar animatedApi = function animatedApi(node) {\n  return node.current;\n};\nfunction injectAnimatedApi(fn) {\n  animatedApi = fn;\n}\nvar createAnimatedStyle;\nfunction injectCreateAnimatedStyle(factory) {\n  createAnimatedStyle = factory;\n}\nvar manualFrameloop;\nfunction injectManualFrameloop(callback) {\n  manualFrameloop = callback;\n}\n\nvar Globals = /*#__PURE__*/Object.freeze({\n  get applyAnimatedValues () { return applyAnimatedValues; },\n  injectApplyAnimatedValues: injectApplyAnimatedValues,\n  get colorNames () { return colorNames; },\n  injectColorNames: injectColorNames,\n  get requestFrame () { return requestFrame; },\n  get cancelFrame () { return cancelFrame; },\n  injectFrame: injectFrame,\n  get interpolation () { return interpolation; },\n  injectStringInterpolator: injectStringInterpolator,\n  get now () { return now; },\n  injectNow: injectNow,\n  get defaultElement () { return defaultElement; },\n  injectDefaultElement: injectDefaultElement,\n  get animatedApi () { return animatedApi; },\n  injectAnimatedApi: injectAnimatedApi,\n  get createAnimatedStyle () { return createAnimatedStyle; },\n  injectCreateAnimatedStyle: injectCreateAnimatedStyle,\n  get manualFrameloop () { return manualFrameloop; },\n  injectManualFrameloop: injectManualFrameloop\n});\n\n/**\n * Wraps the `style` property with `AnimatedStyle`.\n */\n\nvar AnimatedProps =\n/*#__PURE__*/\nfunction (_AnimatedObject) {\n  _inheritsLoose(AnimatedProps, _AnimatedObject);\n\n  function AnimatedProps(props, callback) {\n    var _this;\n\n    _this = _AnimatedObject.call(this) || this;\n    _this.update = void 0;\n    _this.payload = !props.style ? props : _extends({}, props, {\n      style: createAnimatedStyle(props.style)\n    });\n    _this.update = callback;\n\n    _this.attach();\n\n    return _this;\n  }\n\n  return AnimatedProps;\n}(AnimatedObject);\n\nvar isFunctionComponent = function isFunctionComponent(val) {\n  return is.fun(val) && !(val.prototype instanceof React__default.Component);\n};\n\nvar createAnimatedComponent = function createAnimatedComponent(Component) {\n  var AnimatedComponent = React.forwardRef(function (props, ref) {\n    var forceUpdate = useForceUpdate();\n    var mounted = React.useRef(true);\n    var propsAnimated = React.useRef(null);\n    var node = React.useRef(null);\n    var attachProps = React.useCallback(function (props) {\n      var oldPropsAnimated = propsAnimated.current;\n\n      var callback = function callback() {\n        var didUpdate = false;\n\n        if (node.current) {\n          didUpdate = applyAnimatedValues.fn(node.current, propsAnimated.current.getAnimatedValue());\n        }\n\n        if (!node.current || didUpdate === false) {\n          // If no referenced node has been found, or the update target didn't have a\n          // native-responder, then forceUpdate the animation ...\n          forceUpdate();\n        }\n      };\n\n      propsAnimated.current = new AnimatedProps(props, callback);\n      oldPropsAnimated && oldPropsAnimated.detach();\n    }, []);\n    React.useEffect(function () {\n      return function () {\n        mounted.current = false;\n        propsAnimated.current && propsAnimated.current.detach();\n      };\n    }, []);\n    React.useImperativeHandle(ref, function () {\n      return animatedApi(node, mounted, forceUpdate);\n    });\n    attachProps(props);\n\n    var _getValue = propsAnimated.current.getValue(),\n        scrollTop = _getValue.scrollTop,\n        scrollLeft = _getValue.scrollLeft,\n        animatedProps = _objectWithoutPropertiesLoose(_getValue, [\"scrollTop\", \"scrollLeft\"]); // Functions cannot have refs, see:\n    // See: https://github.com/react-spring/react-spring/issues/569\n\n\n    var refFn = isFunctionComponent(Component) ? undefined : function (childRef) {\n      return node.current = handleRef(childRef, ref);\n    };\n    return React__default.createElement(Component, _extends({}, animatedProps, {\n      ref: refFn\n    }));\n  });\n  return AnimatedComponent;\n};\n\nvar active = false;\nvar controllers = new Set();\n\nvar update = function update() {\n  if (!active) return false;\n  var time = now();\n\n  for (var _iterator = controllers, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var controller = _ref;\n    var isActive = false;\n\n    for (var configIdx = 0; configIdx < controller.configs.length; configIdx++) {\n      var config = controller.configs[configIdx];\n      var endOfAnimation = void 0,\n          lastTime = void 0;\n\n      for (var valIdx = 0; valIdx < config.animatedValues.length; valIdx++) {\n        var animation = config.animatedValues[valIdx]; // If an animation is done, skip, until all of them conclude\n\n        if (animation.done) continue;\n        var from = config.fromValues[valIdx];\n        var to = config.toValues[valIdx];\n        var position = animation.lastPosition;\n        var isAnimated = to instanceof Animated;\n        var velocity = Array.isArray(config.initialVelocity) ? config.initialVelocity[valIdx] : config.initialVelocity;\n        if (isAnimated) to = to.getValue(); // Conclude animation if it's either immediate, or from-values match end-state\n\n        if (config.immediate) {\n          animation.setValue(to);\n          animation.done = true;\n          continue;\n        } // Break animation when string values are involved\n\n\n        if (typeof from === 'string' || typeof to === 'string') {\n          animation.setValue(to);\n          animation.done = true;\n          continue;\n        }\n\n        if (config.duration !== void 0) {\n          /** Duration easing */\n          position = from + config.easing((time - animation.startTime) / config.duration) * (to - from);\n          endOfAnimation = time >= animation.startTime + config.duration;\n        } else if (config.decay) {\n          /** Decay easing */\n          position = from + velocity / (1 - 0.998) * (1 - Math.exp(-(1 - 0.998) * (time - animation.startTime)));\n          endOfAnimation = Math.abs(animation.lastPosition - position) < 0.1;\n          if (endOfAnimation) to = position;\n        } else {\n          /** Spring easing */\n          lastTime = animation.lastTime !== void 0 ? animation.lastTime : time;\n          velocity = animation.lastVelocity !== void 0 ? animation.lastVelocity : config.initialVelocity; // If we lost a lot of frames just jump to the end.\n\n          if (time > lastTime + 64) lastTime = time; // http://gafferongames.com/game-physics/fix-your-timestep/\n\n          var numSteps = Math.floor(time - lastTime);\n\n          for (var i = 0; i < numSteps; ++i) {\n            var force = -config.tension * (position - to);\n            var damping = -config.friction * velocity;\n            var acceleration = (force + damping) / config.mass;\n            velocity = velocity + acceleration * 1 / 1000;\n            position = position + velocity * 1 / 1000;\n          } // Conditions for stopping the spring animation\n\n\n          var isOvershooting = config.clamp && config.tension !== 0 ? from < to ? position > to : position < to : false;\n          var isVelocity = Math.abs(velocity) <= config.precision;\n          var isDisplacement = config.tension !== 0 ? Math.abs(to - position) <= config.precision : true;\n          endOfAnimation = isOvershooting || isVelocity && isDisplacement;\n          animation.lastVelocity = velocity;\n          animation.lastTime = time;\n        } // Trails aren't done until their parents conclude\n\n\n        if (isAnimated && !config.toValues[valIdx].done) endOfAnimation = false;\n\n        if (endOfAnimation) {\n          // Ensure that we end up with a round value\n          if (animation.value !== to) position = to;\n          animation.done = true;\n        } else isActive = true;\n\n        animation.setValue(position);\n        animation.lastPosition = position;\n      } // Keep track of updated values only when necessary\n\n\n      if (controller.props.onFrame) controller.values[config.name] = config.interpolation.getValue();\n    } // Update callbacks in the end of the frame\n\n\n    if (controller.props.onFrame) controller.props.onFrame(controller.values); // Either call onEnd or next frame\n\n    if (!isActive) {\n      controllers.delete(controller);\n      controller.stop(true);\n    }\n  } // Loop over as long as there are controllers ...\n\n\n  if (controllers.size) {\n    if (manualFrameloop) manualFrameloop();else requestFrame(update);\n  } else {\n    active = false;\n  }\n\n  return active;\n};\n\nvar start = function start(controller) {\n  if (!controllers.has(controller)) controllers.add(controller);\n\n  if (!active) {\n    active = true;\n    if (manualFrameloop) requestFrame(manualFrameloop);else requestFrame(update);\n  }\n};\n\nvar stop = function stop(controller) {\n  if (controllers.has(controller)) controllers.delete(controller);\n};\n\nfunction createInterpolator(range, output, extrapolate) {\n  if (typeof range === 'function') {\n    return range;\n  }\n\n  if (Array.isArray(range)) {\n    return createInterpolator({\n      range: range,\n      output: output,\n      extrapolate: extrapolate\n    });\n  }\n\n  if (interpolation && typeof range.output[0] === 'string') {\n    return interpolation(range);\n  }\n\n  var config = range;\n  var outputRange = config.output;\n  var inputRange = config.range || [0, 1];\n  var extrapolateLeft = config.extrapolateLeft || config.extrapolate || 'extend';\n  var extrapolateRight = config.extrapolateRight || config.extrapolate || 'extend';\n\n  var easing = config.easing || function (t) {\n    return t;\n  };\n\n  return function (input) {\n    var range = findRange(input, inputRange);\n    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n}\n\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  var result = map ? map(input) : input; // Extrapolate\n\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;\n  }\n\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax; // Input Range\n\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin); // Easing\n\n  result = easing(result); // Output Range\n\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\n\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) {\n    if (inputRange[i] >= input) break;\n  }\n\n  return i - 1;\n}\n\nvar AnimatedInterpolation =\n/*#__PURE__*/\nfunction (_AnimatedArray) {\n  _inheritsLoose(AnimatedInterpolation, _AnimatedArray);\n\n  function AnimatedInterpolation(parents, range, output, extrapolate) {\n    var _this;\n\n    _this = _AnimatedArray.call(this) || this;\n    _this.calc = void 0;\n    _this.payload = parents instanceof AnimatedArray && !(parents instanceof AnimatedInterpolation) ? parents.getPayload() : Array.isArray(parents) ? parents : [parents];\n    _this.calc = createInterpolator(range, output, extrapolate);\n    return _this;\n  }\n\n  var _proto = AnimatedInterpolation.prototype;\n\n  _proto.getValue = function getValue() {\n    return this.calc.apply(this, this.payload.map(function (value) {\n      return value.getValue();\n    }));\n  };\n\n  _proto.updateConfig = function updateConfig(range, output, extrapolate) {\n    this.calc = createInterpolator(range, output, extrapolate);\n  };\n\n  _proto.interpolate = function interpolate(range, output, extrapolate) {\n    return new AnimatedInterpolation(this, range, output, extrapolate);\n  };\n\n  return AnimatedInterpolation;\n}(AnimatedArray);\n\nvar interpolate$1 = function interpolate(parents, range, output) {\n  return parents && new AnimatedInterpolation(parents, range, output);\n};\n\nvar config = {\n  default: {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\n\n/** API\n *  useChain(references, timeSteps, timeFrame)\n */\n\nfunction useChain(refs, timeSteps, timeFrame) {\n  if (timeFrame === void 0) {\n    timeFrame = 1000;\n  }\n\n  var previous = React.useRef();\n  React.useEffect(function () {\n    if (is.equ(refs, previous.current)) refs.forEach(function (_ref) {\n      var current = _ref.current;\n      return current && current.start();\n    });else if (timeSteps) {\n      refs.forEach(function (_ref2, index) {\n        var current = _ref2.current;\n\n        if (current) {\n          var ctrls = current.controllers;\n\n          if (ctrls.length) {\n            var t = timeFrame * timeSteps[index];\n            ctrls.forEach(function (ctrl) {\n              ctrl.queue = ctrl.queue.map(function (e) {\n                return _extends({}, e, {\n                  delay: e.delay + t\n                });\n              });\n              ctrl.start();\n            });\n          }\n        }\n      });\n    } else refs.reduce(function (q, _ref3, rI) {\n      var current = _ref3.current;\n      return q = q.then(function () {\n        return current.start();\n      });\n    }, Promise.resolve());\n    previous.current = refs;\n  });\n}\n\n/**\n * Animated works by building a directed acyclic graph of dependencies\n * transparently when you render your Animated components.\n *\n *               new Animated.Value(0)\n *     .interpolate()        .interpolate()    new Animated.Value(1)\n *         opacity               translateY      scale\n *          style                         transform\n *         View#234                         style\n *                                         View#123\n *\n * A) Top Down phase\n * When an AnimatedValue is updated, we recursively go down through this\n * graph in order to find leaf nodes: the views that we flag as needing\n * an update.\n *\n * B) Bottom Up phase\n * When a view is flagged as needing an update, we recursively go back up\n * in order to build the new value that it needs. The reason why we need\n * this two-phases process is to deal with composite props such as\n * transform which can receive values from multiple parents.\n */\nfunction addAnimatedStyles(node, styles) {\n  if ('update' in node) {\n    styles.add(node);\n  } else {\n    node.getChildren().forEach(function (child) {\n      return addAnimatedStyles(child, styles);\n    });\n  }\n}\n\nvar AnimatedValue =\n/*#__PURE__*/\nfunction (_Animated) {\n  _inheritsLoose(AnimatedValue, _Animated);\n\n  function AnimatedValue(_value) {\n    var _this;\n\n    _this = _Animated.call(this) || this;\n    _this.animatedStyles = new Set();\n    _this.value = void 0;\n    _this.startPosition = void 0;\n    _this.lastPosition = void 0;\n    _this.lastVelocity = void 0;\n    _this.startTime = void 0;\n    _this.lastTime = void 0;\n    _this.done = false;\n\n    _this.setValue = function (value, flush) {\n      if (flush === void 0) {\n        flush = true;\n      }\n\n      _this.value = value;\n      if (flush) _this.flush();\n    };\n\n    _this.value = _value;\n    _this.startPosition = _value;\n    _this.lastPosition = _value;\n    return _this;\n  }\n\n  var _proto = AnimatedValue.prototype;\n\n  _proto.flush = function flush() {\n    if (this.animatedStyles.size === 0) {\n      addAnimatedStyles(this, this.animatedStyles);\n    }\n\n    this.animatedStyles.forEach(function (animatedStyle) {\n      return animatedStyle.update();\n    });\n  };\n\n  _proto.clearStyles = function clearStyles() {\n    this.animatedStyles.clear();\n  };\n\n  _proto.getValue = function getValue() {\n    return this.value;\n  };\n\n  _proto.interpolate = function interpolate(range, output, extrapolate) {\n    return new AnimatedInterpolation(this, range, output, extrapolate);\n  };\n\n  return AnimatedValue;\n}(Animated);\n\nvar AnimatedValueArray =\n/*#__PURE__*/\nfunction (_AnimatedArray) {\n  _inheritsLoose(AnimatedValueArray, _AnimatedArray);\n\n  function AnimatedValueArray(values) {\n    var _this;\n\n    _this = _AnimatedArray.call(this) || this;\n    _this.payload = values.map(function (n) {\n      return new AnimatedValue(n);\n    });\n    return _this;\n  }\n\n  var _proto = AnimatedValueArray.prototype;\n\n  _proto.setValue = function setValue(value, flush) {\n    var _this2 = this;\n\n    if (flush === void 0) {\n      flush = true;\n    }\n\n    if (Array.isArray(value)) {\n      if (value.length === this.payload.length) {\n        value.forEach(function (v, i) {\n          return _this2.payload[i].setValue(v, flush);\n        });\n      }\n    } else {\n      this.payload.forEach(function (p) {\n        return p.setValue(value, flush);\n      });\n    }\n  };\n\n  _proto.getValue = function getValue() {\n    return this.payload.map(function (v) {\n      return v.getValue();\n    });\n  };\n\n  _proto.interpolate = function interpolate(range, output) {\n    return new AnimatedInterpolation(this, range, output);\n  };\n\n  return AnimatedValueArray;\n}(AnimatedArray);\n\nvar G = 0;\n\nvar Controller =\n/*#__PURE__*/\nfunction () {\n  function Controller() {\n    var _this = this;\n\n    this.id = void 0;\n    this.idle = true;\n    this.hasChanged = false;\n    this.guid = 0;\n    this.local = 0;\n    this.props = {};\n    this.merged = {};\n    this.animations = {};\n    this.interpolations = {};\n    this.values = {};\n    this.configs = [];\n    this.listeners = [];\n    this.queue = [];\n    this.localQueue = void 0;\n\n    this.getValues = function () {\n      return _this.interpolations;\n    };\n\n    this.id = G++;\n  }\n  /** update(props)\n   *  This function filters input props and creates an array of tasks which are executed in .start()\n   *  Each task is allowed to carry a delay, which means it can execute asnychroneously */\n\n\n  var _proto = Controller.prototype;\n\n  _proto.update = function update$$1(args) {\n    //this._id = n + this.id\n    if (!args) return this; // Extract delay and the to-prop from props\n\n    var _ref = interpolateTo(args),\n        _ref$delay = _ref.delay,\n        delay = _ref$delay === void 0 ? 0 : _ref$delay,\n        to = _ref.to,\n        props = _objectWithoutPropertiesLoose(_ref, [\"delay\", \"to\"]);\n\n    if (is.arr(to) || is.fun(to)) {\n      // If config is either a function or an array queue it up as is\n      this.queue.push(_extends({}, props, {\n        delay: delay,\n        to: to\n      }));\n    } else if (to) {\n      // Otherwise go through each key since it could be delayed individually\n      var ops = {};\n      Object.entries(to).forEach(function (_ref2) {\n        var _to;\n\n        var k = _ref2[0],\n            v = _ref2[1];\n\n        // Fetch delay and create an entry, consisting of the to-props, the delay, and basic props\n        var entry = _extends({\n          to: (_to = {}, _to[k] = v, _to),\n          delay: callProp(delay, k)\n        }, props);\n\n        var previous = ops[entry.delay] && ops[entry.delay].to;\n        ops[entry.delay] = _extends({}, ops[entry.delay], entry, {\n          to: _extends({}, previous, entry.to)\n        });\n      });\n      this.queue = Object.values(ops);\n    } // Sort queue, so that async calls go last\n\n\n    this.queue = this.queue.sort(function (a, b) {\n      return a.delay - b.delay;\n    }); // Diff the reduced props immediately (they'll contain the from-prop and some config)\n\n    this.diff(props);\n    return this;\n  }\n  /** start(onEnd)\n   *  This function either executes a queue, if present, or starts the frameloop, which animates */\n  ;\n\n  _proto.start = function start$$1(onEnd) {\n    var _this2 = this;\n\n    // If a queue is present we must excecute it\n    if (this.queue.length) {\n      this.idle = false; // Updates can interrupt trailing queues, in that case we just merge values\n\n      if (this.localQueue) {\n        this.localQueue.forEach(function (_ref3) {\n          var _ref3$from = _ref3.from,\n              from = _ref3$from === void 0 ? {} : _ref3$from,\n              _ref3$to = _ref3.to,\n              to = _ref3$to === void 0 ? {} : _ref3$to;\n          if (is.obj(from)) _this2.merged = _extends({}, from, _this2.merged);\n          if (is.obj(to)) _this2.merged = _extends({}, _this2.merged, to);\n        });\n      } // The guid helps us tracking frames, a new queue over an old one means an override\n      // We discard async calls in that caseÍ\n\n\n      var local = this.local = ++this.guid;\n      var queue = this.localQueue = this.queue;\n      this.queue = []; // Go through each entry and execute it\n\n      queue.forEach(function (_ref4, index) {\n        var delay = _ref4.delay,\n            props = _objectWithoutPropertiesLoose(_ref4, [\"delay\"]);\n\n        var cb = function cb(finished) {\n          if (index === queue.length - 1 && local === _this2.guid && finished) {\n            _this2.idle = true;\n            if (_this2.props.onRest) _this2.props.onRest(_this2.merged);\n          }\n\n          if (onEnd) onEnd();\n        }; // Entries can be delayed, ansyc or immediate\n\n\n        var async = is.arr(props.to) || is.fun(props.to);\n\n        if (delay) {\n          setTimeout(function () {\n            if (local === _this2.guid) {\n              if (async) _this2.runAsync(props, cb);else _this2.diff(props).start(cb);\n            }\n          }, delay);\n        } else if (async) _this2.runAsync(props, cb);else _this2.diff(props).start(cb);\n      });\n    } // Otherwise we kick of the frameloop\n    else {\n        if (is.fun(onEnd)) this.listeners.push(onEnd);\n        if (this.props.onStart) this.props.onStart();\n\n        start(this);\n      }\n\n    return this;\n  };\n\n  _proto.stop = function stop$$1(finished) {\n    this.listeners.forEach(function (onEnd) {\n      return onEnd(finished);\n    });\n    this.listeners = [];\n    return this;\n  }\n  /** Pause sets onEnd listeners free, but also removes the controller from the frameloop */\n  ;\n\n  _proto.pause = function pause(finished) {\n    this.stop(true);\n    if (finished) stop(this);\n    return this;\n  };\n\n  _proto.runAsync = function runAsync(_ref5, onEnd) {\n    var _this3 = this;\n\n    var delay = _ref5.delay,\n        props = _objectWithoutPropertiesLoose(_ref5, [\"delay\"]);\n\n    var local = this.local; // If \"to\" is either a function or an array it will be processed async, therefor \"to\" should be empty right now\n    // If the view relies on certain values \"from\" has to be present\n\n    var queue = Promise.resolve(undefined);\n\n    if (is.arr(props.to)) {\n      var _loop = function _loop(i) {\n        var index = i;\n\n        var fresh = _extends({}, props, interpolateTo(props.to[index]));\n\n        if (is.arr(fresh.config)) fresh.config = fresh.config[index];\n        queue = queue.then(function () {\n          //this.stop()\n          if (local === _this3.guid) return new Promise(function (r) {\n            return _this3.diff(fresh).start(r);\n          });\n        });\n      };\n\n      for (var i = 0; i < props.to.length; i++) {\n        _loop(i);\n      }\n    } else if (is.fun(props.to)) {\n      var index = 0;\n      var last;\n      queue = queue.then(function () {\n        return props.to( // next(props)\n        function (p) {\n          var fresh = _extends({}, props, interpolateTo(p));\n\n          if (is.arr(fresh.config)) fresh.config = fresh.config[index];\n          index++; //this.stop()\n\n          if (local === _this3.guid) return last = new Promise(function (r) {\n            return _this3.diff(fresh).start(r);\n          });\n          return;\n        }, // cancel()\n        function (finished) {\n          if (finished === void 0) {\n            finished = true;\n          }\n\n          return _this3.stop(finished);\n        }).then(function () {\n          return last;\n        });\n      });\n    }\n\n    queue.then(onEnd);\n  };\n\n  _proto.diff = function diff(props) {\n    var _this4 = this;\n\n    this.props = _extends({}, this.props, props);\n    var _this$props = this.props,\n        _this$props$from = _this$props.from,\n        from = _this$props$from === void 0 ? {} : _this$props$from,\n        _this$props$to = _this$props.to,\n        to = _this$props$to === void 0 ? {} : _this$props$to,\n        _this$props$config = _this$props.config,\n        config = _this$props$config === void 0 ? {} : _this$props$config,\n        reverse = _this$props.reverse,\n        attach = _this$props.attach,\n        reset = _this$props.reset,\n        immediate = _this$props.immediate; // Reverse values when requested\n\n    if (reverse) {\n      var _ref6 = [to, from];\n      from = _ref6[0];\n      to = _ref6[1];\n    } // This will collect all props that were ever set, reset merged props when necessary\n\n\n    this.merged = _extends({}, from, this.merged, to);\n    this.hasChanged = false; // Attachment handling, trailed springs can \"attach\" themselves to a previous spring\n\n    var target = attach && attach(this); // Reduces input { name: value } pairs into animated values\n\n    this.animations = Object.entries(this.merged).reduce(function (acc, _ref7) {\n      var name = _ref7[0],\n          value = _ref7[1];\n      // Issue cached entries, except on reset\n      var entry = acc[name] || {}; // Figure out what the value is supposed to be\n\n      var isNumber = is.num(value);\n      var isString = is.str(value) && !value.startsWith('#') && !/\\d/.test(value) && !colorNames[value];\n      var isArray = is.arr(value);\n      var isInterpolation = !isNumber && !isArray && !isString;\n      var fromValue = !is.und(from[name]) ? from[name] : value;\n      var toValue = isNumber || isArray ? value : isString ? value : 1;\n      var toConfig = callProp(config, name);\n      if (target) toValue = target.animations[name].parent;\n      var parent = entry.parent,\n          interpolation$$1 = entry.interpolation,\n          toValues = toArray(target ? toValue.getPayload() : toValue),\n          animatedValues;\n      var newValue = value;\n      if (isInterpolation) newValue = interpolation({\n        range: [0, 1],\n        output: [value, value]\n      })(1);\n      var currentValue = interpolation$$1 && interpolation$$1.getValue(); // Change detection flags\n\n      var isFirst = is.und(parent);\n      var isActive = !isFirst && entry.animatedValues.some(function (v) {\n        return !v.done;\n      });\n      var currentValueDiffersFromGoal = !is.equ(newValue, currentValue);\n      var hasNewGoal = !is.equ(newValue, entry.previous);\n      var hasNewConfig = !is.equ(toConfig, entry.config); // Change animation props when props indicate a new goal (new value differs from previous one)\n      // and current values differ from it. Config changes trigger a new update as well (though probably shouldn't?)\n\n      if (reset || hasNewGoal && currentValueDiffersFromGoal || hasNewConfig) {\n        var _extends2;\n\n        // Convert regular values into animated values, ALWAYS re-use if possible\n        if (isNumber || isString) parent = interpolation$$1 = entry.parent || new AnimatedValue(fromValue);else if (isArray) parent = interpolation$$1 = entry.parent || new AnimatedValueArray(fromValue);else if (isInterpolation) {\n          var prev = entry.interpolation && entry.interpolation.calc(entry.parent.value);\n          prev = prev !== void 0 && !reset ? prev : fromValue;\n\n          if (entry.parent) {\n            parent = entry.parent;\n            parent.setValue(0, false);\n          } else parent = new AnimatedValue(0);\n\n          var range = {\n            output: [prev, value]\n          };\n\n          if (entry.interpolation) {\n            interpolation$$1 = entry.interpolation;\n            entry.interpolation.updateConfig(range);\n          } else interpolation$$1 = parent.interpolate(range);\n        }\n        toValues = toArray(target ? toValue.getPayload() : toValue);\n        animatedValues = toArray(parent.getPayload());\n        if (reset && !isInterpolation) parent.setValue(fromValue, false);\n        _this4.hasChanged = true; // Reset animated values\n\n        animatedValues.forEach(function (value) {\n          value.startPosition = value.value;\n          value.lastPosition = value.value;\n          value.lastVelocity = isActive ? value.lastVelocity : undefined;\n          value.lastTime = isActive ? value.lastTime : undefined;\n          value.startTime = now();\n          value.done = false;\n          value.animatedStyles.clear();\n        }); // Set immediate values\n\n        if (callProp(immediate, name)) {\n          parent.setValue(isInterpolation ? toValue : value, false);\n        }\n\n        return _extends({}, acc, (_extends2 = {}, _extends2[name] = _extends({}, entry, {\n          name: name,\n          parent: parent,\n          interpolation: interpolation$$1,\n          animatedValues: animatedValues,\n          toValues: toValues,\n          previous: newValue,\n          config: toConfig,\n          fromValues: toArray(parent.getValue()),\n          immediate: callProp(immediate, name),\n          initialVelocity: withDefault(toConfig.velocity, 0),\n          clamp: withDefault(toConfig.clamp, false),\n          precision: withDefault(toConfig.precision, 0.01),\n          tension: withDefault(toConfig.tension, 170),\n          friction: withDefault(toConfig.friction, 26),\n          mass: withDefault(toConfig.mass, 1),\n          duration: toConfig.duration,\n          easing: withDefault(toConfig.easing, function (t) {\n            return t;\n          }),\n          decay: toConfig.decay\n        }), _extends2));\n      } else {\n        if (!currentValueDiffersFromGoal) {\n          var _extends3;\n\n          // So ... the current target value (newValue) appears to be different from the previous value,\n          // which normally constitutes an update, but the actual value (currentValue) matches the target!\n          // In order to resolve this without causing an animation update we silently flag the animation as done,\n          // which it technically is. Interpolations also needs a config update with their target set to 1.\n          if (isInterpolation) {\n            parent.setValue(1, false);\n            interpolation$$1.updateConfig({\n              output: [newValue, newValue]\n            });\n          }\n\n          parent.done = true;\n          _this4.hasChanged = true;\n          return _extends({}, acc, (_extends3 = {}, _extends3[name] = _extends({}, acc[name], {\n            previous: newValue\n          }), _extends3));\n        }\n\n        return acc;\n      }\n    }, this.animations);\n\n    if (this.hasChanged) {\n      // Make animations available to frameloop\n      this.configs = Object.values(this.animations);\n      this.values = {};\n      this.interpolations = {};\n\n      for (var key in this.animations) {\n        this.interpolations[key] = this.animations[key].interpolation;\n        this.values[key] = this.animations[key].interpolation.getValue();\n      }\n    }\n\n    return this;\n  };\n\n  _proto.destroy = function destroy() {\n    this.stop();\n    this.props = {};\n    this.merged = {};\n    this.animations = {};\n    this.interpolations = {};\n    this.values = {};\n    this.configs = [];\n    this.local = 0;\n  };\n\n  return Controller;\n}();\n\n/** API\n * const props = useSprings(number, [{ ... }, { ... }, ...])\n * const [props, set] = useSprings(number, (i, controller) => ({ ... }))\n */\n\nvar useSprings = function useSprings(length, props) {\n  var mounted = React.useRef(false);\n  var ctrl = React.useRef();\n  var isFn = is.fun(props); // The controller maintains the animation values, starts and stops animations\n\n  var _useMemo = React.useMemo(function () {\n    // Remove old controllers\n    if (ctrl.current) {\n      ctrl.current.map(function (c) {\n        return c.destroy();\n      });\n      ctrl.current = undefined;\n    }\n\n    var ref;\n    return [new Array(length).fill().map(function (_, i) {\n      var ctrl = new Controller();\n      var newProps = isFn ? callProp(props, i, ctrl) : props[i];\n      if (i === 0) ref = newProps.ref;\n      ctrl.update(newProps);\n      if (!ref) ctrl.start();\n      return ctrl;\n    }), ref];\n  }, [length]),\n      controllers = _useMemo[0],\n      ref = _useMemo[1];\n\n  ctrl.current = controllers; // The hooks reference api gets defined here ...\n\n  var api = React.useImperativeHandle(ref, function () {\n    return {\n      start: function start() {\n        return Promise.all(ctrl.current.map(function (c) {\n          return new Promise(function (r) {\n            return c.start(r);\n          });\n        }));\n      },\n      stop: function stop(finished) {\n        return ctrl.current.forEach(function (c) {\n          return c.stop(finished);\n        });\n      },\n\n      get controllers() {\n        return ctrl.current;\n      }\n\n    };\n  }); // This function updates the controllers\n\n  var updateCtrl = React.useMemo(function () {\n    return function (updateProps) {\n      return ctrl.current.map(function (c, i) {\n        c.update(isFn ? callProp(updateProps, i, c) : updateProps[i]);\n        if (!ref) c.start();\n      });\n    };\n  }, [length]); // Update controller if props aren't functional\n\n  React.useEffect(function () {\n    if (mounted.current) {\n      if (!isFn) updateCtrl(props);\n    } else if (!ref) ctrl.current.forEach(function (c) {\n      return c.start();\n    });\n  }); // Update mounted flag and destroy controller on unmount\n\n  React.useEffect(function () {\n    return mounted.current = true, function () {\n      return ctrl.current.forEach(function (c) {\n        return c.destroy();\n      });\n    };\n  }, []); // Return animated props, or, anim-props + the update-setter above\n\n  var propValues = ctrl.current.map(function (c) {\n    return c.getValues();\n  });\n  return isFn ? [propValues, updateCtrl, function (finished) {\n    return ctrl.current.forEach(function (c) {\n      return c.pause(finished);\n    });\n  }] : propValues;\n};\n\n/** API\n * const props = useSpring({ ... })\n * const [props, set] = useSpring(() => ({ ... }))\n */\n\nvar useSpring = function useSpring(props) {\n  var isFn = is.fun(props);\n\n  var _useSprings = useSprings(1, isFn ? props : [props]),\n      result = _useSprings[0],\n      set = _useSprings[1],\n      pause = _useSprings[2];\n\n  return isFn ? [result[0], set, pause] : result;\n};\n\n/** API\n * const trails = useTrail(number, { ... })\n * const [trails, set] = useTrail(number, () => ({ ... }))\n */\n\nvar useTrail = function useTrail(length, props) {\n  var mounted = React.useRef(false);\n  var isFn = is.fun(props);\n  var updateProps = callProp(props);\n  var instances = React.useRef();\n\n  var _useSprings = useSprings(length, function (i, ctrl) {\n    if (i === 0) instances.current = [];\n    instances.current.push(ctrl);\n    return _extends({}, updateProps, {\n      config: callProp(updateProps.config, i),\n      attach: i > 0 && function () {\n        return instances.current[i - 1];\n      }\n    });\n  }),\n      result = _useSprings[0],\n      set = _useSprings[1],\n      pause = _useSprings[2]; // Set up function to update controller\n\n\n  var updateCtrl = React.useMemo(function () {\n    return function (props) {\n      return set(function (i, ctrl) {\n        var last = props.reverse ? i === 0 : length - 1 === i;\n        var attachIdx = props.reverse ? i + 1 : i - 1;\n        var attachController = instances.current[attachIdx];\n        return _extends({}, props, {\n          config: callProp(props.config || updateProps.config, i),\n          attach: attachController && function () {\n            return attachController;\n          }\n        });\n      });\n    };\n  }, [length, updateProps.reverse]); // Update controller if props aren't functional\n\n  React.useEffect(function () {\n    return void (mounted.current && !isFn && updateCtrl(props));\n  }); // Update mounted flag and destroy controller on unmount\n\n  React.useEffect(function () {\n    return void (mounted.current = true);\n  }, []);\n  return isFn ? [result, updateCtrl, pause] : result;\n};\n\n/** API\n * const transitions = useTransition(items, itemKeys, { ... })\n * const [transitions, update] = useTransition(items, itemKeys, () => ({ ... }))\n */\n\nvar guid = 0;\nvar ENTER = 'enter';\nvar LEAVE = 'leave';\nvar UPDATE = 'update';\n\nvar mapKeys = function mapKeys(items, keys) {\n  return (typeof keys === 'function' ? items.map(keys) : toArray(keys)).map(String);\n};\n\nvar get = function get(props) {\n  var items = props.items,\n      _props$keys = props.keys,\n      keys = _props$keys === void 0 ? function (item) {\n    return item;\n  } : _props$keys,\n      rest = _objectWithoutPropertiesLoose(props, [\"items\", \"keys\"]);\n\n  items = toArray(items !== void 0 ? items : null);\n  return _extends({\n    items: items,\n    keys: mapKeys(items, keys)\n  }, rest);\n};\n\nfunction useTransition(input, keyTransform, config) {\n  var props = _extends({\n    items: input,\n    keys: keyTransform || function (i) {\n      return i;\n    }\n  }, config);\n\n  var _get = get(props),\n      _get$lazy = _get.lazy,\n      lazy = _get$lazy === void 0 ? false : _get$lazy,\n      _get$unique = _get.unique,\n      _get$reset = _get.reset,\n      reset = _get$reset === void 0 ? false : _get$reset,\n      enter = _get.enter,\n      leave = _get.leave,\n      update = _get.update,\n      onDestroyed = _get.onDestroyed,\n      keys = _get.keys,\n      items = _get.items,\n      onFrame = _get.onFrame,\n      _onRest = _get.onRest,\n      onStart = _get.onStart,\n      ref = _get.ref,\n      extra = _objectWithoutPropertiesLoose(_get, [\"lazy\", \"unique\", \"reset\", \"enter\", \"leave\", \"update\", \"onDestroyed\", \"keys\", \"items\", \"onFrame\", \"onRest\", \"onStart\", \"ref\"]);\n\n  var forceUpdate = useForceUpdate();\n  var mounted = React.useRef(false);\n  var state = React.useRef({\n    mounted: false,\n    first: true,\n    deleted: [],\n    current: {},\n    transitions: [],\n    prevProps: {},\n    paused: !!props.ref,\n    instances: !mounted.current && new Map(),\n    forceUpdate: forceUpdate\n  });\n  React.useImperativeHandle(props.ref, function () {\n    return {\n      start: function start() {\n        return Promise.all(Array.from(state.current.instances).map(function (_ref) {\n          var c = _ref[1];\n          return new Promise(function (r) {\n            return c.start(r);\n          });\n        }));\n      },\n      stop: function stop(finished) {\n        return Array.from(state.current.instances).forEach(function (_ref2) {\n          var c = _ref2[1];\n          return c.stop(finished);\n        });\n      },\n\n      get controllers() {\n        return Array.from(state.current.instances).map(function (_ref3) {\n          var c = _ref3[1];\n          return c;\n        });\n      }\n\n    };\n  }); // Update state\n\n  state.current = diffItems(state.current, props);\n\n  if (state.current.changed) {\n    // Update state\n    state.current.transitions.forEach(function (transition) {\n      var slot = transition.slot,\n          from = transition.from,\n          to = transition.to,\n          config = transition.config,\n          trail = transition.trail,\n          key = transition.key,\n          item = transition.item;\n      if (!state.current.instances.has(key)) state.current.instances.set(key, new Controller()); // update the map object\n\n      var ctrl = state.current.instances.get(key);\n\n      var newProps = _extends({}, extra, {\n        to: to,\n        from: from,\n        config: config,\n        ref: ref,\n        onRest: function onRest(values) {\n          if (state.current.mounted) {\n            if (transition.destroyed) {\n              // If no ref is given delete destroyed items immediately\n              if (!ref && !lazy) cleanUp(state, key);\n              if (onDestroyed) onDestroyed(item);\n            } // A transition comes to rest once all its springs conclude\n\n\n            var curInstances = Array.from(state.current.instances);\n            var active = curInstances.some(function (_ref4) {\n              var c = _ref4[1];\n              return !c.idle;\n            });\n            if (!active && (ref || lazy) && state.current.deleted.length > 0) cleanUp(state);\n            if (_onRest) _onRest(item, slot, values);\n          }\n        },\n        onStart: onStart && function () {\n          return onStart(item, slot);\n        },\n        onFrame: onFrame && function (values) {\n          return onFrame(item, slot, values);\n        },\n        delay: trail,\n        reset: reset && slot === ENTER // Update controller\n\n      });\n\n      ctrl.update(newProps);\n      if (!state.current.paused) ctrl.start();\n    });\n  }\n\n  React.useEffect(function () {\n    state.current.mounted = mounted.current = true;\n    return function () {\n      state.current.mounted = mounted.current = false;\n      Array.from(state.current.instances).map(function (_ref5) {\n        var c = _ref5[1];\n        return c.destroy();\n      });\n      state.current.instances.clear();\n    };\n  }, []);\n  return state.current.transitions.map(function (_ref6) {\n    var item = _ref6.item,\n        slot = _ref6.slot,\n        key = _ref6.key;\n    return {\n      item: item,\n      key: key,\n      state: slot,\n      props: state.current.instances.get(key).getValues()\n    };\n  });\n}\n\nfunction cleanUp(state, filterKey) {\n  var deleted = state.current.deleted;\n\n  var _loop = function _loop() {\n    if (_isArray) {\n      if (_i >= _iterator.length) return \"break\";\n      _ref8 = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) return \"break\";\n      _ref8 = _i.value;\n    }\n\n    var _ref7 = _ref8;\n    var key = _ref7.key;\n\n    var filter = function filter(t) {\n      return t.key !== key;\n    };\n\n    if (is.und(filterKey) || filterKey === key) {\n      state.current.instances.delete(key);\n      state.current.transitions = state.current.transitions.filter(filter);\n      state.current.deleted = state.current.deleted.filter(filter);\n    }\n  };\n\n  for (var _iterator = deleted, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref8;\n\n    var _ret = _loop();\n\n    if (_ret === \"break\") break;\n  }\n\n  state.current.forceUpdate();\n}\n\nfunction diffItems(_ref9, props) {\n  var first = _ref9.first,\n      prevProps = _ref9.prevProps,\n      state = _objectWithoutPropertiesLoose(_ref9, [\"first\", \"prevProps\"]);\n\n  var _get2 = get(props),\n      items = _get2.items,\n      keys = _get2.keys,\n      initial = _get2.initial,\n      from = _get2.from,\n      enter = _get2.enter,\n      leave = _get2.leave,\n      update = _get2.update,\n      _get2$trail = _get2.trail,\n      trail = _get2$trail === void 0 ? 0 : _get2$trail,\n      unique = _get2.unique,\n      config = _get2.config,\n      _get2$order = _get2.order,\n      order = _get2$order === void 0 ? [ENTER, LEAVE, UPDATE] : _get2$order;\n\n  var _get3 = get(prevProps),\n      _keys = _get3.keys,\n      _items = _get3.items;\n\n  var current = _extends({}, state.current);\n\n  var deleted = [].concat(state.deleted); // Compare next keys with current keys\n\n  var currentKeys = Object.keys(current);\n  var currentSet = new Set(currentKeys);\n  var nextSet = new Set(keys);\n  var added = keys.filter(function (item) {\n    return !currentSet.has(item);\n  });\n  var removed = state.transitions.filter(function (item) {\n    return !item.destroyed && !nextSet.has(item.originalKey);\n  }).map(function (i) {\n    return i.originalKey;\n  });\n  var updated = keys.filter(function (item) {\n    return currentSet.has(item);\n  });\n  var delay = -trail;\n\n  while (order.length) {\n    var changeType = order.shift();\n\n    switch (changeType) {\n      case ENTER:\n        {\n          added.forEach(function (key, index) {\n            // In unique mode, remove fading out transitions if their key comes in again\n            if (unique && deleted.find(function (d) {\n              return d.originalKey === key;\n            })) deleted = deleted.filter(function (t) {\n              return t.originalKey !== key;\n            });\n            var keyIndex = keys.indexOf(key);\n            var item = items[keyIndex];\n            var slot = first && initial !== void 0 ? 'initial' : ENTER;\n            current[key] = {\n              slot: slot,\n              originalKey: key,\n              key: unique ? String(key) : guid++,\n              item: item,\n              trail: delay = delay + trail,\n              config: callProp(config, item, slot),\n              from: callProp(first ? initial !== void 0 ? initial || {} : from : from, item),\n              to: callProp(enter, item)\n            };\n          });\n          break;\n        }\n\n      case LEAVE:\n        {\n          removed.forEach(function (key) {\n            var keyIndex = _keys.indexOf(key);\n\n            var item = _items[keyIndex];\n            var slot = LEAVE;\n            deleted.unshift(_extends({}, current[key], {\n              slot: slot,\n              destroyed: true,\n              left: _keys[Math.max(0, keyIndex - 1)],\n              right: _keys[Math.min(_keys.length, keyIndex + 1)],\n              trail: delay = delay + trail,\n              config: callProp(config, item, slot),\n              to: callProp(leave, item)\n            }));\n            delete current[key];\n          });\n          break;\n        }\n\n      case UPDATE:\n        {\n          updated.forEach(function (key) {\n            var keyIndex = keys.indexOf(key);\n            var item = items[keyIndex];\n            var slot = UPDATE;\n            current[key] = _extends({}, current[key], {\n              item: item,\n              slot: slot,\n              trail: delay = delay + trail,\n              config: callProp(config, item, slot),\n              to: callProp(update, item)\n            });\n          });\n          break;\n        }\n    }\n  }\n\n  var out = keys.map(function (key) {\n    return current[key];\n  }); // This tries to restore order for deleted items by finding their last known siblings\n  // only using the left sibling to keep order placement consistent for all deleted items\n\n  deleted.forEach(function (_ref10) {\n    var left = _ref10.left,\n        right = _ref10.right,\n        item = _objectWithoutPropertiesLoose(_ref10, [\"left\", \"right\"]);\n\n    var pos; // Was it the element on the left, if yes, move there ...\n\n    if ((pos = out.findIndex(function (t) {\n      return t.originalKey === left;\n    })) !== -1) pos += 1; // And if nothing else helps, move it to the start ¯\\_(ツ)_/¯\n\n    pos = Math.max(0, pos);\n    out = [].concat(out.slice(0, pos), [item], out.slice(pos));\n  });\n  return _extends({}, state, {\n    changed: added.length || removed.length || updated.length,\n    first: first && added.length === 0,\n    transitions: out,\n    current: current,\n    deleted: deleted,\n    prevProps: props\n  });\n}\n\nvar AnimatedStyle =\n/*#__PURE__*/\nfunction (_AnimatedObject) {\n  _inheritsLoose(AnimatedStyle, _AnimatedObject);\n\n  function AnimatedStyle(style) {\n    var _this;\n\n    if (style === void 0) {\n      style = {};\n    }\n\n    _this = _AnimatedObject.call(this) || this;\n\n    if (style.transform && !(style.transform instanceof Animated)) {\n      style = applyAnimatedValues.transform(style);\n    }\n\n    _this.payload = style;\n    return _this;\n  }\n\n  return AnimatedStyle;\n}(AnimatedObject);\n\n// http://www.w3.org/TR/css3-color/#svg-color\nvar colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff\n};\n\n// const INTEGER = '[-+]?\\\\d+';\nvar NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nvar PERCENTAGE = NUMBER + '%';\n\nfunction call() {\n  for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n    parts[_key] = arguments[_key];\n  }\n\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nvar rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));\nvar rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));\nvar hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));\nvar hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nvar hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex6 = /^#([0-9a-fA-F]{6})$/;\nvar hex8 = /^#([0-9a-fA-F]{8})$/;\n\n/*\nhttps://github.com/react-community/normalize-css-color\n\nBSD 3-Clause License\n\nCopyright (c) 2016, React Community\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\nfunction normalizeColor(color) {\n  var match;\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;\n  } // Ordered based on occurrences on Facebook codebase\n\n\n  if (match = hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;\n  if (colors.hasOwnProperty(color)) return colors[color];\n\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    parse1(match[4])) >>> // a\n    0;\n  }\n\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    'ff', // a\n    16) >>> 0;\n  } // https://drafts.csswg.org/css-color-4/#hex-notation\n\n\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    match[4] + match[4], // a\n    16) >>> 0;\n  }\n\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | 0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | parse1(match[4])) >>> // a\n    0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  var p = 2 * l - q;\n  var r = hue2rgb(p, q, h + 1 / 3);\n  var g = hue2rgb(p, q, h);\n  var b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\n\nfunction parse255(str) {\n  var int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\n\nfunction parse360(str) {\n  var int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\n\nfunction parse1(str) {\n  var num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  // parseFloat conveniently ignores the final %\n  var int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\nfunction colorToRgba(input) {\n  var int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  var r = (int32Color & 0xff000000) >>> 24;\n  var g = (int32Color & 0x00ff0000) >>> 16;\n  var b = (int32Color & 0x0000ff00) >>> 8;\n  var a = (int32Color & 0x000000ff) / 255;\n  return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + a + \")\";\n} // Problem: https://github.com/animatedjs/animated/pull/102\n// Solution: https://stackoverflow.com/questions/638565/parsing-scientific-notation-sensibly/658662\n\n\nvar stringShapeRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g; // Covers rgb, rgba, hsl, hsla\n// Taken from https://gist.github.com/olmokramer/82ccce673f86db7cda5e\n\nvar colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi; // Covers color names (transparent, blue, etc.)\n\nvar colorNamesRegex = new RegExp(\"(\" + Object.keys(colors).join('|') + \")\", 'g');\n/**\n * Supports string shapes by extracting numbers so new values can be computed,\n * and recombines those values into new strings of the same shape.  Supports\n * things like:\n *\n *   rgba(123, 42, 99, 0.36)           // colors\n *   -45deg                            // values with units\n *   0 2px 2px 0px rgba(0, 0, 0, 0.12) // box shadows\n */\n\nvar createStringInterpolator = function createStringInterpolator(config) {\n  // Replace colors with rgba\n  var outputRange = config.output.map(function (rangeValue) {\n    return rangeValue.replace(colorRegex, colorToRgba);\n  }).map(function (rangeValue) {\n    return rangeValue.replace(colorNamesRegex, colorToRgba);\n  });\n  var outputRanges = outputRange[0].match(stringShapeRegex).map(function () {\n    return [];\n  });\n  outputRange.forEach(function (value) {\n    value.match(stringShapeRegex).forEach(function (number, i) {\n      return outputRanges[i].push(+number);\n    });\n  });\n  var interpolations = outputRange[0].match(stringShapeRegex).map(function (_value, i) {\n    return createInterpolator(_extends({}, config, {\n      output: outputRanges[i]\n    }));\n  });\n  return function (input) {\n    var i = 0;\n    return outputRange[0] // 'rgba(0, 100, 200, 0)'\n    // ->\n    // 'rgba(${interpolations[0](input)}, ${interpolations[1](input)}, ...'\n    .replace(stringShapeRegex, function () {\n      return interpolations[i++](input);\n    }) // rgba requires that the r,g,b are integers.... so we want to round them, but we *dont* want to\n    // round the opacity (4th column).\n    .replace(/rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi, function (_, p1, p2, p3, p4) {\n      return \"rgba(\" + Math.round(p1) + \", \" + Math.round(p2) + \", \" + Math.round(p3) + \", \" + p4 + \")\";\n    });\n  };\n};\n\nvar isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nvar prefixKey = function prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n};\n\nvar prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce(function (acc, prop) {\n  prefixes.forEach(function (prefix) {\n    return acc[prefixKey(prefix, prop)] = acc[prop];\n  });\n  return acc;\n}, isUnitlessNumber);\n\nfunction dangerousStyleValue(name, value, isCustomProperty) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (!isCustomProperty && typeof value === 'number' && value !== 0 && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers\n\n  return ('' + value).trim();\n}\n\nvar attributeCache = {};\ninjectCreateAnimatedStyle(function (style) {\n  return new AnimatedStyle(style);\n});\ninjectDefaultElement('div');\ninjectStringInterpolator(createStringInterpolator);\ninjectColorNames(colors);\ninjectApplyAnimatedValues(function (instance, props) {\n  if (instance.nodeType && instance.setAttribute !== undefined) {\n    var style = props.style,\n        children = props.children,\n        scrollTop = props.scrollTop,\n        scrollLeft = props.scrollLeft,\n        attributes = _objectWithoutPropertiesLoose(props, [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"]);\n\n    var filter = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';\n    if (scrollTop !== void 0) instance.scrollTop = scrollTop;\n    if (scrollLeft !== void 0) instance.scrollLeft = scrollLeft; // Set textContent, if children is an animatable value\n\n    if (children !== void 0) instance.textContent = children; // Set styles ...\n\n    for (var styleName in style) {\n      if (!style.hasOwnProperty(styleName)) continue;\n      var isCustomProperty = styleName.indexOf('--') === 0;\n      var styleValue = dangerousStyleValue(styleName, style[styleName], isCustomProperty);\n      if (styleName === 'float') styleName = 'cssFloat';\n      if (isCustomProperty) instance.style.setProperty(styleName, styleValue);else instance.style[styleName] = styleValue;\n    } // Set attributes ...\n\n\n    for (var name in attributes) {\n      // Attributes are written in dash case\n      var dashCase = filter ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, function (n) {\n        return '-' + n.toLowerCase();\n      }));\n      if (typeof instance.getAttribute(dashCase) !== 'undefined') instance.setAttribute(dashCase, attributes[name]);\n    }\n\n    return;\n  } else return false;\n}, function (style) {\n  return style;\n});\n\nvar domElements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n// Extend animated with all the available THREE elements\nvar apply = merge(createAnimatedComponent, false);\nvar extendedAnimated = apply(domElements);\n\nexports.apply = apply;\nexports.config = config;\nexports.update = update;\nexports.animated = extendedAnimated;\nexports.a = extendedAnimated;\nexports.interpolate = interpolate$1;\nexports.Globals = Globals;\nexports.useSpring = useSpring;\nexports.useTrail = useTrail;\nexports.useTransition = useTransition;\nexports.useChain = useChain;\nexports.useSprings = useSprings;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _keys = require('./keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar is = {\n  obj: function obj(value) {\n    return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && !!value;\n  },\n  all: function all(value) {\n    return is.obj(value) && value.type === _keys2.default.all;\n  },\n  error: function error(value) {\n    return is.obj(value) && value.type === _keys2.default.error;\n  },\n  array: Array.isArray,\n  func: function func(value) {\n    return typeof value === 'function';\n  },\n  promise: function promise(value) {\n    return value && is.func(value.then);\n  },\n  iterator: function iterator(value) {\n    return value && is.func(value.next) && is.func(value.throw);\n  },\n  fork: function fork(value) {\n    return is.obj(value) && value.type === _keys2.default.fork;\n  },\n  join: function join(value) {\n    return is.obj(value) && value.type === _keys2.default.join;\n  },\n  race: function race(value) {\n    return is.obj(value) && value.type === _keys2.default.race;\n  },\n  call: function call(value) {\n    return is.obj(value) && value.type === _keys2.default.call;\n  },\n  cps: function cps(value) {\n    return is.obj(value) && value.type === _keys2.default.cps;\n  },\n  subscribe: function subscribe(value) {\n    return is.obj(value) && value.type === _keys2.default.subscribe;\n  },\n  channel: function channel(value) {\n    return is.obj(value) && is.func(value.subscribe);\n  }\n};\n\nexports.default = is;","function combineReducers( reducers ) {\n\tvar keys = Object.keys( reducers ),\n\t\tgetNextState;\n\n\tgetNextState = ( function() {\n\t\tvar fn, i, key;\n\n\t\tfn = 'return {';\n\t\tfor ( i = 0; i < keys.length; i++ ) {\n\t\t\t// Rely on Quoted escaping of JSON.stringify with guarantee that\n\t\t\t// each member of Object.keys is a string.\n\t\t\t//\n\t\t\t// \"If Type(value) is String, then return the result of calling the\n\t\t\t// abstract operation Quote with argument value. [...] The abstract\n\t\t\t// operation Quote(value) wraps a String value in double quotes and\n\t\t\t// escapes characters within it.\"\n\t\t\t//\n\t\t\t// https://www.ecma-international.org/ecma-262/5.1/#sec-15.12.3\n\t\t\tkey = JSON.stringify( keys[ i ] );\n\n\t\t\tfn += key + ':r[' + key + '](s[' + key + '],a),';\n\t\t}\n\t\tfn += '}';\n\n\t\treturn new Function( 'r,s,a', fn );\n\t} )();\n\n\treturn function combinedReducer( state, action ) {\n\t\tvar nextState, i, key;\n\n\t\t// Assumed changed if initial state.\n\t\tif ( state === undefined ) {\n\t\t\treturn getNextState( reducers, {}, action );\n\t\t}\n\n\t\tnextState = getNextState( reducers, state, action );\n\n\t\t// Determine whether state has changed.\n\t\ti = keys.length;\n\t\twhile ( i-- ) {\n\t\t\tkey = keys[ i ];\n\t\t\tif ( state[ key ] !== nextState[ key ] ) {\n\t\t\t\t// Return immediately if a changed value is encountered.\n\t\t\t\treturn nextState;\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t};\n}\n\nmodule.exports = combineReducers;\n","module.exports = isPromise;\nmodule.exports.default = isPromise;\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n","/**\n * External dependencies\n */\nimport { useToolbarItem } from 'reakit/Toolbar';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef, useContext } from '@wordpress/element';\nimport warning from '@wordpress/warning';\n\n/**\n * Internal dependencies\n */\nimport ToolbarContext from '../toolbar-context';\n\nfunction ToolbarItem( { children, ...props }, ref ) {\n\tconst accessibleToolbarState = useContext( ToolbarContext );\n\t// https://reakit.io/docs/composition/#props-hooks\n\tconst itemProps = useToolbarItem( accessibleToolbarState, {\n\t\t...props,\n\t\tref,\n\t} );\n\n\tif ( typeof children !== 'function' ) {\n\t\twarning(\n\t\t\t'`ToolbarItem` is a generic headless component that accepts only function children props'\n\t\t);\n\t\treturn null;\n\t}\n\n\tif ( ! accessibleToolbarState ) {\n\t\twarning(\n\t\t\t'`ToolbarItem` should be rendered within `<Toolbar __experimentalAccessibilityLabel=\"label\">`'\n\t\t);\n\t\treturn null;\n\t}\n\n\treturn children( itemProps );\n}\n\nexport default forwardRef( ToolbarItem );\n","import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-959e870d.js';\nimport 'react';\nimport { useSealedState } from 'reakit-utils/useSealedState';\nimport 'reakit-utils/applyState';\nimport '../Id/IdProvider.js';\nimport '../Id/IdState.js';\nimport { u as unstable_useCompositeState } from '../CompositeState-de01a7f3.js';\n\nfunction useToolbarState(initialState) {\n  if (initialState === void 0) {\n    initialState = {};\n  }\n\n  var _useSealedState = useSealedState(initialState),\n      _useSealedState$orien = _useSealedState.orientation,\n      orientation = _useSealedState$orien === void 0 ? \"horizontal\" : _useSealedState$orien,\n      sealed = _objectWithoutPropertiesLoose(_useSealedState, [\"orientation\"]);\n\n  return unstable_useCompositeState(_objectSpread2({\n    orientation: orientation\n  }, sealed));\n}\nvar keys = [].concat(unstable_useCompositeState.__keys);\nuseToolbarState.__keys = keys;\n\nexport { useToolbarState };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\n/**\n * Given an instance of EquivalentKeyMap, returns its internal value pair tuple\n * for a key, if one exists. The tuple members consist of the last reference\n * value for the key (used in efficient subsequent lookups) and the value\n * assigned for the key at the leaf node.\n *\n * @param {EquivalentKeyMap} instance EquivalentKeyMap instance.\n * @param {*} key                     The key for which to return value pair.\n *\n * @return {?Array} Value pair, if exists.\n */\nfunction getValuePair(instance, key) {\n  var _map = instance._map,\n      _arrayTreeMap = instance._arrayTreeMap,\n      _objectTreeMap = instance._objectTreeMap; // Map keeps a reference to the last object-like key used to set the\n  // value, which can be used to shortcut immediately to the value.\n\n  if (_map.has(key)) {\n    return _map.get(key);\n  } // Sort keys to ensure stable retrieval from tree.\n\n\n  var properties = Object.keys(key).sort(); // Tree by type to avoid conflicts on numeric object keys, empty value.\n\n  var map = Array.isArray(key) ? _arrayTreeMap : _objectTreeMap;\n\n  for (var i = 0; i < properties.length; i++) {\n    var property = properties[i];\n    map = map.get(property);\n\n    if (map === undefined) {\n      return;\n    }\n\n    var propertyValue = key[property];\n    map = map.get(propertyValue);\n\n    if (map === undefined) {\n      return;\n    }\n  }\n\n  var valuePair = map.get('_ekm_value');\n\n  if (!valuePair) {\n    return;\n  } // If reached, it implies that an object-like key was set with another\n  // reference, so delete the reference and replace with the current.\n\n\n  _map.delete(valuePair[0]);\n\n  valuePair[0] = key;\n  map.set('_ekm_value', valuePair);\n\n  _map.set(key, valuePair);\n\n  return valuePair;\n}\n/**\n * Variant of a Map object which enables lookup by equivalent (deeply equal)\n * object and array keys.\n */\n\n\nvar EquivalentKeyMap =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Constructs a new instance of EquivalentKeyMap.\n   *\n   * @param {Iterable.<*>} iterable Initial pair of key, value for map.\n   */\n  function EquivalentKeyMap(iterable) {\n    _classCallCheck(this, EquivalentKeyMap);\n\n    this.clear();\n\n    if (iterable instanceof EquivalentKeyMap) {\n      // Map#forEach is only means of iterating with support for IE11.\n      var iterablePairs = [];\n      iterable.forEach(function (value, key) {\n        iterablePairs.push([key, value]);\n      });\n      iterable = iterablePairs;\n    }\n\n    if (iterable != null) {\n      for (var i = 0; i < iterable.length; i++) {\n        this.set(iterable[i][0], iterable[i][1]);\n      }\n    }\n  }\n  /**\n   * Accessor property returning the number of elements.\n   *\n   * @return {number} Number of elements.\n   */\n\n\n  _createClass(EquivalentKeyMap, [{\n    key: \"set\",\n\n    /**\n     * Add or update an element with a specified key and value.\n     *\n     * @param {*} key   The key of the element to add.\n     * @param {*} value The value of the element to add.\n     *\n     * @return {EquivalentKeyMap} Map instance.\n     */\n    value: function set(key, value) {\n      // Shortcut non-object-like to set on internal Map.\n      if (key === null || _typeof(key) !== 'object') {\n        this._map.set(key, value);\n\n        return this;\n      } // Sort keys to ensure stable assignment into tree.\n\n\n      var properties = Object.keys(key).sort();\n      var valuePair = [key, value]; // Tree by type to avoid conflicts on numeric object keys, empty value.\n\n      var map = Array.isArray(key) ? this._arrayTreeMap : this._objectTreeMap;\n\n      for (var i = 0; i < properties.length; i++) {\n        var property = properties[i];\n\n        if (!map.has(property)) {\n          map.set(property, new EquivalentKeyMap());\n        }\n\n        map = map.get(property);\n        var propertyValue = key[property];\n\n        if (!map.has(propertyValue)) {\n          map.set(propertyValue, new EquivalentKeyMap());\n        }\n\n        map = map.get(propertyValue);\n      } // If an _ekm_value exists, there was already an equivalent key. Before\n      // overriding, ensure that the old key reference is removed from map to\n      // avoid memory leak of accumulating equivalent keys. This is, in a\n      // sense, a poor man's WeakMap, while still enabling iterability.\n\n\n      var previousValuePair = map.get('_ekm_value');\n\n      if (previousValuePair) {\n        this._map.delete(previousValuePair[0]);\n      }\n\n      map.set('_ekm_value', valuePair);\n\n      this._map.set(key, valuePair);\n\n      return this;\n    }\n    /**\n     * Returns a specified element.\n     *\n     * @param {*} key The key of the element to return.\n     *\n     * @return {?*} The element associated with the specified key or undefined\n     *              if the key can't be found.\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      // Shortcut non-object-like to get from internal Map.\n      if (key === null || _typeof(key) !== 'object') {\n        return this._map.get(key);\n      }\n\n      var valuePair = getValuePair(this, key);\n\n      if (valuePair) {\n        return valuePair[1];\n      }\n    }\n    /**\n     * Returns a boolean indicating whether an element with the specified key\n     * exists or not.\n     *\n     * @param {*} key The key of the element to test for presence.\n     *\n     * @return {boolean} Whether an element with the specified key exists.\n     */\n\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      if (key === null || _typeof(key) !== 'object') {\n        return this._map.has(key);\n      } // Test on the _presence_ of the pair, not its value, as even undefined\n      // can be a valid member value for a key.\n\n\n      return getValuePair(this, key) !== undefined;\n    }\n    /**\n     * Removes the specified element.\n     *\n     * @param {*} key The key of the element to remove.\n     *\n     * @return {boolean} Returns true if an element existed and has been\n     *                   removed, or false if the element does not exist.\n     */\n\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      if (!this.has(key)) {\n        return false;\n      } // This naive implementation will leave orphaned child trees. A better\n      // implementation should traverse and remove orphans.\n\n\n      this.set(key, undefined);\n      return true;\n    }\n    /**\n     * Executes a provided function once per each key/value pair, in insertion\n     * order.\n     *\n     * @param {Function} callback Function to execute for each element.\n     * @param {*}        thisArg  Value to use as `this` when executing\n     *                            `callback`.\n     */\n\n  }, {\n    key: \"forEach\",\n    value: function forEach(callback) {\n      var _this = this;\n\n      var thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this;\n\n      this._map.forEach(function (value, key) {\n        // Unwrap value from object-like value pair.\n        if (key !== null && _typeof(key) === 'object') {\n          value = value[1];\n        }\n\n        callback.call(thisArg, value, key, _this);\n      });\n    }\n    /**\n     * Removes all elements.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._map = new Map();\n      this._arrayTreeMap = new Map();\n      this._objectTreeMap = new Map();\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this._map.size;\n    }\n  }]);\n\n  return EquivalentKeyMap;\n}();\n\nmodule.exports = EquivalentKeyMap;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","/* global window, exports, define */\n\n!function() {\n    'use strict'\n\n    var re = {\n        not_string: /[^s]/,\n        not_bool: /[^t]/,\n        not_type: /[^T]/,\n        not_primitive: /[^v]/,\n        number: /[diefg]/,\n        numeric_arg: /[bcdiefguxX]/,\n        json: /[j]/,\n        not_json: /[^j]/,\n        text: /^[^\\x25]+/,\n        modulo: /^\\x25{2}/,\n        placeholder: /^\\x25(?:([1-9]\\d*)\\$|\\(([^)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijostTuvxX])/,\n        key: /^([a-z_][a-z_\\d]*)/i,\n        key_access: /^\\.([a-z_][a-z_\\d]*)/i,\n        index_access: /^\\[(\\d+)\\]/,\n        sign: /^[+-]/\n    }\n\n    function sprintf(key) {\n        // `arguments` is not an array, but should be fine for this call\n        return sprintf_format(sprintf_parse(key), arguments)\n    }\n\n    function vsprintf(fmt, argv) {\n        return sprintf.apply(null, [fmt].concat(argv || []))\n    }\n\n    function sprintf_format(parse_tree, argv) {\n        var cursor = 1, tree_length = parse_tree.length, arg, output = '', i, k, ph, pad, pad_character, pad_length, is_positive, sign\n        for (i = 0; i < tree_length; i++) {\n            if (typeof parse_tree[i] === 'string') {\n                output += parse_tree[i]\n            }\n            else if (typeof parse_tree[i] === 'object') {\n                ph = parse_tree[i] // convenience purposes only\n                if (ph.keys) { // keyword argument\n                    arg = argv[cursor]\n                    for (k = 0; k < ph.keys.length; k++) {\n                        if (arg == undefined) {\n                            throw new Error(sprintf('[sprintf] Cannot access property \"%s\" of undefined value \"%s\"', ph.keys[k], ph.keys[k-1]))\n                        }\n                        arg = arg[ph.keys[k]]\n                    }\n                }\n                else if (ph.param_no) { // positional argument (explicit)\n                    arg = argv[ph.param_no]\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++]\n                }\n\n                if (re.not_type.test(ph.type) && re.not_primitive.test(ph.type) && arg instanceof Function) {\n                    arg = arg()\n                }\n\n                if (re.numeric_arg.test(ph.type) && (typeof arg !== 'number' && isNaN(arg))) {\n                    throw new TypeError(sprintf('[sprintf] expecting number but found %T', arg))\n                }\n\n                if (re.number.test(ph.type)) {\n                    is_positive = arg >= 0\n                }\n\n                switch (ph.type) {\n                    case 'b':\n                        arg = parseInt(arg, 10).toString(2)\n                        break\n                    case 'c':\n                        arg = String.fromCharCode(parseInt(arg, 10))\n                        break\n                    case 'd':\n                    case 'i':\n                        arg = parseInt(arg, 10)\n                        break\n                    case 'j':\n                        arg = JSON.stringify(arg, null, ph.width ? parseInt(ph.width) : 0)\n                        break\n                    case 'e':\n                        arg = ph.precision ? parseFloat(arg).toExponential(ph.precision) : parseFloat(arg).toExponential()\n                        break\n                    case 'f':\n                        arg = ph.precision ? parseFloat(arg).toFixed(ph.precision) : parseFloat(arg)\n                        break\n                    case 'g':\n                        arg = ph.precision ? String(Number(arg.toPrecision(ph.precision))) : parseFloat(arg)\n                        break\n                    case 'o':\n                        arg = (parseInt(arg, 10) >>> 0).toString(8)\n                        break\n                    case 's':\n                        arg = String(arg)\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 't':\n                        arg = String(!!arg)\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'T':\n                        arg = Object.prototype.toString.call(arg).slice(8, -1).toLowerCase()\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'u':\n                        arg = parseInt(arg, 10) >>> 0\n                        break\n                    case 'v':\n                        arg = arg.valueOf()\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'x':\n                        arg = (parseInt(arg, 10) >>> 0).toString(16)\n                        break\n                    case 'X':\n                        arg = (parseInt(arg, 10) >>> 0).toString(16).toUpperCase()\n                        break\n                }\n                if (re.json.test(ph.type)) {\n                    output += arg\n                }\n                else {\n                    if (re.number.test(ph.type) && (!is_positive || ph.sign)) {\n                        sign = is_positive ? '+' : '-'\n                        arg = arg.toString().replace(re.sign, '')\n                    }\n                    else {\n                        sign = ''\n                    }\n                    pad_character = ph.pad_char ? ph.pad_char === '0' ? '0' : ph.pad_char.charAt(1) : ' '\n                    pad_length = ph.width - (sign + arg).length\n                    pad = ph.width ? (pad_length > 0 ? pad_character.repeat(pad_length) : '') : ''\n                    output += ph.align ? sign + arg + pad : (pad_character === '0' ? sign + pad + arg : pad + sign + arg)\n                }\n            }\n        }\n        return output\n    }\n\n    var sprintf_cache = Object.create(null)\n\n    function sprintf_parse(fmt) {\n        if (sprintf_cache[fmt]) {\n            return sprintf_cache[fmt]\n        }\n\n        var _fmt = fmt, match, parse_tree = [], arg_names = 0\n        while (_fmt) {\n            if ((match = re.text.exec(_fmt)) !== null) {\n                parse_tree.push(match[0])\n            }\n            else if ((match = re.modulo.exec(_fmt)) !== null) {\n                parse_tree.push('%')\n            }\n            else if ((match = re.placeholder.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1\n                    var field_list = [], replacement_field = match[2], field_match = []\n                    if ((field_match = re.key.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1])\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = re.key_access.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1])\n                            }\n                            else if ((field_match = re.index_access.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1])\n                            }\n                            else {\n                                throw new SyntaxError('[sprintf] failed to parse named argument key')\n                            }\n                        }\n                    }\n                    else {\n                        throw new SyntaxError('[sprintf] failed to parse named argument key')\n                    }\n                    match[2] = field_list\n                }\n                else {\n                    arg_names |= 2\n                }\n                if (arg_names === 3) {\n                    throw new Error('[sprintf] mixing positional and named placeholders is not (yet) supported')\n                }\n\n                parse_tree.push(\n                    {\n                        placeholder: match[0],\n                        param_no:    match[1],\n                        keys:        match[2],\n                        sign:        match[3],\n                        pad_char:    match[4],\n                        align:       match[5],\n                        width:       match[6],\n                        precision:   match[7],\n                        type:        match[8]\n                    }\n                )\n            }\n            else {\n                throw new SyntaxError('[sprintf] unexpected placeholder')\n            }\n            _fmt = _fmt.substring(match[0].length)\n        }\n        return sprintf_cache[fmt] = parse_tree\n    }\n\n    /**\n     * export to either browser or node.js\n     */\n    /* eslint-disable quote-props */\n    if (typeof exports !== 'undefined') {\n        exports['sprintf'] = sprintf\n        exports['vsprintf'] = vsprintf\n    }\n    if (typeof window !== 'undefined') {\n        window['sprintf'] = sprintf\n        window['vsprintf'] = vsprintf\n\n        if (typeof define === 'function' && define['amd']) {\n            define(function() {\n                return {\n                    'sprintf': sprintf,\n                    'vsprintf': vsprintf\n                }\n            })\n        }\n    }\n    /* eslint-enable quote-props */\n}(); // eslint-disable-line\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","function isDev() {\n\treturn (\n\t\ttypeof process !== 'undefined' &&\n\t\tprocess.env &&\n\t\tprocess.env.NODE_ENV !== 'production'\n\t);\n}\n\n/**\n * Shows a warning with `message` if environment is not `production`.\n *\n * @param {string} message Message to show in the warning.\n *\n * @example\n * ```js\n * import warning from '@wordpress/warning';\n *\n * function MyComponent( props ) {\n *   if ( ! props.title ) {\n *     warning( '`props.title` was not passed' );\n *   }\n *   ...\n * }\n * ```\n */\nexport default function warning( message ) {\n\tif ( ! isDev() ) {\n\t\treturn;\n\t}\n\n\t// eslint-disable-next-line no-console\n\tconsole.warn( message );\n\n\t// Throwing an error and catching it immediately to improve debugging\n\t// A consumer can use 'pause on caught exceptions'\n\t// https://github.com/facebook/react/issues/4216\n\ttry {\n\t\tthrow Error( message );\n\t} catch ( x ) {\n\t\t// do nothing\n\t}\n}\n","// Copyright (c) 2014 Rafael Caricio. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nvar GradientParser = {};\n\nGradientParser.parse = (function() {\n\n  var tokens = {\n    linearGradient: /^(\\-(webkit|o|ms|moz)\\-)?(linear\\-gradient)/i,\n    repeatingLinearGradient: /^(\\-(webkit|o|ms|moz)\\-)?(repeating\\-linear\\-gradient)/i,\n    radialGradient: /^(\\-(webkit|o|ms|moz)\\-)?(radial\\-gradient)/i,\n    repeatingRadialGradient: /^(\\-(webkit|o|ms|moz)\\-)?(repeating\\-radial\\-gradient)/i,\n    sideOrCorner: /^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,\n    extentKeywords: /^(closest\\-side|closest\\-corner|farthest\\-side|farthest\\-corner|contain|cover)/,\n    positionKeywords: /^(left|center|right|top|bottom)/i,\n    pixelValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))px/,\n    percentageValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))\\%/,\n    emValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))em/,\n    angleValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))deg/,\n    startCall: /^\\(/,\n    endCall: /^\\)/,\n    comma: /^,/,\n    hexColor: /^\\#([0-9a-fA-F]+)/,\n    literalColor: /^([a-zA-Z]+)/,\n    rgbColor: /^rgb/i,\n    rgbaColor: /^rgba/i,\n    number: /^(([0-9]*\\.[0-9]+)|([0-9]+\\.?))/\n  };\n\n  var input = '';\n\n  function error(msg) {\n    var err = new Error(input + ': ' + msg);\n    err.source = input;\n    throw err;\n  }\n\n  function getAST() {\n    var ast = matchListDefinitions();\n\n    if (input.length > 0) {\n      error('Invalid input not EOF');\n    }\n\n    return ast;\n  }\n\n  function matchListDefinitions() {\n    return matchListing(matchDefinition);\n  }\n\n  function matchDefinition() {\n    return matchGradient(\n            'linear-gradient',\n            tokens.linearGradient,\n            matchLinearOrientation) ||\n\n          matchGradient(\n            'repeating-linear-gradient',\n            tokens.repeatingLinearGradient,\n            matchLinearOrientation) ||\n\n          matchGradient(\n            'radial-gradient',\n            tokens.radialGradient,\n            matchListRadialOrientations) ||\n\n          matchGradient(\n            'repeating-radial-gradient',\n            tokens.repeatingRadialGradient,\n            matchListRadialOrientations);\n  }\n\n  function matchGradient(gradientType, pattern, orientationMatcher) {\n    return matchCall(pattern, function(captures) {\n\n      var orientation = orientationMatcher();\n      if (orientation) {\n        if (!scan(tokens.comma)) {\n          error('Missing comma before color stops');\n        }\n      }\n\n      return {\n        type: gradientType,\n        orientation: orientation,\n        colorStops: matchListing(matchColorStop)\n      };\n    });\n  }\n\n  function matchCall(pattern, callback) {\n    var captures = scan(pattern);\n\n    if (captures) {\n      if (!scan(tokens.startCall)) {\n        error('Missing (');\n      }\n\n      result = callback(captures);\n\n      if (!scan(tokens.endCall)) {\n        error('Missing )');\n      }\n\n      return result;\n    }\n  }\n\n  function matchLinearOrientation() {\n    return matchSideOrCorner() ||\n      matchAngle();\n  }\n\n  function matchSideOrCorner() {\n    return match('directional', tokens.sideOrCorner, 1);\n  }\n\n  function matchAngle() {\n    return match('angular', tokens.angleValue, 1);\n  }\n\n  function matchListRadialOrientations() {\n    var radialOrientations,\n        radialOrientation = matchRadialOrientation(),\n        lookaheadCache;\n\n    if (radialOrientation) {\n      radialOrientations = [];\n      radialOrientations.push(radialOrientation);\n\n      lookaheadCache = input;\n      if (scan(tokens.comma)) {\n        radialOrientation = matchRadialOrientation();\n        if (radialOrientation) {\n          radialOrientations.push(radialOrientation);\n        } else {\n          input = lookaheadCache;\n        }\n      }\n    }\n\n    return radialOrientations;\n  }\n\n  function matchRadialOrientation() {\n    var radialType = matchCircle() ||\n      matchEllipse();\n\n    if (radialType) {\n      radialType.at = matchAtPosition();\n    } else {\n      var defaultPosition = matchPositioning();\n      if (defaultPosition) {\n        radialType = {\n          type: 'default-radial',\n          at: defaultPosition\n        };\n      }\n    }\n\n    return radialType;\n  }\n\n  function matchCircle() {\n    var circle = match('shape', /^(circle)/i, 0);\n\n    if (circle) {\n      circle.style = matchLength() || matchExtentKeyword();\n    }\n\n    return circle;\n  }\n\n  function matchEllipse() {\n    var ellipse = match('shape', /^(ellipse)/i, 0);\n\n    if (ellipse) {\n      ellipse.style =  matchDistance() || matchExtentKeyword();\n    }\n\n    return ellipse;\n  }\n\n  function matchExtentKeyword() {\n    return match('extent-keyword', tokens.extentKeywords, 1);\n  }\n\n  function matchAtPosition() {\n    if (match('position', /^at/, 0)) {\n      var positioning = matchPositioning();\n\n      if (!positioning) {\n        error('Missing positioning value');\n      }\n\n      return positioning;\n    }\n  }\n\n  function matchPositioning() {\n    var location = matchCoordinates();\n\n    if (location.x || location.y) {\n      return {\n        type: 'position',\n        value: location\n      };\n    }\n  }\n\n  function matchCoordinates() {\n    return {\n      x: matchDistance(),\n      y: matchDistance()\n    };\n  }\n\n  function matchListing(matcher) {\n    var captures = matcher(),\n      result = [];\n\n    if (captures) {\n      result.push(captures);\n      while (scan(tokens.comma)) {\n        captures = matcher();\n        if (captures) {\n          result.push(captures);\n        } else {\n          error('One extra comma');\n        }\n      }\n    }\n\n    return result;\n  }\n\n  function matchColorStop() {\n    var color = matchColor();\n\n    if (!color) {\n      error('Expected color definition');\n    }\n\n    color.length = matchDistance();\n    return color;\n  }\n\n  function matchColor() {\n    return matchHexColor() ||\n      matchRGBAColor() ||\n      matchRGBColor() ||\n      matchLiteralColor();\n  }\n\n  function matchLiteralColor() {\n    return match('literal', tokens.literalColor, 0);\n  }\n\n  function matchHexColor() {\n    return match('hex', tokens.hexColor, 1);\n  }\n\n  function matchRGBColor() {\n    return matchCall(tokens.rgbColor, function() {\n      return  {\n        type: 'rgb',\n        value: matchListing(matchNumber)\n      };\n    });\n  }\n\n  function matchRGBAColor() {\n    return matchCall(tokens.rgbaColor, function() {\n      return  {\n        type: 'rgba',\n        value: matchListing(matchNumber)\n      };\n    });\n  }\n\n  function matchNumber() {\n    return scan(tokens.number)[1];\n  }\n\n  function matchDistance() {\n    return match('%', tokens.percentageValue, 1) ||\n      matchPositionKeyword() ||\n      matchLength();\n  }\n\n  function matchPositionKeyword() {\n    return match('position-keyword', tokens.positionKeywords, 1);\n  }\n\n  function matchLength() {\n    return match('px', tokens.pixelValue, 1) ||\n      match('em', tokens.emValue, 1);\n  }\n\n  function match(type, pattern, captureIndex) {\n    var captures = scan(pattern);\n    if (captures) {\n      return {\n        type: type,\n        value: captures[captureIndex]\n      };\n    }\n  }\n\n  function scan(regexp) {\n    var captures,\n        blankCaptures;\n\n    blankCaptures = /^[\\n\\r\\t\\s]+/.exec(input);\n    if (blankCaptures) {\n        consume(blankCaptures[0].length);\n    }\n\n    captures = regexp.exec(input);\n    if (captures) {\n        consume(captures[0].length);\n    }\n\n    return captures;\n  }\n\n  function consume(size) {\n    input = input.substr(size);\n  }\n\n  return function(code) {\n    input = code.toString();\n    return getAST();\n  };\n})();\n\nexports.parse = (GradientParser || {}).parse;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createChannel = exports.subscribe = exports.cps = exports.apply = exports.call = exports.invoke = exports.delay = exports.race = exports.join = exports.fork = exports.error = exports.all = undefined;\n\nvar _keys = require('./keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar all = exports.all = function all(value) {\n  return {\n    type: _keys2.default.all,\n    value: value\n  };\n};\n\nvar error = exports.error = function error(err) {\n  return {\n    type: _keys2.default.error,\n    error: err\n  };\n};\n\nvar fork = exports.fork = function fork(iterator) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return {\n    type: _keys2.default.fork,\n    iterator: iterator,\n    args: args\n  };\n};\n\nvar join = exports.join = function join(task) {\n  return {\n    type: _keys2.default.join,\n    task: task\n  };\n};\n\nvar race = exports.race = function race(competitors) {\n  return {\n    type: _keys2.default.race,\n    competitors: competitors\n  };\n};\n\nvar delay = exports.delay = function delay(timeout) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      return resolve(true);\n    }, timeout);\n  });\n};\n\nvar invoke = exports.invoke = function invoke(func) {\n  for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return {\n    type: _keys2.default.call,\n    func: func,\n    context: null,\n    args: args\n  };\n};\n\nvar call = exports.call = function call(func, context) {\n  for (var _len3 = arguments.length, args = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    args[_key3 - 2] = arguments[_key3];\n  }\n\n  return {\n    type: _keys2.default.call,\n    func: func,\n    context: context,\n    args: args\n  };\n};\n\nvar apply = exports.apply = function apply(func, context, args) {\n  return {\n    type: _keys2.default.call,\n    func: func,\n    context: context,\n    args: args\n  };\n};\n\nvar cps = exports.cps = function cps(func) {\n  for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  return {\n    type: _keys2.default.cps,\n    func: func,\n    args: args\n  };\n};\n\nvar subscribe = exports.subscribe = function subscribe(channel) {\n  return {\n    type: _keys2.default.subscribe,\n    channel: channel\n  };\n};\n\nvar createChannel = exports.createChannel = function createChannel(callback) {\n  var listeners = [];\n  var subscribe = function subscribe(l) {\n    listeners.push(l);\n    return function () {\n      return listeners.splice(listeners.indexOf(l), 1);\n    };\n  };\n  var next = function next(val) {\n    return listeners.forEach(function (l) {\n      return l(val);\n    });\n  };\n  callback(next);\n\n  return {\n    subscribe: subscribe\n  };\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar keys = {\n  all: Symbol('all'),\n  error: Symbol('error'),\n  fork: Symbol('fork'),\n  join: Symbol('join'),\n  race: Symbol('race'),\n  call: Symbol('call'),\n  cps: Symbol('cps'),\n  subscribe: Symbol('subscribe')\n};\n\nexports.default = keys;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar util = require('./utils');\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = util.assign(\n    {\n        'default': Format.RFC3986,\n        formatters: {\n            RFC1738: function (value) {\n                return replace.call(value, percentTwenties, '+');\n            },\n            RFC3986: function (value) {\n                return String(value);\n            }\n        }\n    },\n    Format\n);\n","module.exports = ReactDOM;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.wrapControls = exports.asyncControls = exports.create = undefined;\n\nvar _helpers = require('./utils/helpers');\n\nObject.keys(_helpers).forEach(function (key) {\n  if (key === \"default\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _helpers[key];\n    }\n  });\n});\n\nvar _create = require('./create');\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _async = require('./controls/async');\n\nvar _async2 = _interopRequireDefault(_async);\n\nvar _wrap = require('./controls/wrap');\n\nvar _wrap2 = _interopRequireDefault(_wrap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.create = _create2.default;\nexports.asyncControls = _async2.default;\nexports.wrapControls = _wrap2.default;","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/**\n * Created by Tivie on 13-07-2015.\n */\n\nfunction getDefaultOpts (simple) {\n  'use strict';\n\n  var defaultOptions = {\n    omitExtraWLInCodeBlocks: {\n      defaultValue: false,\n      describe: 'Omit the default extra whiteline added to code blocks',\n      type: 'boolean'\n    },\n    noHeaderId: {\n      defaultValue: false,\n      describe: 'Turn on/off generated header id',\n      type: 'boolean'\n    },\n    prefixHeaderId: {\n      defaultValue: false,\n      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \\'section-\\' prefix',\n      type: 'string'\n    },\n    rawPrefixHeaderId: {\n      defaultValue: false,\n      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the \" char is used in the prefix)',\n      type: 'boolean'\n    },\n    ghCompatibleHeaderId: {\n      defaultValue: false,\n      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',\n      type: 'boolean'\n    },\n    rawHeaderId: {\n      defaultValue: false,\n      describe: 'Remove only spaces, \\' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',\n      type: 'boolean'\n    },\n    headerLevelStart: {\n      defaultValue: false,\n      describe: 'The header blocks level start',\n      type: 'integer'\n    },\n    parseImgDimensions: {\n      defaultValue: false,\n      describe: 'Turn on/off image dimension parsing',\n      type: 'boolean'\n    },\n    simplifiedAutoLink: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM autolink style',\n      type: 'boolean'\n    },\n    excludeTrailingPunctuationFromURLs: {\n      defaultValue: false,\n      describe: 'Excludes trailing punctuation from links generated with autoLinking',\n      type: 'boolean'\n    },\n    literalMidWordUnderscores: {\n      defaultValue: false,\n      describe: 'Parse midword underscores as literal underscores',\n      type: 'boolean'\n    },\n    literalMidWordAsterisks: {\n      defaultValue: false,\n      describe: 'Parse midword asterisks as literal asterisks',\n      type: 'boolean'\n    },\n    strikethrough: {\n      defaultValue: false,\n      describe: 'Turn on/off strikethrough support',\n      type: 'boolean'\n    },\n    tables: {\n      defaultValue: false,\n      describe: 'Turn on/off tables support',\n      type: 'boolean'\n    },\n    tablesHeaderId: {\n      defaultValue: false,\n      describe: 'Add an id to table headers',\n      type: 'boolean'\n    },\n    ghCodeBlocks: {\n      defaultValue: true,\n      describe: 'Turn on/off GFM fenced code blocks support',\n      type: 'boolean'\n    },\n    tasklists: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM tasklist support',\n      type: 'boolean'\n    },\n    smoothLivePreview: {\n      defaultValue: false,\n      describe: 'Prevents weird effects in live previews due to incomplete input',\n      type: 'boolean'\n    },\n    smartIndentationFix: {\n      defaultValue: false,\n      description: 'Tries to smartly fix indentation in es6 strings',\n      type: 'boolean'\n    },\n    disableForced4SpacesIndentedSublists: {\n      defaultValue: false,\n      description: 'Disables the requirement of indenting nested sublists by 4 spaces',\n      type: 'boolean'\n    },\n    simpleLineBreaks: {\n      defaultValue: false,\n      description: 'Parses simple line breaks as <br> (GFM Style)',\n      type: 'boolean'\n    },\n    requireSpaceBeforeHeadingText: {\n      defaultValue: false,\n      description: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',\n      type: 'boolean'\n    },\n    ghMentions: {\n      defaultValue: false,\n      description: 'Enables github @mentions',\n      type: 'boolean'\n    },\n    ghMentionsLink: {\n      defaultValue: 'https://github.com/{u}',\n      description: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',\n      type: 'string'\n    },\n    encodeEmails: {\n      defaultValue: true,\n      description: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',\n      type: 'boolean'\n    },\n    openLinksInNewWindow: {\n      defaultValue: false,\n      description: 'Open all links in new windows',\n      type: 'boolean'\n    },\n    backslashEscapesHTMLTags: {\n      defaultValue: false,\n      description: 'Support for HTML Tag escaping. ex: \\<div>foo\\</div>',\n      type: 'boolean'\n    },\n    emoji: {\n      defaultValue: false,\n      description: 'Enable emoji support. Ex: `this is a :smile: emoji`',\n      type: 'boolean'\n    },\n    underline: {\n      defaultValue: false,\n      description: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',\n      type: 'boolean'\n    },\n    completeHTMLDocument: {\n      defaultValue: false,\n      description: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',\n      type: 'boolean'\n    },\n    metadata: {\n      defaultValue: false,\n      description: 'Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).',\n      type: 'boolean'\n    },\n    splitAdjacentBlockquotes: {\n      defaultValue: false,\n      description: 'Split adjacent blockquote blocks',\n      type: 'boolean'\n    }\n  };\n  if (simple === false) {\n    return JSON.parse(JSON.stringify(defaultOptions));\n  }\n  var ret = {};\n  for (var opt in defaultOptions) {\n    if (defaultOptions.hasOwnProperty(opt)) {\n      ret[opt] = defaultOptions[opt].defaultValue;\n    }\n  }\n  return ret;\n}\n\nfunction allOptionsOn () {\n  'use strict';\n  var options = getDefaultOpts(true),\n      ret = {};\n  for (var opt in options) {\n    if (options.hasOwnProperty(opt)) {\n      ret[opt] = true;\n    }\n  }\n  return ret;\n}\n","/**\n * Created by Tivie on 06-01-2015.\n */\n\n// Private properties\nvar showdown = {},\n    parsers = {},\n    extensions = {},\n    globalOptions = getDefaultOpts(true),\n    setFlavor = 'vanilla',\n    flavor = {\n      github: {\n        omitExtraWLInCodeBlocks:              true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        disableForced4SpacesIndentedSublists: true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghCompatibleHeaderId:                 true,\n        ghMentions:                           true,\n        backslashEscapesHTMLTags:             true,\n        emoji:                                true,\n        splitAdjacentBlockquotes:             true\n      },\n      original: {\n        noHeaderId:                           true,\n        ghCodeBlocks:                         false\n      },\n      ghost: {\n        omitExtraWLInCodeBlocks:              true,\n        parseImgDimensions:                   true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        smoothLivePreview:                    true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghMentions:                           false,\n        encodeEmails:                         true\n      },\n      vanilla: getDefaultOpts(true),\n      allOn: allOptionsOn()\n    };\n\n/**\n * helper namespace\n * @type {{}}\n */\nshowdown.helper = {};\n\n/**\n * TODO LEGACY SUPPORT CODE\n * @type {{}}\n */\nshowdown.extensions = {};\n\n/**\n * Set a global option\n * @static\n * @param {string} key\n * @param {*} value\n * @returns {showdown}\n */\nshowdown.setOption = function (key, value) {\n  'use strict';\n  globalOptions[key] = value;\n  return this;\n};\n\n/**\n * Get a global option\n * @static\n * @param {string} key\n * @returns {*}\n */\nshowdown.getOption = function (key) {\n  'use strict';\n  return globalOptions[key];\n};\n\n/**\n * Get the global options\n * @static\n * @returns {{}}\n */\nshowdown.getOptions = function () {\n  'use strict';\n  return globalOptions;\n};\n\n/**\n * Reset global options to the default values\n * @static\n */\nshowdown.resetOptions = function () {\n  'use strict';\n  globalOptions = getDefaultOpts(true);\n};\n\n/**\n * Set the flavor showdown should use as default\n * @param {string} name\n */\nshowdown.setFlavor = function (name) {\n  'use strict';\n  if (!flavor.hasOwnProperty(name)) {\n    throw Error(name + ' flavor was not found');\n  }\n  showdown.resetOptions();\n  var preset = flavor[name];\n  setFlavor = name;\n  for (var option in preset) {\n    if (preset.hasOwnProperty(option)) {\n      globalOptions[option] = preset[option];\n    }\n  }\n};\n\n/**\n * Get the currently set flavor\n * @returns {string}\n */\nshowdown.getFlavor = function () {\n  'use strict';\n  return setFlavor;\n};\n\n/**\n * Get the options of a specified flavor. Returns undefined if the flavor was not found\n * @param {string} name Name of the flavor\n * @returns {{}|undefined}\n */\nshowdown.getFlavorOptions = function (name) {\n  'use strict';\n  if (flavor.hasOwnProperty(name)) {\n    return flavor[name];\n  }\n};\n\n/**\n * Get the default options\n * @static\n * @param {boolean} [simple=true]\n * @returns {{}}\n */\nshowdown.getDefaultOptions = function (simple) {\n  'use strict';\n  return getDefaultOpts(simple);\n};\n\n/**\n * Get or set a subParser\n *\n * subParser(name)       - Get a registered subParser\n * subParser(name, func) - Register a subParser\n * @static\n * @param {string} name\n * @param {function} [func]\n * @returns {*}\n */\nshowdown.subParser = function (name, func) {\n  'use strict';\n  if (showdown.helper.isString(name)) {\n    if (typeof func !== 'undefined') {\n      parsers[name] = func;\n    } else {\n      if (parsers.hasOwnProperty(name)) {\n        return parsers[name];\n      } else {\n        throw Error('SubParser named ' + name + ' not registered!');\n      }\n    }\n  }\n};\n\n/**\n * Gets or registers an extension\n * @static\n * @param {string} name\n * @param {object|function=} ext\n * @returns {*}\n */\nshowdown.extension = function (name, ext) {\n  'use strict';\n\n  if (!showdown.helper.isString(name)) {\n    throw Error('Extension \\'name\\' must be a string');\n  }\n\n  name = showdown.helper.stdExtName(name);\n\n  // Getter\n  if (showdown.helper.isUndefined(ext)) {\n    if (!extensions.hasOwnProperty(name)) {\n      throw Error('Extension named ' + name + ' is not registered!');\n    }\n    return extensions[name];\n\n    // Setter\n  } else {\n    // Expand extension if it's wrapped in a function\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    // Ensure extension is an array\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExtension = validate(ext, name);\n\n    if (validExtension.valid) {\n      extensions[name] = ext;\n    } else {\n      throw Error(validExtension.error);\n    }\n  }\n};\n\n/**\n * Gets all extensions registered\n * @returns {{}}\n */\nshowdown.getAllExtensions = function () {\n  'use strict';\n  return extensions;\n};\n\n/**\n * Remove an extension\n * @param {string} name\n */\nshowdown.removeExtension = function (name) {\n  'use strict';\n  delete extensions[name];\n};\n\n/**\n * Removes all extensions\n */\nshowdown.resetExtensions = function () {\n  'use strict';\n  extensions = {};\n};\n\n/**\n * Validate extension\n * @param {array} extension\n * @param {string} name\n * @returns {{valid: boolean, error: string}}\n */\nfunction validate (extension, name) {\n  'use strict';\n\n  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',\n      ret = {\n        valid: true,\n        error: ''\n      };\n\n  if (!showdown.helper.isArray(extension)) {\n    extension = [extension];\n  }\n\n  for (var i = 0; i < extension.length; ++i) {\n    var baseMsg = errMsg + ' sub-extension ' + i + ': ',\n        ext = extension[i];\n    if (typeof ext !== 'object') {\n      ret.valid = false;\n      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';\n      return ret;\n    }\n\n    if (!showdown.helper.isString(ext.type)) {\n      ret.valid = false;\n      ret.error = baseMsg + 'property \"type\" must be a string, but ' + typeof ext.type + ' given';\n      return ret;\n    }\n\n    var type = ext.type = ext.type.toLowerCase();\n\n    // normalize extension type\n    if (type === 'language') {\n      type = ext.type = 'lang';\n    }\n\n    if (type === 'html') {\n      type = ext.type = 'output';\n    }\n\n    if (type !== 'lang' && type !== 'output' && type !== 'listener') {\n      ret.valid = false;\n      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: \"lang/language\", \"output/html\" or \"listener\"';\n      return ret;\n    }\n\n    if (type === 'listener') {\n      if (showdown.helper.isUndefined(ext.listeners)) {\n        ret.valid = false;\n        ret.error = baseMsg + '. Extensions of type \"listener\" must have a property called \"listeners\"';\n        return ret;\n      }\n    } else {\n      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {\n        ret.valid = false;\n        ret.error = baseMsg + type + ' extensions must define either a \"regex\" property or a \"filter\" method';\n        return ret;\n      }\n    }\n\n    if (ext.listeners) {\n      if (typeof ext.listeners !== 'object') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"listeners\" property must be an object but ' + typeof ext.listeners + ' given';\n        return ret;\n      }\n      for (var ln in ext.listeners) {\n        if (ext.listeners.hasOwnProperty(ln)) {\n          if (typeof ext.listeners[ln] !== 'function') {\n            ret.valid = false;\n            ret.error = baseMsg + '\"listeners\" property must be an hash of [event name]: [callback]. listeners.' + ln +\n              ' must be a function but ' + typeof ext.listeners[ln] + ' given';\n            return ret;\n          }\n        }\n      }\n    }\n\n    if (ext.filter) {\n      if (typeof ext.filter !== 'function') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"filter\" must be a function, but ' + typeof ext.filter + ' given';\n        return ret;\n      }\n    } else if (ext.regex) {\n      if (showdown.helper.isString(ext.regex)) {\n        ext.regex = new RegExp(ext.regex, 'g');\n      }\n      if (!(ext.regex instanceof RegExp)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';\n        return ret;\n      }\n      if (showdown.helper.isUndefined(ext.replace)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" extensions must implement a replace string or function';\n        return ret;\n      }\n    }\n  }\n  return ret;\n}\n\n/**\n * Validate extension\n * @param {object} ext\n * @returns {boolean}\n */\nshowdown.validateExtension = function (ext) {\n  'use strict';\n\n  var validateExtension = validate(ext, null);\n  if (!validateExtension.valid) {\n    console.warn(validateExtension.error);\n    return false;\n  }\n  return true;\n};\n","/**\n * showdownjs helper functions\n */\n\nif (!showdown.hasOwnProperty('helper')) {\n  showdown.helper = {};\n}\n\n/**\n * Check if var is string\n * @static\n * @param {string} a\n * @returns {boolean}\n */\nshowdown.helper.isString = function (a) {\n  'use strict';\n  return (typeof a === 'string' || a instanceof String);\n};\n\n/**\n * Check if var is a function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isFunction = function (a) {\n  'use strict';\n  var getType = {};\n  return a && getType.toString.call(a) === '[object Function]';\n};\n\n/**\n * isArray helper function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isArray = function (a) {\n  'use strict';\n  return Array.isArray(a);\n};\n\n/**\n * Check if value is undefined\n * @static\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n */\nshowdown.helper.isUndefined = function (value) {\n  'use strict';\n  return typeof value === 'undefined';\n};\n\n/**\n * ForEach helper function\n * Iterates over Arrays and Objects (own properties only)\n * @static\n * @param {*} obj\n * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object\n */\nshowdown.helper.forEach = function (obj, callback) {\n  'use strict';\n  // check if obj is defined\n  if (showdown.helper.isUndefined(obj)) {\n    throw new Error('obj param is required');\n  }\n\n  if (showdown.helper.isUndefined(callback)) {\n    throw new Error('callback param is required');\n  }\n\n  if (!showdown.helper.isFunction(callback)) {\n    throw new Error('callback param must be a function/closure');\n  }\n\n  if (typeof obj.forEach === 'function') {\n    obj.forEach(callback);\n  } else if (showdown.helper.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      callback(obj[i], i, obj);\n    }\n  } else if (typeof (obj) === 'object') {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        callback(obj[prop], prop, obj);\n      }\n    }\n  } else {\n    throw new Error('obj does not seem to be an array or an iterable object');\n  }\n};\n\n/**\n * Standardidize extension name\n * @static\n * @param {string} s extension name\n * @returns {string}\n */\nshowdown.helper.stdExtName = function (s) {\n  'use strict';\n  return s.replace(/[_?*+\\/\\\\.^-]/g, '').replace(/\\s/g, '').toLowerCase();\n};\n\nfunction escapeCharactersCallback (wholeMatch, m1) {\n  'use strict';\n  var charCodeToEscape = m1.charCodeAt(0);\n  return '¨E' + charCodeToEscape + 'E';\n}\n\n/**\n * Callback used to escape characters when passing through String.replace\n * @static\n * @param {string} wholeMatch\n * @param {string} m1\n * @returns {string}\n */\nshowdown.helper.escapeCharactersCallback = escapeCharactersCallback;\n\n/**\n * Escape characters in a string\n * @static\n * @param {string} text\n * @param {string} charsToEscape\n * @param {boolean} afterBackslash\n * @returns {XML|string|void|*}\n */\nshowdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {\n  'use strict';\n  // First we have to escape the escape characters so that\n  // we can build a character class out of them\n  var regexString = '([' + charsToEscape.replace(/([\\[\\]\\\\])/g, '\\\\$1') + '])';\n\n  if (afterBackslash) {\n    regexString = '\\\\\\\\' + regexString;\n  }\n\n  var regex = new RegExp(regexString, 'g');\n  text = text.replace(regex, escapeCharactersCallback);\n\n  return text;\n};\n\n/**\n * Unescape HTML entities\n * @param txt\n * @returns {string}\n */\nshowdown.helper.unescapeHTMLEntities = function (txt) {\n  'use strict';\n\n  return txt\n    .replace(/&quot;/g, '\"')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&amp;/g, '&');\n};\n\nvar rgxFindMatchPos = function (str, left, right, flags) {\n  'use strict';\n  var f = flags || '',\n      g = f.indexOf('g') > -1,\n      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),\n      l = new RegExp(left, f.replace(/g/g, '')),\n      pos = [],\n      t, s, m, start, end;\n\n  do {\n    t = 0;\n    while ((m = x.exec(str))) {\n      if (l.test(m[0])) {\n        if (!(t++)) {\n          s = x.lastIndex;\n          start = s - m[0].length;\n        }\n      } else if (t) {\n        if (!--t) {\n          end = m.index + m[0].length;\n          var obj = {\n            left: {start: start, end: s},\n            match: {start: s, end: m.index},\n            right: {start: m.index, end: end},\n            wholeMatch: {start: start, end: end}\n          };\n          pos.push(obj);\n          if (!g) {\n            return pos;\n          }\n        }\n      }\n    }\n  } while (t && (x.lastIndex = s));\n\n  return pos;\n};\n\n/**\n * matchRecursiveRegExp\n *\n * (c) 2007 Steven Levithan <stevenlevithan.com>\n * MIT License\n *\n * Accepts a string to search, a left and right format delimiter\n * as regex patterns, and optional regex flags. Returns an array\n * of matches, allowing nested instances of left/right delimiters.\n * Use the \"g\" flag to return all matches, otherwise only the\n * first is returned. Be careful to ensure that the left and\n * right format delimiters produce mutually exclusive matches.\n * Backreferences are not supported within the right delimiter\n * due to how it is internally combined with the left delimiter.\n * When matching strings whose format delimiters are unbalanced\n * to the left or right, the output is intentionally as a\n * conventional regex library with recursion support would\n * produce, e.g. \"<<x>\" and \"<x>>\" both produce [\"x\"] when using\n * \"<\" and \">\" as the delimiters (both strings contain a single,\n * balanced instance of \"<x>\").\n *\n * examples:\n * matchRecursiveRegExp(\"test\", \"\\\\(\", \"\\\\)\")\n * returns: []\n * matchRecursiveRegExp(\"<t<<e>><s>>t<>\", \"<\", \">\", \"g\")\n * returns: [\"t<<e>><s>\", \"\"]\n * matchRecursiveRegExp(\"<div id=\\\"x\\\">test</div>\", \"<div\\\\b[^>]*>\", \"</div>\", \"gi\")\n * returns: [\"test\"]\n */\nshowdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {\n  'use strict';\n\n  var matchPos = rgxFindMatchPos (str, left, right, flags),\n      results = [];\n\n  for (var i = 0; i < matchPos.length; ++i) {\n    results.push([\n      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n      str.slice(matchPos[i].match.start, matchPos[i].match.end),\n      str.slice(matchPos[i].left.start, matchPos[i].left.end),\n      str.slice(matchPos[i].right.start, matchPos[i].right.end)\n    ]);\n  }\n  return results;\n};\n\n/**\n *\n * @param {string} str\n * @param {string|function} replacement\n * @param {string} left\n * @param {string} right\n * @param {string} flags\n * @returns {string}\n */\nshowdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {\n  'use strict';\n\n  if (!showdown.helper.isFunction(replacement)) {\n    var repStr = replacement;\n    replacement = function () {\n      return repStr;\n    };\n  }\n\n  var matchPos = rgxFindMatchPos(str, left, right, flags),\n      finalStr = str,\n      lng = matchPos.length;\n\n  if (lng > 0) {\n    var bits = [];\n    if (matchPos[0].wholeMatch.start !== 0) {\n      bits.push(str.slice(0, matchPos[0].wholeMatch.start));\n    }\n    for (var i = 0; i < lng; ++i) {\n      bits.push(\n        replacement(\n          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n          str.slice(matchPos[i].match.start, matchPos[i].match.end),\n          str.slice(matchPos[i].left.start, matchPos[i].left.end),\n          str.slice(matchPos[i].right.start, matchPos[i].right.end)\n        )\n      );\n      if (i < lng - 1) {\n        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));\n      }\n    }\n    if (matchPos[lng - 1].wholeMatch.end < str.length) {\n      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));\n    }\n    finalStr = bits.join('');\n  }\n  return finalStr;\n};\n\n/**\n * Returns the index within the passed String object of the first occurrence of the specified regex,\n * starting the search at fromIndex. Returns -1 if the value is not found.\n *\n * @param {string} str string to search\n * @param {RegExp} regex Regular expression to search\n * @param {int} [fromIndex = 0] Index to start the search\n * @returns {Number}\n * @throws InvalidArgumentError\n */\nshowdown.helper.regexIndexOf = function (str, regex, fromIndex) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  if (regex instanceof RegExp === false) {\n    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';\n  }\n  var indexOf = str.substring(fromIndex || 0).search(regex);\n  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;\n};\n\n/**\n * Splits the passed string object at the defined index, and returns an array composed of the two substrings\n * @param {string} str string to split\n * @param {int} index index to split string at\n * @returns {[string,string]}\n * @throws InvalidArgumentError\n */\nshowdown.helper.splitAtIndex = function (str, index) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  return [str.substring(0, index), str.substring(index)];\n};\n\n/**\n * Obfuscate an e-mail address through the use of Character Entities,\n * transforming ASCII characters into their equivalent decimal or hex entities.\n *\n * Since it has a random component, subsequent calls to this function produce different results\n *\n * @param {string} mail\n * @returns {string}\n */\nshowdown.helper.encodeEmailAddress = function (mail) {\n  'use strict';\n  var encode = [\n    function (ch) {\n      return '&#' + ch.charCodeAt(0) + ';';\n    },\n    function (ch) {\n      return '&#x' + ch.charCodeAt(0).toString(16) + ';';\n    },\n    function (ch) {\n      return ch;\n    }\n  ];\n\n  mail = mail.replace(/./g, function (ch) {\n    if (ch === '@') {\n      // this *must* be encoded. I insist.\n      ch = encode[Math.floor(Math.random() * 2)](ch);\n    } else {\n      var r = Math.random();\n      // roughly 10% raw, 45% hex, 45% dec\n      ch = (\n        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)\n      );\n    }\n    return ch;\n  });\n\n  return mail;\n};\n\n/**\n *\n * @param str\n * @param targetLength\n * @param padString\n * @returns {string}\n */\nshowdown.helper.padEnd = function padEnd (str, targetLength, padString) {\n  'use strict';\n  /*jshint bitwise: false*/\n  // eslint-disable-next-line space-infix-ops\n  targetLength = targetLength>>0; //floor if number or convert non-number to 0;\n  /*jshint bitwise: true*/\n  padString = String(padString || ' ');\n  if (str.length > targetLength) {\n    return String(str);\n  } else {\n    targetLength = targetLength - str.length;\n    if (targetLength > padString.length) {\n      padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\n    }\n    return String(str) + padString.slice(0,targetLength);\n  }\n};\n\n/**\n * POLYFILLS\n */\n// use this instead of builtin is undefined for IE8 compatibility\nif (typeof console === 'undefined') {\n  console = {\n    warn: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    log: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    error: function (msg) {\n      'use strict';\n      throw msg;\n    }\n  };\n}\n\n/**\n * Common regexes.\n * We declare some common regexes to improve performance\n */\nshowdown.helper.regexes = {\n  asteriskDashAndColon: /([*_:~])/g\n};\n\n/**\n * EMOJIS LIST\n */\nshowdown.helper.emojis = {\n  '+1':'\\ud83d\\udc4d',\n  '-1':'\\ud83d\\udc4e',\n  '100':'\\ud83d\\udcaf',\n  '1234':'\\ud83d\\udd22',\n  '1st_place_medal':'\\ud83e\\udd47',\n  '2nd_place_medal':'\\ud83e\\udd48',\n  '3rd_place_medal':'\\ud83e\\udd49',\n  '8ball':'\\ud83c\\udfb1',\n  'a':'\\ud83c\\udd70\\ufe0f',\n  'ab':'\\ud83c\\udd8e',\n  'abc':'\\ud83d\\udd24',\n  'abcd':'\\ud83d\\udd21',\n  'accept':'\\ud83c\\ude51',\n  'aerial_tramway':'\\ud83d\\udea1',\n  'airplane':'\\u2708\\ufe0f',\n  'alarm_clock':'\\u23f0',\n  'alembic':'\\u2697\\ufe0f',\n  'alien':'\\ud83d\\udc7d',\n  'ambulance':'\\ud83d\\ude91',\n  'amphora':'\\ud83c\\udffa',\n  'anchor':'\\u2693\\ufe0f',\n  'angel':'\\ud83d\\udc7c',\n  'anger':'\\ud83d\\udca2',\n  'angry':'\\ud83d\\ude20',\n  'anguished':'\\ud83d\\ude27',\n  'ant':'\\ud83d\\udc1c',\n  'apple':'\\ud83c\\udf4e',\n  'aquarius':'\\u2652\\ufe0f',\n  'aries':'\\u2648\\ufe0f',\n  'arrow_backward':'\\u25c0\\ufe0f',\n  'arrow_double_down':'\\u23ec',\n  'arrow_double_up':'\\u23eb',\n  'arrow_down':'\\u2b07\\ufe0f',\n  'arrow_down_small':'\\ud83d\\udd3d',\n  'arrow_forward':'\\u25b6\\ufe0f',\n  'arrow_heading_down':'\\u2935\\ufe0f',\n  'arrow_heading_up':'\\u2934\\ufe0f',\n  'arrow_left':'\\u2b05\\ufe0f',\n  'arrow_lower_left':'\\u2199\\ufe0f',\n  'arrow_lower_right':'\\u2198\\ufe0f',\n  'arrow_right':'\\u27a1\\ufe0f',\n  'arrow_right_hook':'\\u21aa\\ufe0f',\n  'arrow_up':'\\u2b06\\ufe0f',\n  'arrow_up_down':'\\u2195\\ufe0f',\n  'arrow_up_small':'\\ud83d\\udd3c',\n  'arrow_upper_left':'\\u2196\\ufe0f',\n  'arrow_upper_right':'\\u2197\\ufe0f',\n  'arrows_clockwise':'\\ud83d\\udd03',\n  'arrows_counterclockwise':'\\ud83d\\udd04',\n  'art':'\\ud83c\\udfa8',\n  'articulated_lorry':'\\ud83d\\ude9b',\n  'artificial_satellite':'\\ud83d\\udef0',\n  'astonished':'\\ud83d\\ude32',\n  'athletic_shoe':'\\ud83d\\udc5f',\n  'atm':'\\ud83c\\udfe7',\n  'atom_symbol':'\\u269b\\ufe0f',\n  'avocado':'\\ud83e\\udd51',\n  'b':'\\ud83c\\udd71\\ufe0f',\n  'baby':'\\ud83d\\udc76',\n  'baby_bottle':'\\ud83c\\udf7c',\n  'baby_chick':'\\ud83d\\udc24',\n  'baby_symbol':'\\ud83d\\udebc',\n  'back':'\\ud83d\\udd19',\n  'bacon':'\\ud83e\\udd53',\n  'badminton':'\\ud83c\\udff8',\n  'baggage_claim':'\\ud83d\\udec4',\n  'baguette_bread':'\\ud83e\\udd56',\n  'balance_scale':'\\u2696\\ufe0f',\n  'balloon':'\\ud83c\\udf88',\n  'ballot_box':'\\ud83d\\uddf3',\n  'ballot_box_with_check':'\\u2611\\ufe0f',\n  'bamboo':'\\ud83c\\udf8d',\n  'banana':'\\ud83c\\udf4c',\n  'bangbang':'\\u203c\\ufe0f',\n  'bank':'\\ud83c\\udfe6',\n  'bar_chart':'\\ud83d\\udcca',\n  'barber':'\\ud83d\\udc88',\n  'baseball':'\\u26be\\ufe0f',\n  'basketball':'\\ud83c\\udfc0',\n  'basketball_man':'\\u26f9\\ufe0f',\n  'basketball_woman':'\\u26f9\\ufe0f&zwj;\\u2640\\ufe0f',\n  'bat':'\\ud83e\\udd87',\n  'bath':'\\ud83d\\udec0',\n  'bathtub':'\\ud83d\\udec1',\n  'battery':'\\ud83d\\udd0b',\n  'beach_umbrella':'\\ud83c\\udfd6',\n  'bear':'\\ud83d\\udc3b',\n  'bed':'\\ud83d\\udecf',\n  'bee':'\\ud83d\\udc1d',\n  'beer':'\\ud83c\\udf7a',\n  'beers':'\\ud83c\\udf7b',\n  'beetle':'\\ud83d\\udc1e',\n  'beginner':'\\ud83d\\udd30',\n  'bell':'\\ud83d\\udd14',\n  'bellhop_bell':'\\ud83d\\udece',\n  'bento':'\\ud83c\\udf71',\n  'biking_man':'\\ud83d\\udeb4',\n  'bike':'\\ud83d\\udeb2',\n  'biking_woman':'\\ud83d\\udeb4&zwj;\\u2640\\ufe0f',\n  'bikini':'\\ud83d\\udc59',\n  'biohazard':'\\u2623\\ufe0f',\n  'bird':'\\ud83d\\udc26',\n  'birthday':'\\ud83c\\udf82',\n  'black_circle':'\\u26ab\\ufe0f',\n  'black_flag':'\\ud83c\\udff4',\n  'black_heart':'\\ud83d\\udda4',\n  'black_joker':'\\ud83c\\udccf',\n  'black_large_square':'\\u2b1b\\ufe0f',\n  'black_medium_small_square':'\\u25fe\\ufe0f',\n  'black_medium_square':'\\u25fc\\ufe0f',\n  'black_nib':'\\u2712\\ufe0f',\n  'black_small_square':'\\u25aa\\ufe0f',\n  'black_square_button':'\\ud83d\\udd32',\n  'blonde_man':'\\ud83d\\udc71',\n  'blonde_woman':'\\ud83d\\udc71&zwj;\\u2640\\ufe0f',\n  'blossom':'\\ud83c\\udf3c',\n  'blowfish':'\\ud83d\\udc21',\n  'blue_book':'\\ud83d\\udcd8',\n  'blue_car':'\\ud83d\\ude99',\n  'blue_heart':'\\ud83d\\udc99',\n  'blush':'\\ud83d\\ude0a',\n  'boar':'\\ud83d\\udc17',\n  'boat':'\\u26f5\\ufe0f',\n  'bomb':'\\ud83d\\udca3',\n  'book':'\\ud83d\\udcd6',\n  'bookmark':'\\ud83d\\udd16',\n  'bookmark_tabs':'\\ud83d\\udcd1',\n  'books':'\\ud83d\\udcda',\n  'boom':'\\ud83d\\udca5',\n  'boot':'\\ud83d\\udc62',\n  'bouquet':'\\ud83d\\udc90',\n  'bowing_man':'\\ud83d\\ude47',\n  'bow_and_arrow':'\\ud83c\\udff9',\n  'bowing_woman':'\\ud83d\\ude47&zwj;\\u2640\\ufe0f',\n  'bowling':'\\ud83c\\udfb3',\n  'boxing_glove':'\\ud83e\\udd4a',\n  'boy':'\\ud83d\\udc66',\n  'bread':'\\ud83c\\udf5e',\n  'bride_with_veil':'\\ud83d\\udc70',\n  'bridge_at_night':'\\ud83c\\udf09',\n  'briefcase':'\\ud83d\\udcbc',\n  'broken_heart':'\\ud83d\\udc94',\n  'bug':'\\ud83d\\udc1b',\n  'building_construction':'\\ud83c\\udfd7',\n  'bulb':'\\ud83d\\udca1',\n  'bullettrain_front':'\\ud83d\\ude85',\n  'bullettrain_side':'\\ud83d\\ude84',\n  'burrito':'\\ud83c\\udf2f',\n  'bus':'\\ud83d\\ude8c',\n  'business_suit_levitating':'\\ud83d\\udd74',\n  'busstop':'\\ud83d\\ude8f',\n  'bust_in_silhouette':'\\ud83d\\udc64',\n  'busts_in_silhouette':'\\ud83d\\udc65',\n  'butterfly':'\\ud83e\\udd8b',\n  'cactus':'\\ud83c\\udf35',\n  'cake':'\\ud83c\\udf70',\n  'calendar':'\\ud83d\\udcc6',\n  'call_me_hand':'\\ud83e\\udd19',\n  'calling':'\\ud83d\\udcf2',\n  'camel':'\\ud83d\\udc2b',\n  'camera':'\\ud83d\\udcf7',\n  'camera_flash':'\\ud83d\\udcf8',\n  'camping':'\\ud83c\\udfd5',\n  'cancer':'\\u264b\\ufe0f',\n  'candle':'\\ud83d\\udd6f',\n  'candy':'\\ud83c\\udf6c',\n  'canoe':'\\ud83d\\udef6',\n  'capital_abcd':'\\ud83d\\udd20',\n  'capricorn':'\\u2651\\ufe0f',\n  'car':'\\ud83d\\ude97',\n  'card_file_box':'\\ud83d\\uddc3',\n  'card_index':'\\ud83d\\udcc7',\n  'card_index_dividers':'\\ud83d\\uddc2',\n  'carousel_horse':'\\ud83c\\udfa0',\n  'carrot':'\\ud83e\\udd55',\n  'cat':'\\ud83d\\udc31',\n  'cat2':'\\ud83d\\udc08',\n  'cd':'\\ud83d\\udcbf',\n  'chains':'\\u26d3',\n  'champagne':'\\ud83c\\udf7e',\n  'chart':'\\ud83d\\udcb9',\n  'chart_with_downwards_trend':'\\ud83d\\udcc9',\n  'chart_with_upwards_trend':'\\ud83d\\udcc8',\n  'checkered_flag':'\\ud83c\\udfc1',\n  'cheese':'\\ud83e\\uddc0',\n  'cherries':'\\ud83c\\udf52',\n  'cherry_blossom':'\\ud83c\\udf38',\n  'chestnut':'\\ud83c\\udf30',\n  'chicken':'\\ud83d\\udc14',\n  'children_crossing':'\\ud83d\\udeb8',\n  'chipmunk':'\\ud83d\\udc3f',\n  'chocolate_bar':'\\ud83c\\udf6b',\n  'christmas_tree':'\\ud83c\\udf84',\n  'church':'\\u26ea\\ufe0f',\n  'cinema':'\\ud83c\\udfa6',\n  'circus_tent':'\\ud83c\\udfaa',\n  'city_sunrise':'\\ud83c\\udf07',\n  'city_sunset':'\\ud83c\\udf06',\n  'cityscape':'\\ud83c\\udfd9',\n  'cl':'\\ud83c\\udd91',\n  'clamp':'\\ud83d\\udddc',\n  'clap':'\\ud83d\\udc4f',\n  'clapper':'\\ud83c\\udfac',\n  'classical_building':'\\ud83c\\udfdb',\n  'clinking_glasses':'\\ud83e\\udd42',\n  'clipboard':'\\ud83d\\udccb',\n  'clock1':'\\ud83d\\udd50',\n  'clock10':'\\ud83d\\udd59',\n  'clock1030':'\\ud83d\\udd65',\n  'clock11':'\\ud83d\\udd5a',\n  'clock1130':'\\ud83d\\udd66',\n  'clock12':'\\ud83d\\udd5b',\n  'clock1230':'\\ud83d\\udd67',\n  'clock130':'\\ud83d\\udd5c',\n  'clock2':'\\ud83d\\udd51',\n  'clock230':'\\ud83d\\udd5d',\n  'clock3':'\\ud83d\\udd52',\n  'clock330':'\\ud83d\\udd5e',\n  'clock4':'\\ud83d\\udd53',\n  'clock430':'\\ud83d\\udd5f',\n  'clock5':'\\ud83d\\udd54',\n  'clock530':'\\ud83d\\udd60',\n  'clock6':'\\ud83d\\udd55',\n  'clock630':'\\ud83d\\udd61',\n  'clock7':'\\ud83d\\udd56',\n  'clock730':'\\ud83d\\udd62',\n  'clock8':'\\ud83d\\udd57',\n  'clock830':'\\ud83d\\udd63',\n  'clock9':'\\ud83d\\udd58',\n  'clock930':'\\ud83d\\udd64',\n  'closed_book':'\\ud83d\\udcd5',\n  'closed_lock_with_key':'\\ud83d\\udd10',\n  'closed_umbrella':'\\ud83c\\udf02',\n  'cloud':'\\u2601\\ufe0f',\n  'cloud_with_lightning':'\\ud83c\\udf29',\n  'cloud_with_lightning_and_rain':'\\u26c8',\n  'cloud_with_rain':'\\ud83c\\udf27',\n  'cloud_with_snow':'\\ud83c\\udf28',\n  'clown_face':'\\ud83e\\udd21',\n  'clubs':'\\u2663\\ufe0f',\n  'cocktail':'\\ud83c\\udf78',\n  'coffee':'\\u2615\\ufe0f',\n  'coffin':'\\u26b0\\ufe0f',\n  'cold_sweat':'\\ud83d\\ude30',\n  'comet':'\\u2604\\ufe0f',\n  'computer':'\\ud83d\\udcbb',\n  'computer_mouse':'\\ud83d\\uddb1',\n  'confetti_ball':'\\ud83c\\udf8a',\n  'confounded':'\\ud83d\\ude16',\n  'confused':'\\ud83d\\ude15',\n  'congratulations':'\\u3297\\ufe0f',\n  'construction':'\\ud83d\\udea7',\n  'construction_worker_man':'\\ud83d\\udc77',\n  'construction_worker_woman':'\\ud83d\\udc77&zwj;\\u2640\\ufe0f',\n  'control_knobs':'\\ud83c\\udf9b',\n  'convenience_store':'\\ud83c\\udfea',\n  'cookie':'\\ud83c\\udf6a',\n  'cool':'\\ud83c\\udd92',\n  'policeman':'\\ud83d\\udc6e',\n  'copyright':'\\u00a9\\ufe0f',\n  'corn':'\\ud83c\\udf3d',\n  'couch_and_lamp':'\\ud83d\\udecb',\n  'couple':'\\ud83d\\udc6b',\n  'couple_with_heart_woman_man':'\\ud83d\\udc91',\n  'couple_with_heart_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc68',\n  'couple_with_heart_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc69',\n  'couplekiss_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc68',\n  'couplekiss_man_woman':'\\ud83d\\udc8f',\n  'couplekiss_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc69',\n  'cow':'\\ud83d\\udc2e',\n  'cow2':'\\ud83d\\udc04',\n  'cowboy_hat_face':'\\ud83e\\udd20',\n  'crab':'\\ud83e\\udd80',\n  'crayon':'\\ud83d\\udd8d',\n  'credit_card':'\\ud83d\\udcb3',\n  'crescent_moon':'\\ud83c\\udf19',\n  'cricket':'\\ud83c\\udfcf',\n  'crocodile':'\\ud83d\\udc0a',\n  'croissant':'\\ud83e\\udd50',\n  'crossed_fingers':'\\ud83e\\udd1e',\n  'crossed_flags':'\\ud83c\\udf8c',\n  'crossed_swords':'\\u2694\\ufe0f',\n  'crown':'\\ud83d\\udc51',\n  'cry':'\\ud83d\\ude22',\n  'crying_cat_face':'\\ud83d\\ude3f',\n  'crystal_ball':'\\ud83d\\udd2e',\n  'cucumber':'\\ud83e\\udd52',\n  'cupid':'\\ud83d\\udc98',\n  'curly_loop':'\\u27b0',\n  'currency_exchange':'\\ud83d\\udcb1',\n  'curry':'\\ud83c\\udf5b',\n  'custard':'\\ud83c\\udf6e',\n  'customs':'\\ud83d\\udec3',\n  'cyclone':'\\ud83c\\udf00',\n  'dagger':'\\ud83d\\udde1',\n  'dancer':'\\ud83d\\udc83',\n  'dancing_women':'\\ud83d\\udc6f',\n  'dancing_men':'\\ud83d\\udc6f&zwj;\\u2642\\ufe0f',\n  'dango':'\\ud83c\\udf61',\n  'dark_sunglasses':'\\ud83d\\udd76',\n  'dart':'\\ud83c\\udfaf',\n  'dash':'\\ud83d\\udca8',\n  'date':'\\ud83d\\udcc5',\n  'deciduous_tree':'\\ud83c\\udf33',\n  'deer':'\\ud83e\\udd8c',\n  'department_store':'\\ud83c\\udfec',\n  'derelict_house':'\\ud83c\\udfda',\n  'desert':'\\ud83c\\udfdc',\n  'desert_island':'\\ud83c\\udfdd',\n  'desktop_computer':'\\ud83d\\udda5',\n  'male_detective':'\\ud83d\\udd75\\ufe0f',\n  'diamond_shape_with_a_dot_inside':'\\ud83d\\udca0',\n  'diamonds':'\\u2666\\ufe0f',\n  'disappointed':'\\ud83d\\ude1e',\n  'disappointed_relieved':'\\ud83d\\ude25',\n  'dizzy':'\\ud83d\\udcab',\n  'dizzy_face':'\\ud83d\\ude35',\n  'do_not_litter':'\\ud83d\\udeaf',\n  'dog':'\\ud83d\\udc36',\n  'dog2':'\\ud83d\\udc15',\n  'dollar':'\\ud83d\\udcb5',\n  'dolls':'\\ud83c\\udf8e',\n  'dolphin':'\\ud83d\\udc2c',\n  'door':'\\ud83d\\udeaa',\n  'doughnut':'\\ud83c\\udf69',\n  'dove':'\\ud83d\\udd4a',\n  'dragon':'\\ud83d\\udc09',\n  'dragon_face':'\\ud83d\\udc32',\n  'dress':'\\ud83d\\udc57',\n  'dromedary_camel':'\\ud83d\\udc2a',\n  'drooling_face':'\\ud83e\\udd24',\n  'droplet':'\\ud83d\\udca7',\n  'drum':'\\ud83e\\udd41',\n  'duck':'\\ud83e\\udd86',\n  'dvd':'\\ud83d\\udcc0',\n  'e-mail':'\\ud83d\\udce7',\n  'eagle':'\\ud83e\\udd85',\n  'ear':'\\ud83d\\udc42',\n  'ear_of_rice':'\\ud83c\\udf3e',\n  'earth_africa':'\\ud83c\\udf0d',\n  'earth_americas':'\\ud83c\\udf0e',\n  'earth_asia':'\\ud83c\\udf0f',\n  'egg':'\\ud83e\\udd5a',\n  'eggplant':'\\ud83c\\udf46',\n  'eight_pointed_black_star':'\\u2734\\ufe0f',\n  'eight_spoked_asterisk':'\\u2733\\ufe0f',\n  'electric_plug':'\\ud83d\\udd0c',\n  'elephant':'\\ud83d\\udc18',\n  'email':'\\u2709\\ufe0f',\n  'end':'\\ud83d\\udd1a',\n  'envelope_with_arrow':'\\ud83d\\udce9',\n  'euro':'\\ud83d\\udcb6',\n  'european_castle':'\\ud83c\\udff0',\n  'european_post_office':'\\ud83c\\udfe4',\n  'evergreen_tree':'\\ud83c\\udf32',\n  'exclamation':'\\u2757\\ufe0f',\n  'expressionless':'\\ud83d\\ude11',\n  'eye':'\\ud83d\\udc41',\n  'eye_speech_bubble':'\\ud83d\\udc41&zwj;\\ud83d\\udde8',\n  'eyeglasses':'\\ud83d\\udc53',\n  'eyes':'\\ud83d\\udc40',\n  'face_with_head_bandage':'\\ud83e\\udd15',\n  'face_with_thermometer':'\\ud83e\\udd12',\n  'fist_oncoming':'\\ud83d\\udc4a',\n  'factory':'\\ud83c\\udfed',\n  'fallen_leaf':'\\ud83c\\udf42',\n  'family_man_woman_boy':'\\ud83d\\udc6a',\n  'family_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_woman_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_man_woman_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'fast_forward':'\\u23e9',\n  'fax':'\\ud83d\\udce0',\n  'fearful':'\\ud83d\\ude28',\n  'feet':'\\ud83d\\udc3e',\n  'female_detective':'\\ud83d\\udd75\\ufe0f&zwj;\\u2640\\ufe0f',\n  'ferris_wheel':'\\ud83c\\udfa1',\n  'ferry':'\\u26f4',\n  'field_hockey':'\\ud83c\\udfd1',\n  'file_cabinet':'\\ud83d\\uddc4',\n  'file_folder':'\\ud83d\\udcc1',\n  'film_projector':'\\ud83d\\udcfd',\n  'film_strip':'\\ud83c\\udf9e',\n  'fire':'\\ud83d\\udd25',\n  'fire_engine':'\\ud83d\\ude92',\n  'fireworks':'\\ud83c\\udf86',\n  'first_quarter_moon':'\\ud83c\\udf13',\n  'first_quarter_moon_with_face':'\\ud83c\\udf1b',\n  'fish':'\\ud83d\\udc1f',\n  'fish_cake':'\\ud83c\\udf65',\n  'fishing_pole_and_fish':'\\ud83c\\udfa3',\n  'fist_raised':'\\u270a',\n  'fist_left':'\\ud83e\\udd1b',\n  'fist_right':'\\ud83e\\udd1c',\n  'flags':'\\ud83c\\udf8f',\n  'flashlight':'\\ud83d\\udd26',\n  'fleur_de_lis':'\\u269c\\ufe0f',\n  'flight_arrival':'\\ud83d\\udeec',\n  'flight_departure':'\\ud83d\\udeeb',\n  'floppy_disk':'\\ud83d\\udcbe',\n  'flower_playing_cards':'\\ud83c\\udfb4',\n  'flushed':'\\ud83d\\ude33',\n  'fog':'\\ud83c\\udf2b',\n  'foggy':'\\ud83c\\udf01',\n  'football':'\\ud83c\\udfc8',\n  'footprints':'\\ud83d\\udc63',\n  'fork_and_knife':'\\ud83c\\udf74',\n  'fountain':'\\u26f2\\ufe0f',\n  'fountain_pen':'\\ud83d\\udd8b',\n  'four_leaf_clover':'\\ud83c\\udf40',\n  'fox_face':'\\ud83e\\udd8a',\n  'framed_picture':'\\ud83d\\uddbc',\n  'free':'\\ud83c\\udd93',\n  'fried_egg':'\\ud83c\\udf73',\n  'fried_shrimp':'\\ud83c\\udf64',\n  'fries':'\\ud83c\\udf5f',\n  'frog':'\\ud83d\\udc38',\n  'frowning':'\\ud83d\\ude26',\n  'frowning_face':'\\u2639\\ufe0f',\n  'frowning_man':'\\ud83d\\ude4d&zwj;\\u2642\\ufe0f',\n  'frowning_woman':'\\ud83d\\ude4d',\n  'middle_finger':'\\ud83d\\udd95',\n  'fuelpump':'\\u26fd\\ufe0f',\n  'full_moon':'\\ud83c\\udf15',\n  'full_moon_with_face':'\\ud83c\\udf1d',\n  'funeral_urn':'\\u26b1\\ufe0f',\n  'game_die':'\\ud83c\\udfb2',\n  'gear':'\\u2699\\ufe0f',\n  'gem':'\\ud83d\\udc8e',\n  'gemini':'\\u264a\\ufe0f',\n  'ghost':'\\ud83d\\udc7b',\n  'gift':'\\ud83c\\udf81',\n  'gift_heart':'\\ud83d\\udc9d',\n  'girl':'\\ud83d\\udc67',\n  'globe_with_meridians':'\\ud83c\\udf10',\n  'goal_net':'\\ud83e\\udd45',\n  'goat':'\\ud83d\\udc10',\n  'golf':'\\u26f3\\ufe0f',\n  'golfing_man':'\\ud83c\\udfcc\\ufe0f',\n  'golfing_woman':'\\ud83c\\udfcc\\ufe0f&zwj;\\u2640\\ufe0f',\n  'gorilla':'\\ud83e\\udd8d',\n  'grapes':'\\ud83c\\udf47',\n  'green_apple':'\\ud83c\\udf4f',\n  'green_book':'\\ud83d\\udcd7',\n  'green_heart':'\\ud83d\\udc9a',\n  'green_salad':'\\ud83e\\udd57',\n  'grey_exclamation':'\\u2755',\n  'grey_question':'\\u2754',\n  'grimacing':'\\ud83d\\ude2c',\n  'grin':'\\ud83d\\ude01',\n  'grinning':'\\ud83d\\ude00',\n  'guardsman':'\\ud83d\\udc82',\n  'guardswoman':'\\ud83d\\udc82&zwj;\\u2640\\ufe0f',\n  'guitar':'\\ud83c\\udfb8',\n  'gun':'\\ud83d\\udd2b',\n  'haircut_woman':'\\ud83d\\udc87',\n  'haircut_man':'\\ud83d\\udc87&zwj;\\u2642\\ufe0f',\n  'hamburger':'\\ud83c\\udf54',\n  'hammer':'\\ud83d\\udd28',\n  'hammer_and_pick':'\\u2692',\n  'hammer_and_wrench':'\\ud83d\\udee0',\n  'hamster':'\\ud83d\\udc39',\n  'hand':'\\u270b',\n  'handbag':'\\ud83d\\udc5c',\n  'handshake':'\\ud83e\\udd1d',\n  'hankey':'\\ud83d\\udca9',\n  'hatched_chick':'\\ud83d\\udc25',\n  'hatching_chick':'\\ud83d\\udc23',\n  'headphones':'\\ud83c\\udfa7',\n  'hear_no_evil':'\\ud83d\\ude49',\n  'heart':'\\u2764\\ufe0f',\n  'heart_decoration':'\\ud83d\\udc9f',\n  'heart_eyes':'\\ud83d\\ude0d',\n  'heart_eyes_cat':'\\ud83d\\ude3b',\n  'heartbeat':'\\ud83d\\udc93',\n  'heartpulse':'\\ud83d\\udc97',\n  'hearts':'\\u2665\\ufe0f',\n  'heavy_check_mark':'\\u2714\\ufe0f',\n  'heavy_division_sign':'\\u2797',\n  'heavy_dollar_sign':'\\ud83d\\udcb2',\n  'heavy_heart_exclamation':'\\u2763\\ufe0f',\n  'heavy_minus_sign':'\\u2796',\n  'heavy_multiplication_x':'\\u2716\\ufe0f',\n  'heavy_plus_sign':'\\u2795',\n  'helicopter':'\\ud83d\\ude81',\n  'herb':'\\ud83c\\udf3f',\n  'hibiscus':'\\ud83c\\udf3a',\n  'high_brightness':'\\ud83d\\udd06',\n  'high_heel':'\\ud83d\\udc60',\n  'hocho':'\\ud83d\\udd2a',\n  'hole':'\\ud83d\\udd73',\n  'honey_pot':'\\ud83c\\udf6f',\n  'horse':'\\ud83d\\udc34',\n  'horse_racing':'\\ud83c\\udfc7',\n  'hospital':'\\ud83c\\udfe5',\n  'hot_pepper':'\\ud83c\\udf36',\n  'hotdog':'\\ud83c\\udf2d',\n  'hotel':'\\ud83c\\udfe8',\n  'hotsprings':'\\u2668\\ufe0f',\n  'hourglass':'\\u231b\\ufe0f',\n  'hourglass_flowing_sand':'\\u23f3',\n  'house':'\\ud83c\\udfe0',\n  'house_with_garden':'\\ud83c\\udfe1',\n  'houses':'\\ud83c\\udfd8',\n  'hugs':'\\ud83e\\udd17',\n  'hushed':'\\ud83d\\ude2f',\n  'ice_cream':'\\ud83c\\udf68',\n  'ice_hockey':'\\ud83c\\udfd2',\n  'ice_skate':'\\u26f8',\n  'icecream':'\\ud83c\\udf66',\n  'id':'\\ud83c\\udd94',\n  'ideograph_advantage':'\\ud83c\\ude50',\n  'imp':'\\ud83d\\udc7f',\n  'inbox_tray':'\\ud83d\\udce5',\n  'incoming_envelope':'\\ud83d\\udce8',\n  'tipping_hand_woman':'\\ud83d\\udc81',\n  'information_source':'\\u2139\\ufe0f',\n  'innocent':'\\ud83d\\ude07',\n  'interrobang':'\\u2049\\ufe0f',\n  'iphone':'\\ud83d\\udcf1',\n  'izakaya_lantern':'\\ud83c\\udfee',\n  'jack_o_lantern':'\\ud83c\\udf83',\n  'japan':'\\ud83d\\uddfe',\n  'japanese_castle':'\\ud83c\\udfef',\n  'japanese_goblin':'\\ud83d\\udc7a',\n  'japanese_ogre':'\\ud83d\\udc79',\n  'jeans':'\\ud83d\\udc56',\n  'joy':'\\ud83d\\ude02',\n  'joy_cat':'\\ud83d\\ude39',\n  'joystick':'\\ud83d\\udd79',\n  'kaaba':'\\ud83d\\udd4b',\n  'key':'\\ud83d\\udd11',\n  'keyboard':'\\u2328\\ufe0f',\n  'keycap_ten':'\\ud83d\\udd1f',\n  'kick_scooter':'\\ud83d\\udef4',\n  'kimono':'\\ud83d\\udc58',\n  'kiss':'\\ud83d\\udc8b',\n  'kissing':'\\ud83d\\ude17',\n  'kissing_cat':'\\ud83d\\ude3d',\n  'kissing_closed_eyes':'\\ud83d\\ude1a',\n  'kissing_heart':'\\ud83d\\ude18',\n  'kissing_smiling_eyes':'\\ud83d\\ude19',\n  'kiwi_fruit':'\\ud83e\\udd5d',\n  'koala':'\\ud83d\\udc28',\n  'koko':'\\ud83c\\ude01',\n  'label':'\\ud83c\\udff7',\n  'large_blue_circle':'\\ud83d\\udd35',\n  'large_blue_diamond':'\\ud83d\\udd37',\n  'large_orange_diamond':'\\ud83d\\udd36',\n  'last_quarter_moon':'\\ud83c\\udf17',\n  'last_quarter_moon_with_face':'\\ud83c\\udf1c',\n  'latin_cross':'\\u271d\\ufe0f',\n  'laughing':'\\ud83d\\ude06',\n  'leaves':'\\ud83c\\udf43',\n  'ledger':'\\ud83d\\udcd2',\n  'left_luggage':'\\ud83d\\udec5',\n  'left_right_arrow':'\\u2194\\ufe0f',\n  'leftwards_arrow_with_hook':'\\u21a9\\ufe0f',\n  'lemon':'\\ud83c\\udf4b',\n  'leo':'\\u264c\\ufe0f',\n  'leopard':'\\ud83d\\udc06',\n  'level_slider':'\\ud83c\\udf9a',\n  'libra':'\\u264e\\ufe0f',\n  'light_rail':'\\ud83d\\ude88',\n  'link':'\\ud83d\\udd17',\n  'lion':'\\ud83e\\udd81',\n  'lips':'\\ud83d\\udc44',\n  'lipstick':'\\ud83d\\udc84',\n  'lizard':'\\ud83e\\udd8e',\n  'lock':'\\ud83d\\udd12',\n  'lock_with_ink_pen':'\\ud83d\\udd0f',\n  'lollipop':'\\ud83c\\udf6d',\n  'loop':'\\u27bf',\n  'loud_sound':'\\ud83d\\udd0a',\n  'loudspeaker':'\\ud83d\\udce2',\n  'love_hotel':'\\ud83c\\udfe9',\n  'love_letter':'\\ud83d\\udc8c',\n  'low_brightness':'\\ud83d\\udd05',\n  'lying_face':'\\ud83e\\udd25',\n  'm':'\\u24c2\\ufe0f',\n  'mag':'\\ud83d\\udd0d',\n  'mag_right':'\\ud83d\\udd0e',\n  'mahjong':'\\ud83c\\udc04\\ufe0f',\n  'mailbox':'\\ud83d\\udceb',\n  'mailbox_closed':'\\ud83d\\udcea',\n  'mailbox_with_mail':'\\ud83d\\udcec',\n  'mailbox_with_no_mail':'\\ud83d\\udced',\n  'man':'\\ud83d\\udc68',\n  'man_artist':'\\ud83d\\udc68&zwj;\\ud83c\\udfa8',\n  'man_astronaut':'\\ud83d\\udc68&zwj;\\ud83d\\ude80',\n  'man_cartwheeling':'\\ud83e\\udd38&zwj;\\u2642\\ufe0f',\n  'man_cook':'\\ud83d\\udc68&zwj;\\ud83c\\udf73',\n  'man_dancing':'\\ud83d\\udd7a',\n  'man_facepalming':'\\ud83e\\udd26&zwj;\\u2642\\ufe0f',\n  'man_factory_worker':'\\ud83d\\udc68&zwj;\\ud83c\\udfed',\n  'man_farmer':'\\ud83d\\udc68&zwj;\\ud83c\\udf3e',\n  'man_firefighter':'\\ud83d\\udc68&zwj;\\ud83d\\ude92',\n  'man_health_worker':'\\ud83d\\udc68&zwj;\\u2695\\ufe0f',\n  'man_in_tuxedo':'\\ud83e\\udd35',\n  'man_judge':'\\ud83d\\udc68&zwj;\\u2696\\ufe0f',\n  'man_juggling':'\\ud83e\\udd39&zwj;\\u2642\\ufe0f',\n  'man_mechanic':'\\ud83d\\udc68&zwj;\\ud83d\\udd27',\n  'man_office_worker':'\\ud83d\\udc68&zwj;\\ud83d\\udcbc',\n  'man_pilot':'\\ud83d\\udc68&zwj;\\u2708\\ufe0f',\n  'man_playing_handball':'\\ud83e\\udd3e&zwj;\\u2642\\ufe0f',\n  'man_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2642\\ufe0f',\n  'man_scientist':'\\ud83d\\udc68&zwj;\\ud83d\\udd2c',\n  'man_shrugging':'\\ud83e\\udd37&zwj;\\u2642\\ufe0f',\n  'man_singer':'\\ud83d\\udc68&zwj;\\ud83c\\udfa4',\n  'man_student':'\\ud83d\\udc68&zwj;\\ud83c\\udf93',\n  'man_teacher':'\\ud83d\\udc68&zwj;\\ud83c\\udfeb',\n  'man_technologist':'\\ud83d\\udc68&zwj;\\ud83d\\udcbb',\n  'man_with_gua_pi_mao':'\\ud83d\\udc72',\n  'man_with_turban':'\\ud83d\\udc73',\n  'tangerine':'\\ud83c\\udf4a',\n  'mans_shoe':'\\ud83d\\udc5e',\n  'mantelpiece_clock':'\\ud83d\\udd70',\n  'maple_leaf':'\\ud83c\\udf41',\n  'martial_arts_uniform':'\\ud83e\\udd4b',\n  'mask':'\\ud83d\\ude37',\n  'massage_woman':'\\ud83d\\udc86',\n  'massage_man':'\\ud83d\\udc86&zwj;\\u2642\\ufe0f',\n  'meat_on_bone':'\\ud83c\\udf56',\n  'medal_military':'\\ud83c\\udf96',\n  'medal_sports':'\\ud83c\\udfc5',\n  'mega':'\\ud83d\\udce3',\n  'melon':'\\ud83c\\udf48',\n  'memo':'\\ud83d\\udcdd',\n  'men_wrestling':'\\ud83e\\udd3c&zwj;\\u2642\\ufe0f',\n  'menorah':'\\ud83d\\udd4e',\n  'mens':'\\ud83d\\udeb9',\n  'metal':'\\ud83e\\udd18',\n  'metro':'\\ud83d\\ude87',\n  'microphone':'\\ud83c\\udfa4',\n  'microscope':'\\ud83d\\udd2c',\n  'milk_glass':'\\ud83e\\udd5b',\n  'milky_way':'\\ud83c\\udf0c',\n  'minibus':'\\ud83d\\ude90',\n  'minidisc':'\\ud83d\\udcbd',\n  'mobile_phone_off':'\\ud83d\\udcf4',\n  'money_mouth_face':'\\ud83e\\udd11',\n  'money_with_wings':'\\ud83d\\udcb8',\n  'moneybag':'\\ud83d\\udcb0',\n  'monkey':'\\ud83d\\udc12',\n  'monkey_face':'\\ud83d\\udc35',\n  'monorail':'\\ud83d\\ude9d',\n  'moon':'\\ud83c\\udf14',\n  'mortar_board':'\\ud83c\\udf93',\n  'mosque':'\\ud83d\\udd4c',\n  'motor_boat':'\\ud83d\\udee5',\n  'motor_scooter':'\\ud83d\\udef5',\n  'motorcycle':'\\ud83c\\udfcd',\n  'motorway':'\\ud83d\\udee3',\n  'mount_fuji':'\\ud83d\\uddfb',\n  'mountain':'\\u26f0',\n  'mountain_biking_man':'\\ud83d\\udeb5',\n  'mountain_biking_woman':'\\ud83d\\udeb5&zwj;\\u2640\\ufe0f',\n  'mountain_cableway':'\\ud83d\\udea0',\n  'mountain_railway':'\\ud83d\\ude9e',\n  'mountain_snow':'\\ud83c\\udfd4',\n  'mouse':'\\ud83d\\udc2d',\n  'mouse2':'\\ud83d\\udc01',\n  'movie_camera':'\\ud83c\\udfa5',\n  'moyai':'\\ud83d\\uddff',\n  'mrs_claus':'\\ud83e\\udd36',\n  'muscle':'\\ud83d\\udcaa',\n  'mushroom':'\\ud83c\\udf44',\n  'musical_keyboard':'\\ud83c\\udfb9',\n  'musical_note':'\\ud83c\\udfb5',\n  'musical_score':'\\ud83c\\udfbc',\n  'mute':'\\ud83d\\udd07',\n  'nail_care':'\\ud83d\\udc85',\n  'name_badge':'\\ud83d\\udcdb',\n  'national_park':'\\ud83c\\udfde',\n  'nauseated_face':'\\ud83e\\udd22',\n  'necktie':'\\ud83d\\udc54',\n  'negative_squared_cross_mark':'\\u274e',\n  'nerd_face':'\\ud83e\\udd13',\n  'neutral_face':'\\ud83d\\ude10',\n  'new':'\\ud83c\\udd95',\n  'new_moon':'\\ud83c\\udf11',\n  'new_moon_with_face':'\\ud83c\\udf1a',\n  'newspaper':'\\ud83d\\udcf0',\n  'newspaper_roll':'\\ud83d\\uddde',\n  'next_track_button':'\\u23ed',\n  'ng':'\\ud83c\\udd96',\n  'no_good_man':'\\ud83d\\ude45&zwj;\\u2642\\ufe0f',\n  'no_good_woman':'\\ud83d\\ude45',\n  'night_with_stars':'\\ud83c\\udf03',\n  'no_bell':'\\ud83d\\udd15',\n  'no_bicycles':'\\ud83d\\udeb3',\n  'no_entry':'\\u26d4\\ufe0f',\n  'no_entry_sign':'\\ud83d\\udeab',\n  'no_mobile_phones':'\\ud83d\\udcf5',\n  'no_mouth':'\\ud83d\\ude36',\n  'no_pedestrians':'\\ud83d\\udeb7',\n  'no_smoking':'\\ud83d\\udead',\n  'non-potable_water':'\\ud83d\\udeb1',\n  'nose':'\\ud83d\\udc43',\n  'notebook':'\\ud83d\\udcd3',\n  'notebook_with_decorative_cover':'\\ud83d\\udcd4',\n  'notes':'\\ud83c\\udfb6',\n  'nut_and_bolt':'\\ud83d\\udd29',\n  'o':'\\u2b55\\ufe0f',\n  'o2':'\\ud83c\\udd7e\\ufe0f',\n  'ocean':'\\ud83c\\udf0a',\n  'octopus':'\\ud83d\\udc19',\n  'oden':'\\ud83c\\udf62',\n  'office':'\\ud83c\\udfe2',\n  'oil_drum':'\\ud83d\\udee2',\n  'ok':'\\ud83c\\udd97',\n  'ok_hand':'\\ud83d\\udc4c',\n  'ok_man':'\\ud83d\\ude46&zwj;\\u2642\\ufe0f',\n  'ok_woman':'\\ud83d\\ude46',\n  'old_key':'\\ud83d\\udddd',\n  'older_man':'\\ud83d\\udc74',\n  'older_woman':'\\ud83d\\udc75',\n  'om':'\\ud83d\\udd49',\n  'on':'\\ud83d\\udd1b',\n  'oncoming_automobile':'\\ud83d\\ude98',\n  'oncoming_bus':'\\ud83d\\ude8d',\n  'oncoming_police_car':'\\ud83d\\ude94',\n  'oncoming_taxi':'\\ud83d\\ude96',\n  'open_file_folder':'\\ud83d\\udcc2',\n  'open_hands':'\\ud83d\\udc50',\n  'open_mouth':'\\ud83d\\ude2e',\n  'open_umbrella':'\\u2602\\ufe0f',\n  'ophiuchus':'\\u26ce',\n  'orange_book':'\\ud83d\\udcd9',\n  'orthodox_cross':'\\u2626\\ufe0f',\n  'outbox_tray':'\\ud83d\\udce4',\n  'owl':'\\ud83e\\udd89',\n  'ox':'\\ud83d\\udc02',\n  'package':'\\ud83d\\udce6',\n  'page_facing_up':'\\ud83d\\udcc4',\n  'page_with_curl':'\\ud83d\\udcc3',\n  'pager':'\\ud83d\\udcdf',\n  'paintbrush':'\\ud83d\\udd8c',\n  'palm_tree':'\\ud83c\\udf34',\n  'pancakes':'\\ud83e\\udd5e',\n  'panda_face':'\\ud83d\\udc3c',\n  'paperclip':'\\ud83d\\udcce',\n  'paperclips':'\\ud83d\\udd87',\n  'parasol_on_ground':'\\u26f1',\n  'parking':'\\ud83c\\udd7f\\ufe0f',\n  'part_alternation_mark':'\\u303d\\ufe0f',\n  'partly_sunny':'\\u26c5\\ufe0f',\n  'passenger_ship':'\\ud83d\\udef3',\n  'passport_control':'\\ud83d\\udec2',\n  'pause_button':'\\u23f8',\n  'peace_symbol':'\\u262e\\ufe0f',\n  'peach':'\\ud83c\\udf51',\n  'peanuts':'\\ud83e\\udd5c',\n  'pear':'\\ud83c\\udf50',\n  'pen':'\\ud83d\\udd8a',\n  'pencil2':'\\u270f\\ufe0f',\n  'penguin':'\\ud83d\\udc27',\n  'pensive':'\\ud83d\\ude14',\n  'performing_arts':'\\ud83c\\udfad',\n  'persevere':'\\ud83d\\ude23',\n  'person_fencing':'\\ud83e\\udd3a',\n  'pouting_woman':'\\ud83d\\ude4e',\n  'phone':'\\u260e\\ufe0f',\n  'pick':'\\u26cf',\n  'pig':'\\ud83d\\udc37',\n  'pig2':'\\ud83d\\udc16',\n  'pig_nose':'\\ud83d\\udc3d',\n  'pill':'\\ud83d\\udc8a',\n  'pineapple':'\\ud83c\\udf4d',\n  'ping_pong':'\\ud83c\\udfd3',\n  'pisces':'\\u2653\\ufe0f',\n  'pizza':'\\ud83c\\udf55',\n  'place_of_worship':'\\ud83d\\uded0',\n  'plate_with_cutlery':'\\ud83c\\udf7d',\n  'play_or_pause_button':'\\u23ef',\n  'point_down':'\\ud83d\\udc47',\n  'point_left':'\\ud83d\\udc48',\n  'point_right':'\\ud83d\\udc49',\n  'point_up':'\\u261d\\ufe0f',\n  'point_up_2':'\\ud83d\\udc46',\n  'police_car':'\\ud83d\\ude93',\n  'policewoman':'\\ud83d\\udc6e&zwj;\\u2640\\ufe0f',\n  'poodle':'\\ud83d\\udc29',\n  'popcorn':'\\ud83c\\udf7f',\n  'post_office':'\\ud83c\\udfe3',\n  'postal_horn':'\\ud83d\\udcef',\n  'postbox':'\\ud83d\\udcee',\n  'potable_water':'\\ud83d\\udeb0',\n  'potato':'\\ud83e\\udd54',\n  'pouch':'\\ud83d\\udc5d',\n  'poultry_leg':'\\ud83c\\udf57',\n  'pound':'\\ud83d\\udcb7',\n  'rage':'\\ud83d\\ude21',\n  'pouting_cat':'\\ud83d\\ude3e',\n  'pouting_man':'\\ud83d\\ude4e&zwj;\\u2642\\ufe0f',\n  'pray':'\\ud83d\\ude4f',\n  'prayer_beads':'\\ud83d\\udcff',\n  'pregnant_woman':'\\ud83e\\udd30',\n  'previous_track_button':'\\u23ee',\n  'prince':'\\ud83e\\udd34',\n  'princess':'\\ud83d\\udc78',\n  'printer':'\\ud83d\\udda8',\n  'purple_heart':'\\ud83d\\udc9c',\n  'purse':'\\ud83d\\udc5b',\n  'pushpin':'\\ud83d\\udccc',\n  'put_litter_in_its_place':'\\ud83d\\udeae',\n  'question':'\\u2753',\n  'rabbit':'\\ud83d\\udc30',\n  'rabbit2':'\\ud83d\\udc07',\n  'racehorse':'\\ud83d\\udc0e',\n  'racing_car':'\\ud83c\\udfce',\n  'radio':'\\ud83d\\udcfb',\n  'radio_button':'\\ud83d\\udd18',\n  'radioactive':'\\u2622\\ufe0f',\n  'railway_car':'\\ud83d\\ude83',\n  'railway_track':'\\ud83d\\udee4',\n  'rainbow':'\\ud83c\\udf08',\n  'rainbow_flag':'\\ud83c\\udff3\\ufe0f&zwj;\\ud83c\\udf08',\n  'raised_back_of_hand':'\\ud83e\\udd1a',\n  'raised_hand_with_fingers_splayed':'\\ud83d\\udd90',\n  'raised_hands':'\\ud83d\\ude4c',\n  'raising_hand_woman':'\\ud83d\\ude4b',\n  'raising_hand_man':'\\ud83d\\ude4b&zwj;\\u2642\\ufe0f',\n  'ram':'\\ud83d\\udc0f',\n  'ramen':'\\ud83c\\udf5c',\n  'rat':'\\ud83d\\udc00',\n  'record_button':'\\u23fa',\n  'recycle':'\\u267b\\ufe0f',\n  'red_circle':'\\ud83d\\udd34',\n  'registered':'\\u00ae\\ufe0f',\n  'relaxed':'\\u263a\\ufe0f',\n  'relieved':'\\ud83d\\ude0c',\n  'reminder_ribbon':'\\ud83c\\udf97',\n  'repeat':'\\ud83d\\udd01',\n  'repeat_one':'\\ud83d\\udd02',\n  'rescue_worker_helmet':'\\u26d1',\n  'restroom':'\\ud83d\\udebb',\n  'revolving_hearts':'\\ud83d\\udc9e',\n  'rewind':'\\u23ea',\n  'rhinoceros':'\\ud83e\\udd8f',\n  'ribbon':'\\ud83c\\udf80',\n  'rice':'\\ud83c\\udf5a',\n  'rice_ball':'\\ud83c\\udf59',\n  'rice_cracker':'\\ud83c\\udf58',\n  'rice_scene':'\\ud83c\\udf91',\n  'right_anger_bubble':'\\ud83d\\uddef',\n  'ring':'\\ud83d\\udc8d',\n  'robot':'\\ud83e\\udd16',\n  'rocket':'\\ud83d\\ude80',\n  'rofl':'\\ud83e\\udd23',\n  'roll_eyes':'\\ud83d\\ude44',\n  'roller_coaster':'\\ud83c\\udfa2',\n  'rooster':'\\ud83d\\udc13',\n  'rose':'\\ud83c\\udf39',\n  'rosette':'\\ud83c\\udff5',\n  'rotating_light':'\\ud83d\\udea8',\n  'round_pushpin':'\\ud83d\\udccd',\n  'rowing_man':'\\ud83d\\udea3',\n  'rowing_woman':'\\ud83d\\udea3&zwj;\\u2640\\ufe0f',\n  'rugby_football':'\\ud83c\\udfc9',\n  'running_man':'\\ud83c\\udfc3',\n  'running_shirt_with_sash':'\\ud83c\\udfbd',\n  'running_woman':'\\ud83c\\udfc3&zwj;\\u2640\\ufe0f',\n  'sa':'\\ud83c\\ude02\\ufe0f',\n  'sagittarius':'\\u2650\\ufe0f',\n  'sake':'\\ud83c\\udf76',\n  'sandal':'\\ud83d\\udc61',\n  'santa':'\\ud83c\\udf85',\n  'satellite':'\\ud83d\\udce1',\n  'saxophone':'\\ud83c\\udfb7',\n  'school':'\\ud83c\\udfeb',\n  'school_satchel':'\\ud83c\\udf92',\n  'scissors':'\\u2702\\ufe0f',\n  'scorpion':'\\ud83e\\udd82',\n  'scorpius':'\\u264f\\ufe0f',\n  'scream':'\\ud83d\\ude31',\n  'scream_cat':'\\ud83d\\ude40',\n  'scroll':'\\ud83d\\udcdc',\n  'seat':'\\ud83d\\udcba',\n  'secret':'\\u3299\\ufe0f',\n  'see_no_evil':'\\ud83d\\ude48',\n  'seedling':'\\ud83c\\udf31',\n  'selfie':'\\ud83e\\udd33',\n  'shallow_pan_of_food':'\\ud83e\\udd58',\n  'shamrock':'\\u2618\\ufe0f',\n  'shark':'\\ud83e\\udd88',\n  'shaved_ice':'\\ud83c\\udf67',\n  'sheep':'\\ud83d\\udc11',\n  'shell':'\\ud83d\\udc1a',\n  'shield':'\\ud83d\\udee1',\n  'shinto_shrine':'\\u26e9',\n  'ship':'\\ud83d\\udea2',\n  'shirt':'\\ud83d\\udc55',\n  'shopping':'\\ud83d\\udecd',\n  'shopping_cart':'\\ud83d\\uded2',\n  'shower':'\\ud83d\\udebf',\n  'shrimp':'\\ud83e\\udd90',\n  'signal_strength':'\\ud83d\\udcf6',\n  'six_pointed_star':'\\ud83d\\udd2f',\n  'ski':'\\ud83c\\udfbf',\n  'skier':'\\u26f7',\n  'skull':'\\ud83d\\udc80',\n  'skull_and_crossbones':'\\u2620\\ufe0f',\n  'sleeping':'\\ud83d\\ude34',\n  'sleeping_bed':'\\ud83d\\udecc',\n  'sleepy':'\\ud83d\\ude2a',\n  'slightly_frowning_face':'\\ud83d\\ude41',\n  'slightly_smiling_face':'\\ud83d\\ude42',\n  'slot_machine':'\\ud83c\\udfb0',\n  'small_airplane':'\\ud83d\\udee9',\n  'small_blue_diamond':'\\ud83d\\udd39',\n  'small_orange_diamond':'\\ud83d\\udd38',\n  'small_red_triangle':'\\ud83d\\udd3a',\n  'small_red_triangle_down':'\\ud83d\\udd3b',\n  'smile':'\\ud83d\\ude04',\n  'smile_cat':'\\ud83d\\ude38',\n  'smiley':'\\ud83d\\ude03',\n  'smiley_cat':'\\ud83d\\ude3a',\n  'smiling_imp':'\\ud83d\\ude08',\n  'smirk':'\\ud83d\\ude0f',\n  'smirk_cat':'\\ud83d\\ude3c',\n  'smoking':'\\ud83d\\udeac',\n  'snail':'\\ud83d\\udc0c',\n  'snake':'\\ud83d\\udc0d',\n  'sneezing_face':'\\ud83e\\udd27',\n  'snowboarder':'\\ud83c\\udfc2',\n  'snowflake':'\\u2744\\ufe0f',\n  'snowman':'\\u26c4\\ufe0f',\n  'snowman_with_snow':'\\u2603\\ufe0f',\n  'sob':'\\ud83d\\ude2d',\n  'soccer':'\\u26bd\\ufe0f',\n  'soon':'\\ud83d\\udd1c',\n  'sos':'\\ud83c\\udd98',\n  'sound':'\\ud83d\\udd09',\n  'space_invader':'\\ud83d\\udc7e',\n  'spades':'\\u2660\\ufe0f',\n  'spaghetti':'\\ud83c\\udf5d',\n  'sparkle':'\\u2747\\ufe0f',\n  'sparkler':'\\ud83c\\udf87',\n  'sparkles':'\\u2728',\n  'sparkling_heart':'\\ud83d\\udc96',\n  'speak_no_evil':'\\ud83d\\ude4a',\n  'speaker':'\\ud83d\\udd08',\n  'speaking_head':'\\ud83d\\udde3',\n  'speech_balloon':'\\ud83d\\udcac',\n  'speedboat':'\\ud83d\\udea4',\n  'spider':'\\ud83d\\udd77',\n  'spider_web':'\\ud83d\\udd78',\n  'spiral_calendar':'\\ud83d\\uddd3',\n  'spiral_notepad':'\\ud83d\\uddd2',\n  'spoon':'\\ud83e\\udd44',\n  'squid':'\\ud83e\\udd91',\n  'stadium':'\\ud83c\\udfdf',\n  'star':'\\u2b50\\ufe0f',\n  'star2':'\\ud83c\\udf1f',\n  'star_and_crescent':'\\u262a\\ufe0f',\n  'star_of_david':'\\u2721\\ufe0f',\n  'stars':'\\ud83c\\udf20',\n  'station':'\\ud83d\\ude89',\n  'statue_of_liberty':'\\ud83d\\uddfd',\n  'steam_locomotive':'\\ud83d\\ude82',\n  'stew':'\\ud83c\\udf72',\n  'stop_button':'\\u23f9',\n  'stop_sign':'\\ud83d\\uded1',\n  'stopwatch':'\\u23f1',\n  'straight_ruler':'\\ud83d\\udccf',\n  'strawberry':'\\ud83c\\udf53',\n  'stuck_out_tongue':'\\ud83d\\ude1b',\n  'stuck_out_tongue_closed_eyes':'\\ud83d\\ude1d',\n  'stuck_out_tongue_winking_eye':'\\ud83d\\ude1c',\n  'studio_microphone':'\\ud83c\\udf99',\n  'stuffed_flatbread':'\\ud83e\\udd59',\n  'sun_behind_large_cloud':'\\ud83c\\udf25',\n  'sun_behind_rain_cloud':'\\ud83c\\udf26',\n  'sun_behind_small_cloud':'\\ud83c\\udf24',\n  'sun_with_face':'\\ud83c\\udf1e',\n  'sunflower':'\\ud83c\\udf3b',\n  'sunglasses':'\\ud83d\\ude0e',\n  'sunny':'\\u2600\\ufe0f',\n  'sunrise':'\\ud83c\\udf05',\n  'sunrise_over_mountains':'\\ud83c\\udf04',\n  'surfing_man':'\\ud83c\\udfc4',\n  'surfing_woman':'\\ud83c\\udfc4&zwj;\\u2640\\ufe0f',\n  'sushi':'\\ud83c\\udf63',\n  'suspension_railway':'\\ud83d\\ude9f',\n  'sweat':'\\ud83d\\ude13',\n  'sweat_drops':'\\ud83d\\udca6',\n  'sweat_smile':'\\ud83d\\ude05',\n  'sweet_potato':'\\ud83c\\udf60',\n  'swimming_man':'\\ud83c\\udfca',\n  'swimming_woman':'\\ud83c\\udfca&zwj;\\u2640\\ufe0f',\n  'symbols':'\\ud83d\\udd23',\n  'synagogue':'\\ud83d\\udd4d',\n  'syringe':'\\ud83d\\udc89',\n  'taco':'\\ud83c\\udf2e',\n  'tada':'\\ud83c\\udf89',\n  'tanabata_tree':'\\ud83c\\udf8b',\n  'taurus':'\\u2649\\ufe0f',\n  'taxi':'\\ud83d\\ude95',\n  'tea':'\\ud83c\\udf75',\n  'telephone_receiver':'\\ud83d\\udcde',\n  'telescope':'\\ud83d\\udd2d',\n  'tennis':'\\ud83c\\udfbe',\n  'tent':'\\u26fa\\ufe0f',\n  'thermometer':'\\ud83c\\udf21',\n  'thinking':'\\ud83e\\udd14',\n  'thought_balloon':'\\ud83d\\udcad',\n  'ticket':'\\ud83c\\udfab',\n  'tickets':'\\ud83c\\udf9f',\n  'tiger':'\\ud83d\\udc2f',\n  'tiger2':'\\ud83d\\udc05',\n  'timer_clock':'\\u23f2',\n  'tipping_hand_man':'\\ud83d\\udc81&zwj;\\u2642\\ufe0f',\n  'tired_face':'\\ud83d\\ude2b',\n  'tm':'\\u2122\\ufe0f',\n  'toilet':'\\ud83d\\udebd',\n  'tokyo_tower':'\\ud83d\\uddfc',\n  'tomato':'\\ud83c\\udf45',\n  'tongue':'\\ud83d\\udc45',\n  'top':'\\ud83d\\udd1d',\n  'tophat':'\\ud83c\\udfa9',\n  'tornado':'\\ud83c\\udf2a',\n  'trackball':'\\ud83d\\uddb2',\n  'tractor':'\\ud83d\\ude9c',\n  'traffic_light':'\\ud83d\\udea5',\n  'train':'\\ud83d\\ude8b',\n  'train2':'\\ud83d\\ude86',\n  'tram':'\\ud83d\\ude8a',\n  'triangular_flag_on_post':'\\ud83d\\udea9',\n  'triangular_ruler':'\\ud83d\\udcd0',\n  'trident':'\\ud83d\\udd31',\n  'triumph':'\\ud83d\\ude24',\n  'trolleybus':'\\ud83d\\ude8e',\n  'trophy':'\\ud83c\\udfc6',\n  'tropical_drink':'\\ud83c\\udf79',\n  'tropical_fish':'\\ud83d\\udc20',\n  'truck':'\\ud83d\\ude9a',\n  'trumpet':'\\ud83c\\udfba',\n  'tulip':'\\ud83c\\udf37',\n  'tumbler_glass':'\\ud83e\\udd43',\n  'turkey':'\\ud83e\\udd83',\n  'turtle':'\\ud83d\\udc22',\n  'tv':'\\ud83d\\udcfa',\n  'twisted_rightwards_arrows':'\\ud83d\\udd00',\n  'two_hearts':'\\ud83d\\udc95',\n  'two_men_holding_hands':'\\ud83d\\udc6c',\n  'two_women_holding_hands':'\\ud83d\\udc6d',\n  'u5272':'\\ud83c\\ude39',\n  'u5408':'\\ud83c\\ude34',\n  'u55b6':'\\ud83c\\ude3a',\n  'u6307':'\\ud83c\\ude2f\\ufe0f',\n  'u6708':'\\ud83c\\ude37\\ufe0f',\n  'u6709':'\\ud83c\\ude36',\n  'u6e80':'\\ud83c\\ude35',\n  'u7121':'\\ud83c\\ude1a\\ufe0f',\n  'u7533':'\\ud83c\\ude38',\n  'u7981':'\\ud83c\\ude32',\n  'u7a7a':'\\ud83c\\ude33',\n  'umbrella':'\\u2614\\ufe0f',\n  'unamused':'\\ud83d\\ude12',\n  'underage':'\\ud83d\\udd1e',\n  'unicorn':'\\ud83e\\udd84',\n  'unlock':'\\ud83d\\udd13',\n  'up':'\\ud83c\\udd99',\n  'upside_down_face':'\\ud83d\\ude43',\n  'v':'\\u270c\\ufe0f',\n  'vertical_traffic_light':'\\ud83d\\udea6',\n  'vhs':'\\ud83d\\udcfc',\n  'vibration_mode':'\\ud83d\\udcf3',\n  'video_camera':'\\ud83d\\udcf9',\n  'video_game':'\\ud83c\\udfae',\n  'violin':'\\ud83c\\udfbb',\n  'virgo':'\\u264d\\ufe0f',\n  'volcano':'\\ud83c\\udf0b',\n  'volleyball':'\\ud83c\\udfd0',\n  'vs':'\\ud83c\\udd9a',\n  'vulcan_salute':'\\ud83d\\udd96',\n  'walking_man':'\\ud83d\\udeb6',\n  'walking_woman':'\\ud83d\\udeb6&zwj;\\u2640\\ufe0f',\n  'waning_crescent_moon':'\\ud83c\\udf18',\n  'waning_gibbous_moon':'\\ud83c\\udf16',\n  'warning':'\\u26a0\\ufe0f',\n  'wastebasket':'\\ud83d\\uddd1',\n  'watch':'\\u231a\\ufe0f',\n  'water_buffalo':'\\ud83d\\udc03',\n  'watermelon':'\\ud83c\\udf49',\n  'wave':'\\ud83d\\udc4b',\n  'wavy_dash':'\\u3030\\ufe0f',\n  'waxing_crescent_moon':'\\ud83c\\udf12',\n  'wc':'\\ud83d\\udebe',\n  'weary':'\\ud83d\\ude29',\n  'wedding':'\\ud83d\\udc92',\n  'weight_lifting_man':'\\ud83c\\udfcb\\ufe0f',\n  'weight_lifting_woman':'\\ud83c\\udfcb\\ufe0f&zwj;\\u2640\\ufe0f',\n  'whale':'\\ud83d\\udc33',\n  'whale2':'\\ud83d\\udc0b',\n  'wheel_of_dharma':'\\u2638\\ufe0f',\n  'wheelchair':'\\u267f\\ufe0f',\n  'white_check_mark':'\\u2705',\n  'white_circle':'\\u26aa\\ufe0f',\n  'white_flag':'\\ud83c\\udff3\\ufe0f',\n  'white_flower':'\\ud83d\\udcae',\n  'white_large_square':'\\u2b1c\\ufe0f',\n  'white_medium_small_square':'\\u25fd\\ufe0f',\n  'white_medium_square':'\\u25fb\\ufe0f',\n  'white_small_square':'\\u25ab\\ufe0f',\n  'white_square_button':'\\ud83d\\udd33',\n  'wilted_flower':'\\ud83e\\udd40',\n  'wind_chime':'\\ud83c\\udf90',\n  'wind_face':'\\ud83c\\udf2c',\n  'wine_glass':'\\ud83c\\udf77',\n  'wink':'\\ud83d\\ude09',\n  'wolf':'\\ud83d\\udc3a',\n  'woman':'\\ud83d\\udc69',\n  'woman_artist':'\\ud83d\\udc69&zwj;\\ud83c\\udfa8',\n  'woman_astronaut':'\\ud83d\\udc69&zwj;\\ud83d\\ude80',\n  'woman_cartwheeling':'\\ud83e\\udd38&zwj;\\u2640\\ufe0f',\n  'woman_cook':'\\ud83d\\udc69&zwj;\\ud83c\\udf73',\n  'woman_facepalming':'\\ud83e\\udd26&zwj;\\u2640\\ufe0f',\n  'woman_factory_worker':'\\ud83d\\udc69&zwj;\\ud83c\\udfed',\n  'woman_farmer':'\\ud83d\\udc69&zwj;\\ud83c\\udf3e',\n  'woman_firefighter':'\\ud83d\\udc69&zwj;\\ud83d\\ude92',\n  'woman_health_worker':'\\ud83d\\udc69&zwj;\\u2695\\ufe0f',\n  'woman_judge':'\\ud83d\\udc69&zwj;\\u2696\\ufe0f',\n  'woman_juggling':'\\ud83e\\udd39&zwj;\\u2640\\ufe0f',\n  'woman_mechanic':'\\ud83d\\udc69&zwj;\\ud83d\\udd27',\n  'woman_office_worker':'\\ud83d\\udc69&zwj;\\ud83d\\udcbc',\n  'woman_pilot':'\\ud83d\\udc69&zwj;\\u2708\\ufe0f',\n  'woman_playing_handball':'\\ud83e\\udd3e&zwj;\\u2640\\ufe0f',\n  'woman_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2640\\ufe0f',\n  'woman_scientist':'\\ud83d\\udc69&zwj;\\ud83d\\udd2c',\n  'woman_shrugging':'\\ud83e\\udd37&zwj;\\u2640\\ufe0f',\n  'woman_singer':'\\ud83d\\udc69&zwj;\\ud83c\\udfa4',\n  'woman_student':'\\ud83d\\udc69&zwj;\\ud83c\\udf93',\n  'woman_teacher':'\\ud83d\\udc69&zwj;\\ud83c\\udfeb',\n  'woman_technologist':'\\ud83d\\udc69&zwj;\\ud83d\\udcbb',\n  'woman_with_turban':'\\ud83d\\udc73&zwj;\\u2640\\ufe0f',\n  'womans_clothes':'\\ud83d\\udc5a',\n  'womans_hat':'\\ud83d\\udc52',\n  'women_wrestling':'\\ud83e\\udd3c&zwj;\\u2640\\ufe0f',\n  'womens':'\\ud83d\\udeba',\n  'world_map':'\\ud83d\\uddfa',\n  'worried':'\\ud83d\\ude1f',\n  'wrench':'\\ud83d\\udd27',\n  'writing_hand':'\\u270d\\ufe0f',\n  'x':'\\u274c',\n  'yellow_heart':'\\ud83d\\udc9b',\n  'yen':'\\ud83d\\udcb4',\n  'yin_yang':'\\u262f\\ufe0f',\n  'yum':'\\ud83d\\ude0b',\n  'zap':'\\u26a1\\ufe0f',\n  'zipper_mouth_face':'\\ud83e\\udd10',\n  'zzz':'\\ud83d\\udca4',\n\n  /* special emojis :P */\n  'octocat':  '<img alt=\":octocat:\" height=\"20\" width=\"20\" align=\"absmiddle\" src=\"https://assets-cdn.github.com/images/icons/emoji/octocat.png\">',\n  'showdown': '<span style=\"font-family: \\'Anonymous Pro\\', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>'\n};\n","/**\n * Created by Estevao on 31-05-2015.\n */\n\n/**\n * Showdown Converter class\n * @class\n * @param {object} [converterOptions]\n * @returns {Converter}\n */\nshowdown.Converter = function (converterOptions) {\n  'use strict';\n\n  var\n      /**\n       * Options used by this converter\n       * @private\n       * @type {{}}\n       */\n      options = {},\n\n      /**\n       * Language extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      langExtensions = [],\n\n      /**\n       * Output modifiers extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      outputModifiers = [],\n\n      /**\n       * Event listeners\n       * @private\n       * @type {{}}\n       */\n      listeners = {},\n\n      /**\n       * The flavor set in this converter\n       */\n      setConvFlavor = setFlavor,\n\n      /**\n       * Metadata of the document\n       * @type {{parsed: {}, raw: string, format: string}}\n       */\n      metadata = {\n        parsed: {},\n        raw: '',\n        format: ''\n      };\n\n  _constructor();\n\n  /**\n   * Converter constructor\n   * @private\n   */\n  function _constructor () {\n    converterOptions = converterOptions || {};\n\n    for (var gOpt in globalOptions) {\n      if (globalOptions.hasOwnProperty(gOpt)) {\n        options[gOpt] = globalOptions[gOpt];\n      }\n    }\n\n    // Merge options\n    if (typeof converterOptions === 'object') {\n      for (var opt in converterOptions) {\n        if (converterOptions.hasOwnProperty(opt)) {\n          options[opt] = converterOptions[opt];\n        }\n      }\n    } else {\n      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +\n      ' was passed instead.');\n    }\n\n    if (options.extensions) {\n      showdown.helper.forEach(options.extensions, _parseExtension);\n    }\n  }\n\n  /**\n   * Parse extension\n   * @param {*} ext\n   * @param {string} [name='']\n   * @private\n   */\n  function _parseExtension (ext, name) {\n\n    name = name || null;\n    // If it's a string, the extension was previously loaded\n    if (showdown.helper.isString(ext)) {\n      ext = showdown.helper.stdExtName(ext);\n      name = ext;\n\n      // LEGACY_SUPPORT CODE\n      if (showdown.extensions[ext]) {\n        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +\n          'Please inform the developer that the extension should be updated!');\n        legacyExtensionLoading(showdown.extensions[ext], ext);\n        return;\n        // END LEGACY SUPPORT CODE\n\n      } else if (!showdown.helper.isUndefined(extensions[ext])) {\n        ext = extensions[ext];\n\n      } else {\n        throw Error('Extension \"' + ext + '\" could not be loaded. It was either not found or is not a valid extension.');\n      }\n    }\n\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExt = validate(ext, name);\n    if (!validExt.valid) {\n      throw Error(validExt.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n      }\n      if (ext[i].hasOwnProperty('listeners')) {\n        for (var ln in ext[i].listeners) {\n          if (ext[i].listeners.hasOwnProperty(ln)) {\n            listen(ln, ext[i].listeners[ln]);\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * LEGACY_SUPPORT\n   * @param {*} ext\n   * @param {string} name\n   */\n  function legacyExtensionLoading (ext, name) {\n    if (typeof ext === 'function') {\n      ext = ext(new showdown.Converter());\n    }\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n    var valid = validate(ext, name);\n\n    if (!valid.valid) {\n      throw Error(valid.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n        default:// should never reach here\n          throw Error('Extension loader error: Type unrecognized!!!');\n      }\n    }\n  }\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   */\n  function listen (name, callback) {\n    if (!showdown.helper.isString(name)) {\n      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');\n    }\n\n    if (typeof callback !== 'function') {\n      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');\n    }\n\n    if (!listeners.hasOwnProperty(name)) {\n      listeners[name] = [];\n    }\n    listeners[name].push(callback);\n  }\n\n  function rTrimInputText (text) {\n    var rsp = text.match(/^\\s*/)[0].length,\n        rgx = new RegExp('^\\\\s{0,' + rsp + '}', 'gm');\n    return text.replace(rgx, '');\n  }\n\n  /**\n   * Dispatch an event\n   * @private\n   * @param {string} evtName Event name\n   * @param {string} text Text\n   * @param {{}} options Converter Options\n   * @param {{}} globals\n   * @returns {string}\n   */\n  this._dispatch = function dispatch (evtName, text, options, globals) {\n    if (listeners.hasOwnProperty(evtName)) {\n      for (var ei = 0; ei < listeners[evtName].length; ++ei) {\n        var nText = listeners[evtName][ei](evtName, text, this, options, globals);\n        if (nText && typeof nText !== 'undefined') {\n          text = nText;\n        }\n      }\n    }\n    return text;\n  };\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   * @returns {showdown.Converter}\n   */\n  this.listen = function (name, callback) {\n    listen(name, callback);\n    return this;\n  };\n\n  /**\n   * Converts a markdown string into HTML\n   * @param {string} text\n   * @returns {*}\n   */\n  this.makeHtml = function (text) {\n    //check if text is not falsy\n    if (!text) {\n      return text;\n    }\n\n    var globals = {\n      gHtmlBlocks:     [],\n      gHtmlMdBlocks:   [],\n      gHtmlSpans:      [],\n      gUrls:           {},\n      gTitles:         {},\n      gDimensions:     {},\n      gListLevel:      0,\n      hashLinkCounts:  {},\n      langExtensions:  langExtensions,\n      outputModifiers: outputModifiers,\n      converter:       this,\n      ghCodeBlocks:    [],\n      metadata: {\n        parsed: {},\n        raw: '',\n        format: ''\n      }\n    };\n\n    // This lets us use ¨ trema as an escape char to avoid md5 hashes\n    // The choice of character is arbitrary; anything that isn't\n    // magic in Markdown will work.\n    text = text.replace(/¨/g, '¨T');\n\n    // Replace $ with ¨D\n    // RegExp interprets $ as a special character\n    // when it's in a replacement string\n    text = text.replace(/\\$/g, '¨D');\n\n    // Standardize line endings\n    text = text.replace(/\\r\\n/g, '\\n'); // DOS to Unix\n    text = text.replace(/\\r/g, '\\n'); // Mac to Unix\n\n    // Stardardize line spaces\n    text = text.replace(/\\u00A0/g, '&nbsp;');\n\n    if (options.smartIndentationFix) {\n      text = rTrimInputText(text);\n    }\n\n    // Make sure text begins and ends with a couple of newlines:\n    text = '\\n\\n' + text + '\\n\\n';\n\n    // detab\n    text = showdown.subParser('detab')(text, options, globals);\n\n    /**\n     * Strip any lines consisting only of spaces and tabs.\n     * This makes subsequent regexs easier to write, because we can\n     * match consecutive blank lines with /\\n+/ instead of something\n     * contorted like /[ \\t]*\\n+/\n     */\n    text = text.replace(/^[ \\t]+$/mg, '');\n\n    //run languageExtensions\n    showdown.helper.forEach(langExtensions, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // run the sub parsers\n    text = showdown.subParser('metadata')(text, options, globals);\n    text = showdown.subParser('hashPreCodeTags')(text, options, globals);\n    text = showdown.subParser('githubCodeBlocks')(text, options, globals);\n    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n    text = showdown.subParser('hashCodeTags')(text, options, globals);\n    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);\n    text = showdown.subParser('blockGamut')(text, options, globals);\n    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);\n    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);\n\n    // attacklab: Restore dollar signs\n    text = text.replace(/¨D/g, '$$');\n\n    // attacklab: Restore tremas\n    text = text.replace(/¨T/g, '¨');\n\n    // render a complete html document instead of a partial if the option is enabled\n    text = showdown.subParser('completeHTMLDocument')(text, options, globals);\n\n    // Run output modifiers\n    showdown.helper.forEach(outputModifiers, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // update metadata\n    metadata = globals.metadata;\n    return text;\n  };\n\n  /**\n   * Converts an HTML string into a markdown string\n   * @param src\n   * @param [HTMLParser] A WHATWG DOM and HTML parser, such as JSDOM. If none is supplied, window.document will be used.\n   * @returns {string}\n   */\n  this.makeMarkdown = this.makeMd = function (src, HTMLParser) {\n\n    // replace \\r\\n with \\n\n    src = src.replace(/\\r\\n/g, '\\n');\n    src = src.replace(/\\r/g, '\\n'); // old macs\n\n    // due to an edge case, we need to find this: > <\n    // to prevent removing of non silent white spaces\n    // ex: <em>this is</em> <strong>sparta</strong>\n    src = src.replace(/>[ \\t]+</, '>¨NBSP;<');\n\n    if (!HTMLParser) {\n      if (window && window.document) {\n        HTMLParser = window.document;\n      } else {\n        throw new Error('HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM');\n      }\n    }\n\n    var doc = HTMLParser.createElement('div');\n    doc.innerHTML = src;\n\n    var globals = {\n      preList: substitutePreCodeTags(doc)\n    };\n\n    // remove all newlines and collapse spaces\n    clean(doc);\n\n    // some stuff, like accidental reference links must now be escaped\n    // TODO\n    // doc.innerHTML = doc.innerHTML.replace(/\\[[\\S\\t ]]/);\n\n    var nodes = doc.childNodes,\n        mdDoc = '';\n\n    for (var i = 0; i < nodes.length; i++) {\n      mdDoc += showdown.subParser('makeMarkdown.node')(nodes[i], globals);\n    }\n\n    function clean (node) {\n      for (var n = 0; n < node.childNodes.length; ++n) {\n        var child = node.childNodes[n];\n        if (child.nodeType === 3) {\n          if (!/\\S/.test(child.nodeValue)) {\n            node.removeChild(child);\n            --n;\n          } else {\n            child.nodeValue = child.nodeValue.split('\\n').join(' ');\n            child.nodeValue = child.nodeValue.replace(/(\\s)+/g, '$1');\n          }\n        } else if (child.nodeType === 1) {\n          clean(child);\n        }\n      }\n    }\n\n    // find all pre tags and replace contents with placeholder\n    // we need this so that we can remove all indentation from html\n    // to ease up parsing\n    function substitutePreCodeTags (doc) {\n\n      var pres = doc.querySelectorAll('pre'),\n          presPH = [];\n\n      for (var i = 0; i < pres.length; ++i) {\n\n        if (pres[i].childElementCount === 1 && pres[i].firstChild.tagName.toLowerCase() === 'code') {\n          var content = pres[i].firstChild.innerHTML.trim(),\n              language = pres[i].firstChild.getAttribute('data-language') || '';\n\n          // if data-language attribute is not defined, then we look for class language-*\n          if (language === '') {\n            var classes = pres[i].firstChild.className.split(' ');\n            for (var c = 0; c < classes.length; ++c) {\n              var matches = classes[c].match(/^language-(.+)$/);\n              if (matches !== null) {\n                language = matches[1];\n                break;\n              }\n            }\n          }\n\n          // unescape html entities in content\n          content = showdown.helper.unescapeHTMLEntities(content);\n\n          presPH.push(content);\n          pres[i].outerHTML = '<precode language=\"' + language + '\" precodenum=\"' + i.toString() + '\"></precode>';\n        } else {\n          presPH.push(pres[i].innerHTML);\n          pres[i].innerHTML = '';\n          pres[i].setAttribute('prenum', i.toString());\n        }\n      }\n      return presPH;\n    }\n\n    return mdDoc;\n  };\n\n  /**\n   * Set an option of this Converter instance\n   * @param {string} key\n   * @param {*} value\n   */\n  this.setOption = function (key, value) {\n    options[key] = value;\n  };\n\n  /**\n   * Get the option of this Converter instance\n   * @param {string} key\n   * @returns {*}\n   */\n  this.getOption = function (key) {\n    return options[key];\n  };\n\n  /**\n   * Get the options of this Converter instance\n   * @returns {{}}\n   */\n  this.getOptions = function () {\n    return options;\n  };\n\n  /**\n   * Add extension to THIS converter\n   * @param {{}} extension\n   * @param {string} [name=null]\n   */\n  this.addExtension = function (extension, name) {\n    name = name || null;\n    _parseExtension(extension, name);\n  };\n\n  /**\n   * Use a global registered extension with THIS converter\n   * @param {string} extensionName Name of the previously registered extension\n   */\n  this.useExtension = function (extensionName) {\n    _parseExtension(extensionName);\n  };\n\n  /**\n   * Set the flavor THIS converter should use\n   * @param {string} name\n   */\n  this.setFlavor = function (name) {\n    if (!flavor.hasOwnProperty(name)) {\n      throw Error(name + ' flavor was not found');\n    }\n    var preset = flavor[name];\n    setConvFlavor = name;\n    for (var option in preset) {\n      if (preset.hasOwnProperty(option)) {\n        options[option] = preset[option];\n      }\n    }\n  };\n\n  /**\n   * Get the currently set flavor of this converter\n   * @returns {string}\n   */\n  this.getFlavor = function () {\n    return setConvFlavor;\n  };\n\n  /**\n   * Remove an extension from THIS converter.\n   * Note: This is a costly operation. It's better to initialize a new converter\n   * and specify the extensions you wish to use\n   * @param {Array} extension\n   */\n  this.removeExtension = function (extension) {\n    if (!showdown.helper.isArray(extension)) {\n      extension = [extension];\n    }\n    for (var a = 0; a < extension.length; ++a) {\n      var ext = extension[a];\n      for (var i = 0; i < langExtensions.length; ++i) {\n        if (langExtensions[i] === ext) {\n          langExtensions[i].splice(i, 1);\n        }\n      }\n      for (var ii = 0; ii < outputModifiers.length; ++i) {\n        if (outputModifiers[ii] === ext) {\n          outputModifiers[ii].splice(i, 1);\n        }\n      }\n    }\n  };\n\n  /**\n   * Get all extension of THIS converter\n   * @returns {{language: Array, output: Array}}\n   */\n  this.getAllExtensions = function () {\n    return {\n      language: langExtensions,\n      output: outputModifiers\n    };\n  };\n\n  /**\n   * Get the metadata of the previously parsed document\n   * @param raw\n   * @returns {string|{}}\n   */\n  this.getMetadata = function (raw) {\n    if (raw) {\n      return metadata.raw;\n    } else {\n      return metadata.parsed;\n    }\n  };\n\n  /**\n   * Get the metadata format of the previously parsed document\n   * @returns {string}\n   */\n  this.getMetadataFormat = function () {\n    return metadata.format;\n  };\n\n  /**\n   * Private: set a single key, value metadata pair\n   * @param {string} key\n   * @param {string} value\n   */\n  this._setMetadataPair = function (key, value) {\n    metadata.parsed[key] = value;\n  };\n\n  /**\n   * Private: set metadata format\n   * @param {string} format\n   */\n  this._setMetadataFormat = function (format) {\n    metadata.format = format;\n  };\n\n  /**\n   * Private: set metadata raw text\n   * @param {string} raw\n   */\n  this._setMetadataRaw = function (raw) {\n    metadata.raw = raw;\n  };\n};\n","/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('anchors', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('anchors.before', text, options, globals);\n\n  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {\n    if (showdown.helper.isUndefined(title)) {\n      title = '';\n    }\n    linkId = linkId.toLowerCase();\n\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n    } else if (!url) {\n      if (!linkId) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = linkText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {\n        url = globals.gUrls[linkId];\n        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {\n          title = globals.gTitles[linkId];\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n\n    var result = '<a href=\"' + url + '\"';\n\n    if (title !== '' && title !== null) {\n      title = title.replace(/\"/g, '&quot;');\n      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance\n      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    // optionLinksInNewWindow only applies\n    // to external links. Hash links (#) open in same page\n    if (options.openLinksInNewWindow && !/^#/.test(url)) {\n      // escaped _\n      result += ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n    }\n\n    result += '>' + linkText + '</a>';\n\n    return result;\n  };\n\n  // First, handle reference-style links: [link text] [id]\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)] ?(?:\\n *)?\\[(.*?)]()()()()/g, writeAnchorTag);\n\n  // Next, inline-style links: [link text](url \"optional title\")\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<([^>]*)>(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // normal cases\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // handle reference-style shortcuts: [link text]\n  // These must come last in case you've also got [link test][1]\n  // or [link test](/foo)\n  text = text.replace(/\\[([^\\[\\]]+)]()()()()()/g, writeAnchorTag);\n\n  // Lastly handle GithubMentions if option is enabled\n  if (options.ghMentions) {\n    text = text.replace(/(^|\\s)(\\\\)?(@([a-z\\d]+(?:[a-z\\d.-]+?[a-z\\d]+)*))/gmi, function (wm, st, escape, mentions, username) {\n      if (escape === '\\\\') {\n        return st + mentions;\n      }\n\n      //check if options.ghMentionsLink is a string\n      if (!showdown.helper.isString(options.ghMentionsLink)) {\n        throw new Error('ghMentionsLink option must be a string');\n      }\n      var lnk = options.ghMentionsLink.replace(/\\{u}/g, username),\n          target = '';\n      if (options.openLinksInNewWindow) {\n        target = ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n      }\n      return st + '<a href=\"' + lnk + '\"' + target + '>' + mentions + '</a>';\n    });\n  }\n\n  text = globals.converter._dispatch('anchors.after', text, options, globals);\n  return text;\n});\n","// url allowed chars [a-z\\d_.~:/?#[]@!$&'()*+,;=-]\n\nvar simpleURLRegex  = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+?\\.[^'\">\\s]+?)()(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    simpleURLRegex2 = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+\\.[^'\">\\s]+?)([.!?,()\\[\\]])?(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    delimUrlRegex   = /()<(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+)()>()/gi,\n    simpleMailRegex = /(^|\\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)(?=$|\\s)/gmi,\n    delimMailRegex  = /<()(?:mailto:)?([-.\\w]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>/gi,\n\n    replaceLink = function (options) {\n      'use strict';\n      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {\n        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n        var lnkTxt = link,\n            append = '',\n            target = '',\n            lmc    = leadingMagicChars || '',\n            tmc    = trailingMagicChars || '';\n        if (/^www\\./i.test(link)) {\n          link = link.replace(/^www\\./i, 'http://www.');\n        }\n        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {\n          append = trailingPunctuation;\n        }\n        if (options.openLinksInNewWindow) {\n          target = ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n        }\n        return lmc + '<a href=\"' + link + '\"' + target + '>' + lnkTxt + '</a>' + append + tmc;\n      };\n    },\n\n    replaceMail = function (options, globals) {\n      'use strict';\n      return function (wholeMatch, b, mail) {\n        var href = 'mailto:';\n        b = b || '';\n        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);\n        if (options.encodeEmails) {\n          href = showdown.helper.encodeEmailAddress(href + mail);\n          mail = showdown.helper.encodeEmailAddress(mail);\n        } else {\n          href = href + mail;\n        }\n        return b + '<a href=\"' + href + '\">' + mail + '</a>';\n      };\n    };\n\nshowdown.subParser('autoLinks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('autoLinks.before', text, options, globals);\n\n  text = text.replace(delimUrlRegex, replaceLink(options));\n  text = text.replace(delimMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('autoLinks.after', text, options, globals);\n\n  return text;\n});\n\nshowdown.subParser('simplifiedAutoLinks', function (text, options, globals) {\n  'use strict';\n\n  if (!options.simplifiedAutoLink) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);\n\n  if (options.excludeTrailingPunctuationFromURLs) {\n    text = text.replace(simpleURLRegex2, replaceLink(options));\n  } else {\n    text = text.replace(simpleURLRegex, replaceLink(options));\n  }\n  text = text.replace(simpleMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);\n\n  return text;\n});\n","/**\n * These are all the transformations that form block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('blockGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockGamut.before', text, options, globals);\n\n  // we parse blockquotes first so that we can have headings and hrs\n  // inside blockquotes\n  text = showdown.subParser('blockQuotes')(text, options, globals);\n  text = showdown.subParser('headers')(text, options, globals);\n\n  // Do Horizontal Rules:\n  text = showdown.subParser('horizontalRule')(text, options, globals);\n\n  text = showdown.subParser('lists')(text, options, globals);\n  text = showdown.subParser('codeBlocks')(text, options, globals);\n  text = showdown.subParser('tables')(text, options, globals);\n\n  // We already ran _HashHTMLBlocks() before, in Markdown(), but that\n  // was to escape raw HTML in the original Markdown source. This time,\n  // we're escaping the markup we've just created, so that we don't wrap\n  // <p> tags around block-level tags.\n  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n  text = showdown.subParser('paragraphs')(text, options, globals);\n\n  text = globals.converter._dispatch('blockGamut.after', text, options, globals);\n\n  return text;\n});\n","showdown.subParser('blockQuotes', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);\n\n  // add a couple extra lines after the text and endtext mark\n  text = text + '\\n\\n';\n\n  var rgx = /(^ {0,3}>[ \\t]?.+\\n(.+\\n)*\\n*)+/gm;\n\n  if (options.splitAdjacentBlockquotes) {\n    rgx = /^ {0,3}>[\\s\\S]*?(?:\\n\\n)/gm;\n  }\n\n  text = text.replace(rgx, function (bq) {\n    // attacklab: hack around Konqueror 3.5.4 bug:\n    // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n    bq = bq.replace(/^[ \\t]*>[ \\t]?/gm, ''); // trim one level of quoting\n\n    // attacklab: clean up hack\n    bq = bq.replace(/¨0/g, '');\n\n    bq = bq.replace(/^[ \\t]+$/gm, ''); // trim whitespace-only lines\n    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);\n    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse\n\n    bq = bq.replace(/(^|\\n)/g, '$1  ');\n    // These leading spaces screw with <pre> content, so we need to fix that:\n    bq = bq.replace(/(\\s*<pre>[^\\r]+?<\\/pre>)/gm, function (wholeMatch, m1) {\n      var pre = m1;\n      // attacklab: hack around Konqueror 3.5.4 bug:\n      pre = pre.replace(/^  /mg, '¨0');\n      pre = pre.replace(/¨0/g, '');\n      return pre;\n    });\n\n    return showdown.subParser('hashBlock')('<blockquote>\\n' + bq + '\\n</blockquote>', options, globals);\n  });\n\n  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);\n  return text;\n});\n","/**\n * Process Markdown `<pre><code>` blocks.\n */\nshowdown.subParser('codeBlocks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);\n\n  // sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '¨0';\n\n  var pattern = /(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=¨0))/g;\n  text = text.replace(pattern, function (wholeMatch, m1, m2) {\n    var codeblock = m1,\n        nextChar = m2,\n        end = '\\n';\n\n    codeblock = showdown.subParser('outdent')(codeblock, options, globals);\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing newlines\n\n    if (options.omitExtraWLInCodeBlocks) {\n      end = '';\n    }\n\n    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';\n\n    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;\n  });\n\n  // strip sentinel\n  text = text.replace(/¨0/, '');\n\n  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);\n  return text;\n});\n","/**\n *\n *   *  Backtick quotes are used for <code></code> spans.\n *\n *   *  You can use multiple backticks as the delimiters if you want to\n *     include literal backticks in the code span. So, this input:\n *\n *         Just type ``foo `bar` baz`` at the prompt.\n *\n *       Will translate to:\n *\n *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>\n *\n *    There's no arbitrary limit to the number of backticks you\n *    can use as delimters. If you need three consecutive backticks\n *    in your code, use four for delimiters, etc.\n *\n *  *  You can use spaces to get literal backticks at the edges:\n *\n *         ... type `` `bar` `` ...\n *\n *       Turns to:\n *\n *         ... type <code>`bar`</code> ...\n */\nshowdown.subParser('codeSpans', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeSpans.before', text, options, globals);\n\n  if (typeof text === 'undefined') {\n    text = '';\n  }\n  text = text.replace(/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)/gm,\n    function (wholeMatch, m1, m2, m3) {\n      var c = m3;\n      c = c.replace(/^([ \\t]*)/g, '');\t// leading whitespace\n      c = c.replace(/[ \\t]*$/g, '');\t// trailing whitespace\n      c = showdown.subParser('encodeCode')(c, options, globals);\n      c = m1 + '<code>' + c + '</code>';\n      c = showdown.subParser('hashHTMLSpans')(c, options, globals);\n      return c;\n    }\n  );\n\n  text = globals.converter._dispatch('codeSpans.after', text, options, globals);\n  return text;\n});\n","/**\n * Create a full HTML document from the processed markdown\n */\nshowdown.subParser('completeHTMLDocument', function (text, options, globals) {\n  'use strict';\n\n  if (!options.completeHTMLDocument) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);\n\n  var doctype = 'html',\n      doctypeParsed = '<!DOCTYPE HTML>\\n',\n      title = '',\n      charset = '<meta charset=\"utf-8\">\\n',\n      lang = '',\n      metadata = '';\n\n  if (typeof globals.metadata.parsed.doctype !== 'undefined') {\n    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\\n';\n    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();\n    if (doctype === 'html' || doctype === 'html5') {\n      charset = '<meta charset=\"utf-8\">';\n    }\n  }\n\n  for (var meta in globals.metadata.parsed) {\n    if (globals.metadata.parsed.hasOwnProperty(meta)) {\n      switch (meta.toLowerCase()) {\n        case 'doctype':\n          break;\n\n        case 'title':\n          title = '<title>' +  globals.metadata.parsed.title + '</title>\\n';\n          break;\n\n        case 'charset':\n          if (doctype === 'html' || doctype === 'html5') {\n            charset = '<meta charset=\"' + globals.metadata.parsed.charset + '\">\\n';\n          } else {\n            charset = '<meta name=\"charset\" content=\"' + globals.metadata.parsed.charset + '\">\\n';\n          }\n          break;\n\n        case 'language':\n        case 'lang':\n          lang = ' lang=\"' + globals.metadata.parsed[meta] + '\"';\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n          break;\n\n        default:\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n      }\n    }\n  }\n\n  text = doctypeParsed + '<html' + lang + '>\\n<head>\\n' + title + charset + metadata + '</head>\\n<body>\\n' + text.trim() + '\\n</body>\\n</html>';\n\n  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);\n  return text;\n});\n","/**\n * Convert all tabs to spaces\n */\nshowdown.subParser('detab', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('detab.before', text, options, globals);\n\n  // expand first n-1 tabs\n  text = text.replace(/\\t(?=\\t)/g, '    '); // g_tab_width\n\n  // replace the nth with two sentinels\n  text = text.replace(/\\t/g, '¨A¨B');\n\n  // use the sentinel to anchor our regex so it doesn't explode\n  text = text.replace(/¨B(.+?)¨A/g, function (wholeMatch, m1) {\n    var leadingText = m1,\n        numSpaces = 4 - leadingText.length % 4;  // g_tab_width\n\n    // there *must* be a better way to do this:\n    for (var i = 0; i < numSpaces; i++) {\n      leadingText += ' ';\n    }\n\n    return leadingText;\n  });\n\n  // clean up sentinels\n  text = text.replace(/¨A/g, '    ');  // g_tab_width\n  text = text.replace(/¨B/g, '');\n\n  text = globals.converter._dispatch('detab.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('ellipsis', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('ellipsis.before', text, options, globals);\n\n  text = text.replace(/\\.\\.\\./g, '…');\n\n  text = globals.converter._dispatch('ellipsis.after', text, options, globals);\n\n  return text;\n});\n","/**\n * Turn emoji codes into emojis\n *\n * List of supported emojis: https://github.com/showdownjs/showdown/wiki/Emojis\n */\nshowdown.subParser('emoji', function (text, options, globals) {\n  'use strict';\n\n  if (!options.emoji) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('emoji.before', text, options, globals);\n\n  var emojiRgx = /:([\\S]+?):/g;\n\n  text = text.replace(emojiRgx, function (wm, emojiCode) {\n    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {\n      return showdown.helper.emojis[emojiCode];\n    }\n    return wm;\n  });\n\n  text = globals.converter._dispatch('emoji.after', text, options, globals);\n\n  return text;\n});\n","/**\n * Smart processing for ampersands and angle brackets that need to be encoded.\n */\nshowdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);\n\n  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:\n  // http://bumppo.net/projects/amputator/\n  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)/g, '&amp;');\n\n  // Encode naked <'s\n  text = text.replace(/<(?![a-z\\/?$!])/gi, '&lt;');\n\n  // Encode <\n  text = text.replace(/</g, '&lt;');\n\n  // Encode >\n  text = text.replace(/>/g, '&gt;');\n\n  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);\n  return text;\n});\n","/**\n * Returns the string, with after processing the following backslash escape sequences.\n *\n * attacklab: The polite way to do this is with the new escapeCharacters() function:\n *\n *    text = escapeCharacters(text,\"\\\\\",true);\n *    text = escapeCharacters(text,\"`*_{}[]()>#+-.!\",true);\n *\n * ...but we're sidestepping its use of the (slow) RegExp constructor\n * as an optimization for Firefox.  This function gets called a LOT.\n */\nshowdown.subParser('encodeBackslashEscapes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);\n\n  text = text.replace(/\\\\(\\\\)/g, showdown.helper.escapeCharactersCallback);\n  text = text.replace(/\\\\([`*_{}\\[\\]()>#+.!~=|-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);\n  return text;\n});\n","/**\n * Encode/escape certain characters inside Markdown code runs.\n * The point is that in code, these characters are literals,\n * and lose their special Markdown meanings.\n */\nshowdown.subParser('encodeCode', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('encodeCode.before', text, options, globals);\n\n  // Encode all ampersands; HTML entities are not\n  // entities within a Markdown code span.\n  text = text\n    .replace(/&/g, '&amp;')\n  // Do the angle bracket song and dance:\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n  // Now, escape characters that are magic in Markdown:\n    .replace(/([*_{}\\[\\]\\\\=~-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeCode.after', text, options, globals);\n  return text;\n});\n","/**\n * Within tags -- meaning between < and > -- encode [\\ ` * _ ~ =] so they\n * don't conflict with their use in Markdown for code, italics and strong.\n */\nshowdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);\n\n  // Build a regex to find HTML tags.\n  var tags     = /<\\/?[a-z\\d_:-]+(?:[\\s]+[\\s\\S]+?)?>/gi,\n      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;\n\n  text = text.replace(tags, function (wholeMatch) {\n    return wholeMatch\n      .replace(/(.)<\\/?code>(?=.)/g, '$1`')\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = text.replace(comments, function (wholeMatch) {\n    return wholeMatch\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);\n  return text;\n});\n","/**\n * Handle github codeblocks prior to running HashHTML so that\n * HTML contained within the codeblock gets escaped properly\n * Example:\n * ```ruby\n *     def hello_world(x)\n *       puts \"Hello, #{x}\"\n *     end\n * ```\n */\nshowdown.subParser('githubCodeBlocks', function (text, options, globals) {\n  'use strict';\n\n  // early exit if option is not enabled\n  if (!options.ghCodeBlocks) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);\n\n  text += '¨0';\n\n  text = text.replace(/(?:^|\\n)(?: {0,3})(```+|~~~+)(?: *)([^\\s`~]*)\\n([\\s\\S]*?)\\n(?: {0,3})\\1/g, function (wholeMatch, delim, language, codeblock) {\n    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\\n';\n\n    // First parse the github code block\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing whitespace\n\n    codeblock = '<pre><code' + (language ? ' class=\"' + language + ' language-' + language + '\"' : '') + '>' + codeblock + end + '</code></pre>';\n\n    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);\n\n    // Since GHCodeblocks can be false positives, we need to\n    // store the primitive text and the parsed text in a global var,\n    // and then return a token\n    return '\\n\\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  });\n\n  // attacklab: strip sentinel\n  text = text.replace(/¨0/, '');\n\n  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);\n});\n","showdown.subParser('hashBlock', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashBlock.before', text, options, globals);\n  text = text.replace(/(^\\n+|\\n+$)/g, '');\n  text = '\\n\\n¨K' + (globals.gHtmlBlocks.push(text) - 1) + 'K\\n\\n';\n  text = globals.converter._dispatch('hashBlock.after', text, options, globals);\n  return text;\n});\n","/**\n * Hash and escape <code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '¨C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';\n  };\n\n  // Hash naked <code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\\\b[^>]*>', '</code>', 'gim');\n\n  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('hashElement', function (text, options, globals) {\n  'use strict';\n\n  return function (wholeMatch, m1) {\n    var blockText = m1;\n\n    // Undo double lines\n    blockText = blockText.replace(/\\n\\n/g, '\\n');\n    blockText = blockText.replace(/^\\n/, '');\n\n    // strip trailing blank lines\n    blockText = blockText.replace(/\\n+$/g, '');\n\n    // Replace the element text with a marker (\"¨KxK\" where x is its key)\n    blockText = '\\n\\n¨K' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\\n\\n';\n\n    return blockText;\n  };\n});\n","showdown.subParser('hashHTMLBlocks', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);\n\n  var blockTags = [\n        'pre',\n        'div',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6',\n        'blockquote',\n        'table',\n        'dl',\n        'ol',\n        'ul',\n        'script',\n        'noscript',\n        'form',\n        'fieldset',\n        'iframe',\n        'math',\n        'style',\n        'section',\n        'header',\n        'footer',\n        'nav',\n        'article',\n        'aside',\n        'address',\n        'audio',\n        'canvas',\n        'figure',\n        'hgroup',\n        'output',\n        'video',\n        'p'\n      ],\n      repFunc = function (wholeMatch, match, left, right) {\n        var txt = wholeMatch;\n        // check if this html element is marked as markdown\n        // if so, it's contents should be parsed as markdown\n        if (left.search(/\\bmarkdown\\b/) !== -1) {\n          txt = left + globals.converter.makeHtml(match) + right;\n        }\n        return '\\n\\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n      };\n\n  if (options.backslashEscapesHTMLTags) {\n    // encode backslash escaped HTML tags\n    text = text.replace(/\\\\<(\\/?[^>]+?)>/g, function (wm, inside) {\n      return '&lt;' + inside + '&gt;';\n    });\n  }\n\n  // hash HTML Blocks\n  for (var i = 0; i < blockTags.length; ++i) {\n\n    var opTagPos,\n        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\\\b[^>]*>)', 'im'),\n        patLeft  = '<' + blockTags[i] + '\\\\b[^>]*>',\n        patRight = '</' + blockTags[i] + '>';\n    // 1. Look for the first position of the first opening HTML tag in the text\n    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {\n\n      // if the HTML tag is \\ escaped, we need to escape it and break\n\n\n      //2. Split the text in that position\n      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),\n          //3. Match recursively\n          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');\n\n      // prevent an infinite loop\n      if (newSubText1 === subTexts[1]) {\n        break;\n      }\n      text = subTexts[0].concat(newSubText1);\n    }\n  }\n  // HR SPECIAL CASE\n  text = text.replace(/(\\n {0,3}(<(hr)\\b([^<>])*?\\/?>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  // Special case for standalone HTML comments\n  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {\n    return '\\n\\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n  }, '^ {0,3}<!--', '-->', 'gm');\n\n  // PHP and ASP-style processor instructions (<?...?> and <%...%>)\n  text = text.replace(/(?:\\n\\n)( {0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);\n  return text;\n});\n","/**\n * Hash span elements that should not be parsed as markdown\n */\nshowdown.subParser('hashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);\n\n  function hashHTMLSpan (html) {\n    return '¨C' + (globals.gHtmlSpans.push(html) - 1) + 'C';\n  }\n\n  // Hash Self Closing tags\n  text = text.replace(/<[^>]+?\\/>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags without properties\n  text = text.replace(/<([^>]+?)>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags with properties\n  text = text.replace(/<([^>]+?)\\s[^>]+?>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash self closing tags without />\n  text = text.replace(/<[^>]+?>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  /*showdown.helper.matchRecursiveRegExp(text, '<code\\\\b[^>]*>', '</code>', 'gi');*/\n\n  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\n/**\n * Unhash HTML spans\n */\nshowdown.subParser('unhashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);\n\n  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {\n    var repText = globals.gHtmlSpans[i],\n        // limiter to prevent infinite loop (assume 10 as limit for recurse)\n        limit = 0;\n\n    while (/¨C(\\d+)C/.test(repText)) {\n      var num = RegExp.$1;\n      repText = repText.replace('¨C' + num + 'C', globals.gHtmlSpans[num]);\n      if (limit === 10) {\n        console.error('maximum nesting of 10 spans reached!!!');\n        break;\n      }\n      ++limit;\n    }\n    text = text.replace('¨C' + i + 'C', repText);\n  }\n\n  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);\n  return text;\n});\n","/**\n * Hash and escape <pre><code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashPreCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    // encode html entities\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '\\n\\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  };\n\n  // Hash <pre><code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\\\b[^>]*>\\\\s*<code\\\\b[^>]*>', '^ {0,3}</code>\\\\s*</pre>', 'gim');\n\n  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('headers', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('headers.before', text, options, globals);\n\n  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),\n\n      // Set text-style headers:\n      //\tHeader 1\n      //\t========\n      //\n      //\tHeader 2\n      //\t--------\n      //\n      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n={2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n=+[ \\t]*\\n+/gm,\n      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n-{2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n-+[ \\t]*\\n+/gm;\n\n  text = text.replace(setextRegexH1, function (wholeMatch, m1) {\n\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  text = text.replace(setextRegexH2, function (matchFound, m1) {\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart + 1,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  // atx-style headers:\n  //  # Header 1\n  //  ## Header 2\n  //  ## Header 2 with closing hashes ##\n  //  ...\n  //  ###### Header 6\n  //\n  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \\t]+(.+?)[ \\t]*#*\\n+/gm : /^(#{1,6})[ \\t]*(.+?)[ \\t]*#*\\n+/gm;\n\n  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {\n    var hText = m2;\n    if (options.customizedHeaderId) {\n      hText = m2.replace(/\\s?\\{([^{]+?)}\\s*$/, '');\n    }\n\n    var span = showdown.subParser('spanGamut')(hText, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m2) + '\"',\n        hLevel = headerLevelStart - 1 + m1.length,\n        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';\n\n    return showdown.subParser('hashBlock')(header, options, globals);\n  });\n\n  function headerId (m) {\n    var title,\n        prefix;\n\n    // It is separate from other options to allow combining prefix and customized\n    if (options.customizedHeaderId) {\n      var match = m.match(/\\{([^{]+?)}\\s*$/);\n      if (match && match[1]) {\n        m = match[1];\n      }\n    }\n\n    title = m;\n\n    // Prefix id to prevent causing inadvertent pre-existing style matches.\n    if (showdown.helper.isString(options.prefixHeaderId)) {\n      prefix = options.prefixHeaderId;\n    } else if (options.prefixHeaderId === true) {\n      prefix = 'section-';\n    } else {\n      prefix = '';\n    }\n\n    if (!options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (options.ghCompatibleHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&, ¨ and $)\n        .replace(/&amp;/g, '')\n        .replace(/¨T/g, '')\n        .replace(/¨D/g, '')\n        // replace rest of the chars (&~$ are repeated as they might have been escaped)\n        // borrowed from github's redcarpet (some they should produce similar results)\n        .replace(/[&+$,\\/:;=?@\"#{}|^¨~\\[\\]`\\\\*)(%.!'<>]/g, '')\n        .toLowerCase();\n    } else if (options.rawHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&, ¨ and $)\n        .replace(/&amp;/g, '&')\n        .replace(/¨T/g, '¨')\n        .replace(/¨D/g, '$')\n        // replace \" and '\n        .replace(/[\"']/g, '-')\n        .toLowerCase();\n    } else {\n      title = title\n        .replace(/[^\\w]/g, '')\n        .toLowerCase();\n    }\n\n    if (options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (globals.hashLinkCounts[title]) {\n      title = title + '-' + (globals.hashLinkCounts[title]++);\n    } else {\n      globals.hashLinkCounts[title] = 1;\n    }\n    return title;\n  }\n\n  text = globals.converter._dispatch('headers.after', text, options, globals);\n  return text;\n});\n","/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('horizontalRule', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);\n\n  var key = showdown.subParser('hashBlock')('<hr />', options, globals);\n  text = text.replace(/^ {0,2}( ?-){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?\\*){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?_){3,}[ \\t]*$/gm, key);\n\n  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);\n  return text;\n});\n","/**\n * Turn Markdown image shortcuts into <img> tags.\n */\nshowdown.subParser('images', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('images.before', text, options, globals);\n\n  var inlineRegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      crazyRegExp       = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<([^>]*)>(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:(?:([\"'])([^\"]*?)\\6))?[ \\t]?\\)/g,\n      base64RegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      referenceRegExp   = /!\\[([^\\]]*?)] ?(?:\\n *)?\\[([\\s\\S]*?)]()()()()()/g,\n      refShortcutRegExp = /!\\[([^\\[\\]]+)]()()()()()/g;\n\n  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {\n    url = url.replace(/\\s/g, '');\n    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);\n  }\n\n  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {\n\n    var gUrls   = globals.gUrls,\n        gTitles = globals.gTitles,\n        gDims   = globals.gDimensions;\n\n    linkId = linkId.toLowerCase();\n\n    if (!title) {\n      title = '';\n    }\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n\n    } else if (url === '' || url === null) {\n      if (linkId === '' || linkId === null) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = altText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(gUrls[linkId])) {\n        url = gUrls[linkId];\n        if (!showdown.helper.isUndefined(gTitles[linkId])) {\n          title = gTitles[linkId];\n        }\n        if (!showdown.helper.isUndefined(gDims[linkId])) {\n          width = gDims[linkId].width;\n          height = gDims[linkId].height;\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    altText = altText\n      .replace(/\"/g, '&quot;')\n    //altText = showdown.helper.escapeCharacters(altText, '*_', false);\n      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    //url = showdown.helper.escapeCharacters(url, '*_', false);\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    var result = '<img src=\"' + url + '\" alt=\"' + altText + '\"';\n\n    if (title && showdown.helper.isString(title)) {\n      title = title\n        .replace(/\"/g, '&quot;')\n      //title = showdown.helper.escapeCharacters(title, '*_', false);\n        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    if (width && height) {\n      width  = (width === '*') ? 'auto' : width;\n      height = (height === '*') ? 'auto' : height;\n\n      result += ' width=\"' + width + '\"';\n      result += ' height=\"' + height + '\"';\n    }\n\n    result += ' />';\n\n    return result;\n  }\n\n  // First, handle reference-style labeled images: ![alt text][id]\n  text = text.replace(referenceRegExp, writeImageTag);\n\n  // Next, handle inline images:  ![alt text](url =<width>x<height> \"optional title\")\n\n  // base64 encoded images\n  text = text.replace(base64RegExp, writeImageTagBase64);\n\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(crazyRegExp, writeImageTag);\n\n  // normal cases\n  text = text.replace(inlineRegExp, writeImageTag);\n\n  // handle reference-style shortcuts: ![img text]\n  text = text.replace(refShortcutRegExp, writeImageTag);\n\n  text = globals.converter._dispatch('images.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('italicsAndBold', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);\n\n  // it's faster to have 3 separate regexes for each case than have just one\n  // because of backtracing, in some cases, it could lead to an exponential effect\n  // called \"catastrophic backtrace\". Ominous!\n\n  function parseInside (txt, left, right) {\n    /*\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    */\n    return left + txt + right;\n  }\n\n  // Parse underscores\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong>', '</strong>');\n    });\n    text = text.replace(/\\b_(\\S[\\s\\S]*?)_\\b/g, function (wm, txt) {\n      return parseInside (txt, '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/_([^\\s_][\\s\\S]*?)_/g, function (wm, m) {\n      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n  // Now parse asterisks\n  if (options.literalMidWordAsterisks) {\n    text = text.replace(/([^*]|^)\\B\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*\\*(\\S[\\s\\S]*?)\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong>', '</strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*(\\S[\\s\\S]*?)\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/\\*\\*(\\S[\\s\\S]*?)\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/\\*([^\\s*][\\s\\S]*?)\\*/g, function (wm, m) {\n      // !/^\\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n\n  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);\n  return text;\n});\n","/**\n * Form HTML ordered (numbered) and unordered (bulleted) lists.\n */\nshowdown.subParser('lists', function (text, options, globals) {\n  'use strict';\n\n  /**\n   * Process the contents of a single ordered or unordered list, splitting it\n   * into individual list items.\n   * @param {string} listStr\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function processListItems (listStr, trimTrailing) {\n    // The $g_list_level global keeps track of when we're inside a list.\n    // Each time we enter a list, we increment it; when we leave a list,\n    // we decrement. If it's zero, we're not in a list anymore.\n    //\n    // We do this because when we're not inside a list, we want to treat\n    // something like this:\n    //\n    //    I recommend upgrading to version\n    //    8. Oops, now this line is treated\n    //    as a sub-list.\n    //\n    // As a single paragraph, despite the fact that the second line starts\n    // with a digit-period-space sequence.\n    //\n    // Whereas when we're inside a list (or sub-list), that line will be\n    // treated as the start of a sub-list. What a kludge, huh? This is\n    // an aspect of Markdown's syntax that's hard to parse perfectly\n    // without resorting to mind-reading. Perhaps the solution is to\n    // change the syntax rules such that sub-lists must start with a\n    // starting cardinal number; e.g. \"1.\" or \"a.\".\n    globals.gListLevel++;\n\n    // trim trailing blank lines:\n    listStr = listStr.replace(/\\n{2,}$/, '\\n');\n\n    // attacklab: add sentinel to emulate \\z\n    listStr += '¨0';\n\n    var rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(¨0| {0,3}([*+-]|\\d+[.])[ \\t]+))/gm,\n        isParagraphed = (/\\n[ \\t]*\\n(?!¨0)/.test(listStr));\n\n    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,\n    // which is a syntax breaking change\n    // activating this option reverts to old behavior\n    if (options.disableForced4SpacesIndentedSublists) {\n      rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(¨0|\\2([*+-]|\\d+[.])[ \\t]+))/gm;\n    }\n\n    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {\n      checked = (checked && checked.trim() !== '');\n\n      var item = showdown.subParser('outdent')(m4, options, globals),\n          bulletStyle = '';\n\n      // Support for github tasklists\n      if (taskbtn && options.tasklists) {\n        bulletStyle = ' class=\"task-list-item\" style=\"list-style-type: none;\"';\n        item = item.replace(/^[ \\t]*\\[(x|X| )?]/m, function () {\n          var otp = '<input type=\"checkbox\" disabled style=\"margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;\"';\n          if (checked) {\n            otp += ' checked';\n          }\n          otp += '>';\n          return otp;\n        });\n      }\n\n      // ISSUE #312\n      // This input: - - - a\n      // causes trouble to the parser, since it interprets it as:\n      // <ul><li><li><li>a</li></li></li></ul>\n      // instead of:\n      // <ul><li>- - a</li></ul>\n      // So, to prevent it, we will put a marker (¨A)in the beginning of the line\n      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser\n      item = item.replace(/^([-*+]|\\d\\.)[ \\t]+[\\S\\n ]*/g, function (wm2) {\n        return '¨A' + wm2;\n      });\n\n      // m1 - Leading line or\n      // Has a double return (multi paragraph) or\n      // Has sublist\n      if (m1 || (item.search(/\\n{2,}/) > -1)) {\n        item = showdown.subParser('githubCodeBlocks')(item, options, globals);\n        item = showdown.subParser('blockGamut')(item, options, globals);\n      } else {\n        // Recursion for sub-lists:\n        item = showdown.subParser('lists')(item, options, globals);\n        item = item.replace(/\\n$/, ''); // chomp(item)\n        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);\n\n        // Colapse double linebreaks\n        item = item.replace(/\\n\\n+/g, '\\n\\n');\n        if (isParagraphed) {\n          item = showdown.subParser('paragraphs')(item, options, globals);\n        } else {\n          item = showdown.subParser('spanGamut')(item, options, globals);\n        }\n      }\n\n      // now we need to remove the marker (¨A)\n      item = item.replace('¨A', '');\n      // we can finally wrap the line in list item tags\n      item =  '<li' + bulletStyle + '>' + item + '</li>\\n';\n\n      return item;\n    });\n\n    // attacklab: strip sentinel\n    listStr = listStr.replace(/¨0/g, '');\n\n    globals.gListLevel--;\n\n    if (trimTrailing) {\n      listStr = listStr.replace(/\\s+$/, '');\n    }\n\n    return listStr;\n  }\n\n  function styleStartNumber (list, listType) {\n    // check if ol and starts by a number different than 1\n    if (listType === 'ol') {\n      var res = list.match(/^ *(\\d+)\\./);\n      if (res && res[1] !== '1') {\n        return ' start=\"' + res[1] + '\"';\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Check and parse consecutive lists (better fix for issue #142)\n   * @param {string} list\n   * @param {string} listType\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function parseConsecutiveLists (list, listType, trimTrailing) {\n    // check if we caught 2 or more consecutive lists by mistake\n    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa\n    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\\d+\\.[ \\t]/gm : /^ {0,3}\\d+\\.[ \\t]/gm,\n        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \\t]/gm : /^ {0,3}[*+-][ \\t]/gm,\n        counterRxg = (listType === 'ul') ? olRgx : ulRgx,\n        result = '';\n\n    if (list.search(counterRxg) !== -1) {\n      (function parseCL (txt) {\n        var pos = txt.search(counterRxg),\n            style = styleStartNumber(list, listType);\n        if (pos !== -1) {\n          // slice\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\\n';\n\n          // invert counterType and listType\n          listType = (listType === 'ul') ? 'ol' : 'ul';\n          counterRxg = (listType === 'ul') ? olRgx : ulRgx;\n\n          //recurse\n          parseCL(txt.slice(pos));\n        } else {\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\\n';\n        }\n      })(list);\n    } else {\n      var style = styleStartNumber(list, listType);\n      result = '\\n\\n<' + listType + style + '>\\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\\n';\n    }\n\n    return result;\n  }\n\n  /** Start of list parsing **/\n  text = globals.converter._dispatch('lists.before', text, options, globals);\n  // add sentinel to hack around khtml/safari bug:\n  // http://bugs.webkit.org/show_bug.cgi?id=11231\n  text += '¨0';\n\n  if (globals.gListLevel) {\n    text = text.replace(/^(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(¨0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, list, m2) {\n        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, true);\n      }\n    );\n  } else {\n    text = text.replace(/(\\n\\n|^\\n?)(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(¨0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, m1, list, m3) {\n        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, false);\n      }\n    );\n  }\n\n  // strip sentinel\n  text = text.replace(/¨0/, '');\n  text = globals.converter._dispatch('lists.after', text, options, globals);\n  return text;\n});\n","/**\n * Parse metadata at the top of the document\n */\nshowdown.subParser('metadata', function (text, options, globals) {\n  'use strict';\n\n  if (!options.metadata) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('metadata.before', text, options, globals);\n\n  function parseMetadataContents (content) {\n    // raw is raw so it's not changed in any way\n    globals.metadata.raw = content;\n\n    // escape chars forbidden in html attributes\n    // double quotes\n    content = content\n      // ampersand first\n      .replace(/&/g, '&amp;')\n      // double quotes\n      .replace(/\"/g, '&quot;');\n\n    content = content.replace(/\\n {4}/g, ' ');\n    content.replace(/^([\\S ]+): +([\\s\\S]+?)$/gm, function (wm, key, value) {\n      globals.metadata.parsed[key] = value;\n      return '';\n    });\n  }\n\n  text = text.replace(/^\\s*«««+(\\S*?)\\n([\\s\\S]+?)\\n»»»+\\n/, function (wholematch, format, content) {\n    parseMetadataContents(content);\n    return '¨M';\n  });\n\n  text = text.replace(/^\\s*---+(\\S*?)\\n([\\s\\S]+?)\\n---+\\n/, function (wholematch, format, content) {\n    if (format) {\n      globals.metadata.format = format;\n    }\n    parseMetadataContents(content);\n    return '¨M';\n  });\n\n  text = text.replace(/¨M/g, '');\n\n  text = globals.converter._dispatch('metadata.after', text, options, globals);\n  return text;\n});\n","/**\n * Remove one level of line-leading tabs or spaces\n */\nshowdown.subParser('outdent', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('outdent.before', text, options, globals);\n\n  // attacklab: hack around Konqueror 3.5.4 bug:\n  // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n  text = text.replace(/^(\\t|[ ]{1,4})/gm, '¨0'); // attacklab: g_tab_width\n\n  // attacklab: clean up hack\n  text = text.replace(/¨0/g, '');\n\n  text = globals.converter._dispatch('outdent.after', text, options, globals);\n  return text;\n});\n","/**\n *\n */\nshowdown.subParser('paragraphs', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('paragraphs.before', text, options, globals);\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n\n  var grafs = text.split(/\\n{2,}/g),\n      grafsOut = [],\n      end = grafs.length; // Wrap <p> tags\n\n  for (var i = 0; i < end; i++) {\n    var str = grafs[i];\n    // if this is an HTML marker, copy it\n    if (str.search(/¨(K|G)(\\d+)\\1/g) >= 0) {\n      grafsOut.push(str);\n\n    // test for presence of characters to prevent empty lines being parsed\n    // as paragraphs (resulting in undesired extra empty paragraphs)\n    } else if (str.search(/\\S/) >= 0) {\n      str = showdown.subParser('spanGamut')(str, options, globals);\n      str = str.replace(/^([ \\t]*)/g, '<p>');\n      str += '</p>';\n      grafsOut.push(str);\n    }\n  }\n\n  /** Unhashify HTML blocks */\n  end = grafsOut.length;\n  for (i = 0; i < end; i++) {\n    var blockText = '',\n        grafsOutIt = grafsOut[i],\n        codeFlag = false;\n    // if this is a marker for an html block...\n    // use RegExp.test instead of string.search because of QML bug\n    while (/¨(K|G)(\\d+)\\1/.test(grafsOutIt)) {\n      var delim = RegExp.$1,\n          num   = RegExp.$2;\n\n      if (delim === 'K') {\n        blockText = globals.gHtmlBlocks[num];\n      } else {\n        // we need to check if ghBlock is a false positive\n        if (codeFlag) {\n          // use encoded version of all text\n          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);\n        } else {\n          blockText = globals.ghCodeBlocks[num].codeblock;\n        }\n      }\n      blockText = blockText.replace(/\\$/g, '$$$$'); // Escape any dollar signs\n\n      grafsOutIt = grafsOutIt.replace(/(\\n\\n)?¨(K|G)\\d+\\2(\\n\\n)?/, blockText);\n      // Check if grafsOutIt is a pre->code\n      if (/^<pre\\b[^>]*>\\s*<code\\b[^>]*>/.test(grafsOutIt)) {\n        codeFlag = true;\n      }\n    }\n    grafsOut[i] = grafsOutIt;\n  }\n  text = grafsOut.join('\\n');\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n  return globals.converter._dispatch('paragraphs.after', text, options, globals);\n});\n","/**\n * Run extension\n */\nshowdown.subParser('runExtension', function (ext, text, options, globals) {\n  'use strict';\n\n  if (ext.filter) {\n    text = ext.filter(text, globals.converter, options);\n\n  } else if (ext.regex) {\n    // TODO remove this when old extension loading mechanism is deprecated\n    var re = ext.regex;\n    if (!(re instanceof RegExp)) {\n      re = new RegExp(re, 'g');\n    }\n    text = text.replace(re, ext.replace);\n  }\n\n  return text;\n});\n","/**\n * These are all the transformations that occur *within* block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('spanGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('spanGamut.before', text, options, globals);\n  text = showdown.subParser('codeSpans')(text, options, globals);\n  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);\n  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);\n\n  // Process anchor and image tags. Images must come first,\n  // because ![foo][f] looks like an anchor.\n  text = showdown.subParser('images')(text, options, globals);\n  text = showdown.subParser('anchors')(text, options, globals);\n\n  // Make links out of things like `<http://example.com/>`\n  // Must come after anchors, because you can use < and >\n  // delimiters in inline links like [this](<url>).\n  text = showdown.subParser('autoLinks')(text, options, globals);\n  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);\n  text = showdown.subParser('emoji')(text, options, globals);\n  text = showdown.subParser('underline')(text, options, globals);\n  text = showdown.subParser('italicsAndBold')(text, options, globals);\n  text = showdown.subParser('strikethrough')(text, options, globals);\n  text = showdown.subParser('ellipsis')(text, options, globals);\n\n  // we need to hash HTML tags inside spans\n  text = showdown.subParser('hashHTMLSpans')(text, options, globals);\n\n  // now we encode amps and angles\n  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);\n\n  // Do hard breaks\n  if (options.simpleLineBreaks) {\n    // GFM style hard breaks\n    // only add line breaks if the text does not contain a block (special case for lists)\n    if (!/\\n\\n¨K/.test(text)) {\n      text = text.replace(/\\n+/g, '<br />\\n');\n    }\n  } else {\n    // Vanilla hard breaks\n    text = text.replace(/  +\\n/g, '<br />\\n');\n  }\n\n  text = globals.converter._dispatch('spanGamut.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('strikethrough', function (text, options, globals) {\n  'use strict';\n\n  function parseInside (txt) {\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    return '<del>' + txt + '</del>';\n  }\n\n  if (options.strikethrough) {\n    text = globals.converter._dispatch('strikethrough.before', text, options, globals);\n    text = text.replace(/(?:~){2}([\\s\\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });\n    text = globals.converter._dispatch('strikethrough.after', text, options, globals);\n  }\n\n  return text;\n});\n","/**\n * Strips link definitions from text, stores the URLs and titles in\n * hash references.\n * Link defs are in the form: ^[id]: url \"optional title\"\n */\nshowdown.subParser('stripLinkDefinitions', function (text, options, globals) {\n  'use strict';\n\n  var regex       = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?([^>\\s]+)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n+|(?=¨0))/gm,\n      base64Regex = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n\\n|(?=¨0)|(?=\\n\\[))/gm;\n\n  // attacklab: sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '¨0';\n\n  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {\n    linkId = linkId.toLowerCase();\n    if (url.match(/^data:.+?\\/.+?;base64,/)) {\n      // remove newlines\n      globals.gUrls[linkId] = url.replace(/\\s/g, '');\n    } else {\n      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive\n    }\n\n    if (blankLines) {\n      // Oops, found blank lines, so it's not a title.\n      // Put back the parenthetical statement we stole.\n      return blankLines + title;\n\n    } else {\n      if (title) {\n        globals.gTitles[linkId] = title.replace(/\"|'/g, '&quot;');\n      }\n      if (options.parseImgDimensions && width && height) {\n        globals.gDimensions[linkId] = {\n          width:  width,\n          height: height\n        };\n      }\n    }\n    // Completely remove the definition from the text\n    return '';\n  };\n\n  // first we try to find base64 link references\n  text = text.replace(base64Regex, replaceFunc);\n\n  text = text.replace(regex, replaceFunc);\n\n  // attacklab: strip sentinel\n  text = text.replace(/¨0/, '');\n\n  return text;\n});\n","showdown.subParser('tables', function (text, options, globals) {\n  'use strict';\n\n  if (!options.tables) {\n    return text;\n  }\n\n  var tableRgx       = /^ {0,3}\\|?.+\\|.+\\n {0,3}\\|?[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[\\s\\S]+?(?:\\n\\n|¨0)/gm,\n      //singeColTblRgx = /^ {0,3}\\|.+\\|\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n(?: {0,3}\\|.+\\|\\n)+(?:\\n\\n|¨0)/gm;\n      singeColTblRgx = /^ {0,3}\\|.+\\|[ \\t]*\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n( {0,3}\\|.+\\|[ \\t]*\\n)*(?:\\n|¨0)/gm;\n\n  function parseStyles (sLine) {\n    if (/^:[ \\t]*--*$/.test(sLine)) {\n      return ' style=\"text-align:left;\"';\n    } else if (/^--*[ \\t]*:[ \\t]*$/.test(sLine)) {\n      return ' style=\"text-align:right;\"';\n    } else if (/^:[ \\t]*--*[ \\t]*:$/.test(sLine)) {\n      return ' style=\"text-align:center;\"';\n    } else {\n      return '';\n    }\n  }\n\n  function parseHeaders (header, style) {\n    var id = '';\n    header = header.trim();\n    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility\n    if (options.tablesHeaderId || options.tableHeaderId) {\n      id = ' id=\"' + header.replace(/ /g, '_').toLowerCase() + '\"';\n    }\n    header = showdown.subParser('spanGamut')(header, options, globals);\n\n    return '<th' + id + style + '>' + header + '</th>\\n';\n  }\n\n  function parseCells (cell, style) {\n    var subText = showdown.subParser('spanGamut')(cell, options, globals);\n    return '<td' + style + '>' + subText + '</td>\\n';\n  }\n\n  function buildTable (headers, cells) {\n    var tb = '<table>\\n<thead>\\n<tr>\\n',\n        tblLgn = headers.length;\n\n    for (var i = 0; i < tblLgn; ++i) {\n      tb += headers[i];\n    }\n    tb += '</tr>\\n</thead>\\n<tbody>\\n';\n\n    for (i = 0; i < cells.length; ++i) {\n      tb += '<tr>\\n';\n      for (var ii = 0; ii < tblLgn; ++ii) {\n        tb += cells[i][ii];\n      }\n      tb += '</tr>\\n';\n    }\n    tb += '</tbody>\\n</table>\\n';\n    return tb;\n  }\n\n  function parseTable (rawTable) {\n    var i, tableLines = rawTable.split('\\n');\n\n    for (i = 0; i < tableLines.length; ++i) {\n      // strip wrong first and last column if wrapped tables are used\n      if (/^ {0,3}\\|/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/^ {0,3}\\|/, '');\n      }\n      if (/\\|[ \\t]*$/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/\\|[ \\t]*$/, '');\n      }\n      // parse code spans first, but we only support one line code spans\n      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);\n    }\n\n    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),\n        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),\n        rawCells = [],\n        headers = [],\n        styles = [],\n        cells = [];\n\n    tableLines.shift();\n    tableLines.shift();\n\n    for (i = 0; i < tableLines.length; ++i) {\n      if (tableLines[i].trim() === '') {\n        continue;\n      }\n      rawCells.push(\n        tableLines[i]\n          .split('|')\n          .map(function (s) {\n            return s.trim();\n          })\n      );\n    }\n\n    if (rawHeaders.length < rawStyles.length) {\n      return rawTable;\n    }\n\n    for (i = 0; i < rawStyles.length; ++i) {\n      styles.push(parseStyles(rawStyles[i]));\n    }\n\n    for (i = 0; i < rawHeaders.length; ++i) {\n      if (showdown.helper.isUndefined(styles[i])) {\n        styles[i] = '';\n      }\n      headers.push(parseHeaders(rawHeaders[i], styles[i]));\n    }\n\n    for (i = 0; i < rawCells.length; ++i) {\n      var row = [];\n      for (var ii = 0; ii < headers.length; ++ii) {\n        if (showdown.helper.isUndefined(rawCells[i][ii])) {\n\n        }\n        row.push(parseCells(rawCells[i][ii], styles[ii]));\n      }\n      cells.push(row);\n    }\n\n    return buildTable(headers, cells);\n  }\n\n  text = globals.converter._dispatch('tables.before', text, options, globals);\n\n  // find escaped pipe characters\n  text = text.replace(/\\\\(\\|)/g, showdown.helper.escapeCharactersCallback);\n\n  // parse multi column tables\n  text = text.replace(tableRgx, parseTable);\n\n  // parse one column tables\n  text = text.replace(singeColTblRgx, parseTable);\n\n  text = globals.converter._dispatch('tables.after', text, options, globals);\n\n  return text;\n});\n","showdown.subParser('underline', function (text, options, globals) {\n  'use strict';\n\n  if (!options.underline) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('underline.before', text, options, globals);\n\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n  }\n\n  // escape remaining underscores to prevent them being parsed by italic and bold\n  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('underline.after', text, options, globals);\n\n  return text;\n});\n","/**\n * Swap back in all the special characters we've hidden.\n */\nshowdown.subParser('unescapeSpecialChars', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);\n\n  text = text.replace(/¨E(\\d+)E/g, function (wholeMatch, m1) {\n    var charCodeToReplace = parseInt(m1);\n    return String.fromCharCode(charCodeToReplace);\n  });\n\n  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('makeMarkdown.blockquote', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      var innerTxt = showdown.subParser('makeMarkdown.node')(children[i], globals);\n\n      if (innerTxt === '') {\n        continue;\n      }\n      txt += innerTxt;\n    }\n  }\n  // cleanup\n  txt = txt.trim();\n  txt = '> ' + txt.split('\\n').join('\\n> ');\n  return txt;\n});\n","showdown.subParser('makeMarkdown.codeBlock', function (node, globals) {\n  'use strict';\n\n  var lang = node.getAttribute('language'),\n      num  = node.getAttribute('precodenum');\n  return '```' + lang + '\\n' + globals.preList[num] + '\\n```';\n});\n","showdown.subParser('makeMarkdown.codeSpan', function (node) {\n  'use strict';\n\n  return '`' + node.innerHTML + '`';\n});\n","showdown.subParser('makeMarkdown.emphasis', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '*';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '*';\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.header', function (node, globals, headerLevel) {\n  'use strict';\n\n  var headerMark = new Array(headerLevel + 1).join('#'),\n      txt = '';\n\n  if (node.hasChildNodes()) {\n    txt = headerMark + ' ';\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.hr', function () {\n  'use strict';\n\n  return '---';\n});\n","showdown.subParser('makeMarkdown.image', function (node) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasAttribute('src')) {\n    txt += '![' + node.getAttribute('alt') + '](';\n    txt += '<' + node.getAttribute('src') + '>';\n    if (node.hasAttribute('width') && node.hasAttribute('height')) {\n      txt += ' =' + node.getAttribute('width') + 'x' + node.getAttribute('height');\n    }\n\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.links', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes() && node.hasAttribute('href')) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    txt = '[';\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '](';\n    txt += '<' + node.getAttribute('href') + '>';\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.list', function (node, globals, type) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var listItems       = node.childNodes,\n      listItemsLenght = listItems.length,\n      listNum = node.getAttribute('start') || 1;\n\n  for (var i = 0; i < listItemsLenght; ++i) {\n    if (typeof listItems[i].tagName === 'undefined' || listItems[i].tagName.toLowerCase() !== 'li') {\n      continue;\n    }\n\n    // define the bullet to use in list\n    var bullet = '';\n    if (type === 'ol') {\n      bullet = listNum.toString() + '. ';\n    } else {\n      bullet = '- ';\n    }\n\n    // parse list item\n    txt += bullet + showdown.subParser('makeMarkdown.listItem')(listItems[i], globals);\n    ++listNum;\n  }\n\n  // add comment at the end to prevent consecutive lists to be parsed as one\n  txt += '\\n<!-- -->\\n';\n  return txt.trim();\n});\n","showdown.subParser('makeMarkdown.listItem', function (node, globals) {\n  'use strict';\n\n  var listItemTxt = '';\n\n  var children = node.childNodes,\n      childrenLenght = children.length;\n\n  for (var i = 0; i < childrenLenght; ++i) {\n    listItemTxt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n  }\n  // if it's only one liner, we need to add a newline at the end\n  if (!/\\n$/.test(listItemTxt)) {\n    listItemTxt += '\\n';\n  } else {\n    // it's multiparagraph, so we need to indent\n    listItemTxt = listItemTxt\n      .split('\\n')\n      .join('\\n    ')\n      .replace(/^ {4}$/gm, '')\n      .replace(/\\n\\n+/g, '\\n\\n');\n  }\n\n  return listItemTxt;\n});\n","\n\nshowdown.subParser('makeMarkdown.node', function (node, globals, spansOnly) {\n  'use strict';\n\n  spansOnly = spansOnly || false;\n\n  var txt = '';\n\n  // edge case of text without wrapper paragraph\n  if (node.nodeType === 3) {\n    return showdown.subParser('makeMarkdown.txt')(node, globals);\n  }\n\n  // HTML comment\n  if (node.nodeType === 8) {\n    return '<!--' + node.data + '-->\\n\\n';\n  }\n\n  // process only node elements\n  if (node.nodeType !== 1) {\n    return '';\n  }\n\n  var tagName = node.tagName.toLowerCase();\n\n  switch (tagName) {\n\n    //\n    // BLOCKS\n    //\n    case 'h1':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 1) + '\\n\\n'; }\n      break;\n    case 'h2':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 2) + '\\n\\n'; }\n      break;\n    case 'h3':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 3) + '\\n\\n'; }\n      break;\n    case 'h4':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 4) + '\\n\\n'; }\n      break;\n    case 'h5':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 5) + '\\n\\n'; }\n      break;\n    case 'h6':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 6) + '\\n\\n'; }\n      break;\n\n    case 'p':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.paragraph')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'blockquote':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.blockquote')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'hr':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.hr')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'ol':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ol') + '\\n\\n'; }\n      break;\n\n    case 'ul':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ul') + '\\n\\n'; }\n      break;\n\n    case 'precode':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.codeBlock')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'pre':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.pre')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'table':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.table')(node, globals) + '\\n\\n'; }\n      break;\n\n    //\n    // SPANS\n    //\n    case 'code':\n      txt = showdown.subParser('makeMarkdown.codeSpan')(node, globals);\n      break;\n\n    case 'em':\n    case 'i':\n      txt = showdown.subParser('makeMarkdown.emphasis')(node, globals);\n      break;\n\n    case 'strong':\n    case 'b':\n      txt = showdown.subParser('makeMarkdown.strong')(node, globals);\n      break;\n\n    case 'del':\n      txt = showdown.subParser('makeMarkdown.strikethrough')(node, globals);\n      break;\n\n    case 'a':\n      txt = showdown.subParser('makeMarkdown.links')(node, globals);\n      break;\n\n    case 'img':\n      txt = showdown.subParser('makeMarkdown.image')(node, globals);\n      break;\n\n    default:\n      txt = node.outerHTML + '\\n\\n';\n  }\n\n  // common normalization\n  // TODO eventually\n\n  return txt;\n});\n","showdown.subParser('makeMarkdown.paragraph', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n\n  // some text normalization\n  txt = txt.trim();\n\n  return txt;\n});\n","showdown.subParser('makeMarkdown.pre', function (node, globals) {\n  'use strict';\n\n  var num  = node.getAttribute('prenum');\n  return '<pre>' + globals.preList[num] + '</pre>';\n});\n","showdown.subParser('makeMarkdown.strikethrough', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '~~';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '~~';\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.strong', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '**';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '**';\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.table', function (node, globals) {\n  'use strict';\n\n  var txt = '',\n      tableArray = [[], []],\n      headings   = node.querySelectorAll('thead>tr>th'),\n      rows       = node.querySelectorAll('tbody>tr'),\n      i, ii;\n  for (i = 0; i < headings.length; ++i) {\n    var headContent = showdown.subParser('makeMarkdown.tableCell')(headings[i], globals),\n        allign = '---';\n\n    if (headings[i].hasAttribute('style')) {\n      var style = headings[i].getAttribute('style').toLowerCase().replace(/\\s/g, '');\n      switch (style) {\n        case 'text-align:left;':\n          allign = ':---';\n          break;\n        case 'text-align:right;':\n          allign = '---:';\n          break;\n        case 'text-align:center;':\n          allign = ':---:';\n          break;\n      }\n    }\n    tableArray[0][i] = headContent.trim();\n    tableArray[1][i] = allign;\n  }\n\n  for (i = 0; i < rows.length; ++i) {\n    var r = tableArray.push([]) - 1,\n        cols = rows[i].getElementsByTagName('td');\n\n    for (ii = 0; ii < headings.length; ++ii) {\n      var cellContent = ' ';\n      if (typeof cols[ii] !== 'undefined') {\n        cellContent = showdown.subParser('makeMarkdown.tableCell')(cols[ii], globals);\n      }\n      tableArray[r].push(cellContent);\n    }\n  }\n\n  var cellSpacesCount = 3;\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      var strLen = tableArray[i][ii].length;\n      if (strLen > cellSpacesCount) {\n        cellSpacesCount = strLen;\n      }\n    }\n  }\n\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      if (i === 1) {\n        if (tableArray[i][ii].slice(-1) === ':') {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii].slice(-1), cellSpacesCount - 1, '-') + ':';\n        } else {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount, '-');\n        }\n      } else {\n        tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount);\n      }\n    }\n    txt += '| ' + tableArray[i].join(' | ') + ' |\\n';\n  }\n\n  return txt.trim();\n});\n","showdown.subParser('makeMarkdown.tableCell', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var children = node.childNodes,\n      childrenLength = children.length;\n\n  for (var i = 0; i < childrenLength; ++i) {\n    txt += showdown.subParser('makeMarkdown.node')(children[i], globals, true);\n  }\n  return txt.trim();\n});\n","showdown.subParser('makeMarkdown.txt', function (node) {\n  'use strict';\n\n  var txt = node.nodeValue;\n\n  // multiple spaces are collapsed\n  txt = txt.replace(/ +/g, ' ');\n\n  // replace the custom ¨NBSP; with a space\n  txt = txt.replace(/¨NBSP;/g, ' ');\n\n  // \", <, > and & should replace escaped html entities\n  txt = showdown.helper.unescapeHTMLEntities(txt);\n\n  // escape markdown magic characters\n  // emphasis, strong and strikethrough - can appear everywhere\n  // we also escape pipe (|) because of tables\n  // and escape ` because of code blocks and spans\n  txt = txt.replace(/([*_~|`])/g, '\\\\$1');\n\n  // escape > because of blockquotes\n  txt = txt.replace(/^(\\s*)>/g, '\\\\$1>');\n\n  // hash character, only troublesome at the beginning of a line because of headers\n  txt = txt.replace(/^#/gm, '\\\\#');\n\n  // horizontal rules\n  txt = txt.replace(/^(\\s*)([-=]{3,})(\\s*)$/, '$1\\\\$2$3');\n\n  // dot, because of ordered lists, only troublesome at the beginning of a line when preceded by an integer\n  txt = txt.replace(/^( {0,3}\\d+)\\./gm, '$1\\\\.');\n\n  // +, * and -, at the beginning of a line becomes a list, so we need to escape them also (asterisk was already escaped)\n  txt = txt.replace(/^( {0,3})([+-])/gm, '$1\\\\$2');\n\n  // images and links, ] followed by ( is problematic, so we escape it\n  txt = txt.replace(/]([\\s]*)\\(/g, '\\\\]$1\\\\(');\n\n  // reference URIs must also be escaped\n  txt = txt.replace(/^ {0,3}\\[([\\S \\t]*?)]:/gm, '\\\\[$1]:');\n\n  return txt;\n});\n","var root = this;\n\n// AMD Loader\nif (typeof define === 'function' && define.amd) {\n  define(function () {\n    'use strict';\n    return showdown;\n  });\n\n// CommonJS/nodeJS Loader\n} else if (typeof module !== 'undefined' && module.exports) {\n  module.exports = showdown;\n\n// Regular Browser loader\n} else {\n  root.showdown = showdown;\n}\n","/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.5\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // Events originating from a shadow DOM are re-targetted and `e.target` is the shadow host,\n        // not the initial event target in the shadow tree. Note that not all events cross the\n        // shadow boundary.\n        // For shadow trees with `mode: 'open'`, the initial event target is the first element in\n        // the event’s composed path. For shadow trees with `mode: 'closed'`, the initial event\n        // target cannot be obtained.\n        if ('composedPath' in e && typeof e.composedPath === 'function') {\n            // For open shadow trees, update `element` so that the following check works.\n            var initialEventTarget = e.composedPath()[0];\n            if (initialEventTarget !== e.target) {\n                element = initialEventTarget;\n            }\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","'use strict';\n\nfunction flattenIntoMap( map, effects ) {\n\tvar i;\n\tif ( Array.isArray( effects ) ) {\n\t\tfor ( i = 0; i < effects.length; i++ ) {\n\t\t\tflattenIntoMap( map, effects[ i ] );\n\t\t}\n\t} else {\n\t\tfor ( i in effects ) {\n\t\t\tmap[ i ] = ( map[ i ] || [] ).concat( effects[ i ] );\n\t\t}\n\t}\n}\n\nfunction refx( effects ) {\n\tvar map = {},\n\t\tmiddleware;\n\n\tflattenIntoMap( map, effects );\n\n\tmiddleware = function( store ) {\n\t\treturn function( next ) {\n\t\t\treturn function( action ) {\n\t\t\t\tvar handlers = map[ action.type ],\n\t\t\t\t\tresult = next( action ),\n\t\t\t\t\ti, handlerAction;\n\n\t\t\t\tif ( handlers ) {\n\t\t\t\t\tfor ( i = 0; i < handlers.length; i++ ) {\n\t\t\t\t\t\thandlerAction = handlers[ i ]( action, store );\n\t\t\t\t\t\tif ( handlerAction ) {\n\t\t\t\t\t\t\tstore.dispatch( handlerAction );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t};\n\t\t};\n\t};\n\n\tmiddleware.effects = map;\n\n\treturn middleware;\n}\n\nmodule.exports = refx;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Redux dispatch multiple actions\n */\n\nfunction multi(_ref) {\n  var dispatch = _ref.dispatch;\n\n  return function (next) {\n    return function (action) {\n      return Array.isArray(action) ? action.filter(Boolean).map(dispatch) : next(action);\n    };\n  };\n}\n\n/**\n * Exports\n */\n\nexports.default = multi;","// @flow\nimport * as React from 'react';\nimport useOnResize from './useOnResize';\n\nconst style = {\n  display: 'block',\n  opacity: 0,\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  height: '100%',\n  width: '100%',\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  zIndex: -1,\n};\n\n// This automatically attaches to itself the resize event listener\n// and adds onResize as callback\nexport default ({\n  onResize,\n}: {\n  onResize: (React.ElementRef<any>) => void,\n}) => {\n  const ref = React.useRef();\n  useOnResize(ref, () => onResize(ref));\n\n  return (\n    <iframe\n      style={style}\n      src=\"about:blank\"\n      ref={ref}\n      aria-hidden={true}\n      aria-label=\"resize-listener\"\n      tabIndex={-1}\n      frameBorder={0}\n    />\n  );\n};\n","// @flow\nimport * as React from 'react';\n\n// This is just an utility to cleanly attach a `resize` event listener\n// to a target HTMLObjectElement or HTMLIFrameElement\n// The real Hook is `useResizeAware.js`\nexport default (ref: React.ElementRef<any>, onResize: () => void) => {\n  const getTarget = () => ref.current && ref.current.contentDocument && ref.current.contentDocument.defaultView;\n  function run() {\n    // trigger onResize event on mount to provide initial sizes\n    onResize();\n    var target = getTarget();\n    target && target.addEventListener('resize', onResize);\n  }\n  React.useEffect(() => {\n    if (getTarget()) {\n      run();\n    }\n    else if (ref.current && ref.current.addEventListener) {\n      ref.current.addEventListener('load', run)\n    }\n\n    // clean event listener on unmount\n    return () => {\n      // Ensure the target exists and is in fact an event listener\n      // this fixes an issue where contentDocument.defaultView is not a real window object\n      // as can be the case when used with React portals\n      const target = getTarget();\n      const isListener =\n        target && typeof target.removeEventListener === 'function';\n\n      isListener && target.removeEventListener('resize', onResize);\n    };\n  }, []);\n};\n","// @flow\nimport * as React from 'react';\nimport ResizeListener from './ResizeListener';\n\nconst defaultReporter = (target: ?HTMLElement) => ({\n  width: target != null ? target.offsetWidth : null,\n  height: target != null ? target.offsetHeight : null,\n});\n\nexport default function useResizeAware(\n  reporter: typeof defaultReporter = defaultReporter\n) {\n  const [sizes, setSizes] = React.useState(reporter(null));\n  const onResize = React.useCallback(ref => setSizes(reporter(ref.current)), [\n    reporter,\n  ]);\n  const resizeListenerNode = React.useMemo(\n    () => <ResizeListener onResize={onResize} />,\n    [onResize]\n  );\n\n  return [resizeListenerNode, sizes];\n}\n","var traverse = module.exports = function (obj) {\n    return new Traverse(obj);\n};\n\nfunction Traverse (obj) {\n    this.value = obj;\n}\n\nTraverse.prototype.get = function (ps) {\n    var node = this.value;\n    for (var i = 0; i < ps.length; i ++) {\n        var key = ps[i];\n        if (!node || !hasOwnProperty.call(node, key)) {\n            node = undefined;\n            break;\n        }\n        node = node[key];\n    }\n    return node;\n};\n\nTraverse.prototype.has = function (ps) {\n    var node = this.value;\n    for (var i = 0; i < ps.length; i ++) {\n        var key = ps[i];\n        if (!node || !hasOwnProperty.call(node, key)) {\n            return false;\n        }\n        node = node[key];\n    }\n    return true;\n};\n\nTraverse.prototype.set = function (ps, value) {\n    var node = this.value;\n    for (var i = 0; i < ps.length - 1; i ++) {\n        var key = ps[i];\n        if (!hasOwnProperty.call(node, key)) node[key] = {};\n        node = node[key];\n    }\n    node[ps[i]] = value;\n    return value;\n};\n\nTraverse.prototype.map = function (cb) {\n    return walk(this.value, cb, true);\n};\n\nTraverse.prototype.forEach = function (cb) {\n    this.value = walk(this.value, cb, false);\n    return this.value;\n};\n\nTraverse.prototype.reduce = function (cb, init) {\n    var skip = arguments.length === 1;\n    var acc = skip ? this.value : init;\n    this.forEach(function (x) {\n        if (!this.isRoot || !skip) {\n            acc = cb.call(this, acc, x);\n        }\n    });\n    return acc;\n};\n\nTraverse.prototype.paths = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.path); \n    });\n    return acc;\n};\n\nTraverse.prototype.nodes = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.node);\n    });\n    return acc;\n};\n\nTraverse.prototype.clone = function () {\n    var parents = [], nodes = [];\n    \n    return (function clone (src) {\n        for (var i = 0; i < parents.length; i++) {\n            if (parents[i] === src) {\n                return nodes[i];\n            }\n        }\n        \n        if (typeof src === 'object' && src !== null) {\n            var dst = copy(src);\n            \n            parents.push(src);\n            nodes.push(dst);\n            \n            forEach(objectKeys(src), function (key) {\n                dst[key] = clone(src[key]);\n            });\n            \n            parents.pop();\n            nodes.pop();\n            return dst;\n        }\n        else {\n            return src;\n        }\n    })(this.value);\n};\n\nfunction walk (root, cb, immutable) {\n    var path = [];\n    var parents = [];\n    var alive = true;\n    \n    return (function walker (node_) {\n        var node = immutable ? copy(node_) : node_;\n        var modifiers = {};\n        \n        var keepGoing = true;\n        \n        var state = {\n            node : node,\n            node_ : node_,\n            path : [].concat(path),\n            parent : parents[parents.length - 1],\n            parents : parents,\n            key : path.slice(-1)[0],\n            isRoot : path.length === 0,\n            level : path.length,\n            circular : null,\n            update : function (x, stopHere) {\n                if (!state.isRoot) {\n                    state.parent.node[state.key] = x;\n                }\n                state.node = x;\n                if (stopHere) keepGoing = false;\n            },\n            'delete' : function (stopHere) {\n                delete state.parent.node[state.key];\n                if (stopHere) keepGoing = false;\n            },\n            remove : function (stopHere) {\n                if (isArray(state.parent.node)) {\n                    state.parent.node.splice(state.key, 1);\n                }\n                else {\n                    delete state.parent.node[state.key];\n                }\n                if (stopHere) keepGoing = false;\n            },\n            keys : null,\n            before : function (f) { modifiers.before = f },\n            after : function (f) { modifiers.after = f },\n            pre : function (f) { modifiers.pre = f },\n            post : function (f) { modifiers.post = f },\n            stop : function () { alive = false },\n            block : function () { keepGoing = false }\n        };\n        \n        if (!alive) return state;\n        \n        function updateState() {\n            if (typeof state.node === 'object' && state.node !== null) {\n                if (!state.keys || state.node_ !== state.node) {\n                    state.keys = objectKeys(state.node)\n                }\n                \n                state.isLeaf = state.keys.length == 0;\n                \n                for (var i = 0; i < parents.length; i++) {\n                    if (parents[i].node_ === node_) {\n                        state.circular = parents[i];\n                        break;\n                    }\n                }\n            }\n            else {\n                state.isLeaf = true;\n                state.keys = null;\n            }\n            \n            state.notLeaf = !state.isLeaf;\n            state.notRoot = !state.isRoot;\n        }\n        \n        updateState();\n        \n        // use return values to update if defined\n        var ret = cb.call(state, state.node);\n        if (ret !== undefined && state.update) state.update(ret);\n        \n        if (modifiers.before) modifiers.before.call(state, state.node);\n        \n        if (!keepGoing) return state;\n        \n        if (typeof state.node == 'object'\n        && state.node !== null && !state.circular) {\n            parents.push(state);\n            \n            updateState();\n            \n            forEach(state.keys, function (key, i) {\n                path.push(key);\n                \n                if (modifiers.pre) modifiers.pre.call(state, state.node[key], key);\n                \n                var child = walker(state.node[key]);\n                if (immutable && hasOwnProperty.call(state.node, key)) {\n                    state.node[key] = child.node;\n                }\n                \n                child.isLast = i == state.keys.length - 1;\n                child.isFirst = i == 0;\n                \n                if (modifiers.post) modifiers.post.call(state, child);\n                \n                path.pop();\n            });\n            parents.pop();\n        }\n        \n        if (modifiers.after) modifiers.after.call(state, state.node);\n        \n        return state;\n    })(root).node;\n}\n\nfunction copy (src) {\n    if (typeof src === 'object' && src !== null) {\n        var dst;\n        \n        if (isArray(src)) {\n            dst = [];\n        }\n        else if (isDate(src)) {\n            dst = new Date(src.getTime ? src.getTime() : src);\n        }\n        else if (isRegExp(src)) {\n            dst = new RegExp(src);\n        }\n        else if (isError(src)) {\n            dst = { message: src.message };\n        }\n        else if (isBoolean(src)) {\n            dst = new Boolean(src);\n        }\n        else if (isNumber(src)) {\n            dst = new Number(src);\n        }\n        else if (isString(src)) {\n            dst = new String(src);\n        }\n        else if (Object.create && Object.getPrototypeOf) {\n            dst = Object.create(Object.getPrototypeOf(src));\n        }\n        else if (src.constructor === Object) {\n            dst = {};\n        }\n        else {\n            var proto =\n                (src.constructor && src.constructor.prototype)\n                || src.__proto__\n                || {}\n            ;\n            var T = function () {};\n            T.prototype = proto;\n            dst = new T;\n        }\n        \n        forEach(objectKeys(src), function (key) {\n            dst[key] = src[key];\n        });\n        return dst;\n    }\n    else return src;\n}\n\nvar objectKeys = Object.keys || function keys (obj) {\n    var res = [];\n    for (var key in obj) res.push(key)\n    return res;\n};\n\nfunction toS (obj) { return Object.prototype.toString.call(obj) }\nfunction isDate (obj) { return toS(obj) === '[object Date]' }\nfunction isRegExp (obj) { return toS(obj) === '[object RegExp]' }\nfunction isError (obj) { return toS(obj) === '[object Error]' }\nfunction isBoolean (obj) { return toS(obj) === '[object Boolean]' }\nfunction isNumber (obj) { return toS(obj) === '[object Number]' }\nfunction isString (obj) { return toS(obj) === '[object String]' }\n\nvar isArray = Array.isArray || function isArray (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nvar forEach = function (xs, fn) {\n    if (xs.forEach) return xs.forEach(fn)\n    else for (var i = 0; i < xs.length; i++) {\n        fn(xs[i], i, xs);\n    }\n};\n\nforEach(objectKeys(Traverse.prototype), function (key) {\n    traverse[key] = function (obj) {\n        var args = [].slice.call(arguments, 1);\n        var t = new Traverse(obj);\n        return t[key].apply(t, args);\n    };\n});\n\nvar hasOwnProperty = Object.hasOwnProperty || function (obj, key) {\n    return key in obj;\n};\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n'use strict';\n\nexports.match = matchQuery;\nexports.parse = parseQuery;\n\n// -----------------------------------------------------------------------------\n\nvar RE_MEDIA_QUERY     = /(?:(only|not)?\\s*([^\\s\\(\\)]+)(?:\\s*and)?\\s*)?(.+)?/i,\n    RE_MQ_EXPRESSION   = /\\(\\s*([^\\s\\:\\)]+)\\s*(?:\\:\\s*([^\\s\\)]+))?\\s*\\)/,\n    RE_MQ_FEATURE      = /^(?:(min|max)-)?(.+)/,\n    RE_LENGTH_UNIT     = /(em|rem|px|cm|mm|in|pt|pc)?$/,\n    RE_RESOLUTION_UNIT = /(dpi|dpcm|dppx)?$/;\n\nfunction matchQuery(mediaQuery, values) {\n    return parseQuery(mediaQuery).some(function (query) {\n        var inverse = query.inverse;\n\n        // Either the parsed or specified `type` is \"all\", or the types must be\n        // equal for a match.\n        var typeMatch = query.type === 'all' || values.type === query.type;\n\n        // Quit early when `type` doesn't match, but take \"not\" into account.\n        if ((typeMatch && inverse) || !(typeMatch || inverse)) {\n            return false;\n        }\n\n        var expressionsMatch = query.expressions.every(function (expression) {\n            var feature  = expression.feature,\n                modifier = expression.modifier,\n                expValue = expression.value,\n                value    = values[feature];\n\n            // Missing or falsy values don't match.\n            if (!value) { return false; }\n\n            switch (feature) {\n                case 'orientation':\n                case 'scan':\n                    return value.toLowerCase() === expValue.toLowerCase();\n\n                case 'width':\n                case 'height':\n                case 'device-width':\n                case 'device-height':\n                    expValue = toPx(expValue);\n                    value    = toPx(value);\n                    break;\n\n                case 'resolution':\n                    expValue = toDpi(expValue);\n                    value    = toDpi(value);\n                    break;\n\n                case 'aspect-ratio':\n                case 'device-aspect-ratio':\n                case /* Deprecated */ 'device-pixel-ratio':\n                    expValue = toDecimal(expValue);\n                    value    = toDecimal(value);\n                    break;\n\n                case 'grid':\n                case 'color':\n                case 'color-index':\n                case 'monochrome':\n                    expValue = parseInt(expValue, 10) || 1;\n                    value    = parseInt(value, 10) || 0;\n                    break;\n            }\n\n            switch (modifier) {\n                case 'min': return value >= expValue;\n                case 'max': return value <= expValue;\n                default   : return value === expValue;\n            }\n        });\n\n        return (expressionsMatch && !inverse) || (!expressionsMatch && inverse);\n    });\n}\n\nfunction parseQuery(mediaQuery) {\n    return mediaQuery.split(',').map(function (query) {\n        query = query.trim();\n\n        var captures    = query.match(RE_MEDIA_QUERY),\n            modifier    = captures[1],\n            type        = captures[2],\n            expressions = captures[3] || '',\n            parsed      = {};\n\n        parsed.inverse = !!modifier && modifier.toLowerCase() === 'not';\n        parsed.type    = type ? type.toLowerCase() : 'all';\n\n        // Split expressions into a list.\n        expressions = expressions.match(/\\([^\\)]+\\)/g) || [];\n\n        parsed.expressions = expressions.map(function (expression) {\n            var captures = expression.match(RE_MQ_EXPRESSION),\n                feature  = captures[1].toLowerCase().match(RE_MQ_FEATURE);\n\n            return {\n                modifier: feature[1],\n                feature : feature[2],\n                value   : captures[2]\n            };\n        });\n\n        return parsed;\n    });\n}\n\n// -- Utilities ----------------------------------------------------------------\n\nfunction toDecimal(ratio) {\n    var decimal = Number(ratio),\n        numbers;\n\n    if (!decimal) {\n        numbers = ratio.match(/^(\\d+)\\s*\\/\\s*(\\d+)$/);\n        decimal = numbers[1] / numbers[2];\n    }\n\n    return decimal;\n}\n\nfunction toDpi(resolution) {\n    var value = parseFloat(resolution),\n        units = String(resolution).match(RE_RESOLUTION_UNIT)[1];\n\n    switch (units) {\n        case 'dpcm': return value / 2.54;\n        case 'dppx': return value * 96;\n        default    : return value;\n    }\n}\n\nfunction toPx(length) {\n    var value = parseFloat(length),\n        units = String(length).match(RE_LENGTH_UNIT)[1];\n\n    switch (units) {\n        case 'em' : return value * 16;\n        case 'rem': return value * 16;\n        case 'cm' : return value * 96 / 2.54;\n        case 'mm' : return value * 96 / 2.54 / 10;\n        case 'in' : return value * 96;\n        case 'pt' : return value * 72;\n        case 'pc' : return value * 72 / 12;\n        default   : return value;\n    }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar resizer_1 = require(\"./resizer\");\nvar fast_memoize_1 = __importDefault(require(\"fast-memoize\"));\nvar DEFAULT_SIZE = {\n    width: 'auto',\n    height: 'auto',\n};\nvar clamp = fast_memoize_1.default(function (n, min, max) { return Math.max(Math.min(n, max), min); });\nvar snap = fast_memoize_1.default(function (n, size) { return Math.round(n / size) * size; });\nvar hasDirection = fast_memoize_1.default(function (dir, target) {\n    return new RegExp(dir, 'i').test(target);\n});\nvar findClosestSnap = fast_memoize_1.default(function (n, snapArray, snapGap) {\n    if (snapGap === void 0) { snapGap = 0; }\n    var closestGapIndex = snapArray.reduce(function (prev, curr, index) { return (Math.abs(curr - n) < Math.abs(snapArray[prev] - n) ? index : prev); }, 0);\n    var gap = Math.abs(snapArray[closestGapIndex] - n);\n    return snapGap === 0 || gap < snapGap ? snapArray[closestGapIndex] : n;\n});\nvar endsWith = fast_memoize_1.default(function (str, searchStr) {\n    return str.substr(str.length - searchStr.length, searchStr.length) === searchStr;\n});\nvar getStringSize = fast_memoize_1.default(function (n) {\n    n = n.toString();\n    if (n === 'auto') {\n        return n;\n    }\n    if (endsWith(n, 'px')) {\n        return n;\n    }\n    if (endsWith(n, '%')) {\n        return n;\n    }\n    if (endsWith(n, 'vh')) {\n        return n;\n    }\n    if (endsWith(n, 'vw')) {\n        return n;\n    }\n    if (endsWith(n, 'vmax')) {\n        return n;\n    }\n    if (endsWith(n, 'vmin')) {\n        return n;\n    }\n    return n + \"px\";\n});\nvar getPixelSize = function (size, parentSize, innerWidth, innerHeight) {\n    if (size && typeof size === 'string') {\n        if (endsWith(size, '%')) {\n            var ratio = Number(size.replace('%', '')) / 100;\n            return parentSize * ratio;\n        }\n        else if (endsWith(size, 'vw')) {\n            var ratio = Number(size.replace('vw', '')) / 100;\n            return innerWidth * ratio;\n        }\n        else if (endsWith(size, 'vh')) {\n            var ratio = Number(size.replace('vh', '')) / 100;\n            return innerHeight * ratio;\n        }\n    }\n    return size;\n};\nvar calculateNewMax = fast_memoize_1.default(function (parentSize, innerWidth, innerHeight, maxWidth, maxHeight, minWidth, minHeight) {\n    maxWidth = getPixelSize(maxWidth, parentSize.width, innerWidth, innerHeight);\n    maxHeight = getPixelSize(maxHeight, parentSize.height, innerWidth, innerHeight);\n    minWidth = getPixelSize(minWidth, parentSize.width, innerWidth, innerHeight);\n    minHeight = getPixelSize(minHeight, parentSize.height, innerWidth, innerHeight);\n    return {\n        maxWidth: typeof maxWidth === 'undefined' ? undefined : Number(maxWidth),\n        maxHeight: typeof maxHeight === 'undefined' ? undefined : Number(maxHeight),\n        minWidth: typeof minWidth === 'undefined' ? undefined : Number(minWidth),\n        minHeight: typeof minHeight === 'undefined' ? undefined : Number(minHeight),\n    };\n});\nvar definedProps = [\n    'style',\n    'className',\n    'grid',\n    'snap',\n    'bounds',\n    'size',\n    'defaultSize',\n    'minWidth',\n    'minHeight',\n    'maxWidth',\n    'maxHeight',\n    'lockAspectRatio',\n    'lockAspectRatioExtraWidth',\n    'lockAspectRatioExtraHeight',\n    'enable',\n    'handleStyles',\n    'handleClasses',\n    'handleWrapperStyle',\n    'handleWrapperClass',\n    'children',\n    'onResizeStart',\n    'onResize',\n    'onResizeStop',\n    'handleComponent',\n    'scale',\n    'resizeRatio',\n    'snapGap',\n];\n// HACK: This class is used to calculate % size.\nvar baseClassName = '__resizable_base__';\nvar Resizable = /** @class */ (function (_super) {\n    __extends(Resizable, _super);\n    function Resizable(props) {\n        var _this = _super.call(this, props) || this;\n        _this.ratio = 1;\n        _this.resizable = null;\n        // For parent boundary\n        _this.parentLeft = 0;\n        _this.parentTop = 0;\n        // For boundary\n        _this.resizableLeft = 0;\n        _this.resizableTop = 0;\n        // For target boundary\n        _this.targetLeft = 0;\n        _this.targetTop = 0;\n        _this.ref = function (c) {\n            if (c) {\n                _this.resizable = c;\n            }\n        };\n        _this.state = {\n            isResizing: false,\n            width: typeof (_this.propsSize && _this.propsSize.width) === 'undefined'\n                ? 'auto'\n                : _this.propsSize && _this.propsSize.width,\n            height: typeof (_this.propsSize && _this.propsSize.height) === 'undefined'\n                ? 'auto'\n                : _this.propsSize && _this.propsSize.height,\n            direction: 'right',\n            original: {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            },\n            backgroundStyle: {\n                height: '100%',\n                width: '100%',\n                backgroundColor: 'rgba(0,0,0,0)',\n                cursor: 'auto',\n                opacity: 0,\n                position: 'fixed',\n                zIndex: 9999,\n                top: '0',\n                left: '0',\n                bottom: '0',\n                right: '0',\n            },\n            flexBasis: undefined,\n        };\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\n        _this.onMouseUp = _this.onMouseUp.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(Resizable.prototype, \"parentNode\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            return this.resizable.parentNode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"window\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            if (!this.resizable.ownerDocument) {\n                return null;\n            }\n            return this.resizable.ownerDocument.defaultView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"propsSize\", {\n        get: function () {\n            return this.props.size || this.props.defaultSize || DEFAULT_SIZE;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"base\", {\n        get: function () {\n            var parent = this.parentNode;\n            if (!parent) {\n                return undefined;\n            }\n            var children = [].slice.call(parent.children);\n            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n                var n = children_1[_i];\n                if (n.classList.contains(baseClassName)) {\n                    return n;\n                }\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"size\", {\n        get: function () {\n            var width = 0;\n            var height = 0;\n            if (this.resizable && this.window) {\n                var orgWidth = this.resizable.offsetWidth;\n                var orgHeight = this.resizable.offsetHeight;\n                // HACK: Set position `relative` to get parent size.\n                //       This is because when re-resizable set `absolute`, I can not get base width correctly.\n                var orgPosition = this.resizable.style.position;\n                if (orgPosition !== 'relative') {\n                    this.resizable.style.position = 'relative';\n                }\n                // INFO: Use original width or height if set auto.\n                width = this.resizable.style.width !== 'auto' ? this.resizable.offsetWidth : orgWidth;\n                height = this.resizable.style.height !== 'auto' ? this.resizable.offsetHeight : orgHeight;\n                // Restore original position\n                this.resizable.style.position = orgPosition;\n            }\n            return { width: width, height: height };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"sizeStyle\", {\n        get: function () {\n            var _this = this;\n            var size = this.props.size;\n            var getSize = function (key) {\n                if (typeof _this.state[key] === 'undefined' || _this.state[key] === 'auto') {\n                    return 'auto';\n                }\n                if (_this.propsSize && _this.propsSize[key] && endsWith(_this.propsSize[key].toString(), '%')) {\n                    if (endsWith(_this.state[key].toString(), '%')) {\n                        return _this.state[key].toString();\n                    }\n                    var parentSize = _this.getParentSize();\n                    var value = Number(_this.state[key].toString().replace('px', ''));\n                    var percent = (value / parentSize[key]) * 100;\n                    return percent + \"%\";\n                }\n                return getStringSize(_this.state[key]);\n            };\n            var width = size && typeof size.width !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.width)\n                : getSize('width');\n            var height = size && typeof size.height !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.height)\n                : getSize('height');\n            return { width: width, height: height };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Resizable.prototype.getParentSize = function () {\n        if (!this.base || !this.parentNode) {\n            if (!this.window) {\n                return { width: 0, height: 0 };\n            }\n            return { width: this.window.innerWidth, height: this.window.innerHeight };\n        }\n        // INFO: To calculate parent width with flex layout\n        var wrapChanged = false;\n        var wrap = this.parentNode.style.flexWrap;\n        var minWidth = this.base.style.minWidth;\n        if (wrap !== 'wrap') {\n            wrapChanged = true;\n            this.parentNode.style.flexWrap = 'wrap';\n            // HACK: Use relative to get parent padding size\n        }\n        this.base.style.position = 'relative';\n        this.base.style.minWidth = '100%';\n        var size = {\n            width: this.base.offsetWidth,\n            height: this.base.offsetHeight,\n        };\n        this.base.style.position = 'absolute';\n        if (wrapChanged) {\n            this.parentNode.style.flexWrap = wrap;\n        }\n        this.base.style.minWidth = minWidth;\n        return size;\n    };\n    Resizable.prototype.bindEvents = function () {\n        if (this.window) {\n            this.window.addEventListener('mouseup', this.onMouseUp);\n            this.window.addEventListener('mousemove', this.onMouseMove);\n            this.window.addEventListener('mouseleave', this.onMouseUp);\n            this.window.addEventListener('touchmove', this.onMouseMove);\n            this.window.addEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.unbindEvents = function () {\n        if (this.window) {\n            this.window.removeEventListener('mouseup', this.onMouseUp);\n            this.window.removeEventListener('mousemove', this.onMouseMove);\n            this.window.removeEventListener('mouseleave', this.onMouseUp);\n            this.window.removeEventListener('touchmove', this.onMouseMove);\n            this.window.removeEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.componentDidMount = function () {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        this.setState({\n            width: this.state.width || this.size.width,\n            height: this.state.height || this.size.height,\n            flexBasis: computedStyle.flexBasis !== 'auto' ? computedStyle.flexBasis : undefined,\n        });\n        var parent = this.parentNode;\n        if (!parent) {\n            return;\n        }\n        if (this.base) {\n            return;\n        }\n        var element = this.window.document.createElement('div');\n        element.style.width = '100%';\n        element.style.height = '100%';\n        element.style.position = 'absolute';\n        element.style.transform = 'scale(0, 0)';\n        element.style.left = '0';\n        element.style.flex = '0';\n        if (element.classList) {\n            element.classList.add(baseClassName);\n        }\n        else {\n            element.className += baseClassName;\n        }\n        parent.appendChild(element);\n    };\n    Resizable.prototype.componentWillUnmount = function () {\n        if (this.window) {\n            this.unbindEvents();\n            var parent_1 = this.parentNode;\n            if (!this.base || !parent_1) {\n                return;\n            }\n            if (!parent_1 || !this.base) {\n                return;\n            }\n            parent_1.removeChild(this.base);\n        }\n    };\n    Resizable.prototype.createSizeForCssProperty = function (newSize, kind) {\n        var propsSize = this.propsSize && this.propsSize[kind];\n        return this.state[kind] === 'auto' &&\n            this.state.original[kind] === newSize &&\n            (typeof propsSize === 'undefined' || propsSize === 'auto')\n            ? 'auto'\n            : newSize;\n    };\n    Resizable.prototype.calculateNewMaxFromBoundary = function (maxWidth, maxHeight) {\n        if (this.props.bounds === 'parent') {\n            var parent_2 = this.parentNode;\n            if (parent_2) {\n                var boundWidth = parent_2.offsetWidth + (this.parentLeft - this.resizableLeft);\n                var boundHeight = parent_2.offsetHeight + (this.parentTop - this.resizableTop);\n                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n            }\n        }\n        else if (this.props.bounds === 'window') {\n            if (this.window) {\n                var boundWidth = this.window.innerWidth - this.resizableLeft;\n                var boundHeight = this.window.innerHeight - this.resizableTop;\n                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n            }\n        }\n        else if (this.props.bounds) {\n            var boundWidth = this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft);\n            var boundHeight = this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop);\n            maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n            maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n        }\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromDirection = function (clientX, clientY) {\n        var scale = this.props.scale || 1;\n        var resizeRatio = this.props.resizeRatio || 1;\n        var _a = this.state, direction = _a.direction, original = _a.original;\n        var _b = this.props, lockAspectRatio = _b.lockAspectRatio, lockAspectRatioExtraHeight = _b.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _b.lockAspectRatioExtraWidth;\n        var newWidth = original.width;\n        var newHeight = original.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (hasDirection('right', direction)) {\n            newWidth = original.width + ((clientX - original.x) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('left', direction)) {\n            newWidth = original.width - ((clientX - original.x) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('bottom', direction)) {\n            newHeight = original.height + ((clientY - original.y) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        if (hasDirection('top', direction)) {\n            newHeight = original.height - ((clientY - original.y) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromAspectRatio = function (newWidth, newHeight, max, min) {\n        var _a = this.props, lockAspectRatio = _a.lockAspectRatio, lockAspectRatioExtraHeight = _a.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _a.lockAspectRatioExtraWidth;\n        var computedMinWidth = typeof min.width === 'undefined' ? 10 : min.width;\n        var computedMaxWidth = typeof max.width === 'undefined' || max.width < 0 ? newWidth : max.width;\n        var computedMinHeight = typeof min.height === 'undefined' ? 10 : min.height;\n        var computedMaxHeight = typeof max.height === 'undefined' || max.height < 0 ? newHeight : max.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (lockAspectRatio) {\n            var extraMinWidth = (computedMinHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMaxWidth = (computedMaxHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMinHeight = (computedMinWidth - extraWidth) / this.ratio + extraHeight;\n            var extraMaxHeight = (computedMaxWidth - extraWidth) / this.ratio + extraHeight;\n            var lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);\n            var lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);\n            var lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);\n            var lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);\n            newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);\n            newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);\n        }\n        else {\n            newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);\n            newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.setBoundingClientRect = function () {\n        // For parent boundary\n        if (this.props.bounds === 'parent') {\n            var parent_3 = this.parentNode;\n            if (parent_3) {\n                var parentRect = parent_3.getBoundingClientRect();\n                this.parentLeft = parentRect.left;\n                this.parentTop = parentRect.top;\n            }\n        }\n        // For target(html element) boundary\n        if (this.props.bounds && typeof this.props.bounds !== 'string') {\n            var targetRect = this.props.bounds.getBoundingClientRect();\n            this.targetLeft = targetRect.left;\n            this.targetTop = targetRect.top;\n        }\n        // For boundary\n        if (this.resizable) {\n            var _a = this.resizable.getBoundingClientRect(), left = _a.left, top_1 = _a.top;\n            this.resizableLeft = left;\n            this.resizableTop = top_1;\n        }\n    };\n    Resizable.prototype.onResizeStart = function (event, direction) {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var clientX = 0;\n        var clientY = 0;\n        if (event.nativeEvent instanceof this.window.MouseEvent) {\n            clientX = event.nativeEvent.clientX;\n            clientY = event.nativeEvent.clientY;\n            // When user click with right button the resize is stuck in resizing mode\n            // until users clicks again, dont continue if right click is used.\n            // HACK: MouseEvent does not have `which` from flow-bin v0.68.\n            if (event.nativeEvent.which === 3) {\n                return;\n            }\n        }\n        else if (event.nativeEvent instanceof this.window.TouchEvent) {\n            clientX = event.nativeEvent.touches[0].clientX;\n            clientY = event.nativeEvent.touches[0].clientY;\n        }\n        if (this.props.onResizeStart) {\n            if (this.resizable) {\n                var startResize = this.props.onResizeStart(event, direction, this.resizable);\n                if (startResize === false) {\n                    return;\n                }\n            }\n        }\n        // Fix #168\n        if (this.props.size) {\n            if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {\n                this.setState({ height: this.props.size.height });\n            }\n            if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {\n                this.setState({ width: this.props.size.width });\n            }\n        }\n        // For lockAspectRatio case\n        this.ratio =\n            typeof this.props.lockAspectRatio === 'number' ? this.props.lockAspectRatio : this.size.width / this.size.height;\n        var flexBasis;\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        if (computedStyle.flexBasis !== 'auto') {\n            var parent_4 = this.parentNode;\n            if (parent_4) {\n                var dir = this.window.getComputedStyle(parent_4).flexDirection;\n                this.flexDir = dir.startsWith('row') ? 'row' : 'column';\n                flexBasis = computedStyle.flexBasis;\n            }\n        }\n        // For boundary\n        this.setBoundingClientRect();\n        this.bindEvents();\n        var state = {\n            original: {\n                x: clientX,\n                y: clientY,\n                width: this.size.width,\n                height: this.size.height,\n            },\n            isResizing: true,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: this.window.getComputedStyle(event.target).cursor || 'auto' }),\n            direction: direction,\n            flexBasis: flexBasis,\n        };\n        this.setState(state);\n    };\n    Resizable.prototype.onMouseMove = function (event) {\n        if (!this.state.isResizing || !this.resizable || !this.window) {\n            return;\n        }\n        var _a = this.props, maxWidth = _a.maxWidth, maxHeight = _a.maxHeight, minWidth = _a.minWidth, minHeight = _a.minHeight;\n        var clientX = event instanceof this.window.MouseEvent ? event.clientX : event.touches[0].clientX;\n        var clientY = event instanceof this.window.MouseEvent ? event.clientY : event.touches[0].clientY;\n        var _b = this.state, direction = _b.direction, original = _b.original, width = _b.width, height = _b.height;\n        var parentSize = this.getParentSize();\n        var max = calculateNewMax(parentSize, this.window.innerWidth, this.window.innerHeight, maxWidth, maxHeight, minWidth, minHeight);\n        maxWidth = max.maxWidth;\n        maxHeight = max.maxHeight;\n        minWidth = max.minWidth;\n        minHeight = max.minHeight;\n        // Calculate new size\n        var _c = this.calculateNewSizeFromDirection(clientX, clientY), newHeight = _c.newHeight, newWidth = _c.newWidth;\n        // Calculate max size from boundary settings\n        var boundaryMax = this.calculateNewMaxFromBoundary(maxWidth, maxHeight);\n        // Calculate new size from aspect ratio\n        var newSize = this.calculateNewSizeFromAspectRatio(newWidth, newHeight, { width: boundaryMax.maxWidth, height: boundaryMax.maxHeight }, { width: minWidth, height: minHeight });\n        newWidth = newSize.newWidth;\n        newHeight = newSize.newHeight;\n        if (this.props.grid) {\n            var newGridWidth = snap(newWidth, this.props.grid[0]);\n            var newGridHeight = snap(newHeight, this.props.grid[1]);\n            var gap = this.props.snapGap || 0;\n            newWidth = gap === 0 || Math.abs(newGridWidth - newWidth) <= gap ? newGridWidth : newWidth;\n            newHeight = gap === 0 || Math.abs(newGridHeight - newHeight) <= gap ? newGridHeight : newHeight;\n        }\n        if (this.props.snap && this.props.snap.x) {\n            newWidth = findClosestSnap(newWidth, this.props.snap.x, this.props.snapGap);\n        }\n        if (this.props.snap && this.props.snap.y) {\n            newHeight = findClosestSnap(newHeight, this.props.snap.y, this.props.snapGap);\n        }\n        var delta = {\n            width: newWidth - original.width,\n            height: newHeight - original.height,\n        };\n        if (width && typeof width === 'string') {\n            if (endsWith(width, '%')) {\n                var percent = (newWidth / parentSize.width) * 100;\n                newWidth = percent + \"%\";\n            }\n            else if (endsWith(width, 'vw')) {\n                var vw = (newWidth / this.window.innerWidth) * 100;\n                newWidth = vw + \"vw\";\n            }\n            else if (endsWith(width, 'vh')) {\n                var vh = (newWidth / this.window.innerHeight) * 100;\n                newWidth = vh + \"vh\";\n            }\n        }\n        if (height && typeof height === 'string') {\n            if (endsWith(height, '%')) {\n                var percent = (newHeight / parentSize.height) * 100;\n                newHeight = percent + \"%\";\n            }\n            else if (endsWith(height, 'vw')) {\n                var vw = (newHeight / this.window.innerWidth) * 100;\n                newHeight = vw + \"vw\";\n            }\n            else if (endsWith(height, 'vh')) {\n                var vh = (newHeight / this.window.innerHeight) * 100;\n                newHeight = vh + \"vh\";\n            }\n        }\n        var newState = {\n            width: this.createSizeForCssProperty(newWidth, 'width'),\n            height: this.createSizeForCssProperty(newHeight, 'height'),\n        };\n        if (this.flexDir === 'row') {\n            newState.flexBasis = newState.width;\n        }\n        else if (this.flexDir === 'column') {\n            newState.flexBasis = newState.height;\n        }\n        this.setState(newState);\n        if (this.props.onResize) {\n            this.props.onResize(event, direction, this.resizable, delta);\n        }\n    };\n    Resizable.prototype.onMouseUp = function (event) {\n        var _a = this.state, isResizing = _a.isResizing, direction = _a.direction, original = _a.original;\n        if (!isResizing || !this.resizable) {\n            return;\n        }\n        var delta = {\n            width: this.size.width - original.width,\n            height: this.size.height - original.height,\n        };\n        if (this.props.onResizeStop) {\n            this.props.onResizeStop(event, direction, this.resizable, delta);\n        }\n        if (this.props.size) {\n            this.setState(this.props.size);\n        }\n        this.unbindEvents();\n        this.setState({\n            isResizing: false,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: 'auto' }),\n        });\n    };\n    Resizable.prototype.updateSize = function (size) {\n        this.setState({ width: size.width, height: size.height });\n    };\n    Resizable.prototype.renderResizer = function () {\n        var _this = this;\n        var _a = this.props, enable = _a.enable, handleStyles = _a.handleStyles, handleClasses = _a.handleClasses, handleWrapperStyle = _a.handleWrapperStyle, handleWrapperClass = _a.handleWrapperClass, handleComponent = _a.handleComponent;\n        if (!enable) {\n            return null;\n        }\n        var resizers = Object.keys(enable).map(function (dir) {\n            if (enable[dir] !== false) {\n                return (React.createElement(resizer_1.Resizer, { key: dir, direction: dir, onResizeStart: _this.onResizeStart, replaceStyles: handleStyles && handleStyles[dir], className: handleClasses && handleClasses[dir] }, handleComponent && handleComponent[dir] ? handleComponent[dir] : null));\n            }\n            return null;\n        });\n        // #93 Wrap the resize box in span (will not break 100% width/height)\n        return (React.createElement(\"span\", { className: handleWrapperClass, style: handleWrapperStyle }, resizers));\n    };\n    Resizable.prototype.render = function () {\n        var _this = this;\n        var extendsProps = Object.keys(this.props).reduce(function (acc, key) {\n            if (definedProps.indexOf(key) !== -1) {\n                return acc;\n            }\n            acc[key] = _this.props[key];\n            return acc;\n        }, {});\n        var style = __assign(__assign(__assign({ position: 'relative', userSelect: this.state.isResizing ? 'none' : 'auto' }, this.props.style), this.sizeStyle), { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: 'border-box', flexShrink: 0 });\n        if (this.state.flexBasis) {\n            style.flexBasis = this.state.flexBasis;\n        }\n        return (React.createElement(\"div\", __assign({ ref: this.ref, style: style, className: this.props.className }, extendsProps),\n            this.state.isResizing && React.createElement(\"div\", { style: this.state.backgroundStyle }),\n            this.props.children,\n            this.renderResizer()));\n    };\n    Resizable.defaultProps = {\n        onResizeStart: function () { },\n        onResize: function () { },\n        onResizeStop: function () { },\n        enable: {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            topRight: true,\n            bottomRight: true,\n            bottomLeft: true,\n            topLeft: true,\n        },\n        style: {},\n        grid: [1, 1],\n        lockAspectRatio: false,\n        lockAspectRatioExtraWidth: 0,\n        lockAspectRatioExtraHeight: 0,\n        scale: 1,\n        resizeRatio: 1,\n        snapGap: 0,\n    };\n    return Resizable;\n}(React.PureComponent));\nexports.Resizable = Resizable;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _builtin = require('./controls/builtin');\n\nvar _builtin2 = _interopRequireDefault(_builtin);\n\nvar _is = require('./utils/is');\n\nvar _is2 = _interopRequireDefault(_is);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar create = function create() {\n  var userControls = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n  var controls = [].concat(_toConsumableArray(userControls), _toConsumableArray(_builtin2.default));\n\n  var runtime = function runtime(input) {\n    var success = arguments.length <= 1 || arguments[1] === undefined ? function () {} : arguments[1];\n    var error = arguments.length <= 2 || arguments[2] === undefined ? function () {} : arguments[2];\n\n    var iterate = function iterate(gen) {\n      var yieldValue = function yieldValue(isError) {\n        return function (ret) {\n          try {\n            var _ref = isError ? gen.throw(ret) : gen.next(ret);\n\n            var value = _ref.value;\n            var done = _ref.done;\n\n            if (done) return success(value);\n            next(value);\n          } catch (e) {\n            return error(e);\n          }\n        };\n      };\n\n      var next = function next(ret) {\n        controls.some(function (control) {\n          return control(ret, next, runtime, yieldValue(false), yieldValue(true));\n        });\n      };\n\n      yieldValue(false)();\n    };\n\n    var iterator = _is2.default.iterator(input) ? input : regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return input;\n\n            case 2:\n              return _context.abrupt('return', _context.sent);\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    })();\n\n    iterate(iterator, success, error);\n  };\n\n  return runtime;\n};\n\nexports.default = create;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.iterator = exports.array = exports.object = exports.error = exports.any = undefined;\n\nvar _is = require('../utils/is');\n\nvar _is2 = _interopRequireDefault(_is);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar any = exports.any = function any(value, next, rungen, yieldNext) {\n  yieldNext(value);\n  return true;\n};\n\nvar error = exports.error = function error(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.error(value)) return false;\n  raiseNext(value.error);\n  return true;\n};\n\nvar object = exports.object = function object(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.all(value) || !_is2.default.obj(value.value)) return false;\n  var result = {};\n  var keys = Object.keys(value.value);\n  var count = 0;\n  var hasError = false;\n  var gotResultSuccess = function gotResultSuccess(key, ret) {\n    if (hasError) return;\n    result[key] = ret;\n    count++;\n    if (count === keys.length) {\n      yieldNext(result);\n    }\n  };\n\n  var gotResultError = function gotResultError(key, error) {\n    if (hasError) return;\n    hasError = true;\n    raiseNext(error);\n  };\n\n  keys.map(function (key) {\n    rungen(value.value[key], function (ret) {\n      return gotResultSuccess(key, ret);\n    }, function (err) {\n      return gotResultError(key, err);\n    });\n  });\n\n  return true;\n};\n\nvar array = exports.array = function array(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.all(value) || !_is2.default.array(value.value)) return false;\n  var result = [];\n  var count = 0;\n  var hasError = false;\n  var gotResultSuccess = function gotResultSuccess(key, ret) {\n    if (hasError) return;\n    result[key] = ret;\n    count++;\n    if (count === value.value.length) {\n      yieldNext(result);\n    }\n  };\n\n  var gotResultError = function gotResultError(key, error) {\n    if (hasError) return;\n    hasError = true;\n    raiseNext(error);\n  };\n\n  value.value.map(function (v, key) {\n    rungen(v, function (ret) {\n      return gotResultSuccess(key, ret);\n    }, function (err) {\n      return gotResultError(key, err);\n    });\n  });\n\n  return true;\n};\n\nvar iterator = exports.iterator = function iterator(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.iterator(value)) return false;\n  rungen(value, next, raiseNext);\n  return true;\n};\n\nexports.default = [error, iterator, array, object, any];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.race = exports.join = exports.fork = exports.promise = undefined;\n\nvar _is = require('../utils/is');\n\nvar _is2 = _interopRequireDefault(_is);\n\nvar _helpers = require('../utils/helpers');\n\nvar _dispatcher = require('../utils/dispatcher');\n\nvar _dispatcher2 = _interopRequireDefault(_dispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar promise = exports.promise = function promise(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.promise(value)) return false;\n  value.then(next, raiseNext);\n  return true;\n};\n\nvar forkedTasks = new Map();\nvar fork = exports.fork = function fork(value, next, rungen) {\n  if (!_is2.default.fork(value)) return false;\n  var task = Symbol('fork');\n  var dispatcher = (0, _dispatcher2.default)();\n  forkedTasks.set(task, dispatcher);\n  rungen(value.iterator.apply(null, value.args), function (result) {\n    return dispatcher.dispatch(result);\n  }, function (err) {\n    return dispatcher.dispatch((0, _helpers.error)(err));\n  });\n  var unsubscribe = dispatcher.subscribe(function () {\n    unsubscribe();\n    forkedTasks.delete(task);\n  });\n  next(task);\n  return true;\n};\n\nvar join = exports.join = function join(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.join(value)) return false;\n  var dispatcher = forkedTasks.get(value.task);\n  if (!dispatcher) {\n    raiseNext('join error : task not found');\n  } else {\n    (function () {\n      var unsubscribe = dispatcher.subscribe(function (result) {\n        unsubscribe();\n        next(result);\n      });\n    })();\n  }\n  return true;\n};\n\nvar race = exports.race = function race(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.race(value)) return false;\n  var finished = false;\n  var success = function success(result, k, v) {\n    if (finished) return;\n    finished = true;\n    result[k] = v;\n    next(result);\n  };\n\n  var fail = function fail(err) {\n    if (finished) return;\n    raiseNext(err);\n  };\n  if (_is2.default.array(value.competitors)) {\n    (function () {\n      var result = value.competitors.map(function () {\n        return false;\n      });\n      value.competitors.forEach(function (competitor, index) {\n        rungen(competitor, function (output) {\n          return success(result, index, output);\n        }, fail);\n      });\n    })();\n  } else {\n    (function () {\n      var result = Object.keys(value.competitors).reduce(function (p, c) {\n        p[c] = false;\n        return p;\n      }, {});\n      Object.keys(value.competitors).forEach(function (index) {\n        rungen(value.competitors[index], function (output) {\n          return success(result, index, output);\n        }, fail);\n      });\n    })();\n  }\n  return true;\n};\n\nvar subscribe = function subscribe(value, next) {\n  if (!_is2.default.subscribe(value)) return false;\n  if (!_is2.default.channel(value.channel)) {\n    throw new Error('the first argument of \"subscribe\" must be a valid channel');\n  }\n  var unsubscribe = value.channel.subscribe(function (ret) {\n    unsubscribe && unsubscribe();\n    next(ret);\n  });\n\n  return true;\n};\n\nexports.default = [promise, fork, join, race, subscribe];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar createDispatcher = function createDispatcher() {\n  var listeners = [];\n\n  return {\n    subscribe: function subscribe(listener) {\n      listeners.push(listener);\n      return function () {\n        listeners = listeners.filter(function (l) {\n          return l !== listener;\n        });\n      };\n    },\n    dispatch: function dispatch(action) {\n      listeners.slice().forEach(function (listener) {\n        return listener(action);\n      });\n    }\n  };\n};\n\nexports.default = createDispatcher;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cps = exports.call = undefined;\n\nvar _is = require('../utils/is');\n\nvar _is2 = _interopRequireDefault(_is);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar call = exports.call = function call(value, next, rungen, yieldNext, raiseNext) {\n  if (!_is2.default.call(value)) return false;\n  try {\n    next(value.func.apply(value.context, value.args));\n  } catch (err) {\n    raiseNext(err);\n  }\n  return true;\n};\n\nvar cps = exports.cps = function cps(value, next, rungen, yieldNext, raiseNext) {\n  var _value$func;\n\n  if (!_is2.default.cps(value)) return false;\n  (_value$func = value.func).call.apply(_value$func, [null].concat(_toConsumableArray(value.args), [function (err, result) {\n    if (err) raiseNext(err);else next(result);\n  }]));\n  return true;\n};\n\nexports.default = [call, cps];","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nvar keys = Object.keys;\n\n/**\n * Returns true if the two objects are shallow equal, or false otherwise.\n *\n * @param {import('.').ComparableObject} a First object to compare.\n * @param {import('.').ComparableObject} b Second object to compare.\n *\n * @return {boolean} Whether the two objects are shallow equal.\n */\nfunction isShallowEqualObjects( a, b ) {\n\tvar aKeys, bKeys, i, key, aValue;\n\n\tif ( a === b ) {\n\t\treturn true;\n\t}\n\n\taKeys = keys( a );\n\tbKeys = keys( b );\n\n\tif ( aKeys.length !== bKeys.length ) {\n\t\treturn false;\n\t}\n\n\ti = 0;\n\n\twhile ( i < aKeys.length ) {\n\t\tkey = aKeys[ i ];\n\t\taValue = a[ key ];\n\n\t\tif (\n\t\t\t// In iterating only the keys of the first object after verifying\n\t\t\t// equal lengths, account for the case that an explicit `undefined`\n\t\t\t// value in the first is implicitly undefined in the second.\n\t\t\t//\n\t\t\t// Example: isShallowEqualObjects( { a: undefined }, { b: 5 } )\n\t\t\t( aValue === undefined && ! b.hasOwnProperty( key ) ) ||\n\t\t\taValue !== b[ key ]\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\ti++;\n\t}\n\n\treturn true;\n}\n\nmodule.exports = isShallowEqualObjects;\n","'use strict';\n\n/**\n * Returns true if the two arrays are shallow equal, or false otherwise.\n *\n * @param {any[]} a First array to compare.\n * @param {any[]} b Second array to compare.\n *\n * @return {boolean} Whether the two arrays are shallow equal.\n */\nfunction isShallowEqualArrays( a, b ) {\n\tvar i;\n\n\tif ( a === b ) {\n\t\treturn true;\n\t}\n\n\tif ( a.length !== b.length ) {\n\t\treturn false;\n\t}\n\n\tfor ( i = 0; i < a.length; i++ ) {\n\t\tif ( a[ i ] !== b[ i ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nmodule.exports = isShallowEqualArrays;\n","/**\n * adds a bindGlobal method to Mousetrap that allows you to\n * bind specific keyboard shortcuts that will still work\n * inside a text input field\n *\n * usage:\n * Mousetrap.bindGlobal('ctrl+s', _saveChanges);\n */\n/* global Mousetrap:true */\n(function(Mousetrap) {\n    if (! Mousetrap) {\n        return;\n    }\n    var _globalCallbacks = {};\n    var _originalStopCallback = Mousetrap.prototype.stopCallback;\n\n    Mousetrap.prototype.stopCallback = function(e, element, combo, sequence) {\n        var self = this;\n\n        if (self.paused) {\n            return true;\n        }\n\n        if (_globalCallbacks[combo] || _globalCallbacks[sequence]) {\n            return false;\n        }\n\n        return _originalStopCallback.call(self, e, element, combo);\n    };\n\n    Mousetrap.prototype.bindGlobal = function(keys, callback, action) {\n        var self = this;\n        self.bind(keys, callback, action);\n\n        if (keys instanceof Array) {\n            for (var i = 0; i < keys.length; i++) {\n                _globalCallbacks[keys[i]] = true;\n            }\n            return;\n        }\n\n        _globalCallbacks[keys] = true;\n    };\n\n    Mousetrap.init();\n}) (typeof Mousetrap !== \"undefined\" ? Mousetrap : undefined);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nexports.__esModule = true;\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar autosize = require(\"autosize\");\nvar _getLineHeight = require(\"line-height\");\nvar getLineHeight = _getLineHeight;\nvar UPDATE = 'autosize:update';\nvar DESTROY = 'autosize:destroy';\nvar RESIZED = 'autosize:resized';\n/**\n * A light replacement for built-in textarea component\n * which automaticaly adjusts its height to match the content\n */\nvar TextareaAutosize = /** @class */ (function (_super) {\n    __extends(TextareaAutosize, _super);\n    function TextareaAutosize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            lineHeight: null\n        };\n        _this.dispatchEvent = function (EVENT_TYPE) {\n            var event = document.createEvent('Event');\n            event.initEvent(EVENT_TYPE, true, false);\n            _this.textarea.dispatchEvent(event);\n        };\n        _this.updateLineHeight = function () {\n            _this.setState({\n                lineHeight: getLineHeight(_this.textarea)\n            });\n        };\n        _this.onChange = function (e) {\n            var onChange = _this.props.onChange;\n            _this.currentValue = e.currentTarget.value;\n            onChange && onChange(e);\n        };\n        _this.saveDOMNodeRef = function (ref) {\n            var innerRef = _this.props.innerRef;\n            if (innerRef) {\n                innerRef(ref);\n            }\n            _this.textarea = ref;\n        };\n        _this.getLocals = function () {\n            var _a = _this, _b = _a.props, onResize = _b.onResize, maxRows = _b.maxRows, onChange = _b.onChange, style = _b.style, innerRef = _b.innerRef, props = __rest(_b, [\"onResize\", \"maxRows\", \"onChange\", \"style\", \"innerRef\"]), lineHeight = _a.state.lineHeight, saveDOMNodeRef = _a.saveDOMNodeRef;\n            var maxHeight = maxRows && lineHeight ? lineHeight * maxRows : null;\n            return __assign({}, props, { saveDOMNodeRef: saveDOMNodeRef, style: maxHeight ? __assign({}, style, { maxHeight: maxHeight }) : style, onChange: _this.onChange });\n        };\n        return _this;\n    }\n    TextareaAutosize.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, onResize = _a.onResize, maxRows = _a.maxRows;\n        if (typeof maxRows === 'number') {\n            this.updateLineHeight();\n        }\n        /*\n          the defer is needed to:\n            - force \"autosize\" to activate the scrollbar when this.props.maxRows is passed\n            - support StyledComponents (see #71)\n        */\n        setTimeout(function () { return autosize(_this.textarea); });\n        if (onResize) {\n            this.textarea.addEventListener(RESIZED, onResize);\n        }\n    };\n    TextareaAutosize.prototype.componentWillUnmount = function () {\n        var onResize = this.props.onResize;\n        if (onResize) {\n            this.textarea.removeEventListener(RESIZED, onResize);\n        }\n        this.dispatchEvent(DESTROY);\n    };\n    TextareaAutosize.prototype.render = function () {\n        var _a = this.getLocals(), children = _a.children, saveDOMNodeRef = _a.saveDOMNodeRef, locals = __rest(_a, [\"children\", \"saveDOMNodeRef\"]);\n        return (React.createElement(\"textarea\", __assign({}, locals, { ref: saveDOMNodeRef }), children));\n    };\n    TextareaAutosize.prototype.componentDidUpdate = function (prevProps) {\n        if (this.props.value !== this.currentValue || this.props.rows !== prevProps.rows) {\n            this.dispatchEvent(UPDATE);\n        }\n    };\n    TextareaAutosize.defaultProps = {\n        rows: 1\n    };\n    TextareaAutosize.propTypes = {\n        rows: PropTypes.number,\n        maxRows: PropTypes.number,\n        onResize: PropTypes.func,\n        innerRef: PropTypes.func\n    };\n    return TextareaAutosize;\n}(React.Component));\nexports[\"default\"] = TextareaAutosize;\n","/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","// Load in dependencies\nvar computedStyle = require('computed-style');\n\n/**\n * Calculate the `line-height` of a given node\n * @param {HTMLElement} node Element to calculate line height of. Must be in the DOM.\n * @returns {Number} `line-height` of the element in pixels\n */\nfunction lineHeight(node) {\n  // Grab the line-height via style\n  var lnHeightStr = computedStyle(node, 'line-height');\n  var lnHeight = parseFloat(lnHeightStr, 10);\n\n  // If the lineHeight did not contain a unit (i.e. it was numeric), convert it to ems (e.g. '2.3' === '2.3em')\n  if (lnHeightStr === lnHeight + '') {\n    // Save the old lineHeight style and update the em unit to the element\n    var _lnHeightStyle = node.style.lineHeight;\n    node.style.lineHeight = lnHeightStr + 'em';\n\n    // Calculate the em based height\n    lnHeightStr = computedStyle(node, 'line-height');\n    lnHeight = parseFloat(lnHeightStr, 10);\n\n    // Revert the lineHeight style\n    if (_lnHeightStyle) {\n      node.style.lineHeight = _lnHeightStyle;\n    } else {\n      delete node.style.lineHeight;\n    }\n  }\n\n  // If the lineHeight is in `pt`, convert it to pixels (4px for 3pt)\n  // DEV: `em` units are converted to `pt` in IE6\n  // Conversion ratio from https://developer.mozilla.org/en-US/docs/Web/CSS/length\n  if (lnHeightStr.indexOf('pt') !== -1) {\n    lnHeight *= 4;\n    lnHeight /= 3;\n  // Otherwise, if the lineHeight is in `mm`, convert it to pixels (96px for 25.4mm)\n  } else if (lnHeightStr.indexOf('mm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 25.4;\n  // Otherwise, if the lineHeight is in `cm`, convert it to pixels (96px for 2.54cm)\n  } else if (lnHeightStr.indexOf('cm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 2.54;\n  // Otherwise, if the lineHeight is in `in`, convert it to pixels (96px for 1in)\n  } else if (lnHeightStr.indexOf('in') !== -1) {\n    lnHeight *= 96;\n  // Otherwise, if the lineHeight is in `pc`, convert it to pixels (12pt for 1pc)\n  } else if (lnHeightStr.indexOf('pc') !== -1) {\n    lnHeight *= 16;\n  }\n\n  // Continue our computation\n  lnHeight = Math.round(lnHeight);\n\n  // If the line-height is \"normal\", calculate by font-size\n  if (lnHeightStr === 'normal') {\n    // Create a temporary node\n    var nodeName = node.nodeName;\n    var _node = document.createElement(nodeName);\n    _node.innerHTML = '&nbsp;';\n\n    // If we have a text area, reset it to only 1 row\n    // https://github.com/twolfson/line-height/issues/4\n    if (nodeName.toUpperCase() === 'TEXTAREA') {\n      _node.setAttribute('rows', '1');\n    }\n\n    // Set the font-size of the element\n    var fontSizeStr = computedStyle(node, 'font-size');\n    _node.style.fontSize = fontSizeStr;\n\n    // Remove default padding/border which can affect offset height\n    // https://github.com/twolfson/line-height/issues/4\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight\n    _node.style.padding = '0px';\n    _node.style.border = '0px';\n\n    // Append it to the body\n    var body = document.body;\n    body.appendChild(_node);\n\n    // Assume the line height of the element is the height\n    var height = _node.offsetHeight;\n    lnHeight = height;\n\n    // Remove our child from the DOM\n    body.removeChild(_node);\n  }\n\n  // Return the calculated height\n  return lnHeight;\n}\n\n// Export lineHeight\nmodule.exports = lineHeight;\n","// This code has been refactored for 140 bytes\n// You can see the original here: https://github.com/twolfson/computedStyle/blob/04cd1da2e30fa45844f95f5cb1ac898e9b9ef050/lib/computedStyle.js\nvar computedStyle = function (el, prop, getComputedStyle) {\n  getComputedStyle = window.getComputedStyle;\n\n  // In one fell swoop\n  return (\n    // If we have getComputedStyle\n    getComputedStyle ?\n      // Query it\n      // TODO: From CSS-Query notes, we might need (node, null) for FF\n      getComputedStyle(el) :\n\n    // Otherwise, we are in IE and use currentStyle\n      el.currentStyle\n  )[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })\n  ];\n};\n\nmodule.exports = computedStyle;\n","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","'use strict';\n\nvar util = require('./util');\n\nfunction scrollIntoView(elem, container, config) {\n  config = config || {};\n  // document 归一化到 window\n  if (container.nodeType === 9) {\n    container = util.getWindow(container);\n  }\n\n  var allowHorizontalScroll = config.allowHorizontalScroll;\n  var onlyScrollIfNeeded = config.onlyScrollIfNeeded;\n  var alignWithTop = config.alignWithTop;\n  var alignWithLeft = config.alignWithLeft;\n  var offsetTop = config.offsetTop || 0;\n  var offsetLeft = config.offsetLeft || 0;\n  var offsetBottom = config.offsetBottom || 0;\n  var offsetRight = config.offsetRight || 0;\n\n  allowHorizontalScroll = allowHorizontalScroll === undefined ? true : allowHorizontalScroll;\n\n  var isWin = util.isWindow(container);\n  var elemOffset = util.offset(elem);\n  var eh = util.outerHeight(elem);\n  var ew = util.outerWidth(elem);\n  var containerOffset = undefined;\n  var ch = undefined;\n  var cw = undefined;\n  var containerScroll = undefined;\n  var diffTop = undefined;\n  var diffBottom = undefined;\n  var win = undefined;\n  var winScroll = undefined;\n  var ww = undefined;\n  var wh = undefined;\n\n  if (isWin) {\n    win = container;\n    wh = util.height(win);\n    ww = util.width(win);\n    winScroll = {\n      left: util.scrollLeft(win),\n      top: util.scrollTop(win)\n    };\n    // elem 相对 container 可视视窗的距离\n    diffTop = {\n      left: elemOffset.left - winScroll.left - offsetLeft,\n      top: elemOffset.top - winScroll.top - offsetTop\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (winScroll.left + ww) + offsetRight,\n      top: elemOffset.top + eh - (winScroll.top + wh) + offsetBottom\n    };\n    containerScroll = winScroll;\n  } else {\n    containerOffset = util.offset(container);\n    ch = container.clientHeight;\n    cw = container.clientWidth;\n    containerScroll = {\n      left: container.scrollLeft,\n      top: container.scrollTop\n    };\n    // elem 相对 container 可视视窗的距离\n    // 注意边框, offset 是边框到根节点\n    diffTop = {\n      left: elemOffset.left - (containerOffset.left + (parseFloat(util.css(container, 'borderLeftWidth')) || 0)) - offsetLeft,\n      top: elemOffset.top - (containerOffset.top + (parseFloat(util.css(container, 'borderTopWidth')) || 0)) - offsetTop\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (containerOffset.left + cw + (parseFloat(util.css(container, 'borderRightWidth')) || 0)) + offsetRight,\n      top: elemOffset.top + eh - (containerOffset.top + ch + (parseFloat(util.css(container, 'borderBottomWidth')) || 0)) + offsetBottom\n    };\n  }\n\n  if (diffTop.top < 0 || diffBottom.top > 0) {\n    // 强制向上\n    if (alignWithTop === true) {\n      util.scrollTop(container, containerScroll.top + diffTop.top);\n    } else if (alignWithTop === false) {\n      util.scrollTop(container, containerScroll.top + diffBottom.top);\n    } else {\n      // 自动调整\n      if (diffTop.top < 0) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  } else {\n    if (!onlyScrollIfNeeded) {\n      alignWithTop = alignWithTop === undefined ? true : !!alignWithTop;\n      if (alignWithTop) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  }\n\n  if (allowHorizontalScroll) {\n    if (diffTop.left < 0 || diffBottom.left > 0) {\n      // 强制向上\n      if (alignWithLeft === true) {\n        util.scrollLeft(container, containerScroll.left + diffTop.left);\n      } else if (alignWithLeft === false) {\n        util.scrollLeft(container, containerScroll.left + diffBottom.left);\n      } else {\n        // 自动调整\n        if (diffTop.left < 0) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    } else {\n      if (!onlyScrollIfNeeded) {\n        alignWithLeft = alignWithLeft === undefined ? true : !!alignWithLeft;\n        if (alignWithLeft) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = scrollIntoView;","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar RE_NUM = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source;\n\nfunction getClientPosition(elem) {\n  var box = undefined;\n  var x = undefined;\n  var y = undefined;\n  var doc = elem.ownerDocument;\n  var body = doc.body;\n  var docElem = doc && doc.documentElement;\n  // 根据 GBS 最新数据，A-Grade Browsers 都已支持 getBoundingClientRect 方法，不用再考虑传统的实现方式\n  box = elem.getBoundingClientRect();\n\n  // 注：jQuery 还考虑减去 docElem.clientLeft/clientTop\n  // 但测试发现，这样反而会导致当 html 和 body 有边距/边框样式时，获取的值不正确\n  // 此外，ie6 会忽略 html 的 margin 值，幸运地是没有谁会去设置 html 的 margin\n\n  x = box.left;\n  y = box.top;\n\n  // In IE, most of the time, 2 extra pixels are added to the top and left\n  // due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and\n  // IE6 standards mode, this border can be overridden by setting the\n  // document element's border to zero -- thus, we cannot rely on the\n  // offset always being 2 pixels.\n\n  // In quirks mode, the offset can be determined by querying the body's\n  // clientLeft/clientTop, but in standards mode, it is found by querying\n  // the document element's clientLeft/clientTop.  Since we already called\n  // getClientBoundingRect we have already forced a reflow, so it is not\n  // too expensive just to query them all.\n\n  // ie 下应该减去窗口的边框吧，毕竟默认 absolute 都是相对窗口定位的\n  // 窗口边框标准是设 documentElement ,quirks 时设置 body\n  // 最好禁止在 body 和 html 上边框 ，但 ie < 9 html 默认有 2px ，减去\n  // 但是非 ie 不可能设置窗口边框，body html 也不是窗口 ,ie 可以通过 html,body 设置\n  // 标准 ie 下 docElem.clientTop 就是 border-top\n  // ie7 html 即窗口边框改变不了。永远为 2\n  // 但标准 firefox/chrome/ie9 下 docElem.clientTop 是窗口边框，即使设了 border-top 也为 0\n\n  x -= docElem.clientLeft || body.clientLeft || 0;\n  y -= docElem.clientTop || body.clientTop || 0;\n\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getScroll(w, top) {\n  var ret = w['page' + (top ? 'Y' : 'X') + 'Offset'];\n  var method = 'scroll' + (top ? 'Top' : 'Left');\n  if (typeof ret !== 'number') {\n    var d = w.document;\n    // ie6,7,8 standard mode\n    ret = d.documentElement[method];\n    if (typeof ret !== 'number') {\n      // quirks mode\n      ret = d.body[method];\n    }\n  }\n  return ret;\n}\n\nfunction getScrollLeft(w) {\n  return getScroll(w);\n}\n\nfunction getScrollTop(w) {\n  return getScroll(w, true);\n}\n\nfunction getOffset(el) {\n  var pos = getClientPosition(el);\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScrollLeft(w);\n  pos.top += getScrollTop(w);\n  return pos;\n}\nfunction _getComputedStyle(elem, name, computedStyle_) {\n  var val = '';\n  var d = elem.ownerDocument;\n  var computedStyle = computedStyle_ || d.defaultView.getComputedStyle(elem, null);\n\n  // https://github.com/kissyteam/kissy/issues/61\n  if (computedStyle) {\n    val = computedStyle.getPropertyValue(name) || computedStyle[name];\n  }\n\n  return val;\n}\n\nvar _RE_NUM_NO_PX = new RegExp('^(' + RE_NUM + ')(?!px)[a-z%]+$', 'i');\nvar RE_POS = /^(top|right|bottom|left)$/;\nvar CURRENT_STYLE = 'currentStyle';\nvar RUNTIME_STYLE = 'runtimeStyle';\nvar LEFT = 'left';\nvar PX = 'px';\n\nfunction _getComputedStyleIE(elem, name) {\n  // currentStyle maybe null\n  // http://msdn.microsoft.com/en-us/library/ms535231.aspx\n  var ret = elem[CURRENT_STYLE] && elem[CURRENT_STYLE][name];\n\n  // 当 width/height 设置为百分比时，通过 pixelLeft 方式转换的 width/height 值\n  // 一开始就处理了! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook 解决@2011-08-19\n  // 在 ie 下不对，需要直接用 offset 方式\n  // borderWidth 等值也有问题，但考虑到 borderWidth 设为百分比的概率很小，这里就不考虑了\n\n  // From the awesome hack by Dean Edwards\n  // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n  // If we're not dealing with a regular pixel number\n  // but a number that has a weird ending, we need to convert it to pixels\n  // exclude left right for relativity\n  if (_RE_NUM_NO_PX.test(ret) && !RE_POS.test(name)) {\n    // Remember the original values\n    var style = elem.style;\n    var left = style[LEFT];\n    var rsLeft = elem[RUNTIME_STYLE][LEFT];\n\n    // prevent flashing of content\n    elem[RUNTIME_STYLE][LEFT] = elem[CURRENT_STYLE][LEFT];\n\n    // Put in the new values to get a computed value out\n    style[LEFT] = name === 'fontSize' ? '1em' : ret || 0;\n    ret = style.pixelLeft + PX;\n\n    // Revert the changed values\n    style[LEFT] = left;\n\n    elem[RUNTIME_STYLE][LEFT] = rsLeft;\n  }\n  return ret === '' ? 'auto' : ret;\n}\n\nvar getComputedStyleX = undefined;\nif (typeof window !== 'undefined') {\n  getComputedStyleX = window.getComputedStyle ? _getComputedStyle : _getComputedStyleIE;\n}\n\nfunction each(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    fn(arr[i]);\n  }\n}\n\nfunction isBorderBoxFn(elem) {\n  return getComputedStyleX(elem, 'boxSizing') === 'border-box';\n}\n\nvar BOX_MODELS = ['margin', 'border', 'padding'];\nvar CONTENT_INDEX = -1;\nvar PADDING_INDEX = 2;\nvar BORDER_INDEX = 1;\nvar MARGIN_INDEX = 0;\n\nfunction swap(elem, options, callback) {\n  var old = {};\n  var style = elem.style;\n  var name = undefined;\n\n  // Remember the old values, and insert the new ones\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      old[name] = style[name];\n      style[name] = options[name];\n    }\n  }\n\n  callback.call(elem);\n\n  // Revert the old values\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      style[name] = old[name];\n    }\n  }\n}\n\nfunction getPBMWidth(elem, props, which) {\n  var value = 0;\n  var prop = undefined;\n  var j = undefined;\n  var i = undefined;\n  for (j = 0; j < props.length; j++) {\n    prop = props[j];\n    if (prop) {\n      for (i = 0; i < which.length; i++) {\n        var cssProp = undefined;\n        if (prop === 'border') {\n          cssProp = prop + which[i] + 'Width';\n        } else {\n          cssProp = prop + which[i];\n        }\n        value += parseFloat(getComputedStyleX(elem, cssProp)) || 0;\n      }\n    }\n  }\n  return value;\n}\n\n/**\n * A crude way of determining if an object is a window\n * @member util\n */\nfunction isWindow(obj) {\n  // must use == for ie8\n  /* eslint eqeqeq:0 */\n  return obj != null && obj == obj.window;\n}\n\nvar domUtils = {};\n\neach(['Width', 'Height'], function (name) {\n  domUtils['doc' + name] = function (refWin) {\n    var d = refWin.document;\n    return Math.max(\n    // firefox chrome documentElement.scrollHeight< body.scrollHeight\n    // ie standard mode : documentElement.scrollHeight> body.scrollHeight\n    d.documentElement['scroll' + name],\n    // quirks : documentElement.scrollHeight 最大等于可视窗口多一点？\n    d.body['scroll' + name], domUtils['viewport' + name](d));\n  };\n\n  domUtils['viewport' + name] = function (win) {\n    // pc browser includes scrollbar in window.innerWidth\n    var prop = 'client' + name;\n    var doc = win.document;\n    var body = doc.body;\n    var documentElement = doc.documentElement;\n    var documentElementProp = documentElement[prop];\n    // 标准模式取 documentElement\n    // backcompat 取 body\n    return doc.compatMode === 'CSS1Compat' && documentElementProp || body && body[prop] || documentElementProp;\n  };\n});\n\n/*\n 得到元素的大小信息\n @param elem\n @param name\n @param {String} [extra]  'padding' : (css width) + padding\n 'border' : (css width) + padding + border\n 'margin' : (css width) + padding + border + margin\n */\nfunction getWH(elem, name, extra) {\n  if (isWindow(elem)) {\n    return name === 'width' ? domUtils.viewportWidth(elem) : domUtils.viewportHeight(elem);\n  } else if (elem.nodeType === 9) {\n    return name === 'width' ? domUtils.docWidth(elem) : domUtils.docHeight(elem);\n  }\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n  var borderBoxValue = name === 'width' ? elem.offsetWidth : elem.offsetHeight;\n  var computedStyle = getComputedStyleX(elem);\n  var isBorderBox = isBorderBoxFn(elem, computedStyle);\n  var cssBoxValue = 0;\n  if (borderBoxValue == null || borderBoxValue <= 0) {\n    borderBoxValue = undefined;\n    // Fall back to computed then un computed css if necessary\n    cssBoxValue = getComputedStyleX(elem, name);\n    if (cssBoxValue == null || Number(cssBoxValue) < 0) {\n      cssBoxValue = elem.style[name] || 0;\n    }\n    // Normalize '', auto, and prepare for extra\n    cssBoxValue = parseFloat(cssBoxValue) || 0;\n  }\n  if (extra === undefined) {\n    extra = isBorderBox ? BORDER_INDEX : CONTENT_INDEX;\n  }\n  var borderBoxValueOrIsBorderBox = borderBoxValue !== undefined || isBorderBox;\n  var val = borderBoxValue || cssBoxValue;\n  if (extra === CONTENT_INDEX) {\n    if (borderBoxValueOrIsBorderBox) {\n      return val - getPBMWidth(elem, ['border', 'padding'], which, computedStyle);\n    }\n    return cssBoxValue;\n  }\n  if (borderBoxValueOrIsBorderBox) {\n    var padding = extra === PADDING_INDEX ? -getPBMWidth(elem, ['border'], which, computedStyle) : getPBMWidth(elem, ['margin'], which, computedStyle);\n    return val + (extra === BORDER_INDEX ? 0 : padding);\n  }\n  return cssBoxValue + getPBMWidth(elem, BOX_MODELS.slice(extra), which, computedStyle);\n}\n\nvar cssShow = {\n  position: 'absolute',\n  visibility: 'hidden',\n  display: 'block'\n};\n\n// fix #119 : https://github.com/kissyteam/kissy/issues/119\nfunction getWHIgnoreDisplay(elem) {\n  var val = undefined;\n  var args = arguments;\n  // in case elem is window\n  // elem.offsetWidth === undefined\n  if (elem.offsetWidth !== 0) {\n    val = getWH.apply(undefined, args);\n  } else {\n    swap(elem, cssShow, function () {\n      val = getWH.apply(undefined, args);\n    });\n  }\n  return val;\n}\n\nfunction css(el, name, v) {\n  var value = v;\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    for (var i in name) {\n      if (name.hasOwnProperty(i)) {\n        css(el, i, name[i]);\n      }\n    }\n    return undefined;\n  }\n  if (typeof value !== 'undefined') {\n    if (typeof value === 'number') {\n      value += 'px';\n    }\n    el.style[name] = value;\n    return undefined;\n  }\n  return getComputedStyleX(el, name);\n}\n\neach(['width', 'height'], function (name) {\n  var first = name.charAt(0).toUpperCase() + name.slice(1);\n  domUtils['outer' + first] = function (el, includeMargin) {\n    return el && getWHIgnoreDisplay(el, name, includeMargin ? MARGIN_INDEX : BORDER_INDEX);\n  };\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n\n  domUtils[name] = function (elem, val) {\n    if (val !== undefined) {\n      if (elem) {\n        var computedStyle = getComputedStyleX(elem);\n        var isBorderBox = isBorderBoxFn(elem);\n        if (isBorderBox) {\n          val += getPBMWidth(elem, ['padding', 'border'], which, computedStyle);\n        }\n        return css(elem, name, val);\n      }\n      return undefined;\n    }\n    return elem && getWHIgnoreDisplay(elem, name, CONTENT_INDEX);\n  };\n});\n\n// 设置 elem 相对 elem.ownerDocument 的坐标\nfunction setOffset(elem, offset) {\n  // set position first, in-case top/left are set even on static elem\n  if (css(elem, 'position') === 'static') {\n    elem.style.position = 'relative';\n  }\n\n  var old = getOffset(elem);\n  var ret = {};\n  var current = undefined;\n  var key = undefined;\n\n  for (key in offset) {\n    if (offset.hasOwnProperty(key)) {\n      current = parseFloat(css(elem, key)) || 0;\n      ret[key] = current + offset[key] - old[key];\n    }\n  }\n  css(elem, ret);\n}\n\nmodule.exports = _extends({\n  getWindow: function getWindow(node) {\n    var doc = node.ownerDocument || node;\n    return doc.defaultView || doc.parentWindow;\n  },\n  offset: function offset(el, value) {\n    if (typeof value !== 'undefined') {\n      setOffset(el, value);\n    } else {\n      return getOffset(el);\n    }\n  },\n\n  isWindow: isWindow,\n  each: each,\n  css: css,\n  clone: function clone(obj) {\n    var ret = {};\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        ret[i] = obj[i];\n      }\n    }\n    var overflow = obj.overflow;\n    if (overflow) {\n      for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          ret.overflow[i] = obj.overflow[i];\n        }\n      }\n    }\n    return ret;\n  },\n  scrollLeft: function scrollLeft(w, v) {\n    if (isWindow(w)) {\n      if (v === undefined) {\n        return getScrollLeft(w);\n      }\n      window.scrollTo(v, getScrollTop(w));\n    } else {\n      if (v === undefined) {\n        return w.scrollLeft;\n      }\n      w.scrollLeft = v;\n    }\n  },\n  scrollTop: function scrollTop(w, v) {\n    if (isWindow(w)) {\n      if (v === undefined) {\n        return getScrollTop(w);\n      }\n      window.scrollTo(getScrollLeft(w), v);\n    } else {\n      if (v === undefined) {\n        return w.scrollTop;\n      }\n      w.scrollTop = v;\n    }\n  },\n\n  viewportWidth: 0,\n  viewportHeight: 0\n}, domUtils);","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = obj.join(',');\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key') : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key');\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value'))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (isArray(obj)) {\n            pushToArray(values, stringify(\n                obj[key],\n                typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix,\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        } else {\n            pushToArray(values, stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        }\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj; // eslint-disable-line no-param-reassign\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar styles = {\n    top: {\n        width: '100%',\n        height: '10px',\n        top: '-5px',\n        left: '0px',\n        cursor: 'row-resize',\n    },\n    right: {\n        width: '10px',\n        height: '100%',\n        top: '0px',\n        right: '-5px',\n        cursor: 'col-resize',\n    },\n    bottom: {\n        width: '100%',\n        height: '10px',\n        bottom: '-5px',\n        left: '0px',\n        cursor: 'row-resize',\n    },\n    left: {\n        width: '10px',\n        height: '100%',\n        top: '0px',\n        left: '-5px',\n        cursor: 'col-resize',\n    },\n    topRight: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        right: '-10px',\n        top: '-10px',\n        cursor: 'ne-resize',\n    },\n    bottomRight: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        right: '-10px',\n        bottom: '-10px',\n        cursor: 'se-resize',\n    },\n    bottomLeft: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        left: '-10px',\n        bottom: '-10px',\n        cursor: 'sw-resize',\n    },\n    topLeft: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        left: '-10px',\n        top: '-10px',\n        cursor: 'nw-resize',\n    },\n};\nvar Resizer = /** @class */ (function (_super) {\n    __extends(Resizer, _super);\n    function Resizer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onMouseDown = function (e) {\n            _this.props.onResizeStart(e, _this.props.direction);\n        };\n        _this.onTouchStart = function (e) {\n            _this.props.onResizeStart(e, _this.props.direction);\n        };\n        return _this;\n    }\n    Resizer.prototype.render = function () {\n        return (React.createElement(\"div\", { className: this.props.className || '', style: __assign(__assign({ position: 'absolute', userSelect: 'none' }, styles[this.props.direction]), (this.props.replaceStyles || {})), onMouseDown: this.onMouseDown, onTouchStart: this.onTouchStart }, this.props.children));\n    };\n    return Resizer;\n}(React.PureComponent));\nexports.Resizer = Resizer;\n","//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3)\n  var cacheKey = serializer(args)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null)\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n}\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n}\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value\n}\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n}\n\n//\n// API\n//\n\nmodule.exports = memoize\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n}\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { createElement } from '@wordpress/element';\n\n// Disable reason: JSDoc linter doesn't seem to parse the union (`&`) correctly.\n/* eslint-disable jsdoc/valid-types */\n/** @typedef {{isPressed?: boolean} & import('react').ComponentPropsWithoutRef<'svg'>} SVGProps */\n/* eslint-enable jsdoc/valid-types */\n\n/**\n * @param {import('react').ComponentPropsWithoutRef<'circle'>} props\n *\n * @return {JSX.Element} Circle component\n */\nexport const Circle = ( props ) => createElement( 'circle', props );\n\n/**\n * @param {import('react').ComponentPropsWithoutRef<'g'>} props\n *\n * @return {JSX.Element} G component\n */\nexport const G = ( props ) => createElement( 'g', props );\n\n/**\n * @param {import('react').ComponentPropsWithoutRef<'path'>} props\n *\n * @return {JSX.Element} Path component\n */\nexport const Path = ( props ) => createElement( 'path', props );\n\n/**\n * @param {import('react').ComponentPropsWithoutRef<'polygon'>} props\n *\n * @return {JSX.Element} Polygon component\n */\nexport const Polygon = ( props ) => createElement( 'polygon', props );\n\n/**\n * @param {import('react').ComponentPropsWithoutRef<'rect'>} props\n *\n * @return {JSX.Element} Rect component\n */\nexport const Rect = ( props ) => createElement( 'rect', props );\n\n/**\n * @param {import('react').ComponentPropsWithoutRef<'defs'>} props\n *\n * @return {JSX.Element} Defs component\n */\nexport const Defs = ( props ) => createElement( 'defs', props );\n\n/**\n * @param {import('react').ComponentPropsWithoutRef<'radialGradient'>} props\n *\n * @return {JSX.Element} RadialGradient component\n */\nexport const RadialGradient = ( props ) =>\n\tcreateElement( 'radialGradient', props );\n\n/**\n * @param {import('react').ComponentPropsWithoutRef<'linearGradient'>} props\n *\n * @return {JSX.Element} LinearGradient component\n */\nexport const LinearGradient = ( props ) =>\n\tcreateElement( 'linearGradient', props );\n\n/**\n * @param {import('react').ComponentPropsWithoutRef<'stop'>} props\n *\n * @return {JSX.Element} Stop component\n */\nexport const Stop = ( props ) => createElement( 'stop', props );\n\n/**\n *\n * @param {SVGProps} props isPressed indicates whether the SVG should appear as pressed.\n *                         Other props will be passed through to svg component.\n *\n * @return {JSX.Element} Stop component\n */\nexport const SVG = ( { className, isPressed, ...props } ) => {\n\tconst appliedProps = {\n\t\t...props,\n\t\tclassName:\n\t\t\tclassnames( className, { 'is-pressed': isPressed } ) || undefined,\n\t\trole: 'img',\n\t\t'aria-hidden': true,\n\t\tfocusable: false,\n\t};\n\n\t// Disable reason: We need to have a way to render HTML tag for web.\n\t// eslint-disable-next-line react/forbid-elements\n\treturn <svg { ...appliedProps } />;\n};\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronUp = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12 8l-6 5.4 1 1.2 5-4.6 5 4.6 1-1.2z\" />\n\t</SVG>\n);\n\nexport default chevronUp;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronDown = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M17 9.4L12 14 7 9.4l-1 1.2 6 5.4 6-5.4z\" />\n\t</SVG>\n);\n\nexport default chevronDown;\n","/**\n * Validate a namespace string.\n *\n * @param  {string} namespace The namespace to validate - should take the form\n *                            `vendor/plugin/function`.\n *\n * @return {boolean}             Whether the namespace is valid.\n */\nfunction validateNamespace( namespace ) {\n\tif ( 'string' !== typeof namespace || '' === namespace ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( 'The namespace must be a non-empty string.' );\n\t\treturn false;\n\t}\n\n\tif ( ! /^[a-zA-Z][a-zA-Z0-9_.\\-\\/]*$/.test( namespace ) ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\n\t\t\t'The namespace can only contain numbers, letters, dashes, periods, underscores and slashes.'\n\t\t);\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport default validateNamespace;\n","/**\n * Validate a hookName string.\n *\n * @param  {string} hookName The hook name to validate. Should be a non empty string containing\n *                           only numbers, letters, dashes, periods and underscores. Also,\n *                           the hook name cannot begin with `__`.\n *\n * @return {boolean}            Whether the hook name is valid.\n */\nfunction validateHookName( hookName ) {\n\tif ( 'string' !== typeof hookName || '' === hookName ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( 'The hook name must be a non-empty string.' );\n\t\treturn false;\n\t}\n\n\tif ( /^__/.test( hookName ) ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error( 'The hook name cannot begin with `__`.' );\n\t\treturn false;\n\t}\n\n\tif ( ! /^[a-zA-Z][a-zA-Z0-9_.-]*$/.test( hookName ) ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\n\t\t\t'The hook name can only contain numbers, letters, dashes, periods and underscores.'\n\t\t);\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport default validateHookName;\n","/**\n * Internal dependencies\n */\nimport validateNamespace from './validateNamespace.js';\nimport validateHookName from './validateHookName.js';\nimport { doAction } from './';\n\n/**\n * Returns a function which, when invoked, will add a hook.\n *\n * @param  {Object}   hooks Stored hooks, keyed by hook name.\n *\n * @return {Function}       Function that adds a new hook.\n */\nfunction createAddHook( hooks ) {\n\t/**\n\t * Adds the hook to the appropriate hooks container.\n\t *\n\t * @param {string}   hookName  Name of hook to add\n\t * @param {string}   namespace The unique namespace identifying the callback in the form `vendor/plugin/function`.\n\t * @param {Function} callback  Function to call when the hook is run\n\t * @param {?number}  priority  Priority of this hook (default=10)\n\t */\n\treturn function addHook( hookName, namespace, callback, priority = 10 ) {\n\t\tif ( ! validateHookName( hookName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! validateNamespace( namespace ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( 'function' !== typeof callback ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error( 'The hook callback must be a function.' );\n\t\t\treturn;\n\t\t}\n\n\t\t// Validate numeric priority\n\t\tif ( 'number' !== typeof priority ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(\n\t\t\t\t'If specified, the hook priority must be a number.'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst handler = { callback, priority, namespace };\n\n\t\tif ( hooks[ hookName ] ) {\n\t\t\t// Find the correct insert index of the new hook.\n\t\t\tconst handlers = hooks[ hookName ].handlers;\n\n\t\t\tlet i;\n\t\t\tfor ( i = handlers.length; i > 0; i-- ) {\n\t\t\t\tif ( priority >= handlers[ i - 1 ].priority ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( i === handlers.length ) {\n\t\t\t\t// If append, operate via direct assignment.\n\t\t\t\thandlers[ i ] = handler;\n\t\t\t} else {\n\t\t\t\t// Otherwise, insert before index via splice.\n\t\t\t\thandlers.splice( i, 0, handler );\n\t\t\t}\n\n\t\t\t// We may also be currently executing this hook.  If the callback\n\t\t\t// we're adding would come after the current callback, there's no\n\t\t\t// problem; otherwise we need to increase the execution index of\n\t\t\t// any other runs by 1 to account for the added element.\n\t\t\t( hooks.__current || [] ).forEach( ( hookInfo ) => {\n\t\t\t\tif (\n\t\t\t\t\thookInfo.name === hookName &&\n\t\t\t\t\thookInfo.currentIndex >= i\n\t\t\t\t) {\n\t\t\t\t\thookInfo.currentIndex++;\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\t// This is the first hook of its type.\n\t\t\thooks[ hookName ] = {\n\t\t\t\thandlers: [ handler ],\n\t\t\t\truns: 0,\n\t\t\t};\n\t\t}\n\n\t\tif ( hookName !== 'hookAdded' ) {\n\t\t\tdoAction( 'hookAdded', hookName, namespace, callback, priority );\n\t\t}\n\t};\n}\n\nexport default createAddHook;\n","/**\n * Internal dependencies\n */\nimport validateNamespace from './validateNamespace.js';\nimport validateHookName from './validateHookName.js';\nimport { doAction } from './';\n\n/**\n * Returns a function which, when invoked, will remove a specified hook or all\n * hooks by the given name.\n *\n * @param  {Object}   hooks      Stored hooks, keyed by hook name.\n * @param  {boolean}     removeAll  Whether to remove all callbacks for a hookName, without regard to namespace. Used to create `removeAll*` functions.\n *\n * @return {Function}            Function that removes hooks.\n */\nfunction createRemoveHook( hooks, removeAll ) {\n\t/**\n\t * Removes the specified callback (or all callbacks) from the hook with a\n\t * given hookName and namespace.\n\t *\n\t * @param {string}    hookName  The name of the hook to modify.\n\t * @param {string}    namespace The unique namespace identifying the callback in the form `vendor/plugin/function`.\n\t *\n\t * @return {number}             The number of callbacks removed.\n\t */\n\treturn function removeHook( hookName, namespace ) {\n\t\tif ( ! validateHookName( hookName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! removeAll && ! validateNamespace( namespace ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Bail if no hooks exist by this name\n\t\tif ( ! hooks[ hookName ] ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlet handlersRemoved = 0;\n\n\t\tif ( removeAll ) {\n\t\t\thandlersRemoved = hooks[ hookName ].handlers.length;\n\t\t\thooks[ hookName ] = {\n\t\t\t\truns: hooks[ hookName ].runs,\n\t\t\t\thandlers: [],\n\t\t\t};\n\t\t} else {\n\t\t\t// Try to find the specified callback to remove.\n\t\t\tconst handlers = hooks[ hookName ].handlers;\n\t\t\tfor ( let i = handlers.length - 1; i >= 0; i-- ) {\n\t\t\t\tif ( handlers[ i ].namespace === namespace ) {\n\t\t\t\t\thandlers.splice( i, 1 );\n\t\t\t\t\thandlersRemoved++;\n\t\t\t\t\t// This callback may also be part of a hook that is\n\t\t\t\t\t// currently executing.  If the callback we're removing\n\t\t\t\t\t// comes after the current callback, there's no problem;\n\t\t\t\t\t// otherwise we need to decrease the execution index of any\n\t\t\t\t\t// other runs by 1 to account for the removed element.\n\t\t\t\t\t( hooks.__current || [] ).forEach( ( hookInfo ) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thookInfo.name === hookName &&\n\t\t\t\t\t\t\thookInfo.currentIndex >= i\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\thookInfo.currentIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ( hookName !== 'hookRemoved' ) {\n\t\t\tdoAction( 'hookRemoved', hookName, namespace );\n\t\t}\n\n\t\treturn handlersRemoved;\n\t};\n}\n\nexport default createRemoveHook;\n","/**\n * Returns a function which, when invoked, will return whether any handlers are\n * attached to a particular hook.\n *\n * @param  {Object}   hooks Stored hooks, keyed by hook name.\n *\n * @return {Function}       Function that returns whether any handlers are\n *                          attached to a particular hook and optional namespace.\n */\nfunction createHasHook( hooks ) {\n\t/**\n\t * Returns whether any handlers are attached for the given hookName and optional namespace.\n\t *\n\t * @param {string}  hookName  The name of the hook to check for.\n\t * @param {?string} namespace Optional. The unique namespace identifying the callback\n\t *                                      in the form `vendor/plugin/function`.\n\t *\n\t * @return {boolean} Whether there are handlers that are attached to the given hook.\n\t */\n\treturn function hasHook( hookName, namespace ) {\n\t\t// Use the namespace if provided.\n\t\tif ( 'undefined' !== typeof namespace ) {\n\t\t\treturn (\n\t\t\t\thookName in hooks &&\n\t\t\t\thooks[ hookName ].handlers.some(\n\t\t\t\t\t( hook ) => hook.namespace === namespace\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn hookName in hooks;\n\t};\n}\n\nexport default createHasHook;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/**\n * Returns a function which, when invoked, will execute all callbacks\n * registered to a hook of the specified type, optionally returning the final\n * value of the call chain.\n *\n * @param  {Object}   hooks          Stored hooks, keyed by hook name.\n * @param  {?boolean}    returnFirstArg Whether each hook callback is expected to\n *                                   return its first argument.\n *\n * @return {Function}                Function that runs hook callbacks.\n */\nfunction createRunHook( hooks, returnFirstArg ) {\n\t/**\n\t * Runs all callbacks for the specified hook.\n\t *\n\t * @param  {string} hookName The name of the hook to run.\n\t * @param  {...*}   args     Arguments to pass to the hook callbacks.\n\t *\n\t * @return {*}               Return value of runner, if applicable.\n\t */\n\treturn function runHooks( hookName, ...args ) {\n\t\tif ( ! hooks[ hookName ] ) {\n\t\t\thooks[ hookName ] = {\n\t\t\t\thandlers: [],\n\t\t\t\truns: 0,\n\t\t\t};\n\t\t}\n\n\t\thooks[ hookName ].runs++;\n\n\t\tconst handlers = hooks[ hookName ].handlers;\n\n\t\t// The following code is stripped from production builds.\n\t\tif ( 'production' !== process.env.NODE_ENV ) {\n\t\t\t// Handle any 'all' hooks registered.\n\t\t\tif ( 'hookAdded' !== hookName && hooks.all ) {\n\t\t\t\thandlers.push( ...hooks.all.handlers );\n\t\t\t}\n\t\t}\n\n\t\tif ( ! handlers || ! handlers.length ) {\n\t\t\treturn returnFirstArg ? args[ 0 ] : undefined;\n\t\t}\n\n\t\tconst hookInfo = {\n\t\t\tname: hookName,\n\t\t\tcurrentIndex: 0,\n\t\t};\n\n\t\thooks.__current.push( hookInfo );\n\n\t\twhile ( hookInfo.currentIndex < handlers.length ) {\n\t\t\tconst handler = handlers[ hookInfo.currentIndex ];\n\n\t\t\tconst result = handler.callback.apply( null, args );\n\t\t\tif ( returnFirstArg ) {\n\t\t\t\targs[ 0 ] = result;\n\t\t\t}\n\n\t\t\thookInfo.currentIndex++;\n\t\t}\n\n\t\thooks.__current.pop();\n\n\t\tif ( returnFirstArg ) {\n\t\t\treturn args[ 0 ];\n\t\t}\n\t};\n}\n\nexport default createRunHook;\n","/**\n * Returns a function which, when invoked, will return the name of the\n * currently running hook, or `null` if no hook of the given type is currently\n * running.\n *\n * @param  {Object}   hooks          Stored hooks, keyed by hook name.\n *\n * @return {Function}                Function that returns the current hook.\n */\nfunction createCurrentHook( hooks ) {\n\t/**\n\t * Returns the name of the currently running hook, or `null` if no hook of\n\t * the given type is currently running.\n\t *\n\t * @return {?string}             The name of the currently running hook, or\n\t *                               `null` if no hook is currently running.\n\t */\n\treturn function currentHook() {\n\t\tif ( ! hooks.__current || ! hooks.__current.length ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn hooks.__current[ hooks.__current.length - 1 ].name;\n\t};\n}\n\nexport default createCurrentHook;\n","/**\n * Returns a function which, when invoked, will return whether a hook is\n * currently being executed.\n *\n * @param  {Object}   hooks Stored hooks, keyed by hook name.\n *\n * @return {Function}       Function that returns whether a hook is currently\n *                          being executed.\n */\nfunction createDoingHook( hooks ) {\n\t/**\n\t * Returns whether a hook is currently being executed.\n\t *\n\t * @param  {?string} hookName The name of the hook to check for.  If\n\t *                            omitted, will check for any hook being executed.\n\t *\n\t * @return {boolean}             Whether the hook is being executed.\n\t */\n\treturn function doingHook( hookName ) {\n\t\t// If the hookName was not passed, check for any current hook.\n\t\tif ( 'undefined' === typeof hookName ) {\n\t\t\treturn 'undefined' !== typeof hooks.__current[ 0 ];\n\t\t}\n\n\t\t// Return the __current hook.\n\t\treturn hooks.__current[ 0 ]\n\t\t\t? hookName === hooks.__current[ 0 ].name\n\t\t\t: false;\n\t};\n}\n\nexport default createDoingHook;\n","/**\n * Internal dependencies\n */\nimport validateHookName from './validateHookName.js';\n\n/**\n * Returns a function which, when invoked, will return the number of times a\n * hook has been called.\n *\n * @param  {Object}   hooks Stored hooks, keyed by hook name.\n *\n * @return {Function}       Function that returns a hook's call count.\n */\nfunction createDidHook( hooks ) {\n\t/**\n\t * Returns the number of times an action has been fired.\n\t *\n\t * @param  {string} hookName The hook name to check.\n\t *\n\t * @return {number}          The number of times the hook has run.\n\t */\n\treturn function didHook( hookName ) {\n\t\tif ( ! validateHookName( hookName ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn hooks[ hookName ] && hooks[ hookName ].runs\n\t\t\t? hooks[ hookName ].runs\n\t\t\t: 0;\n\t};\n}\n\nexport default createDidHook;\n","/**\n * Internal dependencies\n */\nimport createAddHook from './createAddHook';\nimport createRemoveHook from './createRemoveHook';\nimport createHasHook from './createHasHook';\nimport createRunHook from './createRunHook';\nimport createCurrentHook from './createCurrentHook';\nimport createDoingHook from './createDoingHook';\nimport createDidHook from './createDidHook';\n\n/**\n * Returns an instance of the hooks object.\n *\n * @return {Object} Object that contains all hooks.\n */\nfunction createHooks() {\n\tconst actions = Object.create( null );\n\tconst filters = Object.create( null );\n\tactions.__current = [];\n\tfilters.__current = [];\n\n\treturn {\n\t\taddAction: createAddHook( actions ),\n\t\taddFilter: createAddHook( filters ),\n\t\tremoveAction: createRemoveHook( actions ),\n\t\tremoveFilter: createRemoveHook( filters ),\n\t\thasAction: createHasHook( actions ),\n\t\thasFilter: createHasHook( filters ),\n\t\tremoveAllActions: createRemoveHook( actions, true ),\n\t\tremoveAllFilters: createRemoveHook( filters, true ),\n\t\tdoAction: createRunHook( actions ),\n\t\tapplyFilters: createRunHook( filters, true ),\n\t\tcurrentAction: createCurrentHook( actions ),\n\t\tcurrentFilter: createCurrentHook( filters ),\n\t\tdoingAction: createDoingHook( actions ),\n\t\tdoingFilter: createDoingHook( filters ),\n\t\tdidAction: createDidHook( actions ),\n\t\tdidFilter: createDidHook( filters ),\n\t\tactions,\n\t\tfilters,\n\t};\n}\n\nexport default createHooks;\n","/**\n * Internal dependencies\n */\nimport createHooks from './createHooks';\n\nconst {\n\taddAction,\n\taddFilter,\n\tremoveAction,\n\tremoveFilter,\n\thasAction,\n\thasFilter,\n\tremoveAllActions,\n\tremoveAllFilters,\n\tdoAction,\n\tapplyFilters,\n\tcurrentAction,\n\tcurrentFilter,\n\tdoingAction,\n\tdoingFilter,\n\tdidAction,\n\tdidFilter,\n\tactions,\n\tfilters,\n} = createHooks();\n\nexport {\n\tcreateHooks,\n\taddAction,\n\taddFilter,\n\tremoveAction,\n\tremoveFilter,\n\thasAction,\n\thasFilter,\n\tremoveAllActions,\n\tremoveAllFilters,\n\tdoAction,\n\tapplyFilters,\n\tcurrentAction,\n\tcurrentFilter,\n\tdoingAction,\n\tdoingFilter,\n\tdidAction,\n\tdidFilter,\n\tactions,\n\tfilters,\n};\n","/**\n * WordPress dependencies\n */\nimport { doAction } from '@wordpress/hooks';\n\n/**\n * Object map tracking messages which have been logged, for use in ensuring a\n * message is only logged once.\n *\n * @type {Object}\n */\nexport const logged = Object.create( null );\n\n/**\n * Logs a message to notify developers about a deprecated feature.\n *\n * @param {string}  feature             Name of the deprecated feature.\n * @param {?Object} options             Personalisation options\n * @param {?string} options.version     Version in which the feature will be removed.\n * @param {?string} options.alternative Feature to use instead\n * @param {?string} options.plugin      Plugin name if it's a plugin feature\n * @param {?string} options.link        Link to documentation\n * @param {?string} options.hint        Additional message to help transition away from the deprecated feature.\n *\n * @example\n * ```js\n * import deprecated from '@wordpress/deprecated';\n *\n * deprecated( 'Eating meat', {\n * \tversion: 'the future',\n * \talternative: 'vegetables',\n * \tplugin: 'the earth',\n * \thint: 'You may find it beneficial to transition gradually.',\n * } );\n *\n * // Logs: 'Eating meat is deprecated and will be removed from the earth in the future. Please use vegetables instead. Note: You may find it beneficial to transition gradually.'\n * ```\n */\nexport default function deprecated( feature, options = {} ) {\n\tconst { version, alternative, plugin, link, hint } = options;\n\n\tconst pluginMessage = plugin ? ` from ${ plugin }` : '';\n\tconst versionMessage = version\n\t\t? ` and will be removed${ pluginMessage } in version ${ version }`\n\t\t: '';\n\tconst useInsteadMessage = alternative\n\t\t? ` Please use ${ alternative } instead.`\n\t\t: '';\n\tconst linkMessage = link ? ` See: ${ link }` : '';\n\tconst hintMessage = hint ? ` Note: ${ hint }` : '';\n\tconst message = `${ feature } is deprecated${ versionMessage }.${ useInsteadMessage }${ linkMessage }${ hintMessage }`;\n\n\t// Skip if already logged.\n\tif ( message in logged ) {\n\t\treturn;\n\t}\n\n\t/**\n\t * Fires whenever a deprecated feature is encountered\n\t *\n\t * @param {string}  feature             Name of the deprecated feature.\n\t * @param {?Object} options             Personalisation options\n\t * @param {?string} options.version     Version in which the feature will be removed.\n\t * @param {?string} options.alternative Feature to use instead\n\t * @param {?string} options.plugin      Plugin name if it's a plugin feature\n\t * @param {?string} options.link        Link to documentation\n\t * @param {?string} options.hint        Additional message to help transition away from the deprecated feature.\n\t * @param {?string} message             Message sent to console.warn\n\t */\n\tdoAction( 'deprecated', feature, options, message );\n\n\t// eslint-disable-next-line no-console\n\tconsole.warn( message );\n\n\tlogged[ message ] = true;\n}\n","/**\n * External dependencies\n */\nimport {\n\tChildren,\n\tcloneElement,\n\tComponent,\n\tcreateContext,\n\tcreateElement,\n\tcreateRef,\n\tforwardRef,\n\tFragment,\n\tisValidElement,\n\tmemo,\n\tStrictMode,\n\tuseState,\n\tuseEffect,\n\tuseContext,\n\tuseReducer,\n\tuseCallback,\n\tuseMemo,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseLayoutEffect,\n\tuseDebugValue,\n\tlazy,\n\tSuspense,\n} from 'react';\nimport { isString } from 'lodash';\n\n/**\n * Object containing a React element.\n *\n * @typedef {import('react').ReactElement} WPElement\n */\n\n/**\n * Object containing a React component.\n *\n * @typedef {import('react').ComponentType} WPComponent\n */\n\n/**\n * Object containing a React synthetic event.\n *\n * @typedef {import('react').SyntheticEvent} WPSyntheticEvent\n */\n\n/**\n * Object that provides utilities for dealing with React children.\n */\nexport { Children };\n\n/**\n * Creates a copy of an element with extended props.\n *\n * @param {WPElement} element Element\n * @param {?Object}   props   Props to apply to cloned element\n *\n * @return {WPElement} Cloned element.\n */\nexport { cloneElement };\n\n/**\n * A base class to create WordPress Components (Refs, state and lifecycle hooks)\n */\nexport { Component };\n\n/**\n * Creates a context object containing two components: a provider and consumer.\n *\n * @param {Object} defaultValue A default data stored in the context.\n *\n * @return {Object} Context object.\n */\nexport { createContext };\n\n/**\n * Returns a new element of given type. Type can be either a string tag name or\n * another function which itself returns an element.\n *\n * @param {?(string|Function)} type     Tag name or element creator\n * @param {Object}             props    Element properties, either attribute\n *                                      set to apply to DOM node or values to\n *                                      pass through to element creator\n * @param {...WPElement}       children Descendant elements\n *\n * @return {WPElement} Element.\n */\nexport { createElement };\n\n/**\n * Returns an object tracking a reference to a rendered element via its\n * `current` property as either a DOMElement or Element, dependent upon the\n * type of element rendered with the ref attribute.\n *\n * @return {Object} Ref object.\n */\nexport { createRef };\n\n/**\n * Component enhancer used to enable passing a ref to its wrapped component.\n * Pass a function argument which receives `props` and `ref` as its arguments,\n * returning an element using the forwarded ref. The return value is a new\n * component which forwards its ref.\n *\n * @param {Function} forwarder Function passed `props` and `ref`, expected to\n *                             return an element.\n *\n * @return {WPComponent} Enhanced component.\n */\nexport { forwardRef };\n\n/**\n * A component which renders its children without any wrapping element.\n */\nexport { Fragment };\n\n/**\n * Checks if an object is a valid WPElement.\n *\n * @param {Object} objectToCheck The object to be checked.\n *\n * @return {boolean} true if objectToTest is a valid WPElement and false otherwise.\n */\nexport { isValidElement };\n\n/**\n * @see https://reactjs.org/docs/react-api.html#reactmemo\n */\nexport { memo };\n\n/**\n * Component that activates additional checks and warnings for its descendants.\n */\nexport { StrictMode };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usecallback\n */\nexport { useCallback };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usecontext\n */\nexport { useContext };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usedebugvalue\n */\nexport { useDebugValue };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#useeffect\n */\nexport { useEffect };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#useimperativehandle\n */\nexport { useImperativeHandle };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n */\nexport { useLayoutEffect };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usememo\n */\nexport { useMemo };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usereducer\n */\nexport { useReducer };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n */\nexport { useRef };\n\n/**\n * @see https://reactjs.org/docs/hooks-reference.html#usestate\n */\nexport { useState };\n\n/**\n * @see https://reactjs.org/docs/react-api.html#reactlazy\n */\nexport { lazy };\n\n/**\n * @see https://reactjs.org/docs/react-api.html#reactsuspense\n */\nexport { Suspense };\n\n/**\n * Concatenate two or more React children objects.\n *\n * @param {...?Object} childrenArguments Array of children arguments (array of arrays/strings/objects) to concatenate.\n *\n * @return {Array} The concatenated value.\n */\nexport function concatChildren( ...childrenArguments ) {\n\treturn childrenArguments.reduce( ( accumulator, children, i ) => {\n\t\tChildren.forEach( children, ( child, j ) => {\n\t\t\tif ( child && 'string' !== typeof child ) {\n\t\t\t\tchild = cloneElement( child, {\n\t\t\t\t\tkey: [ i, j ].join(),\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\taccumulator.push( child );\n\t\t} );\n\n\t\treturn accumulator;\n\t}, [] );\n}\n\n/**\n * Switches the nodeName of all the elements in the children object.\n *\n * @param {?Object} children Children object.\n * @param {string}  nodeName Node name.\n *\n * @return {?Object} The updated children object.\n */\nexport function switchChildrenNodeName( children, nodeName ) {\n\treturn (\n\t\tchildren &&\n\t\tChildren.map( children, ( elt, index ) => {\n\t\t\tif ( isString( elt ) ) {\n\t\t\t\treturn createElement( nodeName, { key: index }, elt );\n\t\t\t}\n\t\t\tconst { children: childrenProp, ...props } = elt.props;\n\t\t\treturn createElement(\n\t\t\t\tnodeName,\n\t\t\t\t{ key: index, ...props },\n\t\t\t\tchildrenProp\n\t\t\t);\n\t\t} )\n\t);\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * Browser dependencies\n */\n\nconst { DOMParser, getComputedStyle } = window;\nconst {\n\tTEXT_NODE,\n\tELEMENT_NODE,\n\tDOCUMENT_POSITION_PRECEDING,\n\tDOCUMENT_POSITION_FOLLOWING,\n} = window.Node;\n\n/**\n * Returns true if the given selection object is in the forward direction, or\n * false otherwise.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n *\n * @param {Selection} selection Selection object to check.\n *\n * @return {boolean} Whether the selection is forward.\n */\nfunction isSelectionForward( selection ) {\n\tconst { anchorNode, focusNode, anchorOffset, focusOffset } = selection;\n\n\tconst position = anchorNode.compareDocumentPosition( focusNode );\n\n\t// Disable reason: `Node#compareDocumentPosition` returns a bitmask value,\n\t// so bitwise operators are intended.\n\t/* eslint-disable no-bitwise */\n\t// Compare whether anchor node precedes focus node. If focus node (where\n\t// end of selection occurs) is after the anchor node, it is forward.\n\tif ( position & DOCUMENT_POSITION_PRECEDING ) {\n\t\treturn false;\n\t}\n\n\tif ( position & DOCUMENT_POSITION_FOLLOWING ) {\n\t\treturn true;\n\t}\n\t/* eslint-enable no-bitwise */\n\n\t// `compareDocumentPosition` returns 0 when passed the same node, in which\n\t// case compare offsets.\n\tif ( position === 0 ) {\n\t\treturn anchorOffset <= focusOffset;\n\t}\n\n\t// This should never be reached, but return true as default case.\n\treturn true;\n}\n\n/**\n * Check whether the selection is at the edge of the container. Checks for\n * horizontal position by default. Set `onlyVertical` to true to check only\n * vertically.\n *\n * @param {Element} container    Focusable element.\n * @param {boolean} isReverse    Set to true to check left, false to check right.\n * @param {boolean} onlyVertical Set to true to check only vertical position.\n *\n * @return {boolean} True if at the edge, false if not.\n */\nfunction isEdge( container, isReverse, onlyVertical ) {\n\tif ( includes( [ 'INPUT', 'TEXTAREA' ], container.tagName ) ) {\n\t\tif ( container.selectionStart !== container.selectionEnd ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( isReverse ) {\n\t\t\treturn container.selectionStart === 0;\n\t\t}\n\n\t\treturn container.value.length === container.selectionStart;\n\t}\n\n\tif ( ! container.isContentEditable ) {\n\t\treturn true;\n\t}\n\n\tconst selection = window.getSelection();\n\n\tif ( ! selection.rangeCount ) {\n\t\treturn false;\n\t}\n\n\tconst originalRange = selection.getRangeAt( 0 );\n\tconst range = originalRange.cloneRange();\n\tconst isForward = isSelectionForward( selection );\n\tconst isCollapsed = selection.isCollapsed;\n\n\t// Collapse in direction of selection.\n\tif ( ! isCollapsed ) {\n\t\trange.collapse( ! isForward );\n\t}\n\n\tconst rangeRect = getRectangleFromRange( range );\n\n\tif ( ! rangeRect ) {\n\t\treturn false;\n\t}\n\n\tconst computedStyle = window.getComputedStyle( container );\n\tconst lineHeight = parseInt( computedStyle.lineHeight, 10 ) || 0;\n\n\t// Only consider the multiline selection at the edge if the direction is\n\t// towards the edge.\n\tif (\n\t\t! isCollapsed &&\n\t\trangeRect.height > lineHeight &&\n\t\tisForward === isReverse\n\t) {\n\t\treturn false;\n\t}\n\n\tconst padding =\n\t\tparseInt(\n\t\t\tcomputedStyle[ `padding${ isReverse ? 'Top' : 'Bottom' }` ],\n\t\t\t10\n\t\t) || 0;\n\n\t// Calculate a buffer that is half the line height. In some browsers, the\n\t// selection rectangle may not fill the entire height of the line, so we add\n\t// 3/4 the line height to the selection rectangle to ensure that it is well\n\t// over its line boundary.\n\tconst buffer = ( 3 * parseInt( lineHeight, 10 ) ) / 4;\n\tconst containerRect = container.getBoundingClientRect();\n\tconst originalRangeRect = getRectangleFromRange( originalRange );\n\tconst verticalEdge = isReverse\n\t\t? containerRect.top + padding > originalRangeRect.top - buffer\n\t\t: containerRect.bottom - padding < originalRangeRect.bottom + buffer;\n\n\tif ( ! verticalEdge ) {\n\t\treturn false;\n\t}\n\n\tif ( onlyVertical ) {\n\t\treturn true;\n\t}\n\n\t// In the case of RTL scripts, the horizontal edge is at the opposite side.\n\tconst { direction } = computedStyle;\n\tconst isReverseDir = direction === 'rtl' ? ! isReverse : isReverse;\n\n\t// To calculate the horizontal position, we insert a test range and see if\n\t// this test range has the same horizontal position. This method proves to\n\t// be better than a DOM-based calculation, because it ignores empty text\n\t// nodes and a trailing line break element. In other words, we need to check\n\t// visual positioning, not DOM positioning.\n\tconst x = isReverseDir ? containerRect.left + 1 : containerRect.right - 1;\n\tconst y = isReverse\n\t\t? containerRect.top + buffer\n\t\t: containerRect.bottom - buffer;\n\tconst testRange = hiddenCaretRangeFromPoint( document, x, y, container );\n\n\tif ( ! testRange ) {\n\t\treturn false;\n\t}\n\n\tconst side = isReverseDir ? 'left' : 'right';\n\tconst testRect = getRectangleFromRange( testRange );\n\n\t// Allow the position to be 1px off.\n\treturn Math.abs( testRect[ side ] - rangeRect[ side ] ) <= 1;\n}\n\n/**\n * Check whether the selection is horizontally at the edge of the container.\n *\n * @param {Element} container Focusable element.\n * @param {boolean} isReverse Set to true to check left, false for right.\n *\n * @return {boolean} True if at the horizontal edge, false if not.\n */\nexport function isHorizontalEdge( container, isReverse ) {\n\treturn isEdge( container, isReverse );\n}\n\n/**\n * Check whether the selection is vertically at the edge of the container.\n *\n * @param {Element} container Focusable element.\n * @param {boolean} isReverse Set to true to check top, false for bottom.\n *\n * @return {boolean} True if at the vertical edge, false if not.\n */\nexport function isVerticalEdge( container, isReverse ) {\n\treturn isEdge( container, isReverse, true );\n}\n\n/**\n * Get the rectangle of a given Range.\n *\n * @param {Range} range The range.\n *\n * @return {DOMRect} The rectangle.\n */\nexport function getRectangleFromRange( range ) {\n\t// For uncollapsed ranges, get the rectangle that bounds the contents of the\n\t// range; this a rectangle enclosing the union of the bounding rectangles\n\t// for all the elements in the range.\n\tif ( ! range.collapsed ) {\n\t\treturn range.getBoundingClientRect();\n\t}\n\n\tconst { startContainer } = range;\n\n\t// Correct invalid \"BR\" ranges. The cannot contain any children.\n\tif ( startContainer.nodeName === 'BR' ) {\n\t\tconst { parentNode } = startContainer;\n\t\tconst index = Array.from( parentNode.childNodes ).indexOf(\n\t\t\tstartContainer\n\t\t);\n\n\t\trange = document.createRange();\n\t\trange.setStart( parentNode, index );\n\t\trange.setEnd( parentNode, index );\n\t}\n\n\tlet rect = range.getClientRects()[ 0 ];\n\n\t// If the collapsed range starts (and therefore ends) at an element node,\n\t// `getClientRects` can be empty in some browsers. This can be resolved\n\t// by adding a temporary text node with zero-width space to the range.\n\t//\n\t// See: https://stackoverflow.com/a/6847328/995445\n\tif ( ! rect ) {\n\t\tconst padNode = document.createTextNode( '\\u200b' );\n\t\t// Do not modify the live range.\n\t\trange = range.cloneRange();\n\t\trange.insertNode( padNode );\n\t\trect = range.getClientRects()[ 0 ];\n\t\tpadNode.parentNode.removeChild( padNode );\n\t}\n\n\treturn rect;\n}\n\n/**\n * Get the rectangle for the selection in a container.\n *\n * @return {?DOMRect} The rectangle.\n */\nexport function computeCaretRect() {\n\tconst selection = window.getSelection();\n\tconst range = selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n\n\tif ( ! range ) {\n\t\treturn;\n\t}\n\n\treturn getRectangleFromRange( range );\n}\n\n/**\n * Places the caret at start or end of a given element.\n *\n * @param {Element} container Focusable element.\n * @param {boolean} isReverse True for end, false for start.\n */\nexport function placeCaretAtHorizontalEdge( container, isReverse ) {\n\tif ( ! container ) {\n\t\treturn;\n\t}\n\n\tif ( includes( [ 'INPUT', 'TEXTAREA' ], container.tagName ) ) {\n\t\tcontainer.focus();\n\t\tif ( isReverse ) {\n\t\t\tcontainer.selectionStart = container.value.length;\n\t\t\tcontainer.selectionEnd = container.value.length;\n\t\t} else {\n\t\t\tcontainer.selectionStart = 0;\n\t\t\tcontainer.selectionEnd = 0;\n\t\t}\n\t\treturn;\n\t}\n\n\tcontainer.focus();\n\n\tif ( ! container.isContentEditable ) {\n\t\treturn;\n\t}\n\n\t// Select on extent child of the container, not the container itself. This\n\t// avoids the selection always being `endOffset` of 1 when placed at end,\n\t// where `startContainer`, `endContainer` would always be container itself.\n\tconst rangeTarget = container[ isReverse ? 'lastChild' : 'firstChild' ];\n\n\t// If no range target, it implies that the container is empty. Focusing is\n\t// sufficient for caret to be placed correctly.\n\tif ( ! rangeTarget ) {\n\t\treturn;\n\t}\n\n\tconst selection = window.getSelection();\n\tconst range = document.createRange();\n\n\trange.selectNodeContents( rangeTarget );\n\trange.collapse( ! isReverse );\n\n\tselection.removeAllRanges();\n\tselection.addRange( range );\n}\n\n/**\n * Polyfill.\n * Get a collapsed range for a given point.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/caretRangeFromPoint\n *\n * @param {Document} doc The document of the range.\n * @param {number}    x   Horizontal position within the current viewport.\n * @param {number}    y   Vertical position within the current viewport.\n *\n * @return {?Range} The best range for the given point.\n */\nfunction caretRangeFromPoint( doc, x, y ) {\n\tif ( doc.caretRangeFromPoint ) {\n\t\treturn doc.caretRangeFromPoint( x, y );\n\t}\n\n\tif ( ! doc.caretPositionFromPoint ) {\n\t\treturn null;\n\t}\n\n\tconst point = doc.caretPositionFromPoint( x, y );\n\n\t// If x or y are negative, outside viewport, or there is no text entry node.\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Document/caretRangeFromPoint\n\tif ( ! point ) {\n\t\treturn null;\n\t}\n\n\tconst range = doc.createRange();\n\n\trange.setStart( point.offsetNode, point.offset );\n\trange.collapse( true );\n\n\treturn range;\n}\n\n/**\n * Get a collapsed range for a given point.\n * Gives the container a temporary high z-index (above any UI).\n * This is preferred over getting the UI nodes and set styles there.\n *\n * @param {Document} doc       The document of the range.\n * @param {number}    x         Horizontal position within the current viewport.\n * @param {number}    y         Vertical position within the current viewport.\n * @param {Element}  container Container in which the range is expected to be found.\n *\n * @return {?Range} The best range for the given point.\n */\nfunction hiddenCaretRangeFromPoint( doc, x, y, container ) {\n\tconst originalZIndex = container.style.zIndex;\n\tconst originalPosition = container.style.position;\n\n\t// A z-index only works if the element position is not static.\n\tcontainer.style.zIndex = '10000';\n\tcontainer.style.position = 'relative';\n\n\tconst range = caretRangeFromPoint( doc, x, y );\n\n\tcontainer.style.zIndex = originalZIndex;\n\tcontainer.style.position = originalPosition;\n\n\treturn range;\n}\n\n/**\n * Places the caret at the top or bottom of a given element.\n *\n * @param {Element} container           Focusable element.\n * @param {boolean} isReverse           True for bottom, false for top.\n * @param {DOMRect} [rect]              The rectangle to position the caret with.\n * @param {boolean} [mayUseScroll=true] True to allow scrolling, false to disallow.\n */\nexport function placeCaretAtVerticalEdge(\n\tcontainer,\n\tisReverse,\n\trect,\n\tmayUseScroll = true\n) {\n\tif ( ! container ) {\n\t\treturn;\n\t}\n\n\tif ( ! rect || ! container.isContentEditable ) {\n\t\tplaceCaretAtHorizontalEdge( container, isReverse );\n\t\treturn;\n\t}\n\n\t// Offset by a buffer half the height of the caret rect. This is needed\n\t// because caretRangeFromPoint may default to the end of the selection if\n\t// offset is too close to the edge. It's unclear how to precisely calculate\n\t// this threshold; it may be the padded area of some combination of line\n\t// height, caret height, and font size. The buffer offset is effectively\n\t// equivalent to a point at half the height of a line of text.\n\tconst buffer = rect.height / 2;\n\tconst editableRect = container.getBoundingClientRect();\n\tconst x = rect.left;\n\tconst y = isReverse\n\t\t? editableRect.bottom - buffer\n\t\t: editableRect.top + buffer;\n\n\tconst range = hiddenCaretRangeFromPoint( document, x, y, container );\n\n\tif ( ! range || ! container.contains( range.startContainer ) ) {\n\t\tif (\n\t\t\tmayUseScroll &&\n\t\t\t( ! range ||\n\t\t\t\t! range.startContainer ||\n\t\t\t\t! range.startContainer.contains( container ) )\n\t\t) {\n\t\t\t// Might be out of view.\n\t\t\t// Easier than attempting to calculate manually.\n\t\t\tcontainer.scrollIntoView( isReverse );\n\t\t\tplaceCaretAtVerticalEdge( container, isReverse, rect, false );\n\t\t\treturn;\n\t\t}\n\n\t\tplaceCaretAtHorizontalEdge( container, isReverse );\n\t\treturn;\n\t}\n\n\tconst selection = window.getSelection();\n\tselection.removeAllRanges();\n\tselection.addRange( range );\n\tcontainer.focus();\n\t// Editable was already focussed, it goes back to old range...\n\t// This fixes it.\n\tselection.removeAllRanges();\n\tselection.addRange( range );\n}\n\n/**\n * Check whether the given element is a text field, where text field is defined\n * by the ability to select within the input, or that it is contenteditable.\n *\n * See: https://html.spec.whatwg.org/#textFieldSelection\n *\n * @param {HTMLElement} element The HTML element.\n *\n * @return {boolean} True if the element is an text field, false if not.\n */\nexport function isTextField( element ) {\n\ttry {\n\t\tconst { nodeName, selectionStart, contentEditable } = element;\n\n\t\treturn (\n\t\t\t( nodeName === 'INPUT' && selectionStart !== null ) ||\n\t\t\tnodeName === 'TEXTAREA' ||\n\t\t\tcontentEditable === 'true'\n\t\t);\n\t} catch ( error ) {\n\t\t// Safari throws an exception when trying to get `selectionStart`\n\t\t// on non-text <input> elements (which, understandably, don't\n\t\t// have the text selection API). We catch this via a try/catch\n\t\t// block, as opposed to a more explicit check of the element's\n\t\t// input types, because of Safari's non-standard behavior. This\n\t\t// also means we don't have to worry about the list of input\n\t\t// types that support `selectionStart` changing as the HTML spec\n\t\t// evolves over time.\n\t\treturn false;\n\t}\n}\n\n/**\n * Check whether the given element is an input field of type number\n * and has a valueAsNumber\n *\n * @param {HTMLElement} element The HTML element.\n *\n * @return {boolean} True if the element is input and holds a number.\n */\nexport function isNumberInput( element ) {\n\tconst { nodeName, type, valueAsNumber } = element;\n\n\treturn nodeName === 'INPUT' && type === 'number' && !! valueAsNumber;\n}\n\n/**\n * Check wether the current document has a selection.\n * This checks both for focus in an input field and general text selection.\n *\n * @return {boolean} True if there is selection, false if not.\n */\nexport function documentHasSelection() {\n\tif ( isTextField( document.activeElement ) ) {\n\t\treturn true;\n\t}\n\n\tif ( isNumberInput( document.activeElement ) ) {\n\t\treturn true;\n\t}\n\n\tconst selection = window.getSelection();\n\tconst range = selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n\n\treturn range && ! range.collapsed;\n}\n\n/**\n * Check whether the contents of the element have been entirely selected.\n * Returns true if there is no possibility of selection.\n *\n * @param {Element} element The element to check.\n *\n * @return {boolean} True if entirely selected, false if not.\n */\nexport function isEntirelySelected( element ) {\n\tif ( includes( [ 'INPUT', 'TEXTAREA' ], element.nodeName ) ) {\n\t\treturn (\n\t\t\telement.selectionStart === 0 &&\n\t\t\telement.value.length === element.selectionEnd\n\t\t);\n\t}\n\n\tif ( ! element.isContentEditable ) {\n\t\treturn true;\n\t}\n\n\tconst selection = window.getSelection();\n\tconst range = selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n\n\tif ( ! range ) {\n\t\treturn true;\n\t}\n\n\tconst { startContainer, endContainer, startOffset, endOffset } = range;\n\n\tif (\n\t\tstartContainer === element &&\n\t\tendContainer === element &&\n\t\tstartOffset === 0 &&\n\t\tendOffset === element.childNodes.length\n\t) {\n\t\treturn true;\n\t}\n\n\tconst lastChild = element.lastChild;\n\tconst lastChildContentLength =\n\t\tlastChild.nodeType === TEXT_NODE\n\t\t\t? lastChild.data.length\n\t\t\t: lastChild.childNodes.length;\n\n\treturn (\n\t\tstartContainer === element.firstChild &&\n\t\tendContainer === element.lastChild &&\n\t\tstartOffset === 0 &&\n\t\tendOffset === lastChildContentLength\n\t);\n}\n\n/**\n * Given a DOM node, finds the closest scrollable container node.\n *\n * @param {Element} node Node from which to start.\n *\n * @return {?Element} Scrollable container node, if found.\n */\nexport function getScrollContainer( node ) {\n\tif ( ! node ) {\n\t\treturn;\n\t}\n\n\t// Scrollable if scrollable height exceeds displayed...\n\tif ( node.scrollHeight > node.clientHeight ) {\n\t\t// ...except when overflow is defined to be hidden or visible\n\t\tconst { overflowY } = window.getComputedStyle( node );\n\t\tif ( /(auto|scroll)/.test( overflowY ) ) {\n\t\t\treturn node;\n\t\t}\n\t}\n\n\t// Continue traversing\n\treturn getScrollContainer( node.parentNode );\n}\n\n/**\n * Returns the closest positioned element, or null under any of the conditions\n * of the offsetParent specification. Unlike offsetParent, this function is not\n * limited to HTMLElement and accepts any Node (e.g. Node.TEXT_NODE).\n *\n * @see https://drafts.csswg.org/cssom-view/#dom-htmlelement-offsetparent\n *\n * @param {Node} node Node from which to find offset parent.\n *\n * @return {?Node} Offset parent.\n */\nexport function getOffsetParent( node ) {\n\t// Cannot retrieve computed style or offset parent only anything other than\n\t// an element node, so find the closest element node.\n\tlet closestElement;\n\twhile ( ( closestElement = node.parentNode ) ) {\n\t\tif ( closestElement.nodeType === ELEMENT_NODE ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif ( ! closestElement ) {\n\t\treturn null;\n\t}\n\n\t// If the closest element is already positioned, return it, as offsetParent\n\t// does not otherwise consider the node itself.\n\tif ( getComputedStyle( closestElement ).position !== 'static' ) {\n\t\treturn closestElement;\n\t}\n\n\treturn closestElement.offsetParent;\n}\n\n/**\n * Given two DOM nodes, replaces the former with the latter in the DOM.\n *\n * @param {Element} processedNode Node to be removed.\n * @param {Element} newNode       Node to be inserted in its place.\n * @return {void}\n */\nexport function replace( processedNode, newNode ) {\n\tinsertAfter( newNode, processedNode.parentNode );\n\tremove( processedNode );\n}\n\n/**\n * Given a DOM node, removes it from the DOM.\n *\n * @param {Element} node Node to be removed.\n * @return {void}\n */\nexport function remove( node ) {\n\tnode.parentNode.removeChild( node );\n}\n\n/**\n * Given two DOM nodes, inserts the former in the DOM as the next sibling of\n * the latter.\n *\n * @param {Element} newNode       Node to be inserted.\n * @param {Element} referenceNode Node after which to perform the insertion.\n * @return {void}\n */\nexport function insertAfter( newNode, referenceNode ) {\n\treferenceNode.parentNode.insertBefore( newNode, referenceNode.nextSibling );\n}\n\n/**\n * Unwrap the given node. This means any child nodes are moved to the parent.\n *\n * @param {Node} node The node to unwrap.\n *\n * @return {void}\n */\nexport function unwrap( node ) {\n\tconst parent = node.parentNode;\n\n\twhile ( node.firstChild ) {\n\t\tparent.insertBefore( node.firstChild, node );\n\t}\n\n\tparent.removeChild( node );\n}\n\n/**\n * Replaces the given node with a new node with the given tag name.\n *\n * @param {Element}  node    The node to replace\n * @param {string}   tagName The new tag name.\n *\n * @return {Element} The new node.\n */\nexport function replaceTag( node, tagName ) {\n\tconst newNode = node.ownerDocument.createElement( tagName );\n\n\twhile ( node.firstChild ) {\n\t\tnewNode.appendChild( node.firstChild );\n\t}\n\n\tnode.parentNode.replaceChild( newNode, node );\n\n\treturn newNode;\n}\n\n/**\n * Wraps the given node with a new node with the given tag name.\n *\n * @param {Element} newNode       The node to insert.\n * @param {Element} referenceNode The node to wrap.\n */\nexport function wrap( newNode, referenceNode ) {\n\treferenceNode.parentNode.insertBefore( newNode, referenceNode );\n\tnewNode.appendChild( referenceNode );\n}\n\n/**\n * Removes any HTML tags from the provided string.\n *\n * @param {string} html The string containing html.\n *\n * @return {string} The text content with any html removed.\n */\nexport function __unstableStripHTML( html ) {\n\tconst document = new DOMParser().parseFromString( html, 'text/html' );\n\treturn document.body.textContent || '';\n}\n","/**\n * References:\n *\n * Focusable:\n *  - https://www.w3.org/TR/html5/editing.html#focus-management\n *\n * Sequential focus navigation:\n *  - https://www.w3.org/TR/html5/editing.html#sequential-focus-navigation-and-the-tabindex-attribute\n *\n * Disabled elements:\n *  - https://www.w3.org/TR/html5/disabled-elements.html#disabled-elements\n *\n * getClientRects algorithm (requiring layout box):\n *  - https://www.w3.org/TR/cssom-view-1/#extension-to-the-element-interface\n *\n * AREA elements associated with an IMG:\n *  - https://w3c.github.io/html/editing.html#data-model\n */\n\nconst SELECTOR = [\n\t'[tabindex]',\n\t'a[href]',\n\t'button:not([disabled])',\n\t'input:not([type=\"hidden\"]):not([disabled])',\n\t'select:not([disabled])',\n\t'textarea:not([disabled])',\n\t'iframe',\n\t'object',\n\t'embed',\n\t'area[href]',\n\t'[contenteditable]:not([contenteditable=false])',\n].join( ',' );\n\n/**\n * Returns true if the specified element is visible (i.e. neither display: none\n * nor visibility: hidden).\n *\n * @param {Element} element DOM element to test.\n *\n * @return {boolean} Whether element is visible.\n */\nfunction isVisible( element ) {\n\treturn (\n\t\telement.offsetWidth > 0 ||\n\t\telement.offsetHeight > 0 ||\n\t\telement.getClientRects().length > 0\n\t);\n}\n\n/**\n * Returns true if the specified area element is a valid focusable element, or\n * false otherwise. Area is only focusable if within a map where a named map\n * referenced by an image somewhere in the document.\n *\n * @param {Element} element DOM area element to test.\n *\n * @return {boolean} Whether area element is valid for focus.\n */\nfunction isValidFocusableArea( element ) {\n\tconst map = element.closest( 'map[name]' );\n\tif ( ! map ) {\n\t\treturn false;\n\t}\n\n\tconst img = document.querySelector( 'img[usemap=\"#' + map.name + '\"]' );\n\treturn !! img && isVisible( img );\n}\n\n/**\n * Returns all focusable elements within a given context.\n *\n * @param {Element} context Element in which to search.\n *\n * @return {Element[]} Focusable elements.\n */\nexport function find( context ) {\n\tconst elements = context.querySelectorAll( SELECTOR );\n\n\treturn Array.from( elements ).filter( ( element ) => {\n\t\tif ( ! isVisible( element ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst { nodeName } = element;\n\t\tif ( 'AREA' === nodeName ) {\n\t\t\treturn isValidFocusableArea( element );\n\t\t}\n\n\t\treturn true;\n\t} );\n}\n","/**\n * External dependencies\n */\nimport { without, first, last } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { find as findFocusable } from './focusable';\n\n/**\n * Returns the tab index of the given element. In contrast with the tabIndex\n * property, this normalizes the default (0) to avoid browser inconsistencies,\n * operating under the assumption that this function is only ever called with a\n * focusable node.\n *\n * @see https://bugzilla.mozilla.org/show_bug.cgi?id=1190261\n *\n * @param {Element} element Element from which to retrieve.\n *\n * @return {?number} Tab index of element (default 0).\n */\nfunction getTabIndex( element ) {\n\tconst tabIndex = element.getAttribute( 'tabindex' );\n\treturn tabIndex === null ? 0 : parseInt( tabIndex, 10 );\n}\n\n/**\n * Returns true if the specified element is tabbable, or false otherwise.\n *\n * @param {Element} element Element to test.\n *\n * @return {boolean} Whether element is tabbable.\n */\nexport function isTabbableIndex( element ) {\n\treturn getTabIndex( element ) !== -1;\n}\n\n/**\n * Returns a stateful reducer function which constructs a filtered array of\n * tabbable elements, where at most one radio input is selected for a given\n * name, giving priority to checked input, falling back to the first\n * encountered.\n *\n * @return {Function} Radio group collapse reducer.\n */\nfunction createStatefulCollapseRadioGroup() {\n\tconst CHOSEN_RADIO_BY_NAME = {};\n\n\treturn function collapseRadioGroup( result, element ) {\n\t\tconst { nodeName, type, checked, name } = element;\n\n\t\t// For all non-radio tabbables, construct to array by concatenating.\n\t\tif ( nodeName !== 'INPUT' || type !== 'radio' || ! name ) {\n\t\t\treturn result.concat( element );\n\t\t}\n\n\t\tconst hasChosen = CHOSEN_RADIO_BY_NAME.hasOwnProperty( name );\n\n\t\t// Omit by skipping concatenation if the radio element is not chosen.\n\t\tconst isChosen = checked || ! hasChosen;\n\t\tif ( ! isChosen ) {\n\t\t\treturn result;\n\t\t}\n\n\t\t// At this point, if there had been a chosen element, the current\n\t\t// element is checked and should take priority. Retroactively remove\n\t\t// the element which had previously been considered the chosen one.\n\t\tif ( hasChosen ) {\n\t\t\tconst hadChosenElement = CHOSEN_RADIO_BY_NAME[ name ];\n\t\t\tresult = without( result, hadChosenElement );\n\t\t}\n\n\t\tCHOSEN_RADIO_BY_NAME[ name ] = element;\n\n\t\treturn result.concat( element );\n\t};\n}\n\n/**\n * An array map callback, returning an object with the element value and its\n * array index location as properties. This is used to emulate a proper stable\n * sort where equal tabIndex should be left in order of their occurrence in the\n * document.\n *\n * @param {Element} element Element.\n * @param {number}  index   Array index of element.\n *\n * @return {Object} Mapped object with element, index.\n */\nfunction mapElementToObjectTabbable( element, index ) {\n\treturn { element, index };\n}\n\n/**\n * An array map callback, returning an element of the given mapped object's\n * element value.\n *\n * @param {Object} object Mapped object with index.\n *\n * @return {Element} Mapped object element.\n */\nfunction mapObjectTabbableToElement( object ) {\n\treturn object.element;\n}\n\n/**\n * A sort comparator function used in comparing two objects of mapped elements.\n *\n * @see mapElementToObjectTabbable\n *\n * @param {Object} a First object to compare.\n * @param {Object} b Second object to compare.\n *\n * @return {number} Comparator result.\n */\nfunction compareObjectTabbables( a, b ) {\n\tconst aTabIndex = getTabIndex( a.element );\n\tconst bTabIndex = getTabIndex( b.element );\n\n\tif ( aTabIndex === bTabIndex ) {\n\t\treturn a.index - b.index;\n\t}\n\n\treturn aTabIndex - bTabIndex;\n}\n\n/**\n * Givin focusable elements, filters out tabbable element.\n *\n * @param {Array} focusables Focusable elements to filter.\n *\n * @return {Array} Tabbable elements.\n */\nfunction filterTabbable( focusables ) {\n\treturn focusables\n\t\t.filter( isTabbableIndex )\n\t\t.map( mapElementToObjectTabbable )\n\t\t.sort( compareObjectTabbables )\n\t\t.map( mapObjectTabbableToElement )\n\t\t.reduce( createStatefulCollapseRadioGroup(), [] );\n}\n\nexport function find( context ) {\n\treturn filterTabbable( findFocusable( context ) );\n}\n\n/**\n * Given a focusable element, find the preceding tabbable element.\n *\n * @param {Element} element The focusable element before which to look. Defaults\n *                          to the active element.\n */\nexport function findPrevious( element = document.activeElement ) {\n\tconst focusables = findFocusable( document.body );\n\tconst index = focusables.indexOf( element );\n\n\t// Remove all focusables after and including `element`.\n\tfocusables.length = index;\n\n\treturn last( filterTabbable( focusables ) );\n}\n\n/**\n * Given a focusable element, find the next tabbable element.\n *\n * @param {Element} element The focusable element after which to look. Defaults\n *                          to the active element.\n */\nexport function findNext( element = document.activeElement ) {\n\tconst focusables = findFocusable( document.body );\n\tconst index = focusables.indexOf( element );\n\n\t// Remove all focusables before and inside `element`.\n\tconst remaining = focusables\n\t\t.slice( index + 1 )\n\t\t.filter( ( node ) => ! element.contains( node ) );\n\n\treturn first( filterTabbable( remaining ) );\n}\n","/**\n * Internal dependencies\n */\nimport * as focusable from './focusable';\nimport * as tabbable from './tabbable';\n\n/**\n * Object grouping `focusable` and `tabbable` utils\n * under the keys with the same name.\n */\nexport const focus = { focusable, tabbable };\n\nexport * from './dom';\n","var PRECEDENCE, OPENERS, TERMINATORS, PATTERN;\n\n/**\n * Operator precedence mapping.\n *\n * @type {Object}\n */\nPRECEDENCE = {\n\t'(': 9,\n\t'!': 8,\n\t'*': 7,\n\t'/': 7,\n\t'%': 7,\n\t'+': 6,\n\t'-': 6,\n\t'<': 5,\n\t'<=': 5,\n\t'>': 5,\n\t'>=': 5,\n\t'==': 4,\n\t'!=': 4,\n\t'&&': 3,\n\t'||': 2,\n\t'?': 1,\n\t'?:': 1,\n};\n\n/**\n * Characters which signal pair opening, to be terminated by terminators.\n *\n * @type {string[]}\n */\nOPENERS = [ '(', '?' ];\n\n/**\n * Characters which signal pair termination, the value an array with the\n * opener as its first member. The second member is an optional operator\n * replacement to push to the stack.\n *\n * @type {string[]}\n */\nTERMINATORS = {\n\t')': [ '(' ],\n\t':': [ '?', '?:' ],\n};\n\n/**\n * Pattern matching operators and openers.\n *\n * @type {RegExp}\n */\nPATTERN = /<=|>=|==|!=|&&|\\|\\||\\?:|\\(|!|\\*|\\/|%|\\+|-|<|>|\\?|\\)|:/;\n\n/**\n * Given a C expression, returns the equivalent postfix (Reverse Polish)\n * notation terms as an array.\n *\n * If a postfix string is desired, simply `.join( ' ' )` the result.\n *\n * @example\n *\n * ```js\n * import postfix from '@tannin/postfix';\n *\n * postfix( 'n > 1' );\n * // ⇒ [ 'n', '1', '>' ]\n * ```\n *\n * @param {string} expression C expression.\n *\n * @return {string[]} Postfix terms.\n */\nexport default function postfix( expression ) {\n\tvar terms = [],\n\t\tstack = [],\n\t\tmatch, operator, term, element;\n\n\twhile ( ( match = expression.match( PATTERN ) ) ) {\n\t\toperator = match[ 0 ];\n\n\t\t// Term is the string preceding the operator match. It may contain\n\t\t// whitespace, and may be empty (if operator is at beginning).\n\t\tterm = expression.substr( 0, match.index ).trim();\n\t\tif ( term ) {\n\t\t\tterms.push( term );\n\t\t}\n\n\t\twhile ( ( element = stack.pop() ) ) {\n\t\t\tif ( TERMINATORS[ operator ] ) {\n\t\t\t\tif ( TERMINATORS[ operator ][ 0 ] === element ) {\n\t\t\t\t\t// Substitution works here under assumption that because\n\t\t\t\t\t// the assigned operator will no longer be a terminator, it\n\t\t\t\t\t// will be pushed to the stack during the condition below.\n\t\t\t\t\toperator = TERMINATORS[ operator ][ 1 ] || operator;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if ( OPENERS.indexOf( element ) >= 0 || PRECEDENCE[ element ] < PRECEDENCE[ operator ] ) {\n\t\t\t\t// Push to stack if either an opener or when pop reveals an\n\t\t\t\t// element of lower precedence.\n\t\t\t\tstack.push( element );\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// For each popped from stack, push to terms.\n\t\t\tterms.push( element );\n\t\t}\n\n\t\tif ( ! TERMINATORS[ operator ] ) {\n\t\t\tstack.push( operator );\n\t\t}\n\n\t\t// Slice matched fragment from expression to continue match.\n\t\texpression = expression.substr( match.index + operator.length );\n\t}\n\n\t// Push remainder of operand, if exists, to terms.\n\texpression = expression.trim();\n\tif ( expression ) {\n\t\tterms.push( expression );\n\t}\n\n\t// Pop remaining items from stack into terms.\n\treturn terms.concat( stack.reverse() );\n}\n","/**\n * External dependencies\n */\nimport memoize from 'memize';\nimport sprintfjs from 'sprintf-js';\n\n/**\n * Log to console, once per message; or more precisely, per referentially equal\n * argument set. Because Jed throws errors, we log these to the console instead\n * to avoid crashing the application.\n *\n * @param {...*} args Arguments to pass to `console.error`\n */\nconst logErrorOnce = memoize( console.error ); // eslint-disable-line no-console\n\n/**\n * Returns a formatted string. If an error occurs in applying the format, the\n * original format string is returned.\n *\n * @param {string}    format The format of the string to generate.\n * @param {...string} args   Arguments to apply to the format.\n *\n * @see http://www.diveintojavascript.com/projects/javascript-sprintf\n *\n * @return {string} The formatted string.\n */\nexport function sprintf( format, ...args ) {\n\ttry {\n\t\treturn sprintfjs.sprintf( format, ...args );\n\t} catch ( error ) {\n\t\tlogErrorOnce( 'sprintf error: \\n\\n' + error.toString() );\n\n\t\treturn format;\n\t}\n}\n","/**\n * Operator callback functions.\n *\n * @type {Object}\n */\nvar OPERATORS = {\n\t'!': function( a ) {\n\t\treturn ! a;\n\t},\n\t'*': function( a, b ) {\n\t\treturn a * b;\n\t},\n\t'/': function( a, b ) {\n\t\treturn a / b;\n\t},\n\t'%': function( a, b ) {\n\t\treturn a % b;\n\t},\n\t'+': function( a, b ) {\n\t\treturn a + b;\n\t},\n\t'-': function( a, b ) {\n\t\treturn a - b;\n\t},\n\t'<': function( a, b ) {\n\t\treturn a < b;\n\t},\n\t'<=': function( a, b ) {\n\t\treturn a <= b;\n\t},\n\t'>': function( a, b ) {\n\t\treturn a > b;\n\t},\n\t'>=': function( a, b ) {\n\t\treturn a >= b;\n\t},\n\t'==': function( a, b ) {\n\t\treturn a === b;\n\t},\n\t'!=': function( a, b ) {\n\t\treturn a !== b;\n\t},\n\t'&&': function( a, b ) {\n\t\treturn a && b;\n\t},\n\t'||': function( a, b ) {\n\t\treturn a || b;\n\t},\n\t'?:': function( a, b, c ) {\n\t\tif ( a ) {\n\t\t\tthrow b;\n\t\t}\n\n\t\treturn c;\n\t},\n};\n\n/**\n * Given an array of postfix terms and operand variables, returns the result of\n * the postfix evaluation.\n *\n * @example\n *\n * ```js\n * import evaluate from '@tannin/evaluate';\n *\n * // 3 + 4 * 5 / 6 ⇒ '3 4 5 * 6 / +'\n * const terms = [ '3', '4', '5', '*', '6', '/', '+' ];\n *\n * evaluate( terms, {} );\n * // ⇒ 6.333333333333334\n * ```\n *\n * @param {string[]} postfix   Postfix terms.\n * @param {Object}   variables Operand variables.\n *\n * @return {*} Result of evaluation.\n */\nexport default function evaluate( postfix, variables ) {\n\tvar stack = [],\n\t\ti, j, args, getOperatorResult, term, value;\n\n\tfor ( i = 0; i < postfix.length; i++ ) {\n\t\tterm = postfix[ i ];\n\n\t\tgetOperatorResult = OPERATORS[ term ];\n\t\tif ( getOperatorResult ) {\n\t\t\t// Pop from stack by number of function arguments.\n\t\t\tj = getOperatorResult.length;\n\t\t\targs = Array( j );\n\t\t\twhile ( j-- ) {\n\t\t\t\targs[ j ] = stack.pop();\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tvalue = getOperatorResult.apply( null, args );\n\t\t\t} catch ( earlyReturn ) {\n\t\t\t\treturn earlyReturn;\n\t\t\t}\n\t\t} else if ( variables.hasOwnProperty( term ) ) {\n\t\t\tvalue = variables[ term ];\n\t\t} else {\n\t\t\tvalue = +term;\n\t\t}\n\n\t\tstack.push( value );\n\t}\n\n\treturn stack[ 0 ];\n}\n","import postfix from '@tannin/postfix';\nimport evaluate from '@tannin/evaluate';\n\n/**\n * Given a C expression, returns a function which can be called to evaluate its\n * result.\n *\n * @example\n *\n * ```js\n * import compile from '@tannin/compile';\n *\n * const evaluate = compile( 'n > 1' );\n *\n * evaluate( { n: 2 } );\n * // ⇒ true\n * ```\n *\n * @param {string} expression C expression.\n *\n * @return {(variables?:{[variable:string]:*})=>*} Compiled evaluator.\n */\nexport default function compile( expression ) {\n\tvar terms = postfix( expression );\n\n\treturn function( variables ) {\n\t\treturn evaluate( terms, variables );\n\t};\n}\n","import pluralForms from '@tannin/plural-forms';\n\n/**\n * Tannin constructor options.\n *\n * @typedef {Object} TanninOptions\n *\n * @property {string}   [contextDelimiter] Joiner in string lookup with context.\n * @property {Function} [onMissingKey]     Callback to invoke when key missing.\n */\n\n/**\n * Domain metadata.\n *\n * @typedef {Object} TanninDomainMetadata\n *\n * @property {string}            [domain]       Domain name.\n * @property {string}            [lang]         Language code.\n * @property {(string|Function)} [plural_forms] Plural forms expression or\n *                                              function evaluator.\n */\n\n/**\n * Domain translation pair respectively representing the singular and plural\n * translation.\n *\n * @typedef {[string,string]} TanninTranslation\n */\n\n/**\n * Locale data domain. The key is used as reference for lookup, the value an\n * array of two string entries respectively representing the singular and plural\n * translation.\n *\n * @typedef {{[key:string]:TanninDomainMetadata|TanninTranslation,'':TanninDomainMetadata|TanninTranslation}} TanninLocaleDomain\n */\n\n/**\n * Jed-formatted locale data.\n *\n * @see http://messageformat.github.io/Jed/\n *\n * @typedef {{[domain:string]:TanninLocaleDomain}} TanninLocaleData\n */\n\n/**\n * Default Tannin constructor options.\n *\n * @type {TanninOptions}\n */\nvar DEFAULT_OPTIONS = {\n\tcontextDelimiter: '\\u0004',\n\tonMissingKey: null,\n};\n\n/**\n * Given a specific locale data's config `plural_forms` value, returns the\n * expression.\n *\n * @example\n *\n * ```\n * getPluralExpression( 'nplurals=2; plural=(n != 1);' ) === '(n != 1)'\n * ```\n *\n * @param {string} pf Locale data plural forms.\n *\n * @return {string} Plural forms expression.\n */\nfunction getPluralExpression( pf ) {\n\tvar parts, i, part;\n\n\tparts = pf.split( ';' );\n\n\tfor ( i = 0; i < parts.length; i++ ) {\n\t\tpart = parts[ i ].trim();\n\t\tif ( part.indexOf( 'plural=' ) === 0 ) {\n\t\t\treturn part.substr( 7 );\n\t\t}\n\t}\n}\n\n/**\n * Tannin constructor.\n *\n * @class\n *\n * @param {TanninLocaleData} data      Jed-formatted locale data.\n * @param {TanninOptions}    [options] Tannin options.\n */\nexport default function Tannin( data, options ) {\n\tvar key;\n\n\t/**\n\t * Jed-formatted locale data.\n\t *\n\t * @name Tannin#data\n\t * @type {TanninLocaleData}\n\t */\n\tthis.data = data;\n\n\t/**\n\t * Plural forms function cache, keyed by plural forms string.\n\t *\n\t * @name Tannin#pluralForms\n\t * @type {Object<string,Function>}\n\t */\n\tthis.pluralForms = {};\n\n\t/**\n\t * Effective options for instance, including defaults.\n\t *\n\t * @name Tannin#options\n\t * @type {TanninOptions}\n\t */\n\tthis.options = {};\n\n\tfor ( key in DEFAULT_OPTIONS ) {\n\t\tthis.options[ key ] = options !== undefined && key in options\n\t\t\t? options[ key ]\n\t\t\t: DEFAULT_OPTIONS[ key ];\n\t}\n}\n\n/**\n * Returns the plural form index for the given domain and value.\n *\n * @param {string} domain Domain on which to calculate plural form.\n * @param {number} n      Value for which plural form is to be calculated.\n *\n * @return {number} Plural form index.\n */\nTannin.prototype.getPluralForm = function( domain, n ) {\n\tvar getPluralForm = this.pluralForms[ domain ],\n\t\tconfig, plural, pf;\n\n\tif ( ! getPluralForm ) {\n\t\tconfig = this.data[ domain ][ '' ];\n\n\t\tpf = (\n\t\t\tconfig[ 'Plural-Forms' ] ||\n\t\t\tconfig[ 'plural-forms' ] ||\n\t\t\t// Ignore reason: As known, there's no way to document the empty\n\t\t\t// string property on a key to guarantee this as metadata.\n\t\t\t// @ts-ignore\n\t\t\tconfig.plural_forms\n\t\t);\n\n\t\tif ( typeof pf !== 'function' ) {\n\t\t\tplural = getPluralExpression(\n\t\t\t\tconfig[ 'Plural-Forms' ] ||\n\t\t\t\tconfig[ 'plural-forms' ] ||\n\t\t\t\t// Ignore reason: As known, there's no way to document the empty\n\t\t\t\t// string property on a key to guarantee this as metadata.\n\t\t\t\t// @ts-ignore\n\t\t\t\tconfig.plural_forms\n\t\t\t);\n\n\t\t\tpf = pluralForms( plural );\n\t\t}\n\n\t\tgetPluralForm = this.pluralForms[ domain ] = pf;\n\t}\n\n\treturn getPluralForm( n );\n};\n\n/**\n * Translate a string.\n *\n * @param {string}      domain   Translation domain.\n * @param {string|void} context  Context distinguishing terms of the same name.\n * @param {string}      singular Primary key for translation lookup.\n * @param {string=}     plural   Fallback value used for non-zero plural\n *                               form index.\n * @param {number=}     n        Value to use in calculating plural form.\n *\n * @return {string} Translated string.\n */\nTannin.prototype.dcnpgettext = function( domain, context, singular, plural, n ) {\n\tvar index, key, entry;\n\n\tif ( n === undefined ) {\n\t\t// Default to singular.\n\t\tindex = 0;\n\t} else {\n\t\t// Find index by evaluating plural form for value.\n\t\tindex = this.getPluralForm( domain, n );\n\t}\n\n\tkey = singular;\n\n\t// If provided, context is prepended to key with delimiter.\n\tif ( context ) {\n\t\tkey = context + this.options.contextDelimiter + singular;\n\t}\n\n\tentry = this.data[ domain ][ key ];\n\n\t// Verify not only that entry exists, but that the intended index is within\n\t// range and non-empty.\n\tif ( entry && entry[ index ] ) {\n\t\treturn entry[ index ];\n\t}\n\n\tif ( this.options.onMissingKey ) {\n\t\tthis.options.onMissingKey( singular, domain );\n\t}\n\n\t// If entry not found, fall back to singular vs. plural with zero index\n\t// representing the singular value.\n\treturn index === 0 ? singular : plural;\n};\n","import compile from '@tannin/compile';\n\n/**\n * Given a C expression, returns a function which, when called with a value,\n * evaluates the result with the value assumed to be the \"n\" variable of the\n * expression. The result will be coerced to its numeric equivalent.\n *\n * @param {string} expression C expression.\n *\n * @return {Function} Evaluator function.\n */\nexport default function pluralForms( expression ) {\n\tvar evaluate = compile( expression );\n\n\treturn function( n ) {\n\t\treturn +evaluate( { n: n } );\n\t};\n}\n","/**\n * External dependencies\n */\nimport Tannin from 'tannin';\n\n/**\n * @typedef {Record<string,any>} LocaleData\n */\n\n/**\n * Default locale data to use for Tannin domain when not otherwise provided.\n * Assumes an English plural forms expression.\n *\n * @type {LocaleData}\n */\nconst DEFAULT_LOCALE_DATA = {\n\t'': {\n\t\t/** @param {number} n */\n\t\tplural_forms( n ) {\n\t\t\treturn n === 1 ? 0 : 1;\n\t\t},\n\t},\n};\n\n/**\n * An i18n instance\n *\n * @typedef {Object} I18n\n * @property {Function} setLocaleData Merges locale data into the Tannin instance by domain. Accepts data in a\n *                                    Jed-formatted JSON object shape.\n * @property {Function} __            Retrieve the translation of text.\n * @property {Function} _x            Retrieve translated string with gettext context.\n * @property {Function} _n            Translates and retrieves the singular or plural form based on the supplied\n *                                    number.\n * @property {Function} _nx           Translates and retrieves the singular or plural form based on the supplied\n *                                    number, with gettext context.\n * @property {Function} isRTL         Check if current locale is RTL.\n */\n\n/**\n * Create an i18n instance\n *\n * @param {LocaleData} [initialData]    Locale data configuration.\n * @param {string}     [initialDomain]  Domain for which configuration applies.\n * @return {I18n}                       I18n instance\n */\nexport const createI18n = ( initialData, initialDomain ) => {\n\t/**\n\t * The underlying instance of Tannin to which exported functions interface.\n\t *\n\t * @type {Tannin}\n\t */\n\tconst tannin = new Tannin( {} );\n\n\t/**\n\t * Merges locale data into the Tannin instance by domain. Accepts data in a\n\t * Jed-formatted JSON object shape.\n\t *\n\t * @see http://messageformat.github.io/Jed/\n\t *\n\t * @param {LocaleData} [data]   Locale data configuration.\n\t * @param {string}     [domain] Domain for which configuration applies.\n\t */\n\tconst setLocaleData = ( data, domain = 'default' ) => {\n\t\ttannin.data[ domain ] = {\n\t\t\t...DEFAULT_LOCALE_DATA,\n\t\t\t...tannin.data[ domain ],\n\t\t\t...data,\n\t\t};\n\n\t\t// Populate default domain configuration (supported locale date which omits\n\t\t// a plural forms expression).\n\t\ttannin.data[ domain ][ '' ] = {\n\t\t\t...DEFAULT_LOCALE_DATA[ '' ],\n\t\t\t...tannin.data[ domain ][ '' ],\n\t\t};\n\t};\n\n\t/**\n\t * Wrapper for Tannin's `dcnpgettext`. Populates default locale data if not\n\t * otherwise previously assigned.\n\t *\n\t * @param {string|undefined} domain   Domain to retrieve the translated text.\n\t * @param {string|undefined} context  Context information for the translators.\n\t * @param {string}           single   Text to translate if non-plural. Used as\n\t *                                    fallback return value on a caught error.\n\t * @param {string}           [plural] The text to be used if the number is\n\t *                                    plural.\n\t * @param {number}           [number] The number to compare against to use\n\t *                                    either the singular or plural form.\n\t *\n\t * @return {string} The translated string.\n\t */\n\tconst dcnpgettext = (\n\t\tdomain = 'default',\n\t\tcontext,\n\t\tsingle,\n\t\tplural,\n\t\tnumber\n\t) => {\n\t\tif ( ! tannin.data[ domain ] ) {\n\t\t\tsetLocaleData( undefined, domain );\n\t\t}\n\n\t\treturn tannin.dcnpgettext( domain, context, single, plural, number );\n\t};\n\n\t/**\n\t * Retrieve the translation of text.\n\t *\n\t * @see https://developer.wordpress.org/reference/functions/__/\n\t *\n\t * @param {string} text     Text to translate.\n\t * @param {string} [domain] Domain to retrieve the translated text.\n\t *\n\t * @return {string} Translated text.\n\t */\n\tconst __ = ( text, domain ) => {\n\t\treturn dcnpgettext( domain, undefined, text );\n\t};\n\n\t/**\n\t * Retrieve translated string with gettext context.\n\t *\n\t * @see https://developer.wordpress.org/reference/functions/_x/\n\t *\n\t * @param {string} text     Text to translate.\n\t * @param {string} context  Context information for the translators.\n\t * @param {string} [domain] Domain to retrieve the translated text.\n\t *\n\t * @return {string} Translated context string without pipe.\n\t */\n\tconst _x = ( text, context, domain ) => {\n\t\treturn dcnpgettext( domain, context, text );\n\t};\n\n\t/**\n\t * Translates and retrieves the singular or plural form based on the supplied\n\t * number.\n\t *\n\t * @see https://developer.wordpress.org/reference/functions/_n/\n\t *\n\t * @param {string} single   The text to be used if the number is singular.\n\t * @param {string} plural   The text to be used if the number is plural.\n\t * @param {number} number   The number to compare against to use either the\n\t *                          singular or plural form.\n\t * @param {string} [domain] Domain to retrieve the translated text.\n\t *\n\t * @return {string} The translated singular or plural form.\n\t */\n\tconst _n = ( single, plural, number, domain ) => {\n\t\treturn dcnpgettext( domain, undefined, single, plural, number );\n\t};\n\n\t/**\n\t * Translates and retrieves the singular or plural form based on the supplied\n\t * number, with gettext context.\n\t *\n\t * @see https://developer.wordpress.org/reference/functions/_nx/\n\t *\n\t * @param {string} single   The text to be used if the number is singular.\n\t * @param {string} plural   The text to be used if the number is plural.\n\t * @param {number} number   The number to compare against to use either the\n\t *                          singular or plural form.\n\t * @param {string} context  Context information for the translators.\n\t * @param {string} [domain] Domain to retrieve the translated text.\n\t *\n\t * @return {string} The translated singular or plural form.\n\t */\n\tconst _nx = ( single, plural, number, context, domain ) => {\n\t\treturn dcnpgettext( domain, context, single, plural, number );\n\t};\n\n\t/**\n\t * Check if current locale is RTL.\n\t *\n\t * **RTL (Right To Left)** is a locale property indicating that text is written from right to left.\n\t * For example, the `he` locale (for Hebrew) specifies right-to-left. Arabic (ar) is another common\n\t * language written RTL. The opposite of RTL, LTR (Left To Right) is used in other languages,\n\t * including English (`en`, `en-US`, `en-GB`, etc.), Spanish (`es`), and French (`fr`).\n\t *\n\t * @return {boolean} Whether locale is RTL.\n\t */\n\tconst isRTL = () => {\n\t\treturn 'rtl' === _x( 'ltr', 'text direction' );\n\t};\n\n\tif ( initialData ) {\n\t\tsetLocaleData( initialData, initialDomain );\n\t}\n\n\treturn {\n\t\tsetLocaleData,\n\t\t__,\n\t\t_x,\n\t\t_n,\n\t\t_nx,\n\t\tisRTL,\n\t};\n};\n","/**\n * Internal dependencies\n */\nimport { createI18n } from './create-i18n';\n\nconst i18n = createI18n();\n\n/*\n * Comments in this file are duplicated from ./i18n due to\n * https://github.com/WordPress/gutenberg/pull/20318#issuecomment-590837722\n */\n\n/**\n * @typedef {import('./create-i18n').LocaleData} LocaleData\n */\n\n/**\n * Merges locale data into the Tannin instance by domain. Accepts data in a\n * Jed-formatted JSON object shape.\n *\n * @see http://messageformat.github.io/Jed/\n *\n * @param {LocaleData} [data]   Locale data configuration.\n * @param {string}     [domain] Domain for which configuration applies.\n */\nexport const setLocaleData = i18n.setLocaleData.bind( i18n );\n\n/**\n * Retrieve the translation of text.\n *\n * @see https://developer.wordpress.org/reference/functions/__/\n *\n * @param {string} text     Text to translate.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} Translated text.\n */\nexport const __ = i18n.__.bind( i18n );\n\n/**\n * Retrieve translated string with gettext context.\n *\n * @see https://developer.wordpress.org/reference/functions/_x/\n *\n * @param {string} text     Text to translate.\n * @param {string} context  Context information for the translators.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} Translated context string without pipe.\n */\nexport const _x = i18n._x.bind( i18n );\n\n/**\n * Translates and retrieves the singular or plural form based on the supplied\n * number.\n *\n * @see https://developer.wordpress.org/reference/functions/_n/\n *\n * @param {string} single   The text to be used if the number is singular.\n * @param {string} plural   The text to be used if the number is plural.\n * @param {number} number   The number to compare against to use either the\n *                          singular or plural form.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} The translated singular or plural form.\n */\nexport const _n = i18n._n.bind( i18n );\n\n/**\n * Translates and retrieves the singular or plural form based on the supplied\n * number, with gettext context.\n *\n * @see https://developer.wordpress.org/reference/functions/_nx/\n *\n * @param {string} single   The text to be used if the number is singular.\n * @param {string} plural   The text to be used if the number is plural.\n * @param {number} number   The number to compare against to use either the\n *                          singular or plural form.\n * @param {string} context  Context information for the translators.\n * @param {string} [domain] Domain to retrieve the translated text.\n *\n * @return {string} The translated singular or plural form.\n */\nexport const _nx = i18n._nx.bind( i18n );\n\n/**\n * Check if current locale is RTL.\n *\n * **RTL (Right To Left)** is a locale property indicating that text is written from right to left.\n * For example, the `he` locale (for Hebrew) specifies right-to-left. Arabic (ar) is another common\n * language written RTL. The opposite of RTL, LTR (Left To Right) is used in other languages,\n * including English (`en`, `en-US`, `en-GB`, etc.), Spanish (`es`), and French (`fr`).\n *\n * @return {boolean} Whether locale is RTL.\n */\nexport const isRTL = i18n.isRTL.bind( i18n );\n","/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * Return true if platform is MacOS.\n *\n * @param {Object} _window   window object by default; used for DI testing.\n *\n * @return {boolean}         True if MacOS; false otherwise.\n */\nexport function isAppleOS( _window = window ) {\n\tconst { platform } = _window.navigator;\n\n\treturn (\n\t\tplatform.indexOf( 'Mac' ) !== -1 ||\n\t\tincludes( [ 'iPad', 'iPhone' ], platform )\n\t);\n}\n","/**\n * Note: The order of the modifier keys in many of the [foo]Shortcut()\n * functions in this file are intentional and should not be changed. They're\n * designed to fit with the standard menu keyboard shortcuts shown in the\n * user's platform.\n *\n * For example, on MacOS menu shortcuts will place Shift before Command, but\n * on Windows Control will usually come first. So don't provide your own\n * shortcut combos directly to keyboardShortcut().\n */\n\n/**\n * External dependencies\n */\nimport { get, mapValues, includes, capitalize } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { isAppleOS } from './platform';\n\n/**\n * @typedef {'primary'|'primaryShift'|'primaryAlt'|'secondary'|'access'|'ctrl'|'alt'|'ctrlShift'|'shift'|'shiftAlt'} WPKeycodeModifier\n */\n\n/**\n * An object of handler functions for each of the possible modifier\n * combinations. A handler will return a value for a given key.\n *\n * @typedef {Record<WPKeycodeModifier, (key:string)=>any>} WPKeycodeHandlerByModifier\n */\n\n/**\n * Keycode for BACKSPACE key.\n */\nexport const BACKSPACE = 8;\n/**\n * Keycode for TAB key.\n */\nexport const TAB = 9;\n/**\n * Keycode for ENTER key.\n */\nexport const ENTER = 13;\n/**\n * Keycode for ESCAPE key.\n */\nexport const ESCAPE = 27;\n/**\n * Keycode for SPACE key.\n */\nexport const SPACE = 32;\n/**\n * Keycode for LEFT key.\n */\nexport const LEFT = 37;\n/**\n * Keycode for UP key.\n */\nexport const UP = 38;\n/**\n * Keycode for RIGHT key.\n */\nexport const RIGHT = 39;\n/**\n * Keycode for DOWN key.\n */\nexport const DOWN = 40;\n/**\n * Keycode for DELETE key.\n */\nexport const DELETE = 46;\n/**\n * Keycode for F10 key.\n */\nexport const F10 = 121;\n/**\n * Keycode for ALT key.\n */\nexport const ALT = 'alt';\n/**\n * Keycode for CTRL key.\n */\nexport const CTRL = 'ctrl';\n/**\n * Keycode for COMMAND/META key.\n */\nexport const COMMAND = 'meta';\n/**\n * Keycode for SHIFT key.\n */\nexport const SHIFT = 'shift';\n/**\n * Keycode for ZERO key.\n */\nexport const ZERO = 48;\n\n/**\n * Object that contains functions that return the available modifier\n * depending on platform.\n *\n * - `primary`: takes a isApple function as a parameter.\n * - `primaryShift`: takes a isApple function as a parameter.\n * - `primaryAlt`: takes a isApple function as a parameter.\n * - `secondary`: takes a isApple function as a parameter.\n * - `access`: takes a isApple function as a parameter.\n * - `ctrl`\n * - `alt`\n * - `ctrlShift`\n * - `shift`\n * - `shiftAlt`\n */\nexport const modifiers = {\n\tprimary: ( _isApple ) => ( _isApple() ? [ COMMAND ] : [ CTRL ] ),\n\tprimaryShift: ( _isApple ) =>\n\t\t_isApple() ? [ SHIFT, COMMAND ] : [ CTRL, SHIFT ],\n\tprimaryAlt: ( _isApple ) =>\n\t\t_isApple() ? [ ALT, COMMAND ] : [ CTRL, ALT ],\n\tsecondary: ( _isApple ) =>\n\t\t_isApple() ? [ SHIFT, ALT, COMMAND ] : [ CTRL, SHIFT, ALT ],\n\taccess: ( _isApple ) => ( _isApple() ? [ CTRL, ALT ] : [ SHIFT, ALT ] ),\n\tctrl: () => [ CTRL ],\n\talt: () => [ ALT ],\n\tctrlShift: () => [ CTRL, SHIFT ],\n\tshift: () => [ SHIFT ],\n\tshiftAlt: () => [ SHIFT, ALT ],\n};\n\n/**\n * An object that contains functions to get raw shortcuts.\n * E.g. rawShortcut.primary( 'm' ) will return 'meta+m' on Mac.\n * These are intended for user with the KeyboardShortcuts component or TinyMCE.\n *\n * @type {WPKeycodeHandlerByModifier} Keyed map of functions to raw shortcuts.\n */\nexport const rawShortcut = mapValues( modifiers, ( modifier ) => {\n\treturn ( character, _isApple = isAppleOS ) => {\n\t\treturn [ ...modifier( _isApple ), character.toLowerCase() ].join( '+' );\n\t};\n} );\n\n/**\n * Return an array of the parts of a keyboard shortcut chord for display\n * E.g displayShortcutList.primary( 'm' ) will return [ '⌘', 'M' ] on Mac.\n *\n * @type {WPKeycodeHandlerByModifier} Keyed map of functions to shortcut\n *                                    sequences.\n */\nexport const displayShortcutList = mapValues( modifiers, ( modifier ) => {\n\treturn ( character, _isApple = isAppleOS ) => {\n\t\tconst isApple = _isApple();\n\t\tconst replacementKeyMap = {\n\t\t\t[ ALT ]: isApple ? '⌥' : 'Alt',\n\t\t\t[ CTRL ]: isApple ? '^' : 'Ctrl',\n\t\t\t[ COMMAND ]: '⌘',\n\t\t\t[ SHIFT ]: isApple ? '⇧' : 'Shift',\n\t\t};\n\n\t\tconst modifierKeys = modifier( _isApple ).reduce(\n\t\t\t( accumulator, key ) => {\n\t\t\t\tconst replacementKey = get( replacementKeyMap, key, key );\n\t\t\t\t// If on the Mac, adhere to platform convention and don't show plus between keys.\n\t\t\t\tif ( isApple ) {\n\t\t\t\t\treturn [ ...accumulator, replacementKey ];\n\t\t\t\t}\n\n\t\t\t\treturn [ ...accumulator, replacementKey, '+' ];\n\t\t\t},\n\t\t\t[]\n\t\t);\n\n\t\tconst capitalizedCharacter = capitalize( character );\n\t\treturn [ ...modifierKeys, capitalizedCharacter ];\n\t};\n} );\n\n/**\n * An object that contains functions to display shortcuts.\n * E.g. displayShortcut.primary( 'm' ) will return '⌘M' on Mac.\n *\n * @type {WPKeycodeHandlerByModifier} Keyed map of functions to display\n *                                    shortcuts.\n */\nexport const displayShortcut = mapValues(\n\tdisplayShortcutList,\n\t( shortcutList ) => {\n\t\treturn ( character, _isApple = isAppleOS ) =>\n\t\t\tshortcutList( character, _isApple ).join( '' );\n\t}\n);\n\n/**\n * An object that contains functions to return an aria label for a keyboard shortcut.\n * E.g. shortcutAriaLabel.primary( '.' ) will return 'Command + Period' on Mac.\n *\n * @type {WPKeycodeHandlerByModifier} Keyed map of functions to shortcut ARIA\n *                                    labels.\n */\nexport const shortcutAriaLabel = mapValues( modifiers, ( modifier ) => {\n\treturn ( character, _isApple = isAppleOS ) => {\n\t\tconst isApple = _isApple();\n\t\tconst replacementKeyMap = {\n\t\t\t[ SHIFT ]: 'Shift',\n\t\t\t[ COMMAND ]: isApple ? 'Command' : 'Control',\n\t\t\t[ CTRL ]: 'Control',\n\t\t\t[ ALT ]: isApple ? 'Option' : 'Alt',\n\t\t\t/* translators: comma as in the character ',' */\n\t\t\t',': __( 'Comma' ),\n\t\t\t/* translators: period as in the character '.' */\n\t\t\t'.': __( 'Period' ),\n\t\t\t/* translators: backtick as in the character '`' */\n\t\t\t'`': __( 'Backtick' ),\n\t\t};\n\n\t\treturn [ ...modifier( _isApple ), character ]\n\t\t\t.map( ( key ) => capitalize( get( replacementKeyMap, key, key ) ) )\n\t\t\t.join( isApple ? ' ' : ' + ' );\n\t};\n} );\n\n/**\n * An object that contains functions to check if a keyboard event matches a\n * predefined shortcut combination.\n * E.g. isKeyboardEvent.primary( event, 'm' ) will return true if the event\n * signals pressing ⌘M.\n *\n * @type {WPKeycodeHandlerByModifier} Keyed map of functions to match events.\n */\nexport const isKeyboardEvent = mapValues( modifiers, ( getModifiers ) => {\n\treturn ( event, character, _isApple = isAppleOS ) => {\n\t\tconst mods = getModifiers( _isApple );\n\n\t\tif ( ! mods.every( ( key ) => event[ `${ key }Key` ] ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( ! character ) {\n\t\t\treturn includes( mods, event.key.toLowerCase() );\n\t\t}\n\n\t\treturn event.key === character;\n\t};\n} );\n","/**\n * WordPress dependencies\n */\nimport { useState, useEffect } from '@wordpress/element';\n\n/**\n * Runs a media query and returns its value when it changes.\n *\n * @param {string} [query] Media Query.\n * @return {boolean} return value of the media query.\n */\nexport default function useMediaQuery( query ) {\n\tconst [ match, setMatch ] = useState( false );\n\tuseEffect( () => {\n\t\tif ( ! query ) {\n\t\t\treturn;\n\t\t}\n\t\tconst updateMatch = () =>\n\t\t\tsetMatch( window.matchMedia( query ).matches );\n\t\tupdateMatch();\n\t\tconst list = window.matchMedia( query );\n\t\tlist.addListener( updateMatch );\n\t\treturn () => {\n\t\t\tlist.removeListener( updateMatch );\n\t\t};\n\t}, [ query ] );\n\n\treturn query && match;\n}\n","/**\n * WordPress dependencies\n */\nimport { createContext, useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useMediaQuery from '../use-media-query';\n\n/**\n * @typedef {\"huge\"|\"wide\"|\"large\"|\"medium\"|\"small\"|\"mobile\"} WPBreakpoint\n */\n\n/**\n * Hash of breakpoint names with pixel width at which it becomes effective.\n *\n * @see _breakpoints.scss\n *\n * @type {Object<WPBreakpoint,number>}\n */\nconst BREAKPOINTS = {\n\thuge: 1440,\n\twide: 1280,\n\tlarge: 960,\n\tmedium: 782,\n\tsmall: 600,\n\tmobile: 480,\n};\n\n/**\n * @typedef {\">=\"|\"<\"} WPViewportOperator\n */\n\n/**\n * Object mapping media query operators to the condition to be used.\n *\n * @type {Object<WPViewportOperator,string>}\n */\nconst CONDITIONS = {\n\t'>=': 'min-width',\n\t'<': 'max-width',\n};\n\n/**\n * Object mapping media query operators to a function that given a breakpointValue and a width evaluates if the operator matches the values.\n *\n * @type {Object<WPViewportOperator,Function>}\n */\nconst OPERATOR_EVALUATORS = {\n\t'>=': ( breakpointValue, width ) => width >= breakpointValue,\n\t'<': ( breakpointValue, width ) => width < breakpointValue,\n};\n\nconst ViewportMatchWidthContext = createContext( null );\n\n/**\n * Returns true if the viewport matches the given query, or false otherwise.\n *\n * @param {WPBreakpoint}       breakpoint      Breakpoint size name.\n * @param {WPViewportOperator} [operator=\">=\"] Viewport operator.\n *\n * @example\n *\n * ```js\n * useViewportMatch( 'huge', '<' );\n * useViewportMatch( 'medium' );\n * ```\n *\n * @return {boolean} Whether viewport matches query.\n */\nconst useViewportMatch = ( breakpoint, operator = '>=' ) => {\n\tconst simulatedWidth = useContext( ViewportMatchWidthContext );\n\tconst mediaQuery =\n\t\t! simulatedWidth &&\n\t\t`(${ CONDITIONS[ operator ] }: ${ BREAKPOINTS[ breakpoint ] }px)`;\n\tconst mediaQueryResult = useMediaQuery( mediaQuery );\n\tif ( simulatedWidth ) {\n\t\treturn OPERATOR_EVALUATORS[ operator ](\n\t\t\tBREAKPOINTS[ breakpoint ],\n\t\t\tsimulatedWidth\n\t\t);\n\t}\n\treturn mediaQueryResult;\n};\n\nuseViewportMatch.__experimentalWidthProvider =\n\tViewportMatchWidthContext.Provider;\n\nexport default useViewportMatch;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst close = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z\" />\n\t</SVG>\n);\n\nexport default close;\n","/**\n * WordPress dependencies\n */\nimport { getScrollContainer } from '@wordpress/dom';\n\n/**\n * Module constants\n */\nconst HEIGHT_OFFSET = 10; // used by the arrow and a bit of empty space\n\n/**\n * Utility used to compute the popover position over the xAxis\n *\n * @param {Object}  anchorRect      Anchor Rect.\n * @param {Object}  contentSize     Content Size.\n * @param {string}  xAxis           Desired xAxis.\n * @param {string}  corner          Desired corner.\n * @param {boolean} sticky          Whether or not to stick the popover to the\n *                                  scroll container edge when part of the anchor\n *                                  leaves view.\n * @param {string}  chosenYAxis     yAxis to be used.\n * @param {Element} boundaryElement Boundary element.\n *\n * @return {Object} Popover xAxis position and constraints.\n */\nexport function computePopoverXAxisPosition(\n\tanchorRect,\n\tcontentSize,\n\txAxis,\n\tcorner,\n\tsticky,\n\tchosenYAxis,\n\tboundaryElement\n) {\n\tconst { width } = contentSize;\n\tconst isRTL = document.documentElement.dir === 'rtl';\n\n\t// Correct xAxis for RTL support\n\tif ( xAxis === 'left' && isRTL ) {\n\t\txAxis = 'right';\n\t} else if ( xAxis === 'right' && isRTL ) {\n\t\txAxis = 'left';\n\t}\n\n\tif ( corner === 'left' && isRTL ) {\n\t\tcorner = 'right';\n\t} else if ( corner === 'right' && isRTL ) {\n\t\tcorner = 'left';\n\t}\n\n\t// x axis alignment choices\n\tconst anchorMidPoint = Math.round( anchorRect.left + anchorRect.width / 2 );\n\tconst centerAlignment = {\n\t\tpopoverLeft: anchorMidPoint,\n\t\tcontentWidth:\n\t\t\t( anchorMidPoint - width / 2 > 0 ? width / 2 : anchorMidPoint ) +\n\t\t\t( anchorMidPoint + width / 2 > window.innerWidth\n\t\t\t\t? window.innerWidth - anchorMidPoint\n\t\t\t\t: width / 2 ),\n\t};\n\n\tlet leftAlignmentX = anchorRect.left;\n\n\tif ( corner === 'right' ) {\n\t\tleftAlignmentX = anchorRect.right;\n\t} else if ( chosenYAxis !== 'middle' ) {\n\t\tleftAlignmentX = anchorMidPoint;\n\t}\n\n\tlet rightAlignmentX = anchorRect.right;\n\n\tif ( corner === 'left' ) {\n\t\trightAlignmentX = anchorRect.left;\n\t} else if ( chosenYAxis !== 'middle' ) {\n\t\trightAlignmentX = anchorMidPoint;\n\t}\n\n\tconst leftAlignment = {\n\t\tpopoverLeft: leftAlignmentX,\n\t\tcontentWidth: leftAlignmentX - width > 0 ? width : leftAlignmentX,\n\t};\n\tconst rightAlignment = {\n\t\tpopoverLeft: rightAlignmentX,\n\t\tcontentWidth:\n\t\t\trightAlignmentX + width > window.innerWidth\n\t\t\t\t? window.innerWidth - rightAlignmentX\n\t\t\t\t: width,\n\t};\n\n\t// Choosing the x axis\n\tlet chosenXAxis = xAxis;\n\tlet contentWidth = null;\n\n\tif ( ! sticky ) {\n\t\tif ( xAxis === 'center' && centerAlignment.contentWidth === width ) {\n\t\t\tchosenXAxis = 'center';\n\t\t} else if ( xAxis === 'left' && leftAlignment.contentWidth === width ) {\n\t\t\tchosenXAxis = 'left';\n\t\t} else if (\n\t\t\txAxis === 'right' &&\n\t\t\trightAlignment.contentWidth === width\n\t\t) {\n\t\t\tchosenXAxis = 'right';\n\t\t} else {\n\t\t\tchosenXAxis =\n\t\t\t\tleftAlignment.contentWidth > rightAlignment.contentWidth\n\t\t\t\t\t? 'left'\n\t\t\t\t\t: 'right';\n\t\t\tconst chosenWidth =\n\t\t\t\tchosenXAxis === 'left'\n\t\t\t\t\t? leftAlignment.contentWidth\n\t\t\t\t\t: rightAlignment.contentWidth;\n\t\t\tcontentWidth = chosenWidth !== width ? chosenWidth : null;\n\t\t}\n\t}\n\n\tlet popoverLeft;\n\tif ( chosenXAxis === 'center' ) {\n\t\tpopoverLeft = centerAlignment.popoverLeft;\n\t} else if ( chosenXAxis === 'left' ) {\n\t\tpopoverLeft = leftAlignment.popoverLeft;\n\t} else {\n\t\tpopoverLeft = rightAlignment.popoverLeft;\n\t}\n\n\tif ( boundaryElement ) {\n\t\tconst boundaryRect = boundaryElement.getBoundingClientRect();\n\t\tpopoverLeft = Math.min( popoverLeft, boundaryRect.right - width );\n\t}\n\n\treturn {\n\t\txAxis: chosenXAxis,\n\t\tpopoverLeft,\n\t\tcontentWidth,\n\t};\n}\n\n/**\n * Utility used to compute the popover position over the yAxis\n *\n * @param {Object}  anchorRect        Anchor Rect.\n * @param {Object}  contentSize       Content Size.\n * @param {string}  yAxis             Desired yAxis.\n * @param {string}  corner            Desired corner.\n * @param {boolean} sticky            Whether or not to stick the popover to the\n *                                    scroll container edge when part of the\n *                                    anchor leaves view.\n * @param {Element} anchorRef         The anchor element.\n * @param {Element} relativeOffsetTop If applicable, top offset of the relative\n *                                    positioned parent container.\n *\n * @return {Object} Popover xAxis position and constraints.\n */\nexport function computePopoverYAxisPosition(\n\tanchorRect,\n\tcontentSize,\n\tyAxis,\n\tcorner,\n\tsticky,\n\tanchorRef,\n\trelativeOffsetTop\n) {\n\tconst { height } = contentSize;\n\n\tif ( sticky ) {\n\t\tconst scrollContainerEl =\n\t\t\tgetScrollContainer( anchorRef ) || document.body;\n\t\tconst scrollRect = scrollContainerEl.getBoundingClientRect();\n\n\t\tif ( anchorRect.top - height <= scrollRect.top ) {\n\t\t\treturn {\n\t\t\t\tyAxis,\n\t\t\t\tpopoverTop: Math.min(\n\t\t\t\t\tanchorRect.bottom - relativeOffsetTop,\n\t\t\t\t\tscrollRect.top + height - relativeOffsetTop\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\t}\n\n\t// y axis alignment choices\n\tlet anchorMidPoint = anchorRect.top + anchorRect.height / 2;\n\n\tif ( corner === 'bottom' ) {\n\t\tanchorMidPoint = anchorRect.bottom;\n\t} else if ( corner === 'top' ) {\n\t\tanchorMidPoint = anchorRect.top;\n\t}\n\n\tconst middleAlignment = {\n\t\tpopoverTop: anchorMidPoint,\n\t\tcontentHeight:\n\t\t\t( anchorMidPoint - height / 2 > 0 ? height / 2 : anchorMidPoint ) +\n\t\t\t( anchorMidPoint + height / 2 > window.innerHeight\n\t\t\t\t? window.innerHeight - anchorMidPoint\n\t\t\t\t: height / 2 ),\n\t};\n\n\tconst topAlignment = {\n\t\tpopoverTop: anchorRect.top,\n\t\tcontentHeight:\n\t\t\tanchorRect.top - HEIGHT_OFFSET - height > 0\n\t\t\t\t? height\n\t\t\t\t: anchorRect.top - HEIGHT_OFFSET,\n\t};\n\tconst bottomAlignment = {\n\t\tpopoverTop: anchorRect.bottom,\n\t\tcontentHeight:\n\t\t\tanchorRect.bottom + HEIGHT_OFFSET + height > window.innerHeight\n\t\t\t\t? window.innerHeight - HEIGHT_OFFSET - anchorRect.bottom\n\t\t\t\t: height,\n\t};\n\n\t// Choosing the y axis\n\tlet chosenYAxis = yAxis;\n\tlet contentHeight = null;\n\n\tif ( ! sticky ) {\n\t\tif ( yAxis === 'middle' && middleAlignment.contentHeight === height ) {\n\t\t\tchosenYAxis = 'middle';\n\t\t} else if ( yAxis === 'top' && topAlignment.contentHeight === height ) {\n\t\t\tchosenYAxis = 'top';\n\t\t} else if (\n\t\t\tyAxis === 'bottom' &&\n\t\t\tbottomAlignment.contentHeight === height\n\t\t) {\n\t\t\tchosenYAxis = 'bottom';\n\t\t} else {\n\t\t\tchosenYAxis =\n\t\t\t\ttopAlignment.contentHeight > bottomAlignment.contentHeight\n\t\t\t\t\t? 'top'\n\t\t\t\t\t: 'bottom';\n\t\t\tconst chosenHeight =\n\t\t\t\tchosenYAxis === 'top'\n\t\t\t\t\t? topAlignment.contentHeight\n\t\t\t\t\t: bottomAlignment.contentHeight;\n\t\t\tcontentHeight = chosenHeight !== height ? chosenHeight : null;\n\t\t}\n\t}\n\n\tlet popoverTop;\n\tif ( chosenYAxis === 'middle' ) {\n\t\tpopoverTop = middleAlignment.popoverTop;\n\t} else if ( chosenYAxis === 'top' ) {\n\t\tpopoverTop = topAlignment.popoverTop;\n\t} else {\n\t\tpopoverTop = bottomAlignment.popoverTop;\n\t}\n\n\treturn {\n\t\tyAxis: chosenYAxis,\n\t\tpopoverTop,\n\t\tcontentHeight,\n\t};\n}\n\n/**\n * Utility used to compute the popover position and the content max width/height\n * for a popover given its anchor rect and its content size.\n *\n * @param {Object}  anchorRect        Anchor Rect.\n * @param {Object}  contentSize       Content Size.\n * @param {string}  position          Position.\n * @param {boolean} sticky            Whether or not to stick the popover to the\n *                                    scroll container edge when part of the\n *                                    anchor leaves view.\n * @param {Element} anchorRef         The anchor element.\n * @param {number}  relativeOffsetTop If applicable, top offset of the relative\n *                                    positioned parent container.\n * @param {Element} boundaryElement   Boundary element.\n *\n * @return {Object} Popover position and constraints.\n */\nexport function computePopoverPosition(\n\tanchorRect,\n\tcontentSize,\n\tposition = 'top',\n\tsticky,\n\tanchorRef,\n\trelativeOffsetTop,\n\tboundaryElement\n) {\n\tconst [ yAxis, xAxis = 'center', corner ] = position.split( ' ' );\n\n\tconst yAxisPosition = computePopoverYAxisPosition(\n\t\tanchorRect,\n\t\tcontentSize,\n\t\tyAxis,\n\t\tcorner,\n\t\tsticky,\n\t\tanchorRef,\n\t\trelativeOffsetTop\n\t);\n\tconst xAxisPosition = computePopoverXAxisPosition(\n\t\tanchorRect,\n\t\tcontentSize,\n\t\txAxis,\n\t\tcorner,\n\t\tsticky,\n\t\tyAxisPosition.yAxis,\n\t\tboundaryElement\n\t);\n\n\treturn {\n\t\t...xAxisPosition,\n\t\t...yAxisPosition,\n\t};\n}\n","/**\n * External dependencies\n */\nimport { camelCase, upperFirst } from 'lodash';\n\n/**\n * Given a function mapping a component to an enhanced component and modifier\n * name, returns the enhanced component augmented with a generated displayName.\n *\n * @param {Function} mapComponentToEnhancedComponent Function mapping component\n *                                                   to enhanced component.\n * @param {string}   modifierName                    Seed name from which to\n *                                                   generated display name.\n *\n * @return {WPComponent} Component class with generated display name assigned.\n */\nfunction createHigherOrderComponent(\n\tmapComponentToEnhancedComponent,\n\tmodifierName\n) {\n\treturn ( OriginalComponent ) => {\n\t\tconst EnhancedComponent = mapComponentToEnhancedComponent(\n\t\t\tOriginalComponent\n\t\t);\n\t\tconst {\n\t\t\tdisplayName = OriginalComponent.name || 'Component',\n\t\t} = OriginalComponent;\n\t\tEnhancedComponent.displayName = `${ upperFirst(\n\t\t\tcamelCase( modifierName )\n\t\t) }(${ displayName })`;\n\n\t\treturn EnhancedComponent;\n\t};\n}\n\nexport default createHigherOrderComponent;\n","/**\n * External dependencies\n */\nimport { uniq } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, createContext } from '@wordpress/element';\n\nconst { Provider, Consumer } = createContext( {\n\tfocusHistory: [],\n} );\n\nProvider.displayName = 'FocusReturnProvider';\nConsumer.displayName = 'FocusReturnConsumer';\n\n/**\n * The maximum history length to capture for the focus stack. When exceeded,\n * items should be shifted from the stack for each consecutive push.\n *\n * @type {number}\n */\nconst MAX_STACK_LENGTH = 100;\n\nclass FocusReturnProvider extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onFocus = this.onFocus.bind( this );\n\n\t\tthis.state = {\n\t\t\tfocusHistory: [],\n\t\t};\n\t}\n\n\tonFocus( event ) {\n\t\tconst { focusHistory } = this.state;\n\n\t\t// Push the focused element to the history stack, keeping only unique\n\t\t// members but preferring the _last_ occurrence of any duplicates.\n\t\t// Lodash's `uniq` behavior favors the first occurrence, so the array\n\t\t// is temporarily reversed prior to it being called upon. Uniqueness\n\t\t// helps avoid situations where, such as in a constrained tabbing area,\n\t\t// the user changes focus enough within a transient element that the\n\t\t// stack may otherwise only consist of members pending destruction, at\n\t\t// which point focus might have been lost.\n\t\tconst nextFocusHistory = uniq(\n\t\t\t[ ...focusHistory, event.target ]\n\t\t\t\t.slice( -1 * MAX_STACK_LENGTH )\n\t\t\t\t.reverse()\n\t\t).reverse();\n\n\t\tthis.setState( { focusHistory: nextFocusHistory } );\n\t}\n\n\trender() {\n\t\tconst { children, className } = this.props;\n\n\t\treturn (\n\t\t\t<Provider value={ this.state }>\n\t\t\t\t<div onFocus={ this.onFocus } className={ className }>\n\t\t\t\t\t{ children }\n\t\t\t\t</div>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\nexport default FocusReturnProvider;\nexport { Consumer };\n","/**\n * External dependencies\n */\nimport { stubTrue, without } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport Provider, { Consumer } from './context';\n\n/**\n * Returns true if the given object is component-like. An object is component-\n * like if it is an instance of wp.element.Component, or is a function.\n *\n * @param {*} object Object to test.\n *\n * @return {boolean} Whether object is component-like.\n */\nfunction isComponentLike( object ) {\n\treturn object instanceof Component || typeof object === 'function';\n}\n\n/**\n * Higher Order Component used to be used to wrap disposable elements like\n * sidebars, modals, dropdowns. When mounting the wrapped component, we track a\n * reference to the current active element so we know where to restore focus\n * when the component is unmounted.\n *\n * @param {(WPComponent|Object)} options The component to be enhanced with\n *                                      focus return behavior, or an object\n *                                      describing the component and the\n *                                      focus return characteristics.\n *\n * @return {WPComponent} Component with the focus restauration behaviour.\n */\nfunction withFocusReturn( options ) {\n\t// Normalize as overloaded form `withFocusReturn( options )( Component )`\n\t// or as `withFocusReturn( Component )`.\n\tif ( isComponentLike( options ) ) {\n\t\tconst WrappedComponent = options;\n\t\treturn withFocusReturn( {} )( WrappedComponent );\n\t}\n\n\tconst { onFocusReturn = stubTrue } = options;\n\n\treturn function( WrappedComponent ) {\n\t\tclass FocusReturn extends Component {\n\t\t\tconstructor() {\n\t\t\t\tsuper( ...arguments );\n\n\t\t\t\tthis.ownFocusedElements = new Set();\n\t\t\t\tthis.activeElementOnMount = document.activeElement;\n\t\t\t\tthis.setIsFocusedFalse = () => ( this.isFocused = false );\n\t\t\t\tthis.setIsFocusedTrue = ( event ) => {\n\t\t\t\t\tthis.ownFocusedElements.add( event.target );\n\t\t\t\t\tthis.isFocused = true;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcomponentWillUnmount() {\n\t\t\t\tconst {\n\t\t\t\t\tactiveElementOnMount,\n\t\t\t\t\tisFocused,\n\t\t\t\t\townFocusedElements,\n\t\t\t\t} = this;\n\n\t\t\t\tif ( ! isFocused ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Defer to the component's own explicit focus return behavior,\n\t\t\t\t// if specified. The function should return `false` to prevent\n\t\t\t\t// the default behavior otherwise occurring here. This allows\n\t\t\t\t// for support that the `onFocusReturn` decides to allow the\n\t\t\t\t// default behavior to occur under some conditions.\n\t\t\t\tif ( onFocusReturn() === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst stack = [\n\t\t\t\t\t...without(\n\t\t\t\t\t\tthis.props.focus.focusHistory,\n\t\t\t\t\t\t...ownFocusedElements\n\t\t\t\t\t),\n\t\t\t\t\tactiveElementOnMount,\n\t\t\t\t];\n\n\t\t\t\tlet candidate;\n\t\t\t\twhile ( ( candidate = stack.pop() ) ) {\n\t\t\t\t\tif ( document.body.contains( candidate ) ) {\n\t\t\t\t\t\tcandidate.focus();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tonFocus={ this.setIsFocusedTrue }\n\t\t\t\t\t\tonBlur={ this.setIsFocusedFalse }\n\t\t\t\t\t>\n\t\t\t\t\t\t<WrappedComponent { ...this.props.childProps } />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn ( props ) => (\n\t\t\t<Consumer>\n\t\t\t\t{ ( context ) => (\n\t\t\t\t\t<FocusReturn childProps={ props } focus={ context } />\n\t\t\t\t) }\n\t\t\t</Consumer>\n\t\t);\n\t};\n}\n\nexport default createHigherOrderComponent( withFocusReturn, 'withFocusReturn' );\nexport { Provider };\n","/**\n * WordPress dependencies\n */\nimport { Component, createRef } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { TAB } from '@wordpress/keycodes';\nimport { focus } from '@wordpress/dom';\n\nconst withConstrainedTabbing = createHigherOrderComponent(\n\t( WrappedComponent ) =>\n\t\tclass extends Component {\n\t\t\tconstructor() {\n\t\t\t\tsuper( ...arguments );\n\n\t\t\t\tthis.focusContainRef = createRef();\n\t\t\t\tthis.handleTabBehaviour = this.handleTabBehaviour.bind( this );\n\t\t\t}\n\n\t\t\thandleTabBehaviour( event ) {\n\t\t\t\tif ( event.keyCode !== TAB ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst tabbables = focus.tabbable.find(\n\t\t\t\t\tthis.focusContainRef.current\n\t\t\t\t);\n\t\t\t\tif ( ! tabbables.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst firstTabbable = tabbables[ 0 ];\n\t\t\t\tconst lastTabbable = tabbables[ tabbables.length - 1 ];\n\n\t\t\t\tif ( event.shiftKey && event.target === firstTabbable ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tlastTabbable.focus();\n\t\t\t\t} else if (\n\t\t\t\t\t! event.shiftKey &&\n\t\t\t\t\tevent.target === lastTabbable\n\t\t\t\t) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tfirstTabbable.focus();\n\t\t\t\t\t/*\n\t\t\t\t\t * When pressing Tab and none of the tabbables has focus, the keydown\n\t\t\t\t\t * event happens on the wrapper div: move focus on the first tabbable.\n\t\t\t\t\t */\n\t\t\t\t} else if ( ! tabbables.includes( event.target ) ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tfirstTabbable.focus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\t// Disable reason: this component is non-interactive, but must capture\n\t\t\t\t// events from the wrapped component to determine when the Tab key is used.\n\t\t\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tonKeyDown={ this.handleTabBehaviour }\n\t\t\t\t\t\tref={ this.focusContainRef }\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<WrappedComponent { ...this.props } />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n\t\t\t}\n\t\t},\n\t'withConstrainedTabbing'\n);\n\nexport default withConstrainedTabbing;\n","/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Input types which are classified as button types, for use in considering\n * whether element is a (focus-normalized) button.\n *\n * @type {string[]}\n */\nconst INPUT_BUTTON_TYPES = [ 'button', 'submit' ];\n\n/**\n * Returns true if the given element is a button element subject to focus\n * normalization, or false otherwise.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n *\n * @param {Element} element Element to test.\n *\n * @return {boolean} Whether element is a button.\n */\nfunction isFocusNormalizedButton( element ) {\n\tswitch ( element.nodeName ) {\n\t\tcase 'A':\n\t\tcase 'BUTTON':\n\t\t\treturn true;\n\n\t\tcase 'INPUT':\n\t\t\treturn includes( INPUT_BUTTON_TYPES, element.type );\n\t}\n\n\treturn false;\n}\n\nexport default createHigherOrderComponent( ( WrappedComponent ) => {\n\treturn class extends Component {\n\t\tconstructor() {\n\t\t\tsuper( ...arguments );\n\n\t\t\tthis.bindNode = this.bindNode.bind( this );\n\t\t\tthis.cancelBlurCheck = this.cancelBlurCheck.bind( this );\n\t\t\tthis.queueBlurCheck = this.queueBlurCheck.bind( this );\n\t\t\tthis.normalizeButtonFocus = this.normalizeButtonFocus.bind( this );\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tthis.cancelBlurCheck();\n\t\t}\n\n\t\tbindNode( node ) {\n\t\t\tif ( node ) {\n\t\t\t\tthis.node = node;\n\t\t\t} else {\n\t\t\t\tdelete this.node;\n\t\t\t\tthis.cancelBlurCheck();\n\t\t\t}\n\t\t}\n\n\t\tqueueBlurCheck( event ) {\n\t\t\t// React does not allow using an event reference asynchronously\n\t\t\t// due to recycling behavior, except when explicitly persisted.\n\t\t\tevent.persist();\n\n\t\t\t// Skip blur check if clicking button. See `normalizeButtonFocus`.\n\t\t\tif ( this.preventBlurCheck ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.blurCheckTimeout = setTimeout( () => {\n\t\t\t\t// If document is not focused then focus should remain\n\t\t\t\t// inside the wrapped component and therefore we cancel\n\t\t\t\t// this blur event thereby leaving focus in place.\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/Document/hasFocus.\n\t\t\t\tif ( ! document.hasFocus() ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( 'function' === typeof this.node.handleFocusOutside ) {\n\t\t\t\t\tthis.node.handleFocusOutside( event );\n\t\t\t\t}\n\t\t\t}, 0 );\n\t\t}\n\n\t\tcancelBlurCheck() {\n\t\t\tclearTimeout( this.blurCheckTimeout );\n\t\t}\n\n\t\t/**\n\t\t * Handles a mousedown or mouseup event to respectively assign and\n\t\t * unassign a flag for preventing blur check on button elements. Some\n\t\t * browsers, namely Firefox and Safari, do not emit a focus event on\n\t\t * button elements when clicked, while others do. The logic here\n\t\t * intends to normalize this as treating click on buttons as focus.\n\t\t *\n\t\t * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n\t\t *\n\t\t * @param {MouseEvent} event Event for mousedown or mouseup.\n\t\t */\n\t\tnormalizeButtonFocus( event ) {\n\t\t\tconst { type, target } = event;\n\n\t\t\tconst isInteractionEnd = includes(\n\t\t\t\t[ 'mouseup', 'touchend' ],\n\t\t\t\ttype\n\t\t\t);\n\n\t\t\tif ( isInteractionEnd ) {\n\t\t\t\tthis.preventBlurCheck = false;\n\t\t\t} else if ( isFocusNormalizedButton( target ) ) {\n\t\t\t\tthis.preventBlurCheck = true;\n\t\t\t}\n\t\t}\n\n\t\trender() {\n\t\t\t// Disable reason: See `normalizeButtonFocus` for browser-specific\n\t\t\t// focus event normalization.\n\n\t\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tonFocus={ this.cancelBlurCheck }\n\t\t\t\t\tonMouseDown={ this.normalizeButtonFocus }\n\t\t\t\t\tonMouseUp={ this.normalizeButtonFocus }\n\t\t\t\t\tonTouchStart={ this.normalizeButtonFocus }\n\t\t\t\t\tonTouchEnd={ this.normalizeButtonFocus }\n\t\t\t\t\tonBlur={ this.queueBlurCheck }\n\t\t\t\t>\n\t\t\t\t\t<WrappedComponent ref={ this.bindNode } { ...this.props } />\n\t\t\t\t</div>\n\t\t\t);\n\t\t\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n\t\t}\n\t};\n}, 'withFocusOutside' );\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport withFocusOutside from '../higher-order/with-focus-outside';\n\nclass PopoverDetectOutside extends Component {\n\thandleFocusOutside( event ) {\n\t\tthis.props.onFocusOutside( event );\n\t}\n\n\trender() {\n\t\treturn this.props.children;\n\t}\n}\n\nexport default withFocusOutside( PopoverDetectOutside );\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Creates a ScrollLock component bound to the specified document.\n *\n * This function creates a ScrollLock component for the specified document\n * and is exposed so we can create an isolated component for unit testing.\n *\n * @param {Object} args Keyword args.\n * @param {HTMLDocument} args.htmlDocument The document to lock the scroll for.\n * @param {string} args.className The name of the class used to lock scrolling.\n * @return {WPComponent} The bound ScrollLock component.\n */\nexport function createScrollLockComponent( {\n\thtmlDocument = document,\n\tclassName = 'lockscroll',\n} = {} ) {\n\tlet lockCounter = 0;\n\n\t/*\n\t * Setting `overflow: hidden` on html and body elements resets body scroll in iOS.\n\t * Save scroll top so we can restore it after locking scroll.\n\t *\n\t * NOTE: It would be cleaner and possibly safer to find a localized solution such\n\t * as preventing default on certain touchmove events.\n\t */\n\tlet previousScrollTop = 0;\n\n\t/**\n\t * Locks and unlocks scroll depending on the boolean argument.\n\t *\n\t * @param {boolean} locked Whether or not scroll should be locked.\n\t */\n\tfunction setLocked( locked ) {\n\t\tconst scrollingElement =\n\t\t\thtmlDocument.scrollingElement || htmlDocument.body;\n\n\t\tif ( locked ) {\n\t\t\tpreviousScrollTop = scrollingElement.scrollTop;\n\t\t}\n\n\t\tconst methodName = locked ? 'add' : 'remove';\n\t\tscrollingElement.classList[ methodName ]( className );\n\n\t\t// Adding the class to the document element seems to be necessary in iOS.\n\t\thtmlDocument.documentElement.classList[ methodName ]( className );\n\n\t\tif ( ! locked ) {\n\t\t\tscrollingElement.scrollTop = previousScrollTop;\n\t\t}\n\t}\n\n\t/**\n\t * Requests scroll lock.\n\t *\n\t * This function tracks requests for scroll lock. It locks scroll on the first\n\t * request and counts each request so `releaseLock` can unlock scroll when\n\t * all requests have been released.\n\t */\n\tfunction requestLock() {\n\t\tif ( lockCounter === 0 ) {\n\t\t\tsetLocked( true );\n\t\t}\n\n\t\t++lockCounter;\n\t}\n\n\t/**\n\t * Releases a request for scroll lock.\n\t *\n\t * This function tracks released requests for scroll lock. When all requests\n\t * have been released, it unlocks scroll.\n\t */\n\tfunction releaseLock() {\n\t\tif ( lockCounter === 1 ) {\n\t\t\tsetLocked( false );\n\t\t}\n\n\t\t--lockCounter;\n\t}\n\n\treturn class ScrollLock extends Component {\n\t\t/**\n\t\t * Requests scroll lock on mount.\n\t\t */\n\t\tcomponentDidMount() {\n\t\t\trequestLock();\n\t\t}\n\t\t/**\n\t\t * Releases scroll lock before unmount.\n\t\t */\n\t\tcomponentWillUnmount() {\n\t\t\treleaseLock();\n\t\t}\n\n\t\t/**\n\t\t * Render nothing as this component is merely a way to declare scroll lock.\n\t\t *\n\t\t * @return {null} Render nothing by returning `null`.\n\t\t */\n\t\trender() {\n\t\t\treturn null;\n\t\t}\n\t};\n}\n\nexport default createScrollLockComponent();\n","/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\nfunction stopPropagation( event ) {\n\tevent.stopPropagation();\n}\n\nexport default forwardRef( ( { children, ...props }, ref ) => {\n\t// Disable reason: this stops certain events from propagating outside of the component.\n\t//   - onMouseDown is disabled as this can cause interactions with other DOM elements\n\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\treturn (\n\t\t<div { ...props } ref={ ref } onMouseDown={ stopPropagation }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n} );\n","/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\nconst SlotFillContext = createContext( {\n\tslots: {},\n\tfills: {},\n\tregisterSlot: () => {},\n\tunregisterSlot: () => {},\n\tregisterFill: () => {},\n\tunregisterFill: () => {},\n} );\n\nexport default SlotFillContext;\n","/**\n * WordPress dependencies\n */\nimport { useCallback, useContext, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport SlotFillContext from './slot-fill-context';\n\nexport default function useSlot( name ) {\n\tconst registry = useContext( SlotFillContext );\n\n\tconst slot = registry.slots[ name ] || {};\n\tconst slotFills = registry.fills[ name ];\n\tconst fills = useMemo( () => slotFills || [], [ slotFills ] );\n\n\tconst updateSlot = useCallback(\n\t\t( slotRef, slotFillProps ) => {\n\t\t\tregistry.updateSlot( name, slotRef, slotFillProps );\n\t\t},\n\t\t[ name, registry.updateSlot ]\n\t);\n\n\tconst unregisterSlot = useCallback(\n\t\t( slotRef ) => {\n\t\t\tregistry.unregisterSlot( name, slotRef );\n\t\t},\n\t\t[ name, registry.unregisterSlot ]\n\t);\n\n\tconst registerFill = useCallback(\n\t\t( fillRef ) => {\n\t\t\tregistry.registerFill( name, fillRef );\n\t\t},\n\t\t[ name, registry.registerFill ]\n\t);\n\n\tconst unregisterFill = useCallback(\n\t\t( fillRef ) => {\n\t\t\tregistry.unregisterFill( name, fillRef );\n\t\t},\n\t\t[ name, registry.unregisterFill ]\n\t);\n\n\treturn {\n\t\t...slot,\n\t\tupdateSlot,\n\t\tunregisterSlot,\n\t\tfills,\n\t\tregisterFill,\n\t\tunregisterFill,\n\t};\n}\n","/**\n * External dependencies\n */\nimport { isArray, isNumber, isString } from 'lodash';\n\n/**\n * Checks if the provided WP element is empty.\n *\n * @param {*} element WP element to check.\n * @return {boolean} True when an element is considered empty.\n */\nexport const isEmptyElement = ( element ) => {\n\tif ( isNumber( element ) ) {\n\t\treturn false;\n\t}\n\n\tif ( isString( element ) || isArray( element ) ) {\n\t\treturn ! element.length;\n\t}\n\n\treturn ! element;\n};\n","/**\n * WordPress dependencies\n */\nimport { useMemo, useCallback, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport SlotFillContext from './slot-fill-context';\n\nfunction useSlotRegistry() {\n\tconst [ slots, setSlots ] = useState( {} );\n\tconst [ fills, setFills ] = useState( {} );\n\n\tconst registerSlot = useCallback( ( name, ref, fillProps ) => {\n\t\tsetSlots( ( prevSlots ) => ( {\n\t\t\t...prevSlots,\n\t\t\t[ name ]: {\n\t\t\t\t...prevSlots[ name ],\n\t\t\t\tref: ref || prevSlots[ name ].ref,\n\t\t\t\tfillProps: fillProps || prevSlots[ name ].fillProps || {},\n\t\t\t},\n\t\t} ) );\n\t}, [] );\n\n\tconst unregisterSlot = useCallback( ( name, ref ) => {\n\t\tsetSlots( ( prevSlots ) => {\n\t\t\tconst { [ name ]: slot, ...nextSlots } = prevSlots;\n\t\t\t// Make sure we're not unregistering a slot registered by another element\n\t\t\t// See https://github.com/WordPress/gutenberg/pull/19242#issuecomment-590295412\n\t\t\tif ( slot?.ref === ref ) {\n\t\t\t\treturn nextSlots;\n\t\t\t}\n\t\t\treturn prevSlots;\n\t\t} );\n\t}, [] );\n\n\tconst registerFill = useCallback( ( name, ref ) => {\n\t\tsetFills( ( prevFills ) => ( {\n\t\t\t...prevFills,\n\t\t\t[ name ]: [ ...( prevFills[ name ] || [] ), ref ],\n\t\t} ) );\n\t}, [] );\n\n\tconst unregisterFill = useCallback( ( name, ref ) => {\n\t\tsetFills( ( prevFills ) => {\n\t\t\tif ( prevFills[ name ] ) {\n\t\t\t\treturn {\n\t\t\t\t\t...prevFills,\n\t\t\t\t\t[ name ]: prevFills[ name ].filter(\n\t\t\t\t\t\t( fillRef ) => fillRef !== ref\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn prevFills;\n\t\t} );\n\t}, [] );\n\n\t// Memoizing the return value so it can be directly passed to Provider value\n\tconst registry = useMemo(\n\t\t() => ( {\n\t\t\tslots,\n\t\t\tfills,\n\t\t\tregisterSlot,\n\t\t\t// Just for readability\n\t\t\tupdateSlot: registerSlot,\n\t\t\tunregisterSlot,\n\t\t\tregisterFill,\n\t\t\tunregisterFill,\n\t\t} ),\n\t\t[\n\t\t\tslots,\n\t\t\tfills,\n\t\t\tregisterSlot,\n\t\t\tunregisterSlot,\n\t\t\tregisterFill,\n\t\t\tunregisterFill,\n\t\t]\n\t);\n\n\treturn registry;\n}\n\nexport default function SlotFillProvider( { children } ) {\n\tconst registry = useSlotRegistry();\n\treturn (\n\t\t<SlotFillContext.Provider value={ registry }>\n\t\t\t{ children }\n\t\t</SlotFillContext.Provider>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { sortBy, forEach, without } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tComponent,\n\tcreateContext,\n\tuseContext,\n\tuseState,\n\tuseEffect,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport SlotFillBubblesVirtuallyProvider from './bubbles-virtually/slot-fill-provider';\n\nconst SlotFillContext = createContext( {\n\tregisterSlot: () => {},\n\tunregisterSlot: () => {},\n\tregisterFill: () => {},\n\tunregisterFill: () => {},\n\tgetSlot: () => {},\n\tgetFills: () => {},\n\tsubscribe: () => {},\n} );\nconst { Provider, Consumer } = SlotFillContext;\n\nclass SlotFillProvider extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.registerSlot = this.registerSlot.bind( this );\n\t\tthis.registerFill = this.registerFill.bind( this );\n\t\tthis.unregisterSlot = this.unregisterSlot.bind( this );\n\t\tthis.unregisterFill = this.unregisterFill.bind( this );\n\t\tthis.getSlot = this.getSlot.bind( this );\n\t\tthis.getFills = this.getFills.bind( this );\n\t\tthis.hasFills = this.hasFills.bind( this );\n\t\tthis.subscribe = this.subscribe.bind( this );\n\n\t\tthis.slots = {};\n\t\tthis.fills = {};\n\t\tthis.listeners = [];\n\t\tthis.contextValue = {\n\t\t\tregisterSlot: this.registerSlot,\n\t\t\tunregisterSlot: this.unregisterSlot,\n\t\t\tregisterFill: this.registerFill,\n\t\t\tunregisterFill: this.unregisterFill,\n\t\t\tgetSlot: this.getSlot,\n\t\t\tgetFills: this.getFills,\n\t\t\thasFills: this.hasFills,\n\t\t\tsubscribe: this.subscribe,\n\t\t};\n\t}\n\n\tregisterSlot( name, slot ) {\n\t\tconst previousSlot = this.slots[ name ];\n\t\tthis.slots[ name ] = slot;\n\t\tthis.triggerListeners();\n\n\t\t// Sometimes the fills are registered after the initial render of slot\n\t\t// But before the registerSlot call, we need to rerender the slot\n\t\tthis.forceUpdateSlot( name );\n\n\t\t// If a new instance of a slot is being mounted while another with the\n\t\t// same name exists, force its update _after_ the new slot has been\n\t\t// assigned into the instance, such that its own rendering of children\n\t\t// will be empty (the new Slot will subsume all fills for this name).\n\t\tif ( previousSlot ) {\n\t\t\tpreviousSlot.forceUpdate();\n\t\t}\n\t}\n\n\tregisterFill( name, instance ) {\n\t\tthis.fills[ name ] = [ ...( this.fills[ name ] || [] ), instance ];\n\t\tthis.forceUpdateSlot( name );\n\t}\n\n\tunregisterSlot( name, instance ) {\n\t\t// If a previous instance of a Slot by this name unmounts, do nothing,\n\t\t// as the slot and its fills should only be removed for the current\n\t\t// known instance.\n\t\tif ( this.slots[ name ] !== instance ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdelete this.slots[ name ];\n\t\tthis.triggerListeners();\n\t}\n\n\tunregisterFill( name, instance ) {\n\t\tthis.fills[ name ] = without( this.fills[ name ], instance );\n\t\tthis.resetFillOccurrence( name );\n\t\tthis.forceUpdateSlot( name );\n\t}\n\n\tgetSlot( name ) {\n\t\treturn this.slots[ name ];\n\t}\n\n\tgetFills( name, slotInstance ) {\n\t\t// Fills should only be returned for the current instance of the slot\n\t\t// in which they occupy.\n\t\tif ( this.slots[ name ] !== slotInstance ) {\n\t\t\treturn [];\n\t\t}\n\t\treturn sortBy( this.fills[ name ], 'occurrence' );\n\t}\n\n\thasFills( name ) {\n\t\treturn this.fills[ name ] && !! this.fills[ name ].length;\n\t}\n\n\tresetFillOccurrence( name ) {\n\t\tforEach( this.fills[ name ], ( instance ) => {\n\t\t\tinstance.occurrence = undefined;\n\t\t} );\n\t}\n\n\tforceUpdateSlot( name ) {\n\t\tconst slot = this.getSlot( name );\n\n\t\tif ( slot ) {\n\t\t\tslot.forceUpdate();\n\t\t}\n\t}\n\n\ttriggerListeners() {\n\t\tthis.listeners.forEach( ( listener ) => listener() );\n\t}\n\n\tsubscribe( listener ) {\n\t\tthis.listeners.push( listener );\n\n\t\treturn () => {\n\t\t\tthis.listeners = without( this.listeners, listener );\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Provider value={ this.contextValue }>\n\t\t\t\t<SlotFillBubblesVirtuallyProvider>\n\t\t\t\t\t{ this.props.children }\n\t\t\t\t</SlotFillBubblesVirtuallyProvider>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\n/**\n * React hook returning the active slot given a name.\n *\n * @param {string} name Slot name.\n * @return {Object} Slot object.\n */\nexport const useSlot = ( name ) => {\n\tconst { getSlot, subscribe } = useContext( SlotFillContext );\n\tconst [ slot, setSlot ] = useState( getSlot( name ) );\n\n\tuseEffect( () => {\n\t\tsetSlot( getSlot( name ) );\n\t\tconst unsubscribe = subscribe( () => {\n\t\t\tsetSlot( getSlot( name ) );\n\t\t} );\n\n\t\treturn unsubscribe;\n\t}, [ name ] );\n\n\treturn slot;\n};\n\nexport default SlotFillProvider;\nexport { Consumer };\n","/**\n * External dependencies\n */\nimport { isFunction, isString, map, negate } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tChildren,\n\tComponent,\n\tcloneElement,\n\tisEmptyElement,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Consumer } from './context';\n\nclass SlotComponent extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.bindNode = this.bindNode.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { registerSlot } = this.props;\n\n\t\tregisterSlot( this.props.name, this );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tconst { unregisterSlot } = this.props;\n\n\t\tunregisterSlot( this.props.name, this );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst { name, unregisterSlot, registerSlot } = this.props;\n\n\t\tif ( prevProps.name !== name ) {\n\t\t\tunregisterSlot( prevProps.name );\n\t\t\tregisterSlot( name, this );\n\t\t}\n\t}\n\n\tbindNode( node ) {\n\t\tthis.node = node;\n\t}\n\n\trender() {\n\t\tconst { children, name, fillProps = {}, getFills } = this.props;\n\n\t\tconst fills = map( getFills( name, this ), ( fill ) => {\n\t\t\tconst fillKey = fill.occurrence;\n\t\t\tconst fillChildren = isFunction( fill.children )\n\t\t\t\t? fill.children( fillProps )\n\t\t\t\t: fill.children;\n\n\t\t\treturn Children.map( fillChildren, ( child, childIndex ) => {\n\t\t\t\tif ( ! child || isString( child ) ) {\n\t\t\t\t\treturn child;\n\t\t\t\t}\n\n\t\t\t\tconst childKey = `${ fillKey }---${ child.key || childIndex }`;\n\t\t\t\treturn cloneElement( child, { key: childKey } );\n\t\t\t} );\n\t\t} ).filter(\n\t\t\t// In some cases fills are rendered only when some conditions apply.\n\t\t\t// This ensures that we only use non-empty fills when rendering, i.e.,\n\t\t\t// it allows us to render wrappers only when the fills are actually present.\n\t\t\tnegate( isEmptyElement )\n\t\t);\n\n\t\treturn <>{ isFunction( children ) ? children( fills ) : fills }</>;\n\t}\n}\n\nconst Slot = ( props ) => (\n\t<Consumer>\n\t\t{ ( { registerSlot, unregisterSlot, getFills } ) => (\n\t\t\t<SlotComponent\n\t\t\t\t{ ...props }\n\t\t\t\tregisterSlot={ registerSlot }\n\t\t\t\tunregisterSlot={ unregisterSlot }\n\t\t\t\tgetFills={ getFills }\n\t\t\t/>\n\t\t) }\n\t</Consumer>\n);\n\nexport default Slot;\n","/**\n * External dependencies\n */\nimport { isFunction } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createPortal, useLayoutEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Consumer, useSlot } from './context';\n\nlet occurrences = 0;\n\nfunction FillComponent( { name, children, registerFill, unregisterFill } ) {\n\tconst slot = useSlot( name );\n\n\tconst ref = useRef( {\n\t\tname,\n\t\tchildren,\n\t} );\n\n\tif ( ! ref.current.occurrence ) {\n\t\tref.current.occurrence = ++occurrences;\n\t}\n\n\tuseLayoutEffect( () => {\n\t\tregisterFill( name, ref.current );\n\t\treturn () => unregisterFill( name, ref.current );\n\t}, [] );\n\n\tuseLayoutEffect( () => {\n\t\tref.current.children = children;\n\t\tif ( slot ) {\n\t\t\tslot.forceUpdate();\n\t\t}\n\t}, [ children ] );\n\n\tuseLayoutEffect( () => {\n\t\tif ( name === ref.current.name ) {\n\t\t\t// ignore initial effect\n\t\t\treturn;\n\t\t}\n\t\tunregisterFill( ref.current.name, ref.current );\n\t\tref.current.name = name;\n\t\tregisterFill( name, ref.current );\n\t}, [ name ] );\n\n\tif ( ! slot || ! slot.node ) {\n\t\treturn null;\n\t}\n\n\t// If a function is passed as a child, provide it with the fillProps.\n\tif ( isFunction( children ) ) {\n\t\tchildren = children( slot.props.fillProps );\n\t}\n\n\treturn createPortal( children, slot.node );\n}\n\nconst Fill = ( props ) => (\n\t<Consumer>\n\t\t{ ( { registerFill, unregisterFill } ) => (\n\t\t\t<FillComponent\n\t\t\t\t{ ...props }\n\t\t\t\tregisterFill={ registerFill }\n\t\t\t\tunregisterFill={ unregisterFill }\n\t\t\t/>\n\t\t) }\n\t</Consumer>\n);\n\nexport default Fill;\n","/**\n * WordPress dependencies\n */\nimport { useRef, useLayoutEffect, useContext } from '@wordpress/element';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\n\n/**\n * Internal dependencies\n */\nimport SlotFillContext from './slot-fill-context';\nimport useSlot from './use-slot';\n\nexport default function Slot( {\n\tname,\n\tfillProps = {},\n\tas: Component = 'div',\n\t...props\n} ) {\n\tconst registry = useContext( SlotFillContext );\n\tconst ref = useRef();\n\tconst slot = useSlot( name );\n\n\tuseLayoutEffect( () => {\n\t\tregistry.registerSlot( name, ref, fillProps );\n\t\treturn () => {\n\t\t\tregistry.unregisterSlot( name, ref );\n\t\t};\n\t\t// We are not including fillProps in the deps because we don't want to\n\t\t// unregister and register the slot whenever fillProps change, which would\n\t\t// cause the fill to be re-mounted. We are only considering the initial value\n\t\t// of fillProps.\n\t}, [ registry.registerSlot, registry.unregisterSlot, name ] );\n\n\t// fillProps may be an update that interact with the layout, so\n\t// we useLayoutEffect\n\tuseLayoutEffect( () => {\n\t\tif ( slot.fillProps && ! isShallowEqual( slot.fillProps, fillProps ) ) {\n\t\t\tregistry.updateSlot( name, ref, fillProps );\n\t\t}\n\t} );\n\n\treturn <Component ref={ ref } { ...props } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useRef, useEffect, createPortal } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useSlot from './use-slot';\n\nexport default function Fill( { name, children } ) {\n\tconst slot = useSlot( name );\n\tconst ref = useRef();\n\n\tuseEffect( () => {\n\t\t// We register fills so we can keep track of their existance.\n\t\t// Some Slot implementations need to know if there're already fills\n\t\t// registered so they can choose to render themselves or not.\n\t\tslot.registerFill( ref );\n\t\treturn () => {\n\t\t\tslot.unregisterFill( ref );\n\t\t};\n\t}, [ slot.registerFill, slot.unregisterFill ] );\n\n\tif ( ! slot.ref || ! slot.ref.current ) {\n\t\treturn null;\n\t}\n\n\tif ( typeof children === 'function' ) {\n\t\tchildren = children( slot.fillProps );\n\t}\n\n\treturn createPortal( children, slot.ref.current );\n}\n","/**\n * Internal dependencies\n */\nimport BaseSlot from './slot';\nimport BaseFill from './fill';\nimport Provider from './context';\nimport BubblesVirtuallySlot from './bubbles-virtually/slot';\nimport BubblesVirtuallyFill from './bubbles-virtually/fill';\nimport useSlot from './bubbles-virtually/use-slot';\n\nexport function Slot( { bubblesVirtually, ...props } ) {\n\tif ( bubblesVirtually ) {\n\t\treturn <BubblesVirtuallySlot { ...props } />;\n\t}\n\treturn <BaseSlot { ...props } />;\n}\n\nexport function Fill( props ) {\n\t// We're adding both Fills here so they can register themselves before\n\t// their respective slot has been registered. Only the Fill that has a slot\n\t// will render. The other one will return null.\n\treturn (\n\t\t<>\n\t\t\t<BaseFill { ...props } />\n\t\t\t<BubblesVirtuallyFill { ...props } />\n\t\t</>\n\t);\n}\n\nexport function createSlotFill( name ) {\n\tconst FillComponent = ( props ) => <Fill name={ name } { ...props } />;\n\tFillComponent.displayName = name + 'Fill';\n\n\tconst SlotComponent = ( props ) => <Slot name={ name } { ...props } />;\n\tSlotComponent.displayName = name + 'Slot';\n\n\treturn {\n\t\tFill: FillComponent,\n\t\tSlot: SlotComponent,\n\t};\n}\n\nexport { useSlot, Provider };\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\nfunction Animate( { type, options = {}, children } ) {\n\tif ( type === 'appear' ) {\n\t\tconst { origin = 'top' } = options;\n\t\tconst [ yAxis, xAxis = 'center' ] = origin.split( ' ' );\n\n\t\treturn children( {\n\t\t\tclassName: classnames( 'components-animate__appear', {\n\t\t\t\t[ 'is-from-' + xAxis ]: xAxis !== 'center',\n\t\t\t\t[ 'is-from-' + yAxis ]: yAxis !== 'middle',\n\t\t\t} ),\n\t\t} );\n\t}\n\n\tif ( type === 'slide-in' ) {\n\t\tconst { origin = 'left' } = options;\n\n\t\treturn children( {\n\t\t\tclassName: classnames(\n\t\t\t\t'components-animate__slide-in',\n\t\t\t\t'is-from-' + origin\n\t\t\t),\n\t\t} );\n\t}\n\n\tif ( type === 'loading' ) {\n\t\treturn children( {\n\t\t\tclassName: classnames( 'components-animate__loading' ),\n\t\t} );\n\t}\n\n\treturn children( {} );\n}\n\nexport default Animate;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useState, useEffect } from '@wordpress/element';\nimport { focus, getRectangleFromRange } from '@wordpress/dom';\nimport { ESCAPE } from '@wordpress/keycodes';\nimport deprecated from '@wordpress/deprecated';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { close } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { computePopoverPosition } from './utils';\nimport withFocusReturn from '../higher-order/with-focus-return';\nimport withConstrainedTabbing from '../higher-order/with-constrained-tabbing';\nimport PopoverDetectOutside from './detect-outside';\nimport Button from '../button';\nimport ScrollLock from '../scroll-lock';\nimport IsolatedEventContainer from '../isolated-event-container';\nimport { Slot, Fill, useSlot } from '../slot-fill';\nimport Animate from '../animate';\n\nconst FocusManaged = withConstrainedTabbing(\n\twithFocusReturn( ( { children } ) => children )\n);\n\n/**\n * Name of slot in which popover should fill.\n *\n * @type {string}\n */\nconst SLOT_NAME = 'Popover';\n\nfunction computeAnchorRect(\n\tanchorRefFallback,\n\tanchorRect,\n\tgetAnchorRect,\n\tanchorRef = false,\n\tshouldAnchorIncludePadding\n) {\n\tif ( anchorRect ) {\n\t\treturn anchorRect;\n\t}\n\n\tif ( getAnchorRect ) {\n\t\tif ( ! anchorRefFallback.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn getAnchorRect( anchorRefFallback.current );\n\t}\n\n\tif ( anchorRef !== false ) {\n\t\tif ( ! anchorRef ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( anchorRef instanceof window.Range ) {\n\t\t\treturn getRectangleFromRange( anchorRef );\n\t\t}\n\n\t\tif ( anchorRef instanceof window.Element ) {\n\t\t\tconst rect = anchorRef.getBoundingClientRect();\n\n\t\t\tif ( shouldAnchorIncludePadding ) {\n\t\t\t\treturn rect;\n\t\t\t}\n\n\t\t\treturn withoutPadding( rect, anchorRef );\n\t\t}\n\n\t\tconst { top, bottom } = anchorRef;\n\t\tconst topRect = top.getBoundingClientRect();\n\t\tconst bottomRect = bottom.getBoundingClientRect();\n\t\tconst rect = new window.DOMRect(\n\t\t\ttopRect.left,\n\t\t\ttopRect.top,\n\t\t\ttopRect.width,\n\t\t\tbottomRect.bottom - topRect.top\n\t\t);\n\n\t\tif ( shouldAnchorIncludePadding ) {\n\t\t\treturn rect;\n\t\t}\n\n\t\treturn withoutPadding( rect, anchorRef );\n\t}\n\n\tif ( ! anchorRefFallback.current ) {\n\t\treturn;\n\t}\n\n\tconst { parentNode } = anchorRefFallback.current;\n\tconst rect = parentNode.getBoundingClientRect();\n\n\tif ( shouldAnchorIncludePadding ) {\n\t\treturn rect;\n\t}\n\n\treturn withoutPadding( rect, parentNode );\n}\n\nfunction withoutPadding( rect, element ) {\n\tconst {\n\t\tpaddingTop,\n\t\tpaddingBottom,\n\t\tpaddingLeft,\n\t\tpaddingRight,\n\t} = window.getComputedStyle( element );\n\tconst top = paddingTop ? parseInt( paddingTop, 10 ) : 0;\n\tconst bottom = paddingBottom ? parseInt( paddingBottom, 10 ) : 0;\n\tconst left = paddingLeft ? parseInt( paddingLeft, 10 ) : 0;\n\tconst right = paddingRight ? parseInt( paddingRight, 10 ) : 0;\n\n\treturn {\n\t\tx: rect.left + left,\n\t\ty: rect.top + top,\n\t\twidth: rect.width - left - right,\n\t\theight: rect.height - top - bottom,\n\t\tleft: rect.left + left,\n\t\tright: rect.right - right,\n\t\ttop: rect.top + top,\n\t\tbottom: rect.bottom - bottom,\n\t};\n}\n\n/**\n * Hook used to focus the first tabbable element on mount.\n *\n * @param {boolean|string} focusOnMount Focus on mount mode.\n * @param {Object}         contentRef   Reference to the popover content element.\n */\nfunction useFocusContentOnMount( focusOnMount, contentRef ) {\n\t// Focus handling\n\tuseEffect( () => {\n\t\t/*\n\t\t * Without the setTimeout, the dom node is not being focused. Related:\n\t\t * https://stackoverflow.com/questions/35522220/react-ref-with-focus-doesnt-work-without-settimeout-my-example\n\t\t *\n\t\t * TODO: Treat the cause, not the symptom.\n\t\t */\n\t\tconst focusTimeout = setTimeout( () => {\n\t\t\tif ( ! focusOnMount || ! contentRef.current ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( focusOnMount === 'firstElement' ) {\n\t\t\t\t// Find first tabbable node within content and shift focus, falling\n\t\t\t\t// back to the popover panel itself.\n\t\t\t\tconst firstTabbable = focus.tabbable.find(\n\t\t\t\t\tcontentRef.current\n\t\t\t\t)[ 0 ];\n\n\t\t\t\tif ( firstTabbable ) {\n\t\t\t\t\tfirstTabbable.focus();\n\t\t\t\t} else {\n\t\t\t\t\tcontentRef.current.focus();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( focusOnMount === 'container' ) {\n\t\t\t\t// Focus the popover panel itself so items in the popover are easily\n\t\t\t\t// accessed via keyboard navigation.\n\t\t\t\tcontentRef.current.focus();\n\t\t\t}\n\t\t}, 0 );\n\n\t\treturn () => clearTimeout( focusTimeout );\n\t}, [] );\n}\n\n/**\n * Sets or removes an element attribute.\n *\n * @param {Element} element The element to modify.\n * @param {string}  name    The attribute name to set or remove.\n * @param {?string} value   The value to set. A falsy value will remove the\n *                          attribute.\n */\nfunction setAttribute( element, name, value ) {\n\tif ( ! value ) {\n\t\tif ( element.hasAttribute( name ) ) {\n\t\t\telement.removeAttribute( name );\n\t\t}\n\t} else if ( element.getAttribute( name ) !== value ) {\n\t\telement.setAttribute( name, value );\n\t}\n}\n\n/**\n * Sets or removes an element style property.\n *\n * @param {Element} element  The element to modify.\n * @param {string}  property The property to set or remove.\n * @param {?string} value    The value to set. A falsy value will remove the\n *                           property.\n */\nfunction setStyle( element, property, value = '' ) {\n\tif ( element.style[ property ] !== value ) {\n\t\telement.style[ property ] = value;\n\t}\n}\n\n/**\n * Sets or removes an element class.\n *\n * @param {Element} element The element to modify.\n * @param {string}  name    The class to set or remove.\n * @param {boolean} toggle  True to set the class, false to remove.\n */\nfunction setClass( element, name, toggle ) {\n\tif ( toggle ) {\n\t\tif ( ! element.classList.contains( name ) ) {\n\t\t\telement.classList.add( name );\n\t\t}\n\t} else if ( element.classList.contains( name ) ) {\n\t\telement.classList.remove( name );\n\t}\n}\n\nconst Popover = ( {\n\theaderTitle,\n\tonClose,\n\tonKeyDown,\n\tchildren,\n\tclassName,\n\tnoArrow = true,\n\tisAlternate,\n\t// Disable reason: We generate the `...contentProps` rest as remainder\n\t// of props which aren't explicitly handled by this component.\n\t/* eslint-disable no-unused-vars */\n\tposition = 'bottom right',\n\trange,\n\tfocusOnMount = 'firstElement',\n\tanchorRef,\n\tshouldAnchorIncludePadding,\n\tanchorRect,\n\tgetAnchorRect,\n\texpandOnMobile,\n\tanimate = true,\n\tonClickOutside,\n\tonFocusOutside,\n\t__unstableSticky,\n\t__unstableSlotName = SLOT_NAME,\n\t__unstableAllowVerticalSubpixelPosition,\n\t__unstableAllowHorizontalSubpixelPosition,\n\t__unstableFixedPosition = true,\n\t__unstableBoundaryParent,\n\t/* eslint-enable no-unused-vars */\n\t...contentProps\n} ) => {\n\tconst anchorRefFallback = useRef( null );\n\tconst contentRef = useRef( null );\n\tconst containerRef = useRef();\n\tconst contentRect = useRef();\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst [ animateOrigin, setAnimateOrigin ] = useState();\n\tconst slot = useSlot( __unstableSlotName );\n\tconst isExpanded = expandOnMobile && isMobileViewport;\n\n\tnoArrow = isExpanded || noArrow;\n\n\tuseEffect( () => {\n\t\tif ( isExpanded ) {\n\t\t\tsetClass( containerRef.current, 'is-without-arrow', noArrow );\n\t\t\tsetClass( containerRef.current, 'is-alternate', isAlternate );\n\t\t\tsetAttribute( containerRef.current, 'data-x-axis' );\n\t\t\tsetAttribute( containerRef.current, 'data-y-axis' );\n\t\t\tsetStyle( containerRef.current, 'top' );\n\t\t\tsetStyle( containerRef.current, 'left' );\n\t\t\tsetStyle( contentRef.current, 'maxHeight' );\n\t\t\tsetStyle( contentRef.current, 'maxWidth' );\n\t\t\tsetStyle( containerRef.current, 'position' );\n\t\t\treturn;\n\t\t}\n\n\t\tconst refresh = ( { subpixels } = {} ) => {\n\t\t\tif ( ! containerRef.current || ! contentRef.current ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet anchor = computeAnchorRect(\n\t\t\t\tanchorRefFallback,\n\t\t\t\tanchorRect,\n\t\t\t\tgetAnchorRect,\n\t\t\t\tanchorRef,\n\t\t\t\tshouldAnchorIncludePadding\n\t\t\t);\n\n\t\t\tif ( ! anchor ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! contentRect.current ) {\n\t\t\t\tcontentRect.current = contentRef.current.getBoundingClientRect();\n\t\t\t}\n\n\t\t\tlet relativeOffsetTop = 0;\n\n\t\t\t// If there is a positioned ancestor element that is not the body,\n\t\t\t// subtract the position from the anchor rect. If the position of\n\t\t\t// the popover is fixed, the offset parent is null or the body\n\t\t\t// element, in which case the position is relative to the viewport.\n\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\n\t\t\tif ( ! __unstableFixedPosition ) {\n\t\t\t\tsetStyle( containerRef.current, 'position', 'absolute' );\n\n\t\t\t\tconst { offsetParent } = containerRef.current;\n\t\t\t\tconst offsetParentRect = offsetParent.getBoundingClientRect();\n\n\t\t\t\trelativeOffsetTop = offsetParentRect.top;\n\t\t\t\tanchor = new window.DOMRect(\n\t\t\t\t\tanchor.left - offsetParentRect.left,\n\t\t\t\t\tanchor.top - offsetParentRect.top,\n\t\t\t\t\tanchor.width,\n\t\t\t\t\tanchor.height\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tsetStyle( containerRef.current, 'position' );\n\t\t\t}\n\n\t\t\tlet boundaryElement;\n\t\t\tif ( __unstableBoundaryParent ) {\n\t\t\t\tboundaryElement = containerRef.current.closest(\n\t\t\t\t\t'.popover-slot'\n\t\t\t\t).parentNode;\n\t\t\t}\n\n\t\t\tconst {\n\t\t\t\tpopoverTop,\n\t\t\t\tpopoverLeft,\n\t\t\t\txAxis,\n\t\t\t\tyAxis,\n\t\t\t\tcontentHeight,\n\t\t\t\tcontentWidth,\n\t\t\t} = computePopoverPosition(\n\t\t\t\tanchor,\n\t\t\t\tcontentRect.current,\n\t\t\t\tposition,\n\t\t\t\t__unstableSticky,\n\t\t\t\tcontainerRef.current,\n\t\t\t\trelativeOffsetTop,\n\t\t\t\tboundaryElement\n\t\t\t);\n\n\t\t\tif (\n\t\t\t\ttypeof popoverTop === 'number' &&\n\t\t\t\ttypeof popoverLeft === 'number'\n\t\t\t) {\n\t\t\t\tif ( subpixels && __unstableAllowVerticalSubpixelPosition ) {\n\t\t\t\t\tsetStyle(\n\t\t\t\t\t\tcontainerRef.current,\n\t\t\t\t\t\t'left',\n\t\t\t\t\t\tpopoverLeft + 'px'\n\t\t\t\t\t);\n\t\t\t\t\tsetStyle( containerRef.current, 'top' );\n\t\t\t\t\tsetStyle(\n\t\t\t\t\t\tcontainerRef.current,\n\t\t\t\t\t\t'transform',\n\t\t\t\t\t\t`translateY(${ popoverTop }px)`\n\t\t\t\t\t);\n\t\t\t\t} else if (\n\t\t\t\t\tsubpixels &&\n\t\t\t\t\t__unstableAllowHorizontalSubpixelPosition\n\t\t\t\t) {\n\t\t\t\t\tsetStyle( containerRef.current, 'top', popoverTop + 'px' );\n\t\t\t\t\tsetStyle( containerRef.current, 'left' );\n\t\t\t\t\tsetStyle(\n\t\t\t\t\t\tcontainerRef.current,\n\t\t\t\t\t\t'transform',\n\t\t\t\t\t\t`translate(${ popoverLeft }px)`\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tsetStyle( containerRef.current, 'top', popoverTop + 'px' );\n\t\t\t\t\tsetStyle(\n\t\t\t\t\t\tcontainerRef.current,\n\t\t\t\t\t\t'left',\n\t\t\t\t\t\tpopoverLeft + 'px'\n\t\t\t\t\t);\n\t\t\t\t\tsetStyle( containerRef.current, 'transform' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetClass(\n\t\t\t\tcontainerRef.current,\n\t\t\t\t'is-without-arrow',\n\t\t\t\tnoArrow || ( xAxis === 'center' && yAxis === 'middle' )\n\t\t\t);\n\t\t\tsetClass( containerRef.current, 'is-alternate', isAlternate );\n\t\t\tsetAttribute( containerRef.current, 'data-x-axis', xAxis );\n\t\t\tsetAttribute( containerRef.current, 'data-y-axis', yAxis );\n\t\t\tsetStyle(\n\t\t\t\tcontentRef.current,\n\t\t\t\t'maxHeight',\n\t\t\t\ttypeof contentHeight === 'number' ? contentHeight + 'px' : ''\n\t\t\t);\n\t\t\tsetStyle(\n\t\t\t\tcontentRef.current,\n\t\t\t\t'maxWidth',\n\t\t\t\ttypeof contentWidth === 'number' ? contentWidth + 'px' : ''\n\t\t\t);\n\n\t\t\t// Compute the animation position\n\t\t\tconst yAxisMapping = {\n\t\t\t\ttop: 'bottom',\n\t\t\t\tbottom: 'top',\n\t\t\t};\n\t\t\tconst xAxisMapping = {\n\t\t\t\tleft: 'right',\n\t\t\t\tright: 'left',\n\t\t\t};\n\t\t\tconst animateYAxis = yAxisMapping[ yAxis ] || 'middle';\n\t\t\tconst animateXAxis = xAxisMapping[ xAxis ] || 'center';\n\n\t\t\tsetAnimateOrigin( animateXAxis + ' ' + animateYAxis );\n\t\t};\n\n\t\t// Height may still adjust between now and the next tick.\n\t\tconst timeoutId = window.setTimeout( refresh );\n\n\t\t/*\n\t\t * There are sometimes we need to reposition or resize the popover that\n\t\t * are not handled by the resize/scroll window events (i.e. CSS changes\n\t\t * in the layout that changes the position of the anchor).\n\t\t *\n\t\t * For these situations, we refresh the popover every 0.5s\n\t\t */\n\t\tconst intervalHandle = window.setInterval( refresh, 500 );\n\n\t\tlet rafId;\n\n\t\tconst refreshOnAnimationFrame = () => {\n\t\t\twindow.cancelAnimationFrame( rafId );\n\t\t\trafId = window.requestAnimationFrame( refresh );\n\t\t};\n\n\t\t// Sometimes a click trigger a layout change that affects the popover\n\t\t// position. This is an opportunity to immediately refresh rather than\n\t\t// at the interval.\n\t\twindow.addEventListener( 'click', refreshOnAnimationFrame );\n\t\twindow.addEventListener( 'resize', refresh );\n\t\twindow.addEventListener( 'scroll', refresh, true );\n\n\t\tlet observer;\n\n\t\tconst observeElement =\n\t\t\t__unstableAllowVerticalSubpixelPosition ||\n\t\t\t__unstableAllowHorizontalSubpixelPosition;\n\n\t\tif ( observeElement ) {\n\t\t\tobserver = new window.MutationObserver( () =>\n\t\t\t\trefresh( { subpixels: true } )\n\t\t\t);\n\t\t\tobserver.observe( observeElement, { attributes: true } );\n\t\t}\n\n\t\treturn () => {\n\t\t\twindow.clearTimeout( timeoutId );\n\t\t\twindow.clearInterval( intervalHandle );\n\t\t\twindow.removeEventListener( 'resize', refresh );\n\t\t\twindow.removeEventListener( 'scroll', refresh, true );\n\t\t\twindow.removeEventListener( 'click', refreshOnAnimationFrame );\n\t\t\twindow.cancelAnimationFrame( rafId );\n\n\t\t\tif ( observer ) {\n\t\t\t\tobserver.disconnect();\n\t\t\t}\n\t\t};\n\t}, [\n\t\tisExpanded,\n\t\tanchorRect,\n\t\tgetAnchorRect,\n\t\tanchorRef,\n\t\tshouldAnchorIncludePadding,\n\t\tposition,\n\t\t__unstableSticky,\n\t\t__unstableAllowVerticalSubpixelPosition,\n\t\t__unstableAllowHorizontalSubpixelPosition,\n\t\t__unstableBoundaryParent,\n\t] );\n\n\tuseFocusContentOnMount( focusOnMount, contentRef );\n\n\t// Event handlers\n\tconst maybeClose = ( event ) => {\n\t\t// Close on escape\n\t\tif ( event.keyCode === ESCAPE && onClose ) {\n\t\t\tevent.stopPropagation();\n\t\t\tonClose();\n\t\t}\n\n\t\t// Preserve original content prop behavior\n\t\tif ( onKeyDown ) {\n\t\t\tonKeyDown( event );\n\t\t}\n\t};\n\n\t/**\n\t * Shims an onFocusOutside callback to be compatible with a deprecated\n\t * onClickOutside prop function, if provided.\n\t *\n\t * @param {FocusEvent} event Focus event from onFocusOutside.\n\t */\n\tfunction handleOnFocusOutside( event ) {\n\t\t// Defer to given `onFocusOutside` if specified. Call `onClose` only if\n\t\t// both `onFocusOutside` and `onClickOutside` are unspecified. Doing so\n\t\t// assures backwards-compatibility for prior `onClickOutside` default.\n\t\tif ( onFocusOutside ) {\n\t\t\tonFocusOutside( event );\n\t\t\treturn;\n\t\t} else if ( ! onClickOutside ) {\n\t\t\tif ( onClose ) {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Simulate MouseEvent using FocusEvent#relatedTarget as emulated click\n\t\t// target. MouseEvent constructor is unsupported in Internet Explorer.\n\t\tlet clickEvent;\n\t\ttry {\n\t\t\tclickEvent = new window.MouseEvent( 'click' );\n\t\t} catch ( error ) {\n\t\t\tclickEvent = document.createEvent( 'MouseEvent' );\n\t\t\tclickEvent.initMouseEvent(\n\t\t\t\t'click',\n\t\t\t\ttrue,\n\t\t\t\ttrue,\n\t\t\t\twindow,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tfalse,\n\t\t\t\tfalse,\n\t\t\t\tfalse,\n\t\t\t\tfalse,\n\t\t\t\t0,\n\t\t\t\tnull\n\t\t\t);\n\t\t}\n\n\t\tObject.defineProperty( clickEvent, 'target', {\n\t\t\tget: () => event.relatedTarget,\n\t\t} );\n\n\t\tdeprecated( 'Popover onClickOutside prop', {\n\t\t\talternative: 'onFocusOutside',\n\t\t} );\n\n\t\tonClickOutside( clickEvent );\n\t}\n\n\t// Disable reason: We care to capture the _bubbled_ events from inputs\n\t// within popover as inferring close intent.\n\n\tlet content = (\n\t\t<PopoverDetectOutside onFocusOutside={ handleOnFocusOutside }>\n\t\t\t<Animate\n\t\t\t\ttype={ animate && animateOrigin ? 'appear' : null }\n\t\t\t\toptions={ { origin: animateOrigin } }\n\t\t\t>\n\t\t\t\t{ ( { className: animateClassName } ) => (\n\t\t\t\t\t<IsolatedEventContainer\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'components-popover',\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\tanimateClassName,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-expanded': isExpanded,\n\t\t\t\t\t\t\t\t'is-without-arrow': noArrow,\n\t\t\t\t\t\t\t\t'is-alternate': isAlternate,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ...contentProps }\n\t\t\t\t\t\tonKeyDown={ maybeClose }\n\t\t\t\t\t\tref={ containerRef }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ isExpanded && <ScrollLock /> }\n\t\t\t\t\t\t{ isExpanded && (\n\t\t\t\t\t\t\t<div className=\"components-popover__header\">\n\t\t\t\t\t\t\t\t<span className=\"components-popover__header-title\">\n\t\t\t\t\t\t\t\t\t{ headerTitle }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"components-popover__close\"\n\t\t\t\t\t\t\t\t\ticon={ close }\n\t\t\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref={ contentRef }\n\t\t\t\t\t\t\tclassName=\"components-popover__content\"\n\t\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</IsolatedEventContainer>\n\t\t\t\t) }\n\t\t\t</Animate>\n\t\t</PopoverDetectOutside>\n\t);\n\n\t// Apply focus to element as long as focusOnMount is truthy; false is\n\t// the only \"disabled\" value.\n\tif ( focusOnMount ) {\n\t\tcontent = <FocusManaged>{ content }</FocusManaged>;\n\t}\n\n\tif ( slot.ref ) {\n\t\tcontent = <Fill name={ __unstableSlotName }>{ content }</Fill>;\n\t}\n\n\tif ( anchorRef || anchorRect ) {\n\t\treturn content;\n\t}\n\n\treturn <span ref={ anchorRefFallback }>{ content }</span>;\n};\n\nconst PopoverContainer = Popover;\n\nPopoverContainer.Slot = ( { name = SLOT_NAME } ) => (\n\t<Slot bubblesVirtually name={ name } className=\"popover-slot\" />\n);\n\nexport default PopoverContainer;\n","/**\n * External dependencies\n */\nimport { isString, isObject } from 'lodash';\n\nfunction Shortcut( { shortcut, className } ) {\n\tif ( ! shortcut ) {\n\t\treturn null;\n\t}\n\n\tlet displayText;\n\tlet ariaLabel;\n\n\tif ( isString( shortcut ) ) {\n\t\tdisplayText = shortcut;\n\t}\n\n\tif ( isObject( shortcut ) ) {\n\t\tdisplayText = shortcut.display;\n\t\tariaLabel = shortcut.ariaLabel;\n\t}\n\n\treturn (\n\t\t<span className={ className } aria-label={ ariaLabel }>\n\t\t\t{ displayText }\n\t\t</span>\n\t);\n}\n\nexport default Shortcut;\n","/**\n * External dependencies\n */\nimport { debounce, includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tComponent,\n\tChildren,\n\tcloneElement,\n\tconcatChildren,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Popover from '../popover';\nimport Shortcut from '../shortcut';\n\n/**\n * Time over children to wait before showing tooltip\n *\n * @type {number}\n */\nconst TOOLTIP_DELAY = 700;\n\nclass Tooltip extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.delayedSetIsOver = debounce(\n\t\t\t( isOver ) => this.setState( { isOver } ),\n\t\t\tTOOLTIP_DELAY\n\t\t);\n\n\t\t/**\n\t\t * Prebound `isInMouseDown` handler, created as a constant reference to\n\t\t * assure ability to remove in component unmount.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tthis.cancelIsMouseDown = this.createSetIsMouseDown( false );\n\n\t\t/**\n\t\t * Whether a the mouse is currently pressed, used in determining whether\n\t\t * to handle a focus event as displaying the tooltip immediately.\n\t\t *\n\t\t * @type {boolean}\n\t\t */\n\t\tthis.isInMouseDown = false;\n\n\t\tthis.state = {\n\t\t\tisOver: false,\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.delayedSetIsOver.cancel();\n\n\t\tdocument.removeEventListener( 'mouseup', this.cancelIsMouseDown );\n\t}\n\n\temitToChild( eventName, event ) {\n\t\tconst { children } = this.props;\n\t\tif ( Children.count( children ) !== 1 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst child = Children.only( children );\n\t\tif ( typeof child.props[ eventName ] === 'function' ) {\n\t\t\tchild.props[ eventName ]( event );\n\t\t}\n\t}\n\n\tcreateToggleIsOver( eventName, isDelayed ) {\n\t\treturn ( event ) => {\n\t\t\t// Preserve original child callback behavior\n\t\t\tthis.emitToChild( eventName, event );\n\n\t\t\t// Mouse events behave unreliably in React for disabled elements,\n\t\t\t// firing on mouseenter but not mouseleave.  Further, the default\n\t\t\t// behavior for disabled elements in some browsers is to ignore\n\t\t\t// mouse events. Don't bother trying to to handle them.\n\t\t\t//\n\t\t\t// See: https://github.com/facebook/react/issues/4251\n\t\t\tif ( event.currentTarget.disabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// A focus event will occur as a result of a mouse click, but it\n\t\t\t// should be disambiguated between interacting with the button and\n\t\t\t// using an explicit focus shift as a cue to display the tooltip.\n\t\t\tif ( 'focus' === event.type && this.isInMouseDown ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Needed in case unsetting is over while delayed set pending, i.e.\n\t\t\t// quickly blur/mouseleave before delayedSetIsOver is called\n\t\t\tthis.delayedSetIsOver.cancel();\n\n\t\t\tconst isOver = includes( [ 'focus', 'mouseenter' ], event.type );\n\t\t\tif ( isOver === this.state.isOver ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isDelayed ) {\n\t\t\t\tthis.delayedSetIsOver( isOver );\n\t\t\t} else {\n\t\t\t\tthis.setState( { isOver } );\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Creates an event callback to handle assignment of the `isInMouseDown`\n\t * instance property in response to a `mousedown` or `mouseup` event.\n\t *\n\t * @param {boolean} isMouseDown Whether handler is to be created for the\n\t *                              `mousedown` event, as opposed to `mouseup`.\n\t *\n\t * @return {Function} Event callback handler.\n\t */\n\tcreateSetIsMouseDown( isMouseDown ) {\n\t\treturn ( event ) => {\n\t\t\t// Preserve original child callback behavior\n\t\t\tthis.emitToChild(\n\t\t\t\tisMouseDown ? 'onMouseDown' : 'onMouseUp',\n\t\t\t\tevent\n\t\t\t);\n\n\t\t\t// On mouse down, the next `mouseup` should revert the value of the\n\t\t\t// instance property and remove its own event handler. The bind is\n\t\t\t// made on the document since the `mouseup` might not occur within\n\t\t\t// the bounds of the element.\n\t\t\tdocument[\n\t\t\t\tisMouseDown ? 'addEventListener' : 'removeEventListener'\n\t\t\t]( 'mouseup', this.cancelIsMouseDown );\n\n\t\t\tthis.isInMouseDown = isMouseDown;\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { children, position, text, shortcut } = this.props;\n\t\tif ( Children.count( children ) !== 1 ) {\n\t\t\tif ( 'development' === process.env.NODE_ENV ) {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Tooltip should be called with only a single child element.'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn children;\n\t\t}\n\n\t\tconst child = Children.only( children );\n\t\tconst { isOver } = this.state;\n\t\treturn cloneElement( child, {\n\t\t\tonMouseEnter: this.createToggleIsOver( 'onMouseEnter', true ),\n\t\t\tonMouseLeave: this.createToggleIsOver( 'onMouseLeave' ),\n\t\t\tonClick: this.createToggleIsOver( 'onClick' ),\n\t\t\tonFocus: this.createToggleIsOver( 'onFocus' ),\n\t\t\tonBlur: this.createToggleIsOver( 'onBlur' ),\n\t\t\tonMouseDown: this.createSetIsMouseDown( true ),\n\t\t\tchildren: concatChildren(\n\t\t\t\tchild.props.children,\n\t\t\t\tisOver && (\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tfocusOnMount={ false }\n\t\t\t\t\t\tposition={ position }\n\t\t\t\t\t\tclassName=\"components-tooltip\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\tanimate={ false }\n\t\t\t\t\t\tnoArrow={ true }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ text }\n\t\t\t\t\t\t<Shortcut\n\t\t\t\t\t\t\tclassName=\"components-tooltip__shortcut\"\n\t\t\t\t\t\t\tshortcut={ shortcut }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Popover>\n\t\t\t\t)\n\t\t\t),\n\t\t} );\n\t}\n}\n\nexport default Tooltip;\n","/* !!!\nIF YOU ARE EDITING dashicon/index.jsx\nTHEN YOU ARE EDITING A FILE THAT GETS OUTPUT FROM THE DASHICONS REPO!\nDO NOT EDIT THAT FILE! EDIT index-header.jsx and index-footer.jsx instead\nOR if you're looking to change now SVGs get output, you'll need to edit strings in the Gruntfile :)\n!!! */\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport default class Dashicon extends Component {\n\trender() {\n\t\tconst { icon, size = 20, className, ...extraProps } = this.props;\n\t\tlet path;\n\n\t\tswitch ( icon ) {\n\t\t\tcase 'admin-appearance':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.48 11.06L7.41 3.99l1.5-1.5c.5-.56 2.3-.47 3.51.32 1.21.8 1.43 1.28 2.91 2.1 1.18.64 2.45 1.26 4.45.85zm-.71.71L6.7 4.7 4.93 6.47c-.39.39-.39 1.02 0 1.41l1.06 1.06c.39.39.39 1.03 0 1.42-.6.6-1.43 1.11-2.21 1.69-.35.26-.7.53-1.01.84C1.43 14.23.4 16.08 1.4 17.07c.99 1 2.84-.03 4.18-1.36.31-.31.58-.66.85-1.02.57-.78 1.08-1.61 1.69-2.21.39-.39 1.02-.39 1.41 0l1.06 1.06c.39.39 1.02.39 1.41 0z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-collapse':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2.16c4.33 0 7.84 3.51 7.84 7.84s-3.51 7.84-7.84 7.84S2.16 14.33 2.16 10 5.71 2.16 10 2.16zm2 11.72V6.12L6.18 9.97z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-comments':\n\t\t\t\tpath =\n\t\t\t\t\t'M5 2h9c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2h-2l-5 5v-5H5c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-customizer':\n\t\t\t\tpath =\n\t\t\t\t\t'M18.33 3.57s.27-.8-.31-1.36c-.53-.52-1.22-.24-1.22-.24-.61.3-5.76 3.47-7.67 5.57-.86.96-2.06 3.79-1.09 4.82.92.98 3.96-.17 4.79-1 2.06-2.06 5.21-7.17 5.5-7.79zM1.4 17.65c2.37-1.56 1.46-3.41 3.23-4.64.93-.65 2.22-.62 3.08.29.63.67.8 2.57-.16 3.46-1.57 1.45-4 1.55-6.15.89z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-generic':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 12h-2.18c-.17.7-.44 1.35-.81 1.93l1.54 1.54-2.1 2.1-1.54-1.54c-.58.36-1.23.63-1.91.79V19H8v-2.18c-.68-.16-1.33-.43-1.91-.79l-1.54 1.54-2.12-2.12 1.54-1.54c-.36-.58-.63-1.23-.79-1.91H1V9.03h2.17c.16-.7.44-1.35.8-1.94L2.43 5.55l2.1-2.1 1.54 1.54c.58-.37 1.24-.64 1.93-.81V2h3v2.18c.68.16 1.33.43 1.91.79l1.54-1.54 2.12 2.12-1.54 1.54c.36.59.64 1.24.8 1.94H18V12zm-8.5 1.5c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-home':\n\t\t\t\tpath =\n\t\t\t\t\t'M16 8.5l1.53 1.53-1.06 1.06L10 4.62l-6.47 6.47-1.06-1.06L10 2.5l4 4v-2h2v4zm-6-2.46l6 5.99V18H4v-5.97zM12 17v-5H8v5h4z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-links':\n\t\t\t\tpath =\n\t\t\t\t\t'M17.74 2.76c1.68 1.69 1.68 4.41 0 6.1l-1.53 1.52c-1.12 1.12-2.7 1.47-4.14 1.09l2.62-2.61.76-.77.76-.76c.84-.84.84-2.2 0-3.04-.84-.85-2.2-.85-3.04 0l-.77.76-3.38 3.38c-.37-1.44-.02-3.02 1.1-4.14l1.52-1.53c1.69-1.68 4.42-1.68 6.1 0zM8.59 13.43l5.34-5.34c.42-.42.42-1.1 0-1.52-.44-.43-1.13-.39-1.53 0l-5.33 5.34c-.42.42-.42 1.1 0 1.52.44.43 1.13.39 1.52 0zm-.76 2.29l4.14-4.15c.38 1.44.03 3.02-1.09 4.14l-1.52 1.53c-1.69 1.68-4.41 1.68-6.1 0-1.68-1.68-1.68-4.42 0-6.1l1.53-1.52c1.12-1.12 2.7-1.47 4.14-1.1l-4.14 4.15c-.85.84-.85 2.2 0 3.05.84.84 2.2.84 3.04 0z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-media':\n\t\t\t\tpath =\n\t\t\t\t\t'M13 11V4c0-.55-.45-1-1-1h-1.67L9 1H5L3.67 3H2c-.55 0-1 .45-1 1v7c0 .55.45 1 1 1h10c.55 0 1-.45 1-1zM7 4.5c1.38 0 2.5 1.12 2.5 2.5S8.38 9.5 7 9.5 4.5 8.38 4.5 7 5.62 4.5 7 4.5zM14 6h5v10.5c0 1.38-1.12 2.5-2.5 2.5S14 17.88 14 16.5s1.12-2.5 2.5-2.5c.17 0 .34.02.5.05V9h-3V6zm-4 8.05V13h2v3.5c0 1.38-1.12 2.5-2.5 2.5S7 17.88 7 16.5 8.12 14 9.5 14c.17 0 .34.02.5.05z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-multisite':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.27 6.87L10 3.14 5.73 6.87 5 6.14l5-4.38 5 4.38zM14 8.42l-4.05 3.43L6 8.38v-.74l4-3.5 4 3.5v.78zM11 9.7V8H9v1.7h2zm-1.73 4.03L5 10 .73 13.73 0 13l5-4.38L10 13zm10 0L15 10l-4.27 3.73L10 13l5-4.38L20 13zM5 11l4 3.5V18H1v-3.5zm10 0l4 3.5V18h-8v-3.5zm-9 6v-2H4v2h2zm10 0v-2h-2v2h2z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-network':\n\t\t\t\tpath =\n\t\t\t\t\t'M16.95 2.58c1.96 1.95 1.96 5.12 0 7.07-1.51 1.51-3.75 1.84-5.59 1.01l-1.87 3.31-2.99.31L5 18H2l-1-2 7.95-7.69c-.92-1.87-.62-4.18.93-5.73 1.95-1.96 5.12-1.96 7.07 0zm-2.51 3.79c.74 0 1.33-.6 1.33-1.34 0-.73-.59-1.33-1.33-1.33-.73 0-1.33.6-1.33 1.33 0 .74.6 1.34 1.33 1.34z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-page':\n\t\t\t\tpath = 'M6 15V2h10v13H6zm-1 1h8v2H3V5h2v11z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-plugins':\n\t\t\t\tpath =\n\t\t\t\t\t'M13.11 4.36L9.87 7.6 8 5.73l3.24-3.24c.35-.34 1.05-.2 1.56.32.52.51.66 1.21.31 1.55zm-8 1.77l.91-1.12 9.01 9.01-1.19.84c-.71.71-2.63 1.16-3.82 1.16H6.14L4.9 17.26c-.59.59-1.54.59-2.12 0-.59-.58-.59-1.53 0-2.12l1.24-1.24v-3.88c0-1.13.4-3.19 1.09-3.89zm7.26 3.97l3.24-3.24c.34-.35 1.04-.21 1.55.31.52.51.66 1.21.31 1.55l-3.24 3.25z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-post':\n\t\t\t\tpath =\n\t\t\t\t\t'M10.44 3.02l1.82-1.82 6.36 6.35-1.83 1.82c-1.05-.68-2.48-.57-3.41.36l-.75.75c-.92.93-1.04 2.35-.35 3.41l-1.83 1.82-2.41-2.41-2.8 2.79c-.42.42-3.38 2.71-3.8 2.29s1.86-3.39 2.28-3.81l2.79-2.79L4.1 9.36l1.83-1.82c1.05.69 2.48.57 3.4-.36l.75-.75c.93-.92 1.05-2.35.36-3.41z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-settings':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 16V4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h13c.55 0 1-.45 1-1zM8 11h1c.55 0 1 .45 1 1s-.45 1-1 1H8v1.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5V13H6c-.55 0-1-.45-1-1s.45-1 1-1h1V5.5c0-.28.22-.5.5-.5s.5.22.5.5V11zm5-2h-1c-.55 0-1-.45-1-1s.45-1 1-1h1V5.5c0-.28.22-.5.5-.5s.5.22.5.5V7h1c.55 0 1 .45 1 1s-.45 1-1 1h-1v5.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5V9z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-site-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M9 0C4.03 0 0 4.03 0 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm7.5 6.48c-.274.896-.908 1.64-1.75 2.05-.45-1.69-1.658-3.074-3.27-3.75.13-.444.41-.83.79-1.09-.43-.28-1-.42-1.34.07-.53.69 0 1.61.21 2v.14c-.555-.337-.99-.84-1.24-1.44-.966-.03-1.922.208-2.76.69-.087-.565-.032-1.142.16-1.68.733.07 1.453-.23 1.92-.8.46-.52-.13-1.18-.59-1.58h.36c1.36-.01 2.702.335 3.89 1 1.36 1.005 2.194 2.57 2.27 4.26.24 0 .7-.55.91-.92.172.34.32.69.44 1.05zM9 16.84c-2.05-2.08.25-3.75-1-5.24-.92-.85-2.29-.26-3.11-1.23-.282-1.473.267-2.982 1.43-3.93.52-.44 4-1 5.42.22.83.715 1.415 1.674 1.67 2.74.46.035.918-.066 1.32-.29.41 2.98-3.15 6.74-5.73 7.73zM5.15 2.09c.786-.3 1.676-.028 2.16.66-.42.38-.94.63-1.5.72.02-.294.085-.584.19-.86l-.85-.52z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-site-alt2':\n\t\t\t\tpath =\n\t\t\t\t\t'M9 0C4.03 0 0 4.03 0 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm2.92 12.34c0 .35.14.63.36.66.22.03.47-.22.58-.6l.2.08c.718.384 1.07 1.22.84 2-.15.69-.743 1.198-1.45 1.24-.49-1.21-2.11.06-3.56-.22-.612-.154-1.11-.6-1.33-1.19 1.19-.11 2.85-1.73 4.36-1.97zM8 11.27c.918 0 1.695-.68 1.82-1.59.44.54.41 1.324-.07 1.83-.255.223-.594.325-.93.28-.335-.047-.635-.236-.82-.52zm3-.76c.41.39 3-.06 3.52 1.09-.95-.2-2.95.61-3.47-1.08l-.05-.01zM9.73 5.45v.27c-.65-.77-1.33-1.07-1.61-.57-.28.5 1 1.11.76 1.88-.24.77-1.27.56-1.88 1.61-.61 1.05-.49 2.42 1.24 3.67-1.192-.132-2.19-.962-2.54-2.11-.4-1.2-.09-2.26-.78-2.46C4 7.46 3 8.71 3 9.8c-1.26-1.26.05-2.86-1.2-4.18C3.5 1.998 7.644.223 11.44 1.49c-1.1 1.02-1.722 2.458-1.71 3.96z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-site-alt3':\n\t\t\t\tpath =\n\t\t\t\t\t'M9 0C4.03 0 0 4.03 0 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zM1.11 9.68h2.51c.04.91.167 1.814.38 2.7H1.84c-.403-.85-.65-1.764-.73-2.7zm8.57-5.4V1.19c.964.366 1.756 1.08 2.22 2 .205.347.386.708.54 1.08l-2.76.01zm3.22 1.35c.232.883.37 1.788.41 2.7H9.68v-2.7h3.22zM8.32 1.19v3.09H5.56c.154-.372.335-.733.54-1.08.462-.924 1.255-1.64 2.22-2.01zm0 4.44v2.7H4.7c.04-.912.178-1.817.41-2.7h3.21zm-4.7 2.69H1.11c.08-.936.327-1.85.73-2.7H4c-.213.886-.34 1.79-.38 2.7zM4.7 9.68h3.62v2.7H5.11c-.232-.883-.37-1.788-.41-2.7zm3.63 4v3.09c-.964-.366-1.756-1.08-2.22-2-.205-.347-.386-.708-.54-1.08l2.76-.01zm1.35 3.09v-3.04h2.76c-.154.372-.335.733-.54 1.08-.464.92-1.256 1.634-2.22 2v-.04zm0-4.44v-2.7h3.62c-.04.912-.178 1.817-.41 2.7H9.68zm4.71-2.7h2.51c-.08.936-.327 1.85-.73 2.7H14c.21-.87.337-1.757.38-2.65l.01-.05zm0-1.35c-.046-.894-.176-1.78-.39-2.65h2.16c.403.85.65 1.764.73 2.7l-2.5-.05zm1-4H13.6c-.324-.91-.793-1.76-1.39-2.52 1.244.56 2.325 1.426 3.14 2.52h.04zm-9.6-2.52c-.597.76-1.066 1.61-1.39 2.52H2.65c.815-1.094 1.896-1.96 3.14-2.52zm-3.15 12H4.4c.324.91.793 1.76 1.39 2.52-1.248-.567-2.33-1.445-3.14-2.55l-.01.03zm9.56 2.52c.597-.76 1.066-1.61 1.39-2.52h1.76c-.82 1.08-1.9 1.933-3.14 2.48l-.01.04z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-site':\n\t\t\t\tpath =\n\t\t\t\t\t'M9 0C4.03 0 0 4.03 0 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm3.46 11.95c0 1.47-.8 3.3-4.06 4.7.3-4.17-2.52-3.69-3.2-5 .126-1.1.804-2.063 1.8-2.55-1.552-.266-3-.96-4.18-2 .05.47.28.904.64 1.21-.782-.295-1.458-.817-1.94-1.5.977-3.225 3.883-5.482 7.25-5.63-.84 1.38-1.5 4.13 0 5.57C7.23 7 6.26 5 5.41 5.79c-1.13 1.06.33 2.51 3.42 3.08 3.29.59 3.66 1.58 3.63 3.08zm1.34-4c-.32-1.11.62-2.23 1.69-3.14 1.356 1.955 1.67 4.45.84 6.68-.77-1.89-2.17-2.32-2.53-3.57v.03z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-tools':\n\t\t\t\tpath =\n\t\t\t\t\t'M16.68 9.77c-1.34 1.34-3.3 1.67-4.95.99l-5.41 6.52c-.99.99-2.59.99-3.58 0s-.99-2.59 0-3.57l6.52-5.42c-.68-1.65-.35-3.61.99-4.95 1.28-1.28 3.12-1.62 4.72-1.06l-2.89 2.89 2.82 2.82 2.86-2.87c.53 1.58.18 3.39-1.08 4.65zM3.81 16.21c.4.39 1.04.39 1.43 0 .4-.4.4-1.04 0-1.43-.39-.4-1.03-.4-1.43 0-.39.39-.39 1.03 0 1.43z';\n\t\t\t\tbreak;\n\t\t\tcase 'admin-users':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 9.25c-2.27 0-2.73-3.44-2.73-3.44C7 4.02 7.82 2 9.97 2c2.16 0 2.98 2.02 2.71 3.81 0 0-.41 3.44-2.68 3.44zm0 2.57L12.72 10c2.39 0 4.52 2.33 4.52 4.53v2.49s-3.65 1.13-7.24 1.13c-3.65 0-7.24-1.13-7.24-1.13v-2.49c0-2.25 1.94-4.48 4.47-4.48z';\n\t\t\t\tbreak;\n\t\t\tcase 'album':\n\t\t\t\tpath =\n\t\t\t\t\t'M0 18h10v-.26c1.52.4 3.17.35 4.76-.24 4.14-1.52 6.27-6.12 4.75-10.26-1.43-3.89-5.58-6-9.51-4.98V2H0v16zM9 3v14H1V3h8zm5.45 8.22c-.68 1.35-2.32 1.9-3.67 1.23-.31-.15-.57-.35-.78-.59V8.13c.8-.86 2.11-1.13 3.22-.58 1.35.68 1.9 2.32 1.23 3.67zm-2.75-.82c.22.16.53.12.7-.1.16-.22.12-.53-.1-.7s-.53-.12-.7.1c-.16.21-.12.53.1.7zm3.01 3.67c-1.17.78-2.56.99-3.83.69-.27-.06-.44-.34-.37-.61s.34-.43.62-.36l.17.04c.96.17 1.98-.01 2.86-.59.47-.32.86-.72 1.14-1.18.15-.23.45-.3.69-.16.23.15.3.46.16.69-.36.57-.84 1.08-1.44 1.48zm1.05 1.57c-1.48.99-3.21 1.32-4.84 1.06-.28-.05-.47-.32-.41-.6.05-.27.32-.45.61-.39l.22.04c1.31.15 2.68-.14 3.87-.94.71-.47 1.27-1.07 1.7-1.74.14-.24.45-.31.68-.16.24.14.31.45.16.69-.49.79-1.16 1.49-1.99 2.04z';\n\t\t\t\tbreak;\n\t\t\tcase 'align-center':\n\t\t\t\tpath = 'M3 5h14V3H3v2zm12 8V7H5v6h10zM3 17h14v-2H3v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'align-full-width':\n\t\t\t\tpath = 'M17 13V3H3v10h14zM5 17h10v-2H5v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'align-left':\n\t\t\t\tpath =\n\t\t\t\t\t'M3 5h14V3H3v2zm9 8V7H3v6h9zm2-4h3V7h-3v2zm0 4h3v-2h-3v2zM3 17h14v-2H3v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'align-none':\n\t\t\t\tpath = 'M3 5h14V3H3v2zm10 8V7H3v6h10zM3 17h14v-2H3v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'align-pull-left':\n\t\t\t\tpath = 'M9 16V4H3v12h6zm2-7h6V7h-6v2zm0 4h6v-2h-6v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'align-pull-right':\n\t\t\t\tpath = 'M17 16V4h-6v12h6zM9 7H3v2h6V7zm0 4H3v2h6v-2z';\n\t\t\t\tbreak;\n\t\t\tcase 'align-right':\n\t\t\t\tpath =\n\t\t\t\t\t'M3 5h14V3H3v2zm0 4h3V7H3v2zm14 4V7H8v6h9zM3 13h3v-2H3v2zm0 4h14v-2H3v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'align-wide':\n\t\t\t\tpath = 'M5 5h10V3H5v2zm12 8V7H3v6h14zM5 17h10v-2H5v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'analytics':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 18V2H2v16h16zM16 5H4V4h12v1zM7 7v3h3c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3zm1 2V7c1.1 0 2 .9 2 2H8zm8-1h-4V7h4v1zm0 3h-4V9h4v2zm0 2h-4v-1h4v1zm0 3H4v-1h12v1z';\n\t\t\t\tbreak;\n\t\t\tcase 'archive':\n\t\t\t\tpath = 'M19 4v2H1V4h18zM2 7h16v10H2V7zm11 3V9H7v1h6z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-down-alt':\n\t\t\t\tpath = 'M9 2h2v12l4-4 2 1-7 7-7-7 2-1 4 4V2z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-down-alt2':\n\t\t\t\tpath = 'M5 6l5 5 5-5 2 1-7 7-7-7z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-down':\n\t\t\t\tpath = 'M15 8l-4.03 6L7 8h8z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-left-alt':\n\t\t\t\tpath = 'M18 9v2H6l4 4-1 2-7-7 7-7 1 2-4 4h12z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-left-alt2':\n\t\t\t\tpath = 'M14 5l-5 5 5 5-1 2-7-7 7-7z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-left':\n\t\t\t\tpath = 'M13 14L7 9.97 13 6v8z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-right-alt':\n\t\t\t\tpath = 'M2 11V9h12l-4-4 1-2 7 7-7 7-1-2 4-4H2z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-right-alt2':\n\t\t\t\tpath = 'M6 15l5-5-5-5 1-2 7 7-7 7z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-right':\n\t\t\t\tpath = 'M8 6l6 4.03L8 14V6z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-up-alt':\n\t\t\t\tpath = 'M11 18H9V6l-4 4-2-1 7-7 7 7-2 1-4-4v12z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-up-alt2':\n\t\t\t\tpath = 'M15 14l-5-5-5 5-2-1 7-7 7 7z';\n\t\t\t\tbreak;\n\t\t\tcase 'arrow-up':\n\t\t\t\tpath = 'M7 13l4.03-6L15 13H7z';\n\t\t\t\tbreak;\n\t\t\tcase 'art':\n\t\t\t\tpath =\n\t\t\t\t\t'M8.55 3.06c1.01.34-1.95 2.01-.1 3.13 1.04.63 3.31-2.22 4.45-2.86.97-.54 2.67-.65 3.53 1.23 1.09 2.38.14 8.57-3.79 11.06-3.97 2.5-8.97 1.23-10.7-2.66-2.01-4.53 3.12-11.09 6.61-9.9zm1.21 6.45c.73 1.64 4.7-.5 3.79-2.8-.59-1.49-4.48 1.25-3.79 2.8z';\n\t\t\t\tbreak;\n\t\t\tcase 'awards':\n\t\t\t\tpath =\n\t\t\t\t\t'M4.46 5.16L5 7.46l-.54 2.29 2.01 1.24L7.7 13l2.3-.54 2.3.54 1.23-2.01 2.01-1.24L15 7.46l.54-2.3-2-1.24-1.24-2.01-2.3.55-2.29-.54-1.25 2zm5.55 6.34C7.79 11.5 6 9.71 6 7.49c0-2.2 1.79-3.99 4.01-3.99 2.2 0 3.99 1.79 3.99 3.99 0 2.22-1.79 4.01-3.99 4.01zm-.02-1C8.33 10.5 7 9.16 7 7.5c0-1.65 1.33-3 2.99-3S13 5.85 13 7.5c0 1.66-1.35 3-3.01 3zm3.84 1.1l-1.28 2.24-2.08-.47L13 19.2l1.4-2.2h2.5zm-7.7.07l1.25 2.25 2.13-.51L7 19.2 5.6 17H3.1z';\n\t\t\t\tbreak;\n\t\t\tcase 'backup':\n\t\t\t\tpath =\n\t\t\t\t\t'M13.65 2.88c3.93 2.01 5.48 6.84 3.47 10.77s-6.83 5.48-10.77 3.47c-1.87-.96-3.2-2.56-3.86-4.4l1.64-1.03c.45 1.57 1.52 2.95 3.08 3.76 3.01 1.54 6.69.35 8.23-2.66 1.55-3.01.36-6.69-2.65-8.24C9.78 3.01 6.1 4.2 4.56 7.21l1.88.97-4.95 3.08-.39-5.82 1.78.91C4.9 2.4 9.75.89 13.65 2.88zm-4.36 7.83C9.11 10.53 9 10.28 9 10c0-.07.03-.12.04-.19h-.01L10 5l.97 4.81L14 13l-4.5-2.12.02-.02c-.08-.04-.16-.09-.23-.15z';\n\t\t\t\tbreak;\n\t\t\tcase 'block-default':\n\t\t\t\tpath =\n\t\t\t\t\t'M15 6V4h-3v2H8V4H5v2H4c-.6 0-1 .4-1 1v8h14V7c0-.6-.4-1-1-1h-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'book-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M5 17h13v2H5c-1.66 0-3-1.34-3-3V4c0-1.66 1.34-3 3-3h13v14H5c-.55 0-1 .45-1 1s.45 1 1 1zm2-3.5v-11c0-.28-.22-.5-.5-.5s-.5.22-.5.5v11c0 .28.22.5.5.5s.5-.22.5-.5z';\n\t\t\t\tbreak;\n\t\t\tcase 'book':\n\t\t\t\tpath =\n\t\t\t\t\t'M16 3h2v16H5c-1.66 0-3-1.34-3-3V4c0-1.66 1.34-3 3-3h9v14H5c-.55 0-1 .45-1 1s.45 1 1 1h11V3z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-activity':\n\t\t\t\tpath =\n\t\t\t\t\t'M8 1v7h2V6c0-1.52 1.45-3 3-3v.86c.55-.52 1.26-.86 2-.86v3h1c1.1 0 2 .9 2 2s-.9 2-2 2h-1v6c0 .55-.45 1-1 1s-1-.45-1-1v-2.18c-.31.11-.65.18-1 .18v2c0 .55-.45 1-1 1s-1-.45-1-1v-2H8v2c0 .55-.45 1-1 1s-1-.45-1-1v-2c-.35 0-.69-.07-1-.18V16c0 .55-.45 1-1 1s-1-.45-1-1v-4H2v-1c0-1.66 1.34-3 3-3h2V1h1zm5 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-bbpress-logo':\n\t\t\t\tpath =\n\t\t\t\t\t'M8.5 12.6c.3-1.3 0-2.3-1.1-2.3-.8 0-1.6.6-1.8 1.5l-.3 1.7c-.3 1 .3 1.5 1 1.5 1.2 0 1.9-1.1 2.2-2.4zm-4-6.4C3.7 7.3 3.3 8.6 3.3 10c0 1 .2 1.9.6 2.8l1-4.6c.3-1.7.4-2-.4-2zm9.3 6.4c.3-1.3 0-2.3-1.1-2.3-.8 0-1.6.6-1.8 1.5l-.4 1.7c-.2 1.1.4 1.6 1.1 1.6 1.1-.1 1.9-1.2 2.2-2.5zM10 3.3c-2 0-3.9.9-5.1 2.3.6-.1 1.4-.2 1.8-.3.2 0 .2.1.2.2 0 .2-1 4.8-1 4.8.5-.3 1.2-.7 1.8-.7.9 0 1.5.4 1.9.9l.5-2.4c.4-1.6.4-1.9-.4-1.9-.4 0-.4-.5 0-.6.6-.1 1.8-.2 2.3-.3.2 0 .2.1.2.2l-1 4.8c.5-.4 1.2-.7 1.9-.7 1.7 0 2.5 1.3 2.1 3-.3 1.7-2 3-3.8 3-1.3 0-2.1-.7-2.3-1.4-.7.8-1.7 1.3-2.8 1.4 1.1.7 2.4 1.1 3.7 1.1 3.7 0 6.7-3 6.7-6.7s-3-6.7-6.7-6.7zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 15.5c-2.1 0-4-.8-5.3-2.2-.3-.4-.7-.8-1-1.2-.7-1.2-1.2-2.6-1.2-4.1 0-4.1 3.4-7.5 7.5-7.5s7.5 3.4 7.5 7.5-3.4 7.5-7.5 7.5z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-buddypress-logo':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 0c5.52 0 10 4.48 10 10s-4.48 10-10 10S0 15.52 0 10 4.48 0 10 0zm0 .5C4.75.5.5 4.75.5 10s4.25 9.5 9.5 9.5 9.5-4.25 9.5-9.5S15.25.5 10 .5zm0 1c4.7 0 8.5 3.8 8.5 8.5s-3.8 8.5-8.5 8.5-8.5-3.8-8.5-8.5S5.3 1.5 10 1.5zm1.8 1.71c-.57 0-1.1.17-1.55.45 1.56.37 2.73 1.77 2.73 3.45 0 .69-.21 1.33-.55 1.87 1.31-.29 2.29-1.45 2.29-2.85 0-1.61-1.31-2.92-2.92-2.92zm-2.38 1c-1.61 0-2.92 1.31-2.92 2.93 0 1.61 1.31 2.92 2.92 2.92 1.62 0 2.93-1.31 2.93-2.92 0-1.62-1.31-2.93-2.93-2.93zm4.25 5.01l-.51.59c2.34.69 2.45 3.61 2.45 3.61h1.28c0-4.71-3.22-4.2-3.22-4.2zm-2.1.8l-2.12 2.09-2.12-2.09C3.12 10.24 3.89 15 3.89 15h11.08c.47-4.98-3.4-4.98-3.4-4.98z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-community':\n\t\t\t\tpath =\n\t\t\t\t\t'M9 3c0-.67-.47-1.43-1-2-.5.5-1 1.38-1 2 0 .48.45 1 1 1s1-.47 1-1zm4 0c0-.67-.47-1.43-1-2-.5.5-1 1.38-1 2 0 .48.45 1 1 1s1-.47 1-1zM9 9V5.5c0-.55-.45-1-1-1-.57 0-1 .49-1 1V9c0 .55.45 1 1 1 .57 0 1-.49 1-1zm4 0V5.5c0-.55-.45-1-1-1-.57 0-1 .49-1 1V9c0 .55.45 1 1 1 .57 0 1-.49 1-1zm4 1c0-1.48-1.41-2.77-3.5-3.46V9c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5V6.01c-.17 0-.33-.01-.5-.01s-.33.01-.5.01V9c0 .83-.67 1.5-1.5 1.5S6.5 9.83 6.5 9V6.54C4.41 7.23 3 8.52 3 10c0 1.41.95 2.65 3.21 3.37 1.11.35 2.39 1.12 3.79 1.12s2.69-.78 3.79-1.13C16.04 12.65 17 11.41 17 10zm-7 5.43c1.43 0 2.74-.79 3.88-1.11 1.9-.53 2.49-1.34 3.12-2.32v3c0 2.21-3.13 4-7 4s-7-1.79-7-4v-3c.64.99 1.32 1.8 3.15 2.33 1.13.33 2.44 1.1 3.85 1.1z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-forums':\n\t\t\t\tpath =\n\t\t\t\t\t'M13.5 7h-7C5.67 7 5 6.33 5 5.5S5.67 4 6.5 4h1.59C8.04 3.84 8 3.68 8 3.5 8 2.67 8.67 2 9.5 2h1c.83 0 1.5.67 1.5 1.5 0 .18-.04.34-.09.5h1.59c.83 0 1.5.67 1.5 1.5S14.33 7 13.5 7zM4 8h12c.55 0 1 .45 1 1s-.45 1-1 1H4c-.55 0-1-.45-1-1s.45-1 1-1zm1 3h10c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1s.45-1 1-1zm2 3h6c.55 0 1 .45 1 1s-.45 1-1 1h-1.09c.05.16.09.32.09.5 0 .83-.67 1.5-1.5 1.5h-1c-.83 0-1.5-.67-1.5-1.5 0-.18.04-.34.09-.5H7c-.55 0-1-.45-1-1s.45-1 1-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-friends':\n\t\t\t\tpath =\n\t\t\t\t\t'M8.75 5.77C8.75 4.39 7 2 7 2S5.25 4.39 5.25 5.77 5.9 7.5 7 7.5s1.75-.35 1.75-1.73zm6 0C14.75 4.39 13 2 13 2s-1.75 2.39-1.75 3.77S11.9 7.5 13 7.5s1.75-.35 1.75-1.73zM9 17V9c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1h2c.55 0 1-.45 1-1zm6 0V9c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1h2c.55 0 1-.45 1-1zm-9-6l2-1v2l-2 1v-2zm6 0l2-1v2l-2 1v-2zm-6 3l2-1v2l-2 1v-2zm6 0l2-1v2l-2 1v-2z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-groups':\n\t\t\t\tpath =\n\t\t\t\t\t'M15.45 6.25c1.83.94 1.98 3.18.7 4.98-.8 1.12-2.33 1.88-3.46 1.78L10.05 18H9l-2.65-4.99c-1.13.16-2.73-.63-3.55-1.79-1.28-1.8-1.13-4.04.71-4.97.48-.24.96-.33 1.43-.31-.01.4.01.8.07 1.21.26 1.69 1.41 3.53 2.86 4.37-.19.55-.49.99-.88 1.25L9 16.58v-5.66C7.64 10.55 6.26 8.76 6 7c-.4-2.65 1-5 3.5-5s3.9 2.35 3.5 5c-.26 1.76-1.64 3.55-3 3.92v5.77l2.07-3.84c-.44-.23-.77-.71-.99-1.3 1.48-.83 2.65-2.69 2.91-4.4.06-.41.08-.82.07-1.22.46-.01.92.08 1.39.32z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-pm':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2c3 0 8 5 8 5v11H2V7s5-5 8-5zm7 14.72l-3.73-2.92L17 11l-.43-.37-2.26 1.3.24-4.31-8.77-.52-.46 4.54-1.99-.95L3 11l3.73 2.8-3.44 2.85.4.43L10 13l6.53 4.15z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-replies':\n\t\t\t\tpath =\n\t\t\t\t\t'M17.54 10.29c1.17 1.17 1.17 3.08 0 4.25-1.18 1.17-3.08 1.17-4.25 0l-.34-.52c0 3.66-2 4.38-2.95 4.98-.82-.6-2.95-1.28-2.95-4.98l-.34.52c-1.17 1.17-3.07 1.17-4.25 0-1.17-1.17-1.17-3.08 0-4.25 0 0 1.02-.67 2.1-1.3C3.71 7.84 3.2 6.42 3.2 4.88c0-.34.03-.67.08-1C3.53 5.66 4.47 7.22 5.8 8.3c.67-.35 1.85-.83 2.37-.92H8c-1.1 0-2-.9-2-2s.9-2 2-2v-.5c0-.28.22-.5.5-.5s.5.22.5.5v.5h2v-.5c0-.28.22-.5.5-.5s.5.22.5.5v.5c1.1 0 2 .9 2 2s-.9 2-2 2h-.17c.51.09 1.78.61 2.38.92 1.33-1.08 2.27-2.64 2.52-4.42.05.33.08.66.08 1 0 1.54-.51 2.96-1.36 4.11 1.08.63 2.09 1.3 2.09 1.3zM8.5 6.38c.5 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm3-2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-2.3 5.73c-.12.11-.19.26-.19.43.02.25.23.46.49.46h1c.26 0 .47-.21.49-.46 0-.15-.07-.29-.19-.43-.08-.06-.18-.11-.3-.11h-1c-.12 0-.22.05-.3.11zM12 12.5c0-.12-.06-.28-.19-.38-.09-.07-.19-.12-.31-.12h-3c-.12 0-.22.05-.31.12-.11.1-.19.25-.19.38 0 .28.22.5.5.5h3c.28 0 .5-.22.5-.5zM8.5 15h3c.28 0 .5-.22.5-.5s-.22-.5-.5-.5h-3c-.28 0-.5.22-.5.5s.22.5.5.5zm1 2h1c.28 0 .5-.22.5-.5s-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5s.22.5.5.5z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-topics':\n\t\t\t\tpath =\n\t\t\t\t\t'M10.44 1.66c-.59-.58-1.54-.58-2.12 0L2.66 7.32c-.58.58-.58 1.53 0 2.12.6.6 1.56.56 2.12 0l5.66-5.66c.58-.58.59-1.53 0-2.12zm2.83 2.83c-.59-.59-1.54-.59-2.12 0l-5.66 5.66c-.59.58-.59 1.53 0 2.12.6.6 1.56.55 2.12 0l5.66-5.66c.58-.58.58-1.53 0-2.12zm1.06 6.72l4.18 4.18c.59.58.59 1.53 0 2.12s-1.54.59-2.12 0l-4.18-4.18-1.77 1.77c-.59.58-1.54.58-2.12 0-.59-.59-.59-1.54 0-2.13l5.66-5.65c.58-.59 1.53-.59 2.12 0 .58.58.58 1.53 0 2.12zM5 15c0-1.59-1.66-4-1.66-4S2 13.78 2 15s.6 2 1.34 2h.32C4.4 17 5 16.59 5 15z';\n\t\t\t\tbreak;\n\t\t\tcase 'buddicons-tracking':\n\t\t\t\tpath =\n\t\t\t\t\t'M10.98 6.78L15.5 15c-1 2-3.5 3-5.5 3s-4.5-1-5.5-3L9 6.82c-.75-1.23-2.28-1.98-4.29-2.03l2.46-2.92c1.68 1.19 2.46 2.32 2.97 3.31.56-.87 1.2-1.68 2.7-2.12l1.83 2.86c-1.42-.34-2.64.08-3.69.86zM8.17 10.4l-.93 1.69c.49.11 1 .16 1.54.16 1.35 0 2.58-.36 3.55-.95l-1.01-1.82c-.87.53-1.96.86-3.15.92zm.86 5.38c1.99 0 3.73-.74 4.74-1.86l-.98-1.76c-1 1.12-2.74 1.87-4.74 1.87-.62 0-1.21-.08-1.76-.21l-.63 1.15c.94.5 2.1.81 3.37.81z';\n\t\t\t\tbreak;\n\t\t\tcase 'building':\n\t\t\t\tpath =\n\t\t\t\t\t'M3 20h14V0H3v20zM7 3H5V1h2v2zm4 0H9V1h2v2zm4 0h-2V1h2v2zM7 6H5V4h2v2zm4 0H9V4h2v2zm4 0h-2V4h2v2zM7 9H5V7h2v2zm4 0H9V7h2v2zm4 0h-2V7h2v2zm-8 3H5v-2h2v2zm4 0H9v-2h2v2zm4 0h-2v-2h2v2zm-4 7H5v-6h6v6zm4-4h-2v-2h2v2zm0 3h-2v-2h2v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'businessman':\n\t\t\t\tpath =\n\t\t\t\t\t'M7.3 6l-.03-.19c-.04-.37-.05-.73-.03-1.08.02-.36.1-.71.25-1.04.14-.32.31-.61.52-.86s.49-.46.83-.6c.34-.15.72-.23 1.13-.23.69 0 1.26.2 1.71.59s.76.87.91 1.44.18 1.16.09 1.78l-.03.19c-.01.09-.05.25-.11.48-.05.24-.12.47-.2.69-.08.21-.19.45-.34.72-.14.27-.3.49-.47.69-.18.19-.4.34-.67.48-.27.13-.55.19-.86.19s-.59-.06-.87-.19c-.26-.13-.49-.29-.67-.5-.18-.2-.34-.42-.49-.66-.15-.25-.26-.49-.34-.73-.09-.25-.16-.47-.21-.67-.06-.21-.1-.37-.12-.5zm9.2 6.24c.41.7.5 1.41.5 2.14v2.49c0 .03-.12.08-.29.13-.18.04-.42.13-.97.27-.55.12-1.1.24-1.65.34s-1.19.19-1.95.27c-.75.08-1.46.12-2.13.12-.68 0-1.39-.04-2.14-.12-.75-.07-1.4-.17-1.98-.27-.58-.11-1.08-.23-1.56-.34-.49-.11-.8-.21-1.06-.29L3 16.87v-2.49c0-.75.07-1.46.46-2.15s.81-1.25 1.5-1.68C5.66 10.12 7.19 10 8 10l1.67 1.67L9 13v3l1.02 1.08L11 16v-3l-.68-1.33L11.97 10c.77 0 2.2.07 2.9.52.71.45 1.21 1.02 1.63 1.72z';\n\t\t\t\tbreak;\n\t\t\tcase 'button':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 5H3c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm1 7c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h14c.6 0 1 .4 1 1v5z';\n\t\t\t\tbreak;\n\t\t\tcase 'calendar-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M15 4h3v15H2V4h3V3c0-.41.15-.76.44-1.06.29-.29.65-.44 1.06-.44s.77.15 1.06.44c.29.3.44.65.44 1.06v1h4V3c0-.41.15-.76.44-1.06.29-.29.65-.44 1.06-.44s.77.15 1.06.44c.29.3.44.65.44 1.06v1zM6 3v2.5c0 .14.05.26.15.36.09.09.21.14.35.14s.26-.05.35-.14c.1-.1.15-.22.15-.36V3c0-.14-.05-.26-.15-.35-.09-.1-.21-.15-.35-.15s-.26.05-.35.15c-.1.09-.15.21-.15.35zm7 0v2.5c0 .14.05.26.14.36.1.09.22.14.36.14s.26-.05.36-.14c.09-.1.14-.22.14-.36V3c0-.14-.05-.26-.14-.35-.1-.1-.22-.15-.36-.15s-.26.05-.36.15c-.09.09-.14.21-.14.35zm4 15V8H3v10h14zM7 9v2H5V9h2zm2 0h2v2H9V9zm4 2V9h2v2h-2zm-6 1v2H5v-2h2zm2 0h2v2H9v-2zm4 2v-2h2v2h-2zm-6 1v2H5v-2h2zm4 2H9v-2h2v2zm4 0h-2v-2h2v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'calendar':\n\t\t\t\tpath =\n\t\t\t\t\t'M15 4h3v14H2V4h3V3c0-.83.67-1.5 1.5-1.5S8 2.17 8 3v1h4V3c0-.83.67-1.5 1.5-1.5S15 2.17 15 3v1zM6 3v2.5c0 .28.22.5.5.5s.5-.22.5-.5V3c0-.28-.22-.5-.5-.5S6 2.72 6 3zm7 0v2.5c0 .28.22.5.5.5s.5-.22.5-.5V3c0-.28-.22-.5-.5-.5s-.5.22-.5.5zm4 14V8H3v9h14zM7 16V9H5v7h2zm4 0V9H9v7h2zm4 0V9h-2v7h2z';\n\t\t\t\tbreak;\n\t\t\tcase 'camera':\n\t\t\t\tpath =\n\t\t\t\t\t'M6 5V3H3v2h3zm12 10V4H9L7 6H2v9h16zm-7-8c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z';\n\t\t\t\tbreak;\n\t\t\tcase 'carrot':\n\t\t\t\tpath =\n\t\t\t\t\t'M2 18.43c1.51 1.36 11.64-4.67 13.14-7.21.72-1.22-.13-3.01-1.52-4.44C15.2 5.73 16.59 9 17.91 8.31c.6-.32.99-1.31.7-1.92-.52-1.08-2.25-1.08-3.42-1.21.83-.2 2.82-1.05 2.86-2.25.04-.92-1.13-1.97-2.05-1.86-1.21.14-1.65 1.88-2.06 3-.05-.71-.2-2.27-.98-2.95-1.04-.91-2.29-.05-2.32 1.05-.04 1.33 2.82 2.07 1.92 3.67C11.04 4.67 9.25 4.03 8.1 4.7c-.49.31-1.05.91-1.63 1.69.89.94 2.12 2.07 3.09 2.72.2.14.26.42.11.62-.14.21-.42.26-.62.12-.99-.67-2.2-1.78-3.1-2.71-.45.67-.91 1.43-1.34 2.23.85.86 1.93 1.83 2.79 2.41.2.14.25.42.11.62-.14.21-.42.26-.63.12-.85-.58-1.86-1.48-2.71-2.32C2.4 13.69 1.1 17.63 2 18.43z';\n\t\t\t\tbreak;\n\t\t\tcase 'cart':\n\t\t\t\tpath =\n\t\t\t\t\t'M6 13h9c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1V4H2c-.55 0-1-.45-1-1s.45-1 1-1h3c.55 0 1 .45 1 1v2h13l-4 7H6v1zm-.5 3c.83 0 1.5.67 1.5 1.5S6.33 19 5.5 19 4 18.33 4 17.5 4.67 16 5.5 16zm9 0c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z';\n\t\t\t\tbreak;\n\t\t\tcase 'category':\n\t\t\t\tpath = 'M5 7h13v10H2V4h7l2 2H4v9h1V7z';\n\t\t\t\tbreak;\n\t\t\tcase 'chart-area':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 18l.01-12.28c.59-.35.99-.99.99-1.72 0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.47 1.48 1.14 1.8l-4.13 6.58c-.33-.24-.73-.38-1.16-.38-.84 0-1.55.51-1.85 1.24l-2.14-1.53c.09-.22.14-.46.14-.71 0-1.11-.89-2-2-2-1.1 0-2 .89-2 2 0 .73.4 1.36.98 1.71L1 18h17zM17 3c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM5 10c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm5.85 3c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'chart-bar':\n\t\t\t\tpath = 'M18 18V2h-4v16h4zm-6 0V7H8v11h4zm-6 0v-8H2v8h4z';\n\t\t\t\tbreak;\n\t\t\tcase 'chart-line':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 3.5c0 .62-.38 1.16-.92 1.38v13.11H1.99l4.22-6.73c-.13-.23-.21-.48-.21-.76C6 9.67 6.67 9 7.5 9S9 9.67 9 10.5c0 .13-.02.25-.05.37l1.44.63c.27-.3.67-.5 1.11-.5.18 0 .35.04.51.09l3.58-6.41c-.36-.27-.59-.7-.59-1.18 0-.83.67-1.5 1.5-1.5.19 0 .36.04.53.1l.05-.09v.11c.54.22.92.76.92 1.38zm-1.92 13.49V5.85l-3.29 5.89c.13.23.21.48.21.76 0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5l.01-.07-1.63-.72c-.25.18-.55.29-.88.29-.18 0-.35-.04-.51-.1l-3.2 5.09h12.29z';\n\t\t\t\tbreak;\n\t\t\tcase 'chart-pie':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 10V3c3.87 0 7 3.13 7 7h-7zM9 4v7h7c0 3.87-3.13 7-7 7s-7-3.13-7-7 3.13-7 7-7z';\n\t\t\t\tbreak;\n\t\t\tcase 'clipboard':\n\t\t\t\tpath =\n\t\t\t\t\t'M11.9.39l1.4 1.4c1.61.19 3.5-.74 4.61.37s.18 3 .37 4.61l1.4 1.4c.39.39.39 1.02 0 1.41l-9.19 9.2c-.4.39-1.03.39-1.42 0L1.29 11c-.39-.39-.39-1.02 0-1.42l9.2-9.19c.39-.39 1.02-.39 1.41 0zm.58 2.25l-.58.58 4.95 4.95.58-.58c-.19-.6-.2-1.22-.15-1.82.02-.31.05-.62.09-.92.12-1 .18-1.63-.17-1.98s-.98-.29-1.98-.17c-.3.04-.61.07-.92.09-.6.05-1.22.04-1.82-.15zm4.02.93c.39.39.39 1.03 0 1.42s-1.03.39-1.42 0-.39-1.03 0-1.42 1.03-.39 1.42 0zm-6.72.36l-.71.7L15.44 11l.7-.71zM8.36 5.34l-.7.71 6.36 6.36.71-.7zM6.95 6.76l-.71.7 6.37 6.37.7-.71zM5.54 8.17l-.71.71 6.36 6.36.71-.71zM4.12 9.58l-.71.71 6.37 6.37.71-.71z';\n\t\t\t\tbreak;\n\t\t\tcase 'clock':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm0 14c3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6 2.69 6 6 6zm-.71-5.29c.07.05.14.1.23.15l-.02.02L14 13l-3.03-3.19L10 5l-.97 4.81h.01c0 .02-.01.05-.02.09S9 9.97 9 10c0 .28.1.52.29.71z';\n\t\t\t\tbreak;\n\t\t\tcase 'cloud-saved':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.8 9c.1-.3.2-.6.2-1 0-2.2-1.8-4-4-4-1.5 0-2.9.9-3.5 2.2-.3-.1-.7-.2-1-.2C5.1 6 4 7.1 4 8.5c0 .2 0 .4.1.5-1.8.3-3.1 1.7-3.1 3.5C1 14.4 2.6 16 4.5 16h10c1.9 0 3.5-1.6 3.5-3.5 0-1.8-1.4-3.3-3.2-3.5zm-6.3 5.9l-3.2-3.2 1.4-1.4 1.8 1.8 3.8-3.8 1.4 1.4-5.2 5.2z';\n\t\t\t\tbreak;\n\t\t\tcase 'cloud-upload':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.8 9c.1-.3.2-.6.2-1 0-2.2-1.8-4-4-4-1.5 0-2.9.9-3.5 2.2-.3-.1-.7-.2-1-.2C5.1 6 4 7.1 4 8.5c0 .2 0 .4.1.5-1.8.3-3.1 1.7-3.1 3.5C1 14.4 2.6 16 4.5 16H8v-3H5l4.5-4.5L14 13h-3v3h3.5c1.9 0 3.5-1.6 3.5-3.5 0-1.8-1.4-3.3-3.2-3.5z';\n\t\t\t\tbreak;\n\t\t\tcase 'cloud':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.9 9c1.8.2 3.1 1.7 3.1 3.5 0 1.9-1.6 3.5-3.5 3.5h-10C2.6 16 1 14.4 1 12.5 1 10.7 2.3 9.3 4.1 9 4 8.9 4 8.7 4 8.5 4 7.1 5.1 6 6.5 6c.3 0 .7.1.9.2C8.1 4.9 9.4 4 11 4c2.2 0 4 1.8 4 4 0 .4-.1.7-.1 1z';\n\t\t\t\tbreak;\n\t\t\tcase 'columns':\n\t\t\t\tpath = 'M3 15h6V5H3v10zm8 0h6V5h-6v10z';\n\t\t\t\tbreak;\n\t\t\tcase 'controls-back':\n\t\t\t\tpath = 'M2 10l10-6v3.6L18 4v12l-6-3.6V16z';\n\t\t\t\tbreak;\n\t\t\tcase 'controls-forward':\n\t\t\t\tpath = 'M18 10L8 16v-3.6L2 16V4l6 3.6V4z';\n\t\t\t\tbreak;\n\t\t\tcase 'controls-pause':\n\t\t\t\tpath = 'M5 16V4h3v12H5zm7-12h3v12h-3V4z';\n\t\t\t\tbreak;\n\t\t\tcase 'controls-play':\n\t\t\t\tpath = 'M5 4l10 6-10 6V4z';\n\t\t\t\tbreak;\n\t\t\tcase 'controls-repeat':\n\t\t\t\tpath =\n\t\t\t\t\t'M5 7v3l-2 1.5V5h11V3l4 3.01L14 9V7H5zm10 6v-3l2-1.5V15H6v2l-4-3.01L6 11v2h9z';\n\t\t\t\tbreak;\n\t\t\tcase 'controls-skipback':\n\t\t\t\tpath =\n\t\t\t\t\t'M11.98 7.63l6-3.6v12l-6-3.6v3.6l-8-4.8v4.8h-2v-12h2v4.8l8-4.8v3.6z';\n\t\t\t\tbreak;\n\t\t\tcase 'controls-skipforward':\n\t\t\t\tpath = 'M8 12.4L2 16V4l6 3.6V4l8 4.8V4h2v12h-2v-4.8L8 16v-3.6z';\n\t\t\t\tbreak;\n\t\t\tcase 'controls-volumeoff':\n\t\t\t\tpath = 'M2 7h4l5-4v14l-5-4H2V7z';\n\t\t\t\tbreak;\n\t\t\tcase 'controls-volumeon':\n\t\t\t\tpath =\n\t\t\t\t\t'M2 7h4l5-4v14l-5-4H2V7zm12.69-2.46C14.82 4.59 18 5.92 18 10s-3.18 5.41-3.31 5.46c-.06.03-.13.04-.19.04-.2 0-.39-.12-.46-.31-.11-.26.02-.55.27-.65.11-.05 2.69-1.15 2.69-4.54 0-3.41-2.66-4.53-2.69-4.54-.25-.1-.38-.39-.27-.65.1-.25.39-.38.65-.27zM16 10c0 2.57-2.23 3.43-2.32 3.47-.06.02-.12.03-.18.03-.2 0-.39-.12-.47-.32-.1-.26.04-.55.29-.65.07-.02 1.68-.67 1.68-2.53s-1.61-2.51-1.68-2.53c-.25-.1-.38-.39-.29-.65.1-.25.39-.39.65-.29.09.04 2.32.9 2.32 3.47z';\n\t\t\t\tbreak;\n\t\t\tcase 'cover-image':\n\t\t\t\tpath =\n\t\t\t\t\t'M2.2 1h15.5c.7 0 1.3.6 1.3 1.2v11.5c0 .7-.6 1.2-1.2 1.2H2.2c-.6.1-1.2-.5-1.2-1.1V2.2C1 1.6 1.6 1 2.2 1zM17 13V3H3v10h14zm-4-4s0-5 3-5v7c0 .6-.4 1-1 1H5c-.6 0-1-.4-1-1V7c2 0 3 4 3 4s1-4 3-4 3 2 3 2zM4 17h12v2H4z';\n\t\t\t\tbreak;\n\t\t\tcase 'dashboard':\n\t\t\t\tpath =\n\t\t\t\t\t'M3.76 16h12.48c1.1-1.37 1.76-3.11 1.76-5 0-4.42-3.58-8-8-8s-8 3.58-8 8c0 1.89.66 3.63 1.76 5zM10 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 6c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm8 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-5.37 5.55L12 7v6c0 1.1-.9 2-2 2s-2-.9-2-2c0-.57.24-1.08.63-1.45zM4 10c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm12 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-5 3c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'desktop':\n\t\t\t\tpath =\n\t\t\t\t\t'M3 2h14c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1h-5v2h2c.55 0 1 .45 1 1v1H5v-1c0-.55.45-1 1-1h2v-2H3c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1zm13 9V4H4v7h12zM5 5h9L5 9V5z';\n\t\t\t\tbreak;\n\t\t\tcase 'dismiss':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm5 11l-3-3 3-3-2-2-3 3-3-3-2 2 3 3-3 3 2 2 3-3 3 3z';\n\t\t\t\tbreak;\n\t\t\tcase 'download':\n\t\t\t\tpath = 'M14.01 4v6h2V2H4v8h2.01V4h8zm-2 2v6h3l-5 6-5-6h3V6h4z';\n\t\t\t\tbreak;\n\t\t\tcase 'edit':\n\t\t\t\tpath =\n\t\t\t\t\t'M13.89 3.39l2.71 2.72c.46.46.42 1.24.03 1.64l-8.01 8.02-5.56 1.16 1.16-5.58s7.6-7.63 7.99-8.03c.39-.39 1.22-.39 1.68.07zm-2.73 2.79l-5.59 5.61 1.11 1.11 5.54-5.65zm-2.97 8.23l5.58-5.6-1.07-1.08-5.59 5.6z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-aligncenter':\n\t\t\t\tpath =\n\t\t\t\t\t'M14 5V3H6v2h8zm3 4V7H3v2h14zm-3 4v-2H6v2h8zm3 4v-2H3v2h14z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-alignleft':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 5V3H3v2h9zm5 4V7H3v2h14zm-5 4v-2H3v2h9zm5 4v-2H3v2h14z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-alignright':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 5V3H8v2h9zm0 4V7H3v2h14zm0 4v-2H8v2h9zm0 4v-2H3v2h14z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-bold':\n\t\t\t\tpath =\n\t\t\t\t\t'M6 4v13h4.54c1.37 0 2.46-.33 3.26-1 .8-.66 1.2-1.58 1.2-2.77 0-.84-.17-1.51-.51-2.01s-.9-.85-1.67-1.03v-.09c.57-.1 1.02-.4 1.36-.9s.51-1.13.51-1.91c0-1.14-.39-1.98-1.17-2.5C12.75 4.26 11.5 4 9.78 4H6zm2.57 5.15V6.26h1.36c.73 0 1.27.11 1.61.32.34.22.51.58.51 1.07 0 .54-.16.92-.47 1.15s-.82.35-1.51.35h-1.5zm0 2.19h1.6c1.44 0 2.16.53 2.16 1.61 0 .6-.17 1.05-.51 1.34s-.86.43-1.57.43H8.57v-3.38z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-break':\n\t\t\t\tpath = 'M16 4h2v9H7v3l-5-4 5-4v3h9V4z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-code':\n\t\t\t\tpath = 'M9 6l-4 4 4 4-1 2-6-6 6-6zm2 8l4-4-4-4 1-2 6 6-6 6z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-contract':\n\t\t\t\tpath =\n\t\t\t\t\t'M15.75 6.75L18 3v14l-2.25-3.75L17 12h-4v4l1.25-1.25L18 17H2l3.75-2.25L7 16v-4H3l1.25 1.25L2 17V3l2.25 3.75L3 8h4V4L5.75 5.25 2 3h16l-3.75 2.25L13 4v4h4z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-customchar':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 5.4c1.27 0 2.24.36 2.91 1.08.66.71 1 1.76 1 3.13 0 1.28-.23 2.37-.69 3.27-.47.89-1.27 1.52-2.22 2.12v2h6v-2h-3.69c.92-.64 1.62-1.34 2.12-2.34.49-1.01.74-2.13.74-3.35 0-1.78-.55-3.19-1.65-4.22S11.92 3.54 10 3.54s-3.43.53-4.52 1.57c-1.1 1.04-1.65 2.44-1.65 4.2 0 1.21.24 2.31.73 3.33.48 1.01 1.19 1.71 2.1 2.36H3v2h6v-2c-.98-.64-1.8-1.28-2.24-2.17-.45-.89-.67-1.96-.67-3.22 0-1.37.33-2.41 1-3.13C7.75 5.76 8.72 5.4 10 5.4z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-expand':\n\t\t\t\tpath =\n\t\t\t\t\t'M7 8h6v4H7zm-5 5v4h4l-1.2-1.2L7 12l-3.8 2.2M14 17h4v-4l-1.2 1.2L13 12l2.2 3.8M14 3l1.3 1.3L13 8l3.8-2.2L18 7V3M6 3H2v4l1.2-1.2L7 8 4.7 4.3';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-help':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 10c0-3.87-3.14-7-7-7-3.87 0-7 3.13-7 7s3.13 7 7 7c3.86 0 7-3.13 7-7zm-6.3 1.48H9.14v-.43c0-.38.08-.7.24-.98s.46-.57.88-.89c.41-.29.68-.53.81-.71.14-.18.2-.39.2-.62 0-.25-.09-.44-.28-.58-.19-.13-.45-.19-.79-.19-.58 0-1.25.19-2 .57l-.64-1.28c.87-.49 1.8-.74 2.77-.74.81 0 1.45.2 1.92.58.48.39.71.91.71 1.55 0 .43-.09.8-.29 1.11-.19.32-.57.67-1.11 1.06-.38.28-.61.49-.71.63-.1.15-.15.34-.15.57v.35zm-1.47 2.74c-.18-.17-.27-.42-.27-.73 0-.33.08-.58.26-.75s.43-.25.77-.25c.32 0 .57.09.75.26s.27.42.27.74c0 .3-.09.55-.27.72-.18.18-.43.27-.75.27-.33 0-.58-.09-.76-.26z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-indent':\n\t\t\t\tpath =\n\t\t\t\t\t'M3 5V3h9v2H3zm10-1V3h4v1h-4zm0 3h2V5l4 3.5-4 3.5v-2h-2V7zM3 8V6h9v2H3zm2 3V9h7v2H5zm-2 3v-2h9v2H3zm10 0v-1h4v1h-4zm-4 3v-2h3v2H9z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-insertmore':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 7V3H3v4h14zM6 11V9H3v2h3zm6 0V9H8v2h4zm5 0V9h-3v2h3zm0 6v-4H3v4h14z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-italic':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.78 6h-2.13l-2.8 9h2.12l-.62 2H4.6l.62-2h2.14l2.8-9H8.03l.62-2h6.75z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-justify':\n\t\t\t\tpath =\n\t\t\t\t\t'M2 3h16v2H2V3zm0 4h16v2H2V7zm0 4h16v2H2v-2zm0 4h16v2H2v-2z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-kitchensink':\n\t\t\t\tpath =\n\t\t\t\t\t'M19 2v6H1V2h18zm-1 5V3H2v4h16zM5 4v2H3V4h2zm3 0v2H6V4h2zm3 0v2H9V4h2zm3 0v2h-2V4h2zm3 0v2h-2V4h2zm2 5v9H1V9h18zm-1 8v-7H2v7h16zM5 11v2H3v-2h2zm3 0v2H6v-2h2zm3 0v2H9v-2h2zm6 0v2h-5v-2h5zm-6 3v2H3v-2h8zm3 0v2h-2v-2h2zm3 0v2h-2v-2h2z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-ltr':\n\t\t\t\tpath =\n\t\t\t\t\t'M5.52 2h7.43c.55 0 1 .45 1 1s-.45 1-1 1h-1v13c0 .55-.45 1-1 1s-1-.45-1-1V5c0-.55-.45-1-1-1s-1 .45-1 1v12c0 .55-.45 1-1 1s-1-.45-1-1v-5.96h-.43C3.02 11.04 1 9.02 1 6.52S3.02 2 5.52 2zM14 14l5-4-5-4v8z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-ol-rtl':\n\t\t\t\tpath =\n\t\t\t\t\t'M15.025 8.75a1.048 1.048 0 0 1 .45-.1.507.507 0 0 1 .35.11.455.455 0 0 1 .13.36.803.803 0 0 1-.06.3 1.448 1.448 0 0 1-.19.33c-.09.11-.29.32-.58.62l-.99 1v.58h2.76v-.7h-1.72v-.04l.51-.48a7.276 7.276 0 0 0 .7-.71 1.75 1.75 0 0 0 .3-.49 1.254 1.254 0 0 0 .1-.51.968.968 0 0 0-.16-.56 1.007 1.007 0 0 0-.44-.37 1.512 1.512 0 0 0-.65-.14 1.98 1.98 0 0 0-.51.06 1.9 1.9 0 0 0-.42.15 3.67 3.67 0 0 0-.48.35l.45.54a2.505 2.505 0 0 1 .45-.3zM16.695 15.29a1.29 1.29 0 0 0-.74-.3v-.02a1.203 1.203 0 0 0 .65-.37.973.973 0 0 0 .23-.65.81.81 0 0 0-.37-.71 1.72 1.72 0 0 0-1-.26 2.185 2.185 0 0 0-1.33.4l.4.6a1.79 1.79 0 0 1 .46-.23 1.18 1.18 0 0 1 .41-.07c.38 0 .58.15.58.46a.447.447 0 0 1-.22.43 1.543 1.543 0 0 1-.7.12h-.31v.66h.31a1.764 1.764 0 0 1 .75.12.433.433 0 0 1 .23.41.55.55 0 0 1-.2.47 1.084 1.084 0 0 1-.63.15 2.24 2.24 0 0 1-.57-.08 2.671 2.671 0 0 1-.52-.2v.74a2.923 2.923 0 0 0 1.18.22 1.948 1.948 0 0 0 1.22-.33 1.077 1.077 0 0 0 .43-.92.836.836 0 0 0-.26-.64zM15.005 4.17c.06-.05.16-.14.3-.28l-.02.42V7h.84V3h-.69l-1.29 1.03.4.51zM4.02 5h9v1h-9zM4.02 10h9v1h-9zM4.02 15h9v1h-9z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-ol':\n\t\t\t\tpath =\n\t\t\t\t\t'M6 7V3h-.69L4.02 4.03l.4.51.46-.37c.06-.05.16-.14.3-.28l-.02.42V7H6zm2-2h9v1H8V5zm-1.23 6.95v-.7H5.05v-.04l.51-.48c.33-.31.57-.54.7-.71.14-.17.24-.33.3-.49.07-.16.1-.33.1-.51 0-.21-.05-.4-.16-.56-.1-.16-.25-.28-.44-.37s-.41-.14-.65-.14c-.19 0-.36.02-.51.06-.15.03-.29.09-.42.15-.12.07-.29.19-.48.35l.45.54c.16-.13.31-.23.45-.3.15-.07.3-.1.45-.1.14 0 .26.03.35.11s.13.2.13.36c0 .1-.02.2-.06.3s-.1.21-.19.33c-.09.11-.29.32-.58.62l-.99 1v.58h2.76zM8 10h9v1H8v-1zm-1.29 3.95c0-.3-.12-.54-.37-.71-.24-.17-.58-.26-1-.26-.52 0-.96.13-1.33.4l.4.6c.17-.11.32-.19.46-.23.14-.05.27-.07.41-.07.38 0 .58.15.58.46 0 .2-.07.35-.22.43s-.38.12-.7.12h-.31v.66h.31c.34 0 .59.04.75.12.15.08.23.22.23.41 0 .22-.07.37-.2.47-.14.1-.35.15-.63.15-.19 0-.38-.03-.57-.08s-.36-.12-.52-.2v.74c.34.15.74.22 1.18.22.53 0 .94-.11 1.22-.33.29-.22.43-.52.43-.92 0-.27-.09-.48-.26-.64s-.42-.26-.74-.3v-.02c.27-.06.49-.19.65-.37.15-.18.23-.39.23-.65zM8 15h9v1H8v-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-outdent':\n\t\t\t\tpath =\n\t\t\t\t\t'M7 4V3H3v1h4zm10 1V3H8v2h9zM7 7H5V5L1 8.5 5 12v-2h2V7zm10 1V6H8v2h9zm-2 3V9H8v2h7zm2 3v-2H8v2h9zM7 14v-1H3v1h4zm4 3v-2H8v2h3z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-paragraph':\n\t\t\t\tpath =\n\t\t\t\t\t'M15 2H7.54c-.83 0-1.59.2-2.28.6-.7.41-1.25.96-1.65 1.65C3.2 4.94 3 5.7 3 6.52s.2 1.58.61 2.27c.4.69.95 1.24 1.65 1.64.69.41 1.45.61 2.28.61h.43V17c0 .27.1.51.29.71.2.19.44.29.71.29.28 0 .51-.1.71-.29.2-.2.3-.44.3-.71V5c0-.27.09-.51.29-.71.2-.19.44-.29.71-.29s.51.1.71.29c.19.2.29.44.29.71v12c0 .27.1.51.3.71.2.19.43.29.71.29.27 0 .51-.1.71-.29.19-.2.29-.44.29-.71V4H15c.27 0 .5-.1.7-.3.2-.19.3-.43.3-.7s-.1-.51-.3-.71C15.5 2.1 15.27 2 15 2z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-paste-text':\n\t\t\t\tpath =\n\t\t\t\t\t'M12.38 2L15 5v1H5V5l2.64-3h4.74zM10 5c.55 0 1-.44 1-1 0-.55-.45-1-1-1s-1 .45-1 1c0 .56.45 1 1 1zm5.45-1H17c.55 0 1 .45 1 1v12c0 .56-.45 1-1 1H3c-.55 0-1-.44-1-1V5c0-.55.45-1 1-1h1.55L4 4.63V7h12V4.63zM14 11V9H6v2h3v5h2v-5h3z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-paste-word':\n\t\t\t\tpath =\n\t\t\t\t\t'M12.38 2L15 5v1H5V5l2.64-3h4.74zM10 5c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8 12V5c0-.55-.45-1-1-1h-1.54l.54.63V7H4V4.62L4.55 4H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h14c.55 0 1-.45 1-1zm-3-8l-2 7h-2l-1-5-1 5H6.92L5 9h2l1 5 1-5h2l1 5 1-5h2z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-quote':\n\t\t\t\tpath =\n\t\t\t\t\t'M9.49 13.22c0-.74-.2-1.38-.61-1.9-.62-.78-1.83-.88-2.53-.72-.29-1.65 1.11-3.75 2.92-4.65L7.88 4c-2.73 1.3-5.42 4.28-4.96 8.05C3.21 14.43 4.59 16 6.54 16c.85 0 1.56-.25 2.12-.75s.83-1.18.83-2.03zm8.05 0c0-.74-.2-1.38-.61-1.9-.63-.78-1.83-.88-2.53-.72-.29-1.65 1.11-3.75 2.92-4.65L15.93 4c-2.73 1.3-5.41 4.28-4.95 8.05.29 2.38 1.66 3.95 3.61 3.95.85 0 1.56-.25 2.12-.75s.83-1.18.83-2.03z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-removeformatting':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.29 4.59l1.1 1.11c.41.4.61.94.61 1.47v2.12c0 .53-.2 1.07-.61 1.47l-6.63 6.63c-.4.41-.94.61-1.47.61s-1.07-.2-1.47-.61l-1.11-1.1-1.1-1.11c-.41-.4-.61-.94-.61-1.47v-2.12c0-.54.2-1.07.61-1.48l6.63-6.62c.4-.41.94-.61 1.47-.61s1.06.2 1.47.61zm-6.21 9.7l6.42-6.42c.39-.39.39-1.03 0-1.43L12.36 4.3c-.19-.19-.45-.29-.72-.29s-.52.1-.71.29l-6.42 6.42c-.39.4-.39 1.04 0 1.43l2.14 2.14c.38.38 1.04.38 1.43 0z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-rtl':\n\t\t\t\tpath =\n\t\t\t\t\t'M5.52 2h7.43c.55 0 1 .45 1 1s-.45 1-1 1h-1v13c0 .55-.45 1-1 1s-1-.45-1-1V5c0-.55-.45-1-1-1s-1 .45-1 1v12c0 .55-.45 1-1 1s-1-.45-1-1v-5.96h-.43C3.02 11.04 1 9.02 1 6.52S3.02 2 5.52 2zM19 6l-5 4 5 4V6z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-spellcheck':\n\t\t\t\tpath =\n\t\t\t\t\t'M15.84 2.76c.25 0 .49.04.71.11.23.07.44.16.64.25l.35-.81c-.52-.26-1.08-.39-1.69-.39-.58 0-1.09.13-1.52.37-.43.25-.76.61-.99 1.08C13.11 3.83 13 4.38 13 5c0 .99.23 1.75.7 2.28s1.15.79 2.02.79c.6 0 1.13-.09 1.6-.26v-.84c-.26.08-.51.14-.74.19-.24.05-.49.08-.74.08-.59 0-1.04-.19-1.34-.57-.32-.37-.47-.93-.47-1.66 0-.7.16-1.25.48-1.65.33-.4.77-.6 1.33-.6zM6.5 8h1.04L5.3 2H4.24L2 8h1.03l.58-1.66H5.9zM8 2v6h2.17c.67 0 1.19-.15 1.57-.46.38-.3.56-.72.56-1.26 0-.4-.1-.72-.3-.95-.19-.24-.5-.39-.93-.47v-.04c.35-.06.6-.21.78-.44.18-.24.28-.53.28-.88 0-.52-.19-.9-.56-1.14-.36-.24-.96-.36-1.79-.36H8zm.98 2.48V2.82h.85c.44 0 .77.06.97.19.21.12.31.33.31.61 0 .31-.1.53-.29.66-.18.13-.48.2-.89.2h-.95zM5.64 5.5H3.9l.54-1.56c.14-.4.25-.76.32-1.1l.15.52c.07.23.13.4.17.51zm3.34-.23h.99c.44 0 .76.08.98.23.21.15.32.38.32.69 0 .34-.11.59-.32.75s-.52.24-.93.24H8.98V5.27zM4 13l5 5 9-8-1-1-8 6-4-3z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-strikethrough':\n\t\t\t\tpath =\n\t\t\t\t\t'M15.82 12.25c.26 0 .5-.02.74-.07.23-.05.48-.12.73-.2v.84c-.46.17-.99.26-1.58.26-.88 0-1.54-.26-2.01-.79-.39-.44-.62-1.04-.68-1.79h-.94c.12.21.18.48.18.79 0 .54-.18.95-.55 1.26-.38.3-.9.45-1.56.45H8v-2.5H6.59l.93 2.5H6.49l-.59-1.67H3.62L3.04 13H2l.93-2.5H2v-1h1.31l.93-2.49H5.3l.92 2.49H8V7h1.77c1 0 1.41.17 1.77.41.37.24.55.62.55 1.13 0 .35-.09.64-.27.87l-.08.09h1.29c.05-.4.15-.77.31-1.1.23-.46.55-.82.98-1.06.43-.25.93-.37 1.51-.37.61 0 1.17.12 1.69.38l-.35.81c-.2-.1-.42-.18-.64-.25s-.46-.11-.71-.11c-.55 0-.99.2-1.31.59-.23.29-.38.66-.44 1.11H17v1h-2.95c.06.5.2.9.44 1.19.3.37.75.56 1.33.56zM4.44 8.96l-.18.54H5.3l-.22-.61c-.04-.11-.09-.28-.17-.51-.07-.24-.12-.41-.14-.51-.08.33-.18.69-.33 1.09zm4.53-1.09V9.5h1.19c.28-.02.49-.09.64-.18.19-.13.28-.35.28-.66 0-.28-.1-.48-.3-.61-.2-.12-.53-.18-.97-.18h-.84zm-3.33 2.64v-.01H3.91v.01h1.73zm5.28.01l-.03-.02H8.97v1.68h1.04c.4 0 .71-.08.92-.23.21-.16.31-.4.31-.74 0-.31-.11-.54-.32-.69z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-table':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 17V3H2v14h16zM16 7H4V5h12v2zm-7 4H4V9h5v2zm7 0h-5V9h5v2zm-7 4H4v-2h5v2zm7 0h-5v-2h5v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-textcolor':\n\t\t\t\tpath =\n\t\t\t\t\t'M13.23 15h1.9L11 4H9L5 15h1.88l1.07-3h4.18zm-1.53-4.54H8.51L10 5.6z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-ul':\n\t\t\t\tpath =\n\t\t\t\t\t'M5.5 7C4.67 7 4 6.33 4 5.5 4 4.68 4.67 4 5.5 4 6.32 4 7 4.68 7 5.5 7 6.33 6.32 7 5.5 7zM8 5h9v1H8V5zm-2.5 7c-.83 0-1.5-.67-1.5-1.5C4 9.68 4.67 9 5.5 9c.82 0 1.5.68 1.5 1.5 0 .83-.68 1.5-1.5 1.5zM8 10h9v1H8v-1zm-2.5 7c-.83 0-1.5-.67-1.5-1.5 0-.82.67-1.5 1.5-1.5.82 0 1.5.68 1.5 1.5 0 .83-.68 1.5-1.5 1.5zM8 15h9v1H8v-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-underline':\n\t\t\t\tpath =\n\t\t\t\t\t'M14 5h-2v5.71c0 1.99-1.12 2.98-2.45 2.98-1.32 0-2.55-1-2.55-2.96V5H5v5.87c0 1.91 1 4.54 4.48 4.54 3.49 0 4.52-2.58 4.52-4.5V5zm0 13v-2H5v2h9z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-unlink':\n\t\t\t\tpath =\n\t\t\t\t\t'M17.74 2.26c1.68 1.69 1.68 4.41 0 6.1l-1.53 1.52c-.32.33-.69.58-1.08.77L13 10l1.69-1.64.76-.77.76-.76c.84-.84.84-2.2 0-3.04-.84-.85-2.2-.85-3.04 0l-.77.76-.76.76L10 7l-.65-2.14c.19-.38.44-.75.77-1.07l1.52-1.53c1.69-1.68 4.42-1.68 6.1 0zM2 4l8 6-6-8zm4-2l4 8-2-8H6zM2 6l8 4-8-2V6zm7.36 7.69L10 13l.74 2.35-1.38 1.39c-1.69 1.68-4.41 1.68-6.1 0-1.68-1.68-1.68-4.42 0-6.1l1.39-1.38L7 10l-.69.64-1.52 1.53c-.85.84-.85 2.2 0 3.04.84.85 2.2.85 3.04 0zM18 16l-8-6 6 8zm-4 2l-4-8 2 8h2zm4-4l-8-4 8 2v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'editor-video':\n\t\t\t\tpath =\n\t\t\t\t\t'M16 2h-3v1H7V2H4v15h3v-1h6v1h3V2zM6 3v1H5V3h1zm9 0v1h-1V3h1zm-2 1v5H7V4h6zM6 5v1H5V5h1zm9 0v1h-1V5h1zM6 7v1H5V7h1zm9 0v1h-1V7h1zM6 9v1H5V9h1zm9 0v1h-1V9h1zm-2 1v5H7v-5h6zm-7 1v1H5v-1h1zm9 0v1h-1v-1h1zm-9 2v1H5v-1h1zm9 0v1h-1v-1h1zm-9 2v1H5v-1h1zm9 0v1h-1v-1h1z';\n\t\t\t\tbreak;\n\t\t\tcase 'ellipsis':\n\t\t\t\tpath =\n\t\t\t\t\t'M5 10c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm12-2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-7 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z';\n\t\t\t\tbreak;\n\t\t\tcase 'email-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M19 14.5v-9c0-.83-.67-1.5-1.5-1.5H3.49c-.83 0-1.5.67-1.5 1.5v9c0 .83.67 1.5 1.5 1.5H17.5c.83 0 1.5-.67 1.5-1.5zm-1.31-9.11c.33.33.15.67-.03.84L13.6 9.95l3.9 4.06c.12.14.2.36.06.51-.13.16-.43.15-.56.05l-4.37-3.73-2.14 1.95-2.13-1.95-4.37 3.73c-.13.1-.43.11-.56-.05-.14-.15-.06-.37.06-.51l3.9-4.06-4.06-3.72c-.18-.17-.36-.51-.03-.84s.67-.17.95.07l6.24 5.04 6.25-5.04c.28-.24.62-.4.95-.07z';\n\t\t\t\tbreak;\n\t\t\tcase 'email-alt2':\n\t\t\t\tpath =\n\t\t\t\t\t'M18.01 11.18V2.51c0-1.19-.9-1.81-2-1.37L4 5.91c-1.1.44-2 1.77-2 2.97v8.66c0 1.2.9 1.81 2 1.37l12.01-4.77c1.1-.44 2-1.76 2-2.96zm-1.43-7.46l-6.04 9.33-6.65-4.6c-.1-.07-.36-.32-.17-.64.21-.36.65-.21.65-.21l6.3 2.32s4.83-6.34 5.11-6.7c.13-.17.43-.34.73-.13.29.2.16.49.07.63z';\n\t\t\t\tbreak;\n\t\t\tcase 'email':\n\t\t\t\tpath =\n\t\t\t\t\t'M3.87 4h13.25C18.37 4 19 4.59 19 5.79v8.42c0 1.19-.63 1.79-1.88 1.79H3.87c-1.25 0-1.88-.6-1.88-1.79V5.79c0-1.2.63-1.79 1.88-1.79zm6.62 8.6l6.74-5.53c.24-.2.43-.66.13-1.07-.29-.41-.82-.42-1.17-.17l-5.7 3.86L4.8 5.83c-.35-.25-.88-.24-1.17.17-.3.41-.11.87.13 1.07z';\n\t\t\t\tbreak;\n\t\t\tcase 'embed-audio':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 4H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-7 3H7v4c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.4 0 .7.1 1 .3V5h4v2zm4 3.5L12.5 12l1.5 1.5V15l-3-3 3-3v1.5zm1 4.5v-1.5l1.5-1.5-1.5-1.5V9l3 3-3 3z';\n\t\t\t\tbreak;\n\t\t\tcase 'embed-generic':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 4H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3 6.5L12.5 12l1.5 1.5V15l-3-3 3-3v1.5zm1 4.5v-1.5l1.5-1.5-1.5-1.5V9l3 3-3 3z';\n\t\t\t\tbreak;\n\t\t\tcase 'embed-photo':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 4H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-7 8H3V6h7v6zm4-1.5L12.5 12l1.5 1.5V15l-3-3 3-3v1.5zm1 4.5v-1.5l1.5-1.5-1.5-1.5V9l3 3-3 3zm-6-4V8.5L7.2 10 6 9.2 4 11h5zM4.6 8.6c.6 0 1-.4 1-1s-.4-1-1-1-1 .4-1 1 .4 1 1 1z';\n\t\t\t\tbreak;\n\t\t\tcase 'embed-post':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 4H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.6 9l-.4.3c-.4.4-.5 1.1-.2 1.6l-.8.8-1.1-1.1-1.3 1.3c-.2.2-1.6 1.3-1.8 1.1-.2-.2.9-1.6 1.1-1.8l1.3-1.3-1.1-1.1.8-.8c.5.3 1.2.3 1.6-.2l.3-.3c.5-.5.5-1.2.2-1.7L8 5l3 2.9-.8.8c-.5-.2-1.2-.2-1.6.3zm5.4 1.5L12.5 12l1.5 1.5V15l-3-3 3-3v1.5zm1 4.5v-1.5l1.5-1.5-1.5-1.5V9l3 3-3 3z';\n\t\t\t\tbreak;\n\t\t\tcase 'embed-video':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 4H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-7 6.5L8 9.1V11H3V6h5v1.8l2-1.3v4zm4 0L12.5 12l1.5 1.5V15l-3-3 3-3v1.5zm1 4.5v-1.5l1.5-1.5-1.5-1.5V9l3 3-3 3z';\n\t\t\t\tbreak;\n\t\t\tcase 'excerpt-view':\n\t\t\t\tpath =\n\t\t\t\t\t'M19 18V2c0-.55-.45-1-1-1H2c-.55 0-1 .45-1 1v16c0 .55.45 1 1 1h16c.55 0 1-.45 1-1zM4 3c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm13 0v6H6V3h11zM4 11c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm13 0v6H6v-6h11z';\n\t\t\t\tbreak;\n\t\t\tcase 'exit':\n\t\t\t\tpath =\n\t\t\t\t\t'M13 3v2h2v10h-2v2h4V3h-4zm0 8V9H5.4l4.3-4.3-1.4-1.4L1.6 10l6.7 6.7 1.4-1.4L5.4 11H13z';\n\t\t\t\tbreak;\n\t\t\tcase 'external':\n\t\t\t\tpath =\n\t\t\t\t\t'M9 3h8v8l-2-1V6.92l-5.6 5.59-1.41-1.41L14.08 5H10zm3 12v-3l2-2v7H3V6h8L9 8H5v7h7z';\n\t\t\t\tbreak;\n\t\t\tcase 'facebook-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M8.46 18h2.93v-7.3h2.45l.37-2.84h-2.82V6.04c0-.82.23-1.38 1.41-1.38h1.51V2.11c-.26-.03-1.15-.11-2.19-.11-2.18 0-3.66 1.33-3.66 3.76v2.1H6v2.84h2.46V18z';\n\t\t\t\tbreak;\n\t\t\tcase 'facebook':\n\t\t\t\tpath =\n\t\t\t\t\t'M2.89 2h14.23c.49 0 .88.39.88.88v14.24c0 .48-.39.88-.88.88h-4.08v-6.2h2.08l.31-2.41h-2.39V7.85c0-.7.2-1.18 1.2-1.18h1.28V4.51c-.22-.03-.98-.09-1.86-.09-1.85 0-3.11 1.12-3.11 3.19v1.78H8.46v2.41h2.09V18H2.89c-.49 0-.89-.4-.89-.88V2.88c0-.49.4-.88.89-.88z';\n\t\t\t\tbreak;\n\t\t\tcase 'feedback':\n\t\t\t\tpath =\n\t\t\t\t\t'M2 2h16c.55 0 1 .45 1 1v14c0 .55-.45 1-1 1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1zm15 14V7H3v9h14zM4 8v1h3V8H4zm4 0v3h8V8H8zm-4 4v1h3v-1H4zm4 0v3h8v-3H8z';\n\t\t\t\tbreak;\n\t\t\tcase 'filter':\n\t\t\t\tpath =\n\t\t\t\t\t'M3 4.5v-2s3.34-1 7-1 7 1 7 1v2l-5 7.03v6.97s-1.22-.09-2.25-.59S8 16.5 8 16.5v-4.97z';\n\t\t\t\tbreak;\n\t\t\tcase 'flag':\n\t\t\t\tpath = 'M5 18V3H3v15h2zm1-6V4c3-1 7 1 11 0v8c-3 1.27-8-1-11 0z';\n\t\t\t\tbreak;\n\t\t\tcase 'format-aside':\n\t\t\t\tpath =\n\t\t\t\t\t'M1 1h18v12l-6 6H1V1zm3 3v1h12V4H4zm0 4v1h12V8H4zm6 5v-1H4v1h6zm2 4l5-5h-5v5z';\n\t\t\t\tbreak;\n\t\t\tcase 'format-audio':\n\t\t\t\tpath =\n\t\t\t\t\t'M6.99 3.08l11.02-2c.55-.08.99.45.99 1V14.5c0 1.94-1.57 3.5-3.5 3.5S12 16.44 12 14.5c0-1.93 1.57-3.5 3.5-3.5.54 0 1.04.14 1.5.35V5.08l-9 2V16c-.24 1.7-1.74 3-3.5 3C2.57 19 1 17.44 1 15.5 1 13.57 2.57 12 4.5 12c.54 0 1.04.14 1.5.35V4.08c0-.55.44-.91.99-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'format-chat':\n\t\t\t\tpath =\n\t\t\t\t\t'M11 6h-.82C9.07 6 8 7.2 8 8.16V10l-3 3v-3H3c-1.1 0-2-.9-2-2V3c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v3zm0 1h6c1.1 0 2 .9 2 2v5c0 1.1-.9 2-2 2h-2v3l-3-3h-1c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2z';\n\t\t\t\tbreak;\n\t\t\tcase 'format-gallery':\n\t\t\t\tpath =\n\t\t\t\t\t'M16 4h1.96c.57 0 1.04.47 1.04 1.04v12.92c0 .57-.47 1.04-1.04 1.04H5.04C4.47 19 4 18.53 4 17.96V16H2.04C1.47 16 1 15.53 1 14.96V2.04C1 1.47 1.47 1 2.04 1h12.92c.57 0 1.04.47 1.04 1.04V4zM3 14h11V3H3v11zm5-8.5C8 4.67 7.33 4 6.5 4S5 4.67 5 5.5 5.67 7 6.5 7 8 6.33 8 5.5zm2 4.5s1-5 3-5v8H4V7c2 0 2 3 2 3s.33-2 2-2 2 2 2 2zm7 7V6h-1v8.96c0 .57-.47 1.04-1.04 1.04H6v1h11z';\n\t\t\t\tbreak;\n\t\t\tcase 'format-image':\n\t\t\t\tpath =\n\t\t\t\t\t'M2.25 1h15.5c.69 0 1.25.56 1.25 1.25v15.5c0 .69-.56 1.25-1.25 1.25H2.25C1.56 19 1 18.44 1 17.75V2.25C1 1.56 1.56 1 2.25 1zM17 17V3H3v14h14zM10 6c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm3 5s0-6 3-6v10c0 .55-.45 1-1 1H5c-.55 0-1-.45-1-1V8c2 0 3 4 3 4s1-3 3-3 3 2 3 2z';\n\t\t\t\tbreak;\n\t\t\tcase 'format-quote':\n\t\t\t\tpath =\n\t\t\t\t\t'M8.54 12.74c0-.87-.24-1.61-.72-2.22-.73-.92-2.14-1.03-2.96-.85-.34-1.93 1.3-4.39 3.42-5.45L6.65 1.94C3.45 3.46.31 6.96.85 11.37 1.19 14.16 2.8 16 5.08 16c1 0 1.83-.29 2.48-.88.66-.59.98-1.38.98-2.38zm9.43 0c0-.87-.24-1.61-.72-2.22-.73-.92-2.14-1.03-2.96-.85-.34-1.93 1.3-4.39 3.42-5.45l-1.63-2.28c-3.2 1.52-6.34 5.02-5.8 9.43.34 2.79 1.95 4.63 4.23 4.63 1 0 1.83-.29 2.48-.88.66-.59.98-1.38.98-2.38z';\n\t\t\t\tbreak;\n\t\t\tcase 'format-status':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 1c7 0 9 2.91 9 6.5S17 14 10 14s-9-2.91-9-6.5S3 1 10 1zM5.5 9C6.33 9 7 8.33 7 7.5S6.33 6 5.5 6 4 6.67 4 7.5 4.67 9 5.5 9zM10 9c.83 0 1.5-.67 1.5-1.5S10.83 6 10 6s-1.5.67-1.5 1.5S9.17 9 10 9zm4.5 0c.83 0 1.5-.67 1.5-1.5S15.33 6 14.5 6 13 6.67 13 7.5 13.67 9 14.5 9zM6 14.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zm-3 2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'format-video':\n\t\t\t\tpath =\n\t\t\t\t\t'M2 1h16c.55 0 1 .45 1 1v16l-18-.02V2c0-.55.45-1 1-1zm4 1L4 5h1l2-3H6zm4 0H9L7 5h1zm3 0h-1l-2 3h1zm3 0h-1l-2 3h1zm1 14V6H3v10h14zM8 7l6 4-6 4V7z';\n\t\t\t\tbreak;\n\t\t\tcase 'forms':\n\t\t\t\tpath =\n\t\t\t\t\t'M2 2h7v7H2V2zm9 0v7h7V2h-7zM5.5 4.5L7 3H4zM12 8V3h5v5h-5zM4.5 5.5L3 4v3zM8 4L6.5 5.5 8 7V4zM5.5 6.5L4 8h3zM9 18v-7H2v7h7zm9 0h-7v-7h7v7zM8 12v5H3v-5h5zm6.5 1.5L16 12h-3zM12 16l1.5-1.5L12 13v3zm3.5-1.5L17 16v-3zm-1 1L13 17h3z';\n\t\t\t\tbreak;\n\t\t\tcase 'googleplus':\n\t\t\t\tpath =\n\t\t\t\t\t'M6.73 10h5.4c.05.29.09.57.09.95 0 3.27-2.19 5.6-5.49 5.6-3.17 0-5.73-2.57-5.73-5.73 0-3.17 2.56-5.73 5.73-5.73 1.54 0 2.84.57 3.83 1.5l-1.55 1.5c-.43-.41-1.17-.89-2.28-.89-1.96 0-3.55 1.62-3.55 3.62 0 1.99 1.59 3.61 3.55 3.61 2.26 0 3.11-1.62 3.24-2.47H6.73V10zM19 10v1.64h-1.64v1.63h-1.63v-1.63h-1.64V10h1.64V8.36h1.63V10H19z';\n\t\t\t\tbreak;\n\t\t\tcase 'grid-view':\n\t\t\t\tpath =\n\t\t\t\t\t'M2 1h16c.55 0 1 .45 1 1v16c0 .55-.45 1-1 1H2c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1zm7.01 7.99v-6H3v6h6.01zm8 0v-6h-6v6h6zm-8 8.01v-6H3v6h6.01zm8 0v-6h-6v6h6z';\n\t\t\t\tbreak;\n\t\t\tcase 'groups':\n\t\t\t\tpath =\n\t\t\t\t\t'M8.03 4.46c-.29 1.28.55 3.46 1.97 3.46 1.41 0 2.25-2.18 1.96-3.46-.22-.98-1.08-1.63-1.96-1.63-.89 0-1.74.65-1.97 1.63zm-4.13.9c-.25 1.08.47 2.93 1.67 2.93s1.92-1.85 1.67-2.93c-.19-.83-.92-1.39-1.67-1.39s-1.48.56-1.67 1.39zm8.86 0c-.25 1.08.47 2.93 1.66 2.93 1.2 0 1.92-1.85 1.67-2.93-.19-.83-.92-1.39-1.67-1.39-.74 0-1.47.56-1.66 1.39zm-.59 11.43l1.25-4.3C14.2 10 12.71 8.47 10 8.47c-2.72 0-4.21 1.53-3.44 4.02l1.26 4.3C8.05 17.51 9 18 10 18c.98 0 1.94-.49 2.17-1.21zm-6.1-7.63c-.49.67-.96 1.83-.42 3.59l1.12 3.79c-.34.2-.77.31-1.2.31-.85 0-1.65-.41-1.85-1.03l-1.07-3.65c-.65-2.11.61-3.4 2.92-3.4.27 0 .54.02.79.06-.1.1-.2.22-.29.33zm8.35-.39c2.31 0 3.58 1.29 2.92 3.4l-1.07 3.65c-.2.62-1 1.03-1.85 1.03-.43 0-.86-.11-1.2-.31l1.11-3.77c.55-1.78.08-2.94-.42-3.61-.08-.11-.18-.23-.28-.33.25-.04.51-.06.79-.06z';\n\t\t\t\tbreak;\n\t\t\tcase 'hammer':\n\t\t\t\tpath =\n\t\t\t\t\t'M17.7 6.32l1.41 1.42-3.47 3.41-1.42-1.42.84-.82c-.32-.76-.81-1.57-1.51-2.31l-4.61 6.59-5.26 4.7c-.39.39-1.02.39-1.42 0l-1.2-1.21c-.39-.39-.39-1.02 0-1.41l10.97-9.92c-1.37-.86-3.21-1.46-5.67-1.48 2.7-.82 4.95-.93 6.58-.3 1.7.66 2.82 2.2 3.91 3.58z';\n\t\t\t\tbreak;\n\t\t\tcase 'heading':\n\t\t\t\tpath = 'M12.5 4v5.2h-5V4H5v13h2.5v-5.2h5V17H15V4';\n\t\t\t\tbreak;\n\t\t\tcase 'heart':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 17.12c3.33-1.4 5.74-3.79 7.04-6.21 1.28-2.41 1.46-4.81.32-6.25-1.03-1.29-2.37-1.78-3.73-1.74s-2.68.63-3.63 1.46c-.95-.83-2.27-1.42-3.63-1.46s-2.7.45-3.73 1.74c-1.14 1.44-.96 3.84.34 6.25 1.28 2.42 3.69 4.81 7.02 6.21z';\n\t\t\t\tbreak;\n\t\t\tcase 'hidden':\n\t\t\t\tpath =\n\t\t\t\t\t'M17.2 3.3l.16.17c.39.39.39 1.02 0 1.41L4.55 17.7c-.39.39-1.03.39-1.41 0l-.17-.17c-.39-.39-.39-1.02 0-1.41l1.59-1.6c-1.57-1-2.76-2.3-3.56-3.93.81-1.65 2.03-2.98 3.64-3.99S8.04 5.09 10 5.09c1.2 0 2.33.21 3.4.6l2.38-2.39c.39-.39 1.03-.39 1.42 0zm-7.09 4.01c-.23.25-.34.54-.34.88 0 .31.12.58.31.81l1.8-1.79c-.13-.12-.28-.21-.45-.26-.11-.01-.28-.03-.49-.04-.33.03-.6.16-.83.4zM2.4 10.59c.69 1.23 1.71 2.25 3.05 3.05l1.28-1.28c-.51-.69-.77-1.47-.77-2.36 0-1.06.36-1.98 1.09-2.76-1.04.27-1.96.7-2.76 1.26-.8.58-1.43 1.27-1.89 2.09zm13.22-2.13l.96-.96c1.02.86 1.83 1.89 2.42 3.09-.81 1.65-2.03 2.98-3.64 3.99s-3.4 1.51-5.36 1.51c-.63 0-1.24-.07-1.83-.18l1.07-1.07c.25.02.5.05.76.05 1.63 0 3.13-.4 4.5-1.21s2.4-1.84 3.1-3.09c-.46-.82-1.09-1.51-1.89-2.09-.03-.01-.06-.03-.09-.04zm-5.58 5.58l4-4c-.01 1.1-.41 2.04-1.18 2.81-.78.78-1.72 1.18-2.82 1.19z';\n\t\t\t\tbreak;\n\t\t\tcase 'html':\n\t\t\t\tpath =\n\t\t\t\t\t'M4 16v-2H2v2H1v-5h1v2h2v-2h1v5H4zM7 16v-4H5.6v-1h3.7v1H8v4H7zM10 16v-5h1l1.4 3.4h.1L14 11h1v5h-1v-3.1h-.1l-1.1 2.5h-.6l-1.1-2.5H11V16h-1zM19 16h-3v-5h1v4h2v1zM9.4 4.2L7.1 6.5l2.3 2.3-.6 1.2-3.5-3.5L8.8 3l.6 1.2zm1.2 4.6l2.3-2.3-2.3-2.3.6-1.2 3.5 3.5-3.5 3.5-.6-1.2z';\n\t\t\t\tbreak;\n\t\t\tcase 'id-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 18H2V2h16v16zM8.05 7.53c.13-.07.24-.15.33-.24.09-.1.17-.21.24-.34.07-.14.13-.26.17-.37s.07-.22.1-.34L8.95 6c0-.04.01-.07.01-.09.05-.32.03-.61-.04-.9-.08-.28-.23-.52-.46-.72C8.23 4.1 7.95 4 7.6 4c-.2 0-.39.04-.56.11-.17.08-.31.18-.41.3-.11.13-.2.27-.27.44-.07.16-.11.33-.12.51s0 .36.01.55l.02.09c.01.06.03.15.06.25s.06.21.1.33.1.25.17.37c.08.12.16.23.25.33s.2.19.34.25c.13.06.28.09.43.09s.3-.03.43-.09zM16 5V4h-5v1h5zm0 2V6h-5v1h5zM7.62 8.83l-1.38-.88c-.41 0-.79.11-1.14.32-.35.22-.62.5-.81.85-.19.34-.29.7-.29 1.07v1.25l.2.05c.13.04.31.09.55.14.24.06.51.12.8.17.29.06.62.1 1 .14.37.04.73.06 1.07.06s.69-.02 1.07-.06.7-.09.98-.14c.27-.05.54-.1.82-.17.27-.06.45-.11.54-.13.09-.03.16-.05.21-.06v-1.25c0-.36-.1-.72-.31-1.07s-.49-.64-.84-.86-.72-.33-1.11-.33zM16 9V8h-3v1h3zm0 2v-1h-3v1h3zm0 3v-1H4v1h12zm0 2v-1H4v1h12z';\n\t\t\t\tbreak;\n\t\t\tcase 'id':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 16H2V4h16v12zM7.05 8.53c.13-.07.24-.15.33-.24.09-.1.17-.21.24-.34.07-.14.13-.26.17-.37s.07-.22.1-.34L7.95 7c0-.04.01-.07.01-.09.05-.32.03-.61-.04-.9-.08-.28-.23-.52-.46-.72C7.23 5.1 6.95 5 6.6 5c-.2 0-.39.04-.56.11-.17.08-.31.18-.41.3-.11.13-.2.27-.27.44-.07.16-.11.33-.12.51s0 .36.01.55l.02.09c.01.06.03.15.06.25s.06.21.1.33.1.25.17.37c.08.12.16.23.25.33s.2.19.34.25c.13.06.28.09.43.09s.3-.03.43-.09zM17 9V5h-5v4h5zm-10.38.83l-1.38-.88c-.41 0-.79.11-1.14.32-.35.22-.62.5-.81.85-.19.34-.29.7-.29 1.07v1.25l.2.05c.13.04.31.09.55.14.24.06.51.12.8.17.29.06.62.1 1 .14.37.04.73.06 1.07.06s.69-.02 1.07-.06.7-.09.98-.14c.27-.05.54-.1.82-.17.27-.06.45-.11.54-.13.09-.03.16-.05.21-.06v-1.25c0-.36-.1-.72-.31-1.07s-.49-.64-.84-.86-.72-.33-1.11-.33zM17 11v-1h-5v1h5zm0 2v-1h-5v1h5zm0 2v-1H3v1h14z';\n\t\t\t\tbreak;\n\t\t\tcase 'image-crop':\n\t\t\t\tpath =\n\t\t\t\t\t'M19 12v3h-4v4h-3v-4H4V7H0V4h4V0h3v4h7l3-3 1 1-3 3v7h4zm-8-5H7v4zm-3 5h4V8z';\n\t\t\t\tbreak;\n\t\t\tcase 'image-filter':\n\t\t\t\tpath =\n\t\t\t\t\t'M14 5.87c0-2.2-1.79-4-4-4s-4 1.8-4 4c0 2.21 1.79 4 4 4s4-1.79 4-4zM3.24 10.66c-1.92 1.1-2.57 3.55-1.47 5.46 1.11 1.92 3.55 2.57 5.47 1.47 1.91-1.11 2.57-3.55 1.46-5.47-1.1-1.91-3.55-2.56-5.46-1.46zm9.52 6.93c1.92 1.1 4.36.45 5.47-1.46 1.1-1.92.45-4.36-1.47-5.47-1.91-1.1-4.36-.45-5.46 1.46-1.11 1.92-.45 4.36 1.46 5.47z';\n\t\t\t\tbreak;\n\t\t\tcase 'image-flip-horizontal':\n\t\t\t\tpath =\n\t\t\t\t\t'M19 3v14h-8v3H9v-3H1V3h8V0h2v3h8zm-8.5 14V3h-1v14h1zM7 6.5L3 10l4 3.5v-7zM17 10l-4-3.5v7z';\n\t\t\t\tbreak;\n\t\t\tcase 'image-flip-vertical':\n\t\t\t\tpath =\n\t\t\t\t\t'M20 9v2h-3v8H3v-8H0V9h3V1h14v8h3zM6.5 7h7L10 3zM17 9.5H3v1h14v-1zM13.5 13h-7l3.5 4z';\n\t\t\t\tbreak;\n\t\t\tcase 'image-rotate-left':\n\t\t\t\tpath =\n\t\t\t\t\t'M7 5H5.05c0-1.74.85-2.9 2.95-2.9V0C4.85 0 2.96 2.11 2.96 5H1.18L3.8 8.39zm13-4v14h-5v5H1V10h9V1h10zm-2 2h-6v7h3v3h3V3zm-5 9H3v6h10v-6z';\n\t\t\t\tbreak;\n\t\t\tcase 'image-rotate-right':\n\t\t\t\tpath =\n\t\t\t\t\t'M15.95 5H14l3.2 3.39L19.82 5h-1.78c0-2.89-1.89-5-5.04-5v2.1c2.1 0 2.95 1.16 2.95 2.9zM1 1h10v9h9v10H6v-5H1V1zm2 2v10h3v-3h3V3H3zm5 9v6h10v-6H8z';\n\t\t\t\tbreak;\n\t\t\tcase 'image-rotate':\n\t\t\t\tpath =\n\t\t\t\t\t'M10.25 1.02c5.1 0 8.75 4.04 8.75 9s-3.65 9-8.75 9c-3.2 0-6.02-1.59-7.68-3.99l2.59-1.52c1.1 1.5 2.86 2.51 4.84 2.51 3.3 0 6-2.79 6-6s-2.7-6-6-6c-1.97 0-3.72 1-4.82 2.49L7 8.02l-6 2v-7L2.89 4.6c1.69-2.17 4.36-3.58 7.36-3.58z';\n\t\t\t\tbreak;\n\t\t\tcase 'images-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M4 15v-3H2V2h12v3h2v3h2v10H6v-3H4zm7-12c-1.1 0-2 .9-2 2h4c0-1.1-.89-2-2-2zm-7 8V6H3v5h1zm7-3h4c0-1.1-.89-2-2-2-1.1 0-2 .9-2 2zm-5 6V9H5v5h1zm9-1c1.1 0 2-.89 2-2 0-1.1-.9-2-2-2s-2 .9-2 2c0 1.11.9 2 2 2zm2 4v-2c-5 0-5-3-10-3v5h10z';\n\t\t\t\tbreak;\n\t\t\tcase 'images-alt2':\n\t\t\t\tpath =\n\t\t\t\t\t'M5 3h14v11h-2v2h-2v2H1V7h2V5h2V3zm13 10V4H6v9h12zm-3-4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm1 6v-1H5V6H4v9h12zM7 6l10 6H7V6zm7 11v-1H3V8H2v9h12z';\n\t\t\t\tbreak;\n\t\t\tcase 'index-card':\n\t\t\t\tpath =\n\t\t\t\t\t'M1 3.17V18h18V4H8v-.83c0-.32-.12-.6-.35-.83S7.14 2 6.82 2H2.18c-.33 0-.6.11-.83.34-.24.23-.35.51-.35.83zM10 6v2H3V6h7zm7 0v10h-5V6h5zm-7 4v2H3v-2h7zm0 4v2H3v-2h7z';\n\t\t\t\tbreak;\n\t\t\tcase 'info-outline':\n\t\t\t\tpath =\n\t\t\t\t\t'M9 15h2V9H9v6zm1-10c-.5 0-1 .5-1 1s.5 1 1 1 1-.5 1-1-.5-1-1-1zm0-4c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7z';\n\t\t\t\tbreak;\n\t\t\tcase 'info':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1 4c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zm0 9V9H9v6h2z';\n\t\t\t\tbreak;\n\t\t\tcase 'insert-after':\n\t\t\t\tpath =\n\t\t\t\t\t'M9 12h2v-2h2V8h-2V6H9v2H7v2h2v2zm1 4c3.9 0 7-3.1 7-7s-3.1-7-7-7-7 3.1-7 7 3.1 7 7 7zm0-12c2.8 0 5 2.2 5 5s-2.2 5-5 5-5-2.2-5-5 2.2-5 5-5zM3 19h14v-2H3v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'insert-before':\n\t\t\t\tpath =\n\t\t\t\t\t'M11 8H9v2H7v2h2v2h2v-2h2v-2h-2V8zm-1-4c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 12c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5zM3 1v2h14V1H3z';\n\t\t\t\tbreak;\n\t\t\tcase 'insert':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 1c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7zm1-11H9v3H6v2h3v3h2v-3h3V9h-3V6z';\n\t\t\t\tbreak;\n\t\t\tcase 'instagram':\n\t\t\t\tpath =\n\t\t\t\t\t'M12.67 10A2.67 2.67 0 1 0 10 12.67 2.68 2.68 0 0 0 12.67 10zm1.43 0A4.1 4.1 0 1 1 10 5.9a4.09 4.09 0 0 1 4.1 4.1zm1.13-4.27a1 1 0 1 1-1-1 1 1 0 0 1 1 1zM10 3.44c-1.17 0-3.67-.1-4.72.32a2.67 2.67 0 0 0-1.52 1.52c-.42 1-.32 3.55-.32 4.72s-.1 3.67.32 4.72a2.74 2.74 0 0 0 1.52 1.52c1 .42 3.55.32 4.72.32s3.67.1 4.72-.32a2.83 2.83 0 0 0 1.52-1.52c.42-1.05.32-3.55.32-4.72s.1-3.67-.32-4.72a2.74 2.74 0 0 0-1.52-1.52c-1.05-.42-3.55-.32-4.72-.32zM18 10c0 1.1 0 2.2-.05 3.3a4.84 4.84 0 0 1-1.29 3.36A4.8 4.8 0 0 1 13.3 18H6.7a4.84 4.84 0 0 1-3.36-1.29 4.84 4.84 0 0 1-1.29-3.41C2 12.2 2 11.1 2 10V6.7a4.84 4.84 0 0 1 1.34-3.36A4.8 4.8 0 0 1 6.7 2.05C7.8 2 8.9 2 10 2h3.3a4.84 4.84 0 0 1 3.36 1.29A4.8 4.8 0 0 1 18 6.7V10z';\n\t\t\t\tbreak;\n\t\t\tcase 'keyboard-hide':\n\t\t\t\tpath =\n\t\t\t\t\t'M18,0 L2,0 C0.9,0 0.01,0.9 0.01,2 L0,12 C0,13.1 0.9,14 2,14 L18,14 C19.1,14 20,13.1 20,12 L20,2 C20,0.9 19.1,0 18,0 Z M18,12 L2,12 L2,2 L18,2 L18,12 Z M9,3 L11,3 L11,5 L9,5 L9,3 Z M9,6 L11,6 L11,8 L9,8 L9,6 Z M6,3 L8,3 L8,5 L6,5 L6,3 Z M6,6 L8,6 L8,8 L6,8 L6,6 Z M3,6 L5,6 L5,8 L3,8 L3,6 Z M3,3 L5,3 L5,5 L3,5 L3,3 Z M6,9 L14,9 L14,11 L6,11 L6,9 Z M12,6 L14,6 L14,8 L12,8 L12,6 Z M12,3 L14,3 L14,5 L12,5 L12,3 Z M15,6 L17,6 L17,8 L15,8 L15,6 Z M15,3 L17,3 L17,5 L15,5 L15,3 Z M10,20 L14,16 L6,16 L10,20 Z';\n\t\t\t\tbreak;\n\t\t\tcase 'laptop':\n\t\t\t\tpath =\n\t\t\t\t\t'M3 3h14c.6 0 1 .4 1 1v10c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1V4c0-.6.4-1 1-1zm13 2H4v8h12V5zm-3 1H5v4zm6 11v-1H1v1c0 .6.5 1 1.1 1h15.8c.6 0 1.1-.4 1.1-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'layout':\n\t\t\t\tpath =\n\t\t\t\t\t'M2 2h5v11H2V2zm6 0h5v5H8V2zm6 0h4v16h-4V2zM8 8h5v5H8V8zm-6 6h11v4H2v-4z';\n\t\t\t\tbreak;\n\t\t\tcase 'leftright':\n\t\t\t\tpath = 'M3 10.03L9 6v8zM11 6l6 4.03L11 14V6z';\n\t\t\t\tbreak;\n\t\t\tcase 'lightbulb':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 1c3.11 0 5.63 2.52 5.63 5.62 0 1.84-2.03 4.58-2.03 4.58-.33.44-.6 1.25-.6 1.8v1c0 .55-.45 1-1 1H8c-.55 0-1-.45-1-1v-1c0-.55-.27-1.36-.6-1.8 0 0-2.02-2.74-2.02-4.58C4.38 3.52 6.89 1 10 1zM7 16.87V16h6v.87c0 .62-.13 1.13-.75 1.13H12c0 .62-.4 1-1.02 1h-2c-.61 0-.98-.38-.98-1h-.25c-.62 0-.75-.51-.75-1.13z';\n\t\t\t\tbreak;\n\t\t\tcase 'list-view':\n\t\t\t\tpath =\n\t\t\t\t\t'M2 19h16c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1H2c-.55 0-1 .45-1 1v16c0 .55.45 1 1 1zM4 3c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm13 0v2H6V3h11zM4 7c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm13 0v2H6V7h11zM4 11c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm13 0v2H6v-2h11zM4 15c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm13 0v2H6v-2h11z';\n\t\t\t\tbreak;\n\t\t\tcase 'location-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M13 13.14l1.17-5.94c.79-.43 1.33-1.25 1.33-2.2 0-1.38-1.12-2.5-2.5-2.5S10.5 3.62 10.5 5c0 .95.54 1.77 1.33 2.2zm0-9.64c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zm1.72 4.8L18 6.97v9L13.12 18 7 15.97l-5 2v-9l5-2 4.27 1.41 1.73 7.3z';\n\t\t\t\tbreak;\n\t\t\tcase 'location':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2C6.69 2 4 4.69 4 8c0 2.02 1.17 3.71 2.53 4.89.43.37 1.18.96 1.85 1.83.74.97 1.41 2.01 1.62 2.71.21-.7.88-1.74 1.62-2.71.67-.87 1.42-1.46 1.85-1.83C14.83 11.71 16 10.02 16 8c0-3.31-2.69-6-6-6zm0 2.56c1.9 0 3.44 1.54 3.44 3.44S11.9 11.44 10 11.44 6.56 9.9 6.56 8 8.1 4.56 10 4.56z';\n\t\t\t\tbreak;\n\t\t\tcase 'lock':\n\t\t\t\tpath =\n\t\t\t\t\t'M14 9h1c.55 0 1 .45 1 1v7c0 .55-.45 1-1 1H5c-.55 0-1-.45-1-1v-7c0-.55.45-1 1-1h1V6c0-2.21 1.79-4 4-4s4 1.79 4 4v3zm-2 0V6c0-1.1-.9-2-2-2s-2 .9-2 2v3h4zm-1 7l-.36-2.15c.51-.24.86-.75.86-1.35 0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .6.35 1.11.86 1.35L9 16h2z';\n\t\t\t\tbreak;\n\t\t\tcase 'marker':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm0 13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5z';\n\t\t\t\tbreak;\n\t\t\tcase 'media-archive':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 2l4 4v12H4V2h8zm0 4h3l-3-3v3zM8 3.5v2l1.8-1zM11 5L9.2 6 11 7V5zM8 6.5v2l1.8-1zM11 8L9.2 9l1.8 1V8zM8 9.5v2l1.8-1zm3 1.5l-1.8 1 1.8 1v-2zm-1.5 6c.83 0 1.62-.72 1.5-1.63-.05-.38-.49-1.61-.49-1.61l-1.99-1.1s-.45 1.95-.52 2.71c-.07.77.67 1.63 1.5 1.63zm0-2.39c.42 0 .76.34.76.76 0 .43-.34.77-.76.77s-.76-.34-.76-.77c0-.42.34-.76.76-.76z';\n\t\t\t\tbreak;\n\t\t\tcase 'media-audio':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 2l4 4v12H4V2h8zm0 4h3l-3-3v3zm1 7.26V8.09c0-.11-.04-.21-.12-.29-.07-.08-.16-.11-.27-.1 0 0-3.97.71-4.25.78C8.07 8.54 8 8.8 8 9v3.37c-.2-.09-.42-.07-.6-.07-.38 0-.7.13-.96.39-.26.27-.4.58-.4.96 0 .37.14.69.4.95.26.27.58.4.96.4.34 0 .7-.04.96-.26.26-.23.64-.65.64-1.12V10.3l3-.6V12c-.67-.2-1.17.04-1.44.31-.26.26-.39.58-.39.95 0 .38.13.69.39.96.27.26.71.39 1.08.39.38 0 .7-.13.96-.39.26-.27.4-.58.4-.96z';\n\t\t\t\tbreak;\n\t\t\tcase 'media-code':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 2l4 4v12H4V2h8zM9 13l-2-2 2-2-1-1-3 3 3 3zm3 1l3-3-3-3-1 1 2 2-2 2z';\n\t\t\t\tbreak;\n\t\t\tcase 'media-default':\n\t\t\t\tpath = 'M12 2l4 4v12H4V2h8zm0 4h3l-3-3v3z';\n\t\t\t\tbreak;\n\t\t\tcase 'media-document':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 2l4 4v12H4V2h8zM5 3v1h6V3H5zm7 3h3l-3-3v3zM5 5v1h6V5H5zm10 3V7H5v1h10zM5 9v1h4V9H5zm10 3V9h-5v3h5zM5 11v1h4v-1H5zm10 3v-1H5v1h10zm-3 2v-1H5v1h7z';\n\t\t\t\tbreak;\n\t\t\tcase 'media-interactive':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 2l4 4v12H4V2h8zm0 4h3l-3-3v3zm2 8V8H6v6h3l-1 2h1l1-2 1 2h1l-1-2h3zm-6-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm5-2v2h-3V9h3zm0 3v1H7v-1h6z';\n\t\t\t\tbreak;\n\t\t\tcase 'media-spreadsheet':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 2l4 4v12H4V2h8zm-1 4V3H5v3h6zM8 8V7H5v1h3zm3 0V7H9v1h2zm4 0V7h-3v1h3zm-7 2V9H5v1h3zm3 0V9H9v1h2zm4 0V9h-3v1h3zm-7 2v-1H5v1h3zm3 0v-1H9v1h2zm4 0v-1h-3v1h3zm-7 2v-1H5v1h3zm3 0v-1H9v1h2zm4 0v-1h-3v1h3zm-7 2v-1H5v1h3zm3 0v-1H9v1h2z';\n\t\t\t\tbreak;\n\t\t\tcase 'media-text':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 2l4 4v12H4V2h8zM5 3v1h6V3H5zm7 3h3l-3-3v3zM5 5v1h6V5H5zm10 3V7H5v1h10zm0 2V9H5v1h10zm0 2v-1H5v1h10zm-4 2v-1H5v1h6z';\n\t\t\t\tbreak;\n\t\t\tcase 'media-video':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 2l4 4v12H4V2h8zm0 4h3l-3-3v3zm-1 8v-3c0-.27-.1-.51-.29-.71-.2-.19-.44-.29-.71-.29H7c-.27 0-.51.1-.71.29-.19.2-.29.44-.29.71v3c0 .27.1.51.29.71.2.19.44.29.71.29h3c.27 0 .51-.1.71-.29.19-.2.29-.44.29-.71zm3 1v-5l-2 2v1z';\n\t\t\t\tbreak;\n\t\t\tcase 'megaphone':\n\t\t\t\tpath =\n\t\t\t\t\t'M18.15 5.94c.46 1.62.38 3.22-.02 4.48-.42 1.28-1.26 2.18-2.3 2.48-.16.06-.26.06-.4.06-.06.02-.12.02-.18.02-.06.02-.14.02-.22.02h-6.8l2.22 5.5c.02.14-.06.26-.14.34-.08.1-.24.16-.34.16H6.95c-.1 0-.26-.06-.34-.16-.08-.08-.16-.2-.14-.34l-1-5.5H4.25l-.02-.02c-.5.06-1.08-.18-1.54-.62s-.88-1.08-1.06-1.88c-.24-.8-.2-1.56-.02-2.2.18-.62.58-1.08 1.06-1.3l.02-.02 9-5.4c.1-.06.18-.1.24-.16.06-.04.14-.08.24-.12.16-.08.28-.12.5-.18 1.04-.3 2.24.1 3.22.98s1.84 2.24 2.26 3.86zm-2.58 5.98h-.02c.4-.1.74-.34 1.04-.7.58-.7.86-1.76.86-3.04 0-.64-.1-1.3-.28-1.98-.34-1.36-1.02-2.5-1.78-3.24s-1.68-1.1-2.46-.88c-.82.22-1.4.96-1.7 2-.32 1.04-.28 2.36.06 3.72.38 1.36 1 2.5 1.8 3.24.78.74 1.62 1.1 2.48.88zm-2.54-7.08c.22-.04.42-.02.62.04.38.16.76.48 1.02 1s.42 1.2.42 1.78c0 .3-.04.56-.12.8-.18.48-.44.84-.86.94-.34.1-.8-.06-1.14-.4s-.64-.86-.78-1.5c-.18-.62-.12-1.24.02-1.72s.48-.84.82-.94z';\n\t\t\t\tbreak;\n\t\t\tcase 'menu-alt':\n\t\t\t\tpath = 'M3 4h14v2H3V4zm0 5h14v2H3V9zm0 5h14v2H3v-2z';\n\t\t\t\tbreak;\n\t\t\tcase 'menu':\n\t\t\t\tpath = 'M17 7V5H3v2h14zm0 4V9H3v2h14zm0 4v-2H3v2h14z';\n\t\t\t\tbreak;\n\t\t\tcase 'microphone':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 9V3c0-1.1-.89-2-2-2-1.12 0-2 .94-2 2v6c0 1.1.9 2 2 2 1.13 0 2-.94 2-2zm4 0c0 2.97-2.16 5.43-5 5.91V17h2c.56 0 1 .45 1 1s-.44 1-1 1H7c-.55 0-1-.45-1-1s.45-1 1-1h2v-2.09C6.17 14.43 4 11.97 4 9c0-.55.45-1 1-1 .56 0 1 .45 1 1 0 2.21 1.8 4 4 4 2.21 0 4-1.79 4-4 0-.55.45-1 1-1 .56 0 1 .45 1 1z';\n\t\t\t\tbreak;\n\t\t\tcase 'migrate':\n\t\t\t\tpath = 'M4 6h6V4H2v12.01h8V14H4V6zm2 2h6V5l6 5-6 5v-3H6V8z';\n\t\t\t\tbreak;\n\t\t\tcase 'minus':\n\t\t\t\tpath = 'M4 9h12v2H4V9z';\n\t\t\t\tbreak;\n\t\t\tcase 'money':\n\t\t\t\tpath =\n\t\t\t\t\t'M0 3h20v12h-.75c0-1.79-1.46-3.25-3.25-3.25-1.31 0-2.42.79-2.94 1.91-.25-.1-.52-.16-.81-.16-.98 0-1.8.63-2.11 1.5H0V3zm8.37 3.11c-.06.15-.1.31-.11.47s-.01.33.01.5l.02.08c.01.06.02.14.05.23.02.1.06.2.1.31.03.11.09.22.15.33.07.12.15.22.23.31s.18.17.31.23c.12.06.25.09.4.09.14 0 .27-.03.39-.09s.22-.14.3-.22c.09-.09.16-.2.22-.32.07-.12.12-.23.16-.33s.07-.2.09-.31c.03-.11.04-.18.05-.22s.01-.07.01-.09c.05-.29.03-.56-.04-.82s-.21-.48-.41-.66c-.21-.18-.47-.27-.79-.27-.19 0-.36.03-.52.1-.15.07-.28.16-.38.28-.09.11-.17.25-.24.4zm4.48 6.04v-1.14c0-.33-.1-.66-.29-.98s-.45-.59-.77-.79c-.32-.21-.66-.31-1.02-.31l-1.24.84-1.28-.82c-.37 0-.72.1-1.04.3-.31.2-.56.46-.74.77-.18.32-.27.65-.27.99v1.14l.18.05c.12.04.29.08.51.14.23.05.47.1.74.15.26.05.57.09.91.13.34.03.67.05.99.05.3 0 .63-.02.98-.05.34-.04.64-.08.89-.13.25-.04.5-.1.76-.16l.5-.12c.08-.02.14-.04.19-.06zm3.15.1c1.52 0 2.75 1.23 2.75 2.75s-1.23 2.75-2.75 2.75c-.73 0-1.38-.3-1.87-.77.23-.35.37-.78.37-1.23 0-.77-.39-1.46-.99-1.86.43-.96 1.37-1.64 2.49-1.64zm-5.5 3.5c0-.96.79-1.75 1.75-1.75s1.75.79 1.75 1.75-.79 1.75-1.75 1.75-1.75-.79-1.75-1.75z';\n\t\t\t\tbreak;\n\t\t\tcase 'move':\n\t\t\t\tpath =\n\t\t\t\t\t'M19 10l-4 4v-3h-4v4h3l-4 4-4-4h3v-4H5v3l-4-4 4-4v3h4V5H6l4-4 4 4h-3v4h4V6z';\n\t\t\t\tbreak;\n\t\t\tcase 'nametag':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 5V2c0-.55-.45-1-1-1H9c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h2c.55 0 1-.45 1-1zm-2-3c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm8 13V7c0-1.1-.9-2-2-2h-3v.33C13 6.25 12.25 7 11.33 7H8.67C7.75 7 7 6.25 7 5.33V5H4c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-1-6v6H3V9h14zm-8 2c0-.55-.22-1-.5-1s-.5.45-.5 1 .22 1 .5 1 .5-.45.5-1zm3 0c0-.55-.22-1-.5-1s-.5.45-.5 1 .22 1 .5 1 .5-.45.5-1zm-5.96 1.21c.92.48 2.34.79 3.96.79s3.04-.31 3.96-.79c-.21 1-1.89 1.79-3.96 1.79s-3.75-.79-3.96-1.79z';\n\t\t\t\tbreak;\n\t\t\tcase 'networking':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 13h1c.55 0 1 .45 1 1.01v2.98c0 .56-.45 1.01-1 1.01h-4c-.55 0-1-.45-1-1.01v-2.98c0-.56.45-1.01 1-1.01h1v-2h-5v2h1c.55 0 1 .45 1 1.01v2.98c0 .56-.45 1.01-1 1.01H8c-.55 0-1-.45-1-1.01v-2.98c0-.56.45-1.01 1-1.01h1v-2H4v2h1c.55 0 1 .45 1 1.01v2.98C6 17.55 5.55 18 5 18H1c-.55 0-1-.45-1-1.01v-2.98C0 13.45.45 13 1 13h1v-2c0-1.1.9-2 2-2h5V7H8c-.55 0-1-.45-1-1.01V3.01C7 2.45 7.45 2 8 2h4c.55 0 1 .45 1 1.01v2.98C13 6.55 12.55 7 12 7h-1v2h5c1.1 0 2 .9 2 2v2z';\n\t\t\t\tbreak;\n\t\t\tcase 'no-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.95 6.46L11.41 10l3.54 3.54-1.41 1.41L10 11.42l-3.53 3.53-1.42-1.42L8.58 10 5.05 6.47l1.42-1.42L10 8.58l3.54-3.53z';\n\t\t\t\tbreak;\n\t\t\tcase 'no':\n\t\t\t\tpath =\n\t\t\t\t\t'M12.12 10l3.53 3.53-2.12 2.12L10 12.12l-3.54 3.54-2.12-2.12L7.88 10 4.34 6.46l2.12-2.12L10 7.88l3.54-3.53 2.12 2.12z';\n\t\t\t\tbreak;\n\t\t\tcase 'palmtree':\n\t\t\t\tpath =\n\t\t\t\t\t'M8.58 2.39c.32 0 .59.05.81.14 1.25.55 1.69 2.24 1.7 3.97.59-.82 2.15-2.29 3.41-2.29s2.94.73 3.53 3.55c-1.13-.65-2.42-.94-3.65-.94-1.26 0-2.45.32-3.29.89.4-.11.86-.16 1.33-.16 1.39 0 2.9.45 3.4 1.31.68 1.16.47 3.38-.76 4.14-.14-2.1-1.69-4.12-3.47-4.12-.44 0-.88.12-1.33.38C8 10.62 7 14.56 7 19H2c0-5.53 4.21-9.65 7.68-10.79-.56-.09-1.17-.15-1.82-.15C6.1 8.06 4.05 8.5 2 10c.76-2.96 2.78-4.1 4.69-4.1 1.25 0 2.45.5 3.2 1.29-.66-2.24-2.49-2.86-4.08-2.86-.8 0-1.55.16-2.05.35.91-1.29 3.31-2.29 4.82-2.29zM13 11.5c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5.67 1.5 1.5 1.5 1.5-.67 1.5-1.5z';\n\t\t\t\tbreak;\n\t\t\tcase 'paperclip':\n\t\t\t\tpath =\n\t\t\t\t\t'M17.05 2.7c1.93 1.94 1.93 5.13 0 7.07L10 16.84c-1.88 1.89-4.91 1.93-6.86.15-.06-.05-.13-.09-.19-.15-1.93-1.94-1.93-5.12 0-7.07l4.94-4.95c.91-.92 2.28-1.1 3.39-.58.3.15.59.33.83.58 1.17 1.17 1.17 3.07 0 4.24l-4.93 4.95c-.39.39-1.02.39-1.41 0s-.39-1.02 0-1.41l4.93-4.95c.39-.39.39-1.02 0-1.41-.38-.39-1.02-.39-1.4 0l-4.94 4.95c-.91.92-1.1 2.29-.57 3.4.14.3.32.59.57.84s.54.43.84.57c1.11.53 2.47.35 3.39-.57l7.05-7.07c1.16-1.17 1.16-3.08 0-4.25-.56-.55-1.28-.83-2-.86-.08.01-.16.01-.24 0-.22-.03-.43-.11-.6-.27-.39-.4-.38-1.05.02-1.45.16-.16.36-.24.56-.28.14-.02.27-.01.4.02 1.19.06 2.36.52 3.27 1.43z';\n\t\t\t\tbreak;\n\t\t\tcase 'performance':\n\t\t\t\tpath =\n\t\t\t\t\t'M3.76 17.01h12.48C17.34 15.63 18 13.9 18 12c0-4.41-3.58-8-8-8s-8 3.59-8 8c0 1.9.66 3.63 1.76 5.01zM9 6c0-.55.45-1 1-1s1 .45 1 1c0 .56-.45 1-1 1s-1-.44-1-1zM4 8c0-.55.45-1 1-1s1 .45 1 1c0 .56-.45 1-1 1s-1-.44-1-1zm4.52 3.4c.84-.83 6.51-3.5 6.51-3.5s-2.66 5.68-3.49 6.51c-.84.84-2.18.84-3.02 0-.83-.83-.83-2.18 0-3.01zM3 13c0-.55.45-1 1-1s1 .45 1 1c0 .56-.45 1-1 1s-1-.44-1-1zm6 0c0-.55.45-1 1-1s1 .45 1 1c0 .56-.45 1-1 1s-1-.44-1-1zm6 0c0-.55.45-1 1-1s1 .45 1 1c0 .56-.45 1-1 1s-1-.44-1-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'phone':\n\t\t\t\tpath =\n\t\t\t\t\t'M12.06 6l-.21-.2c-.52-.54-.43-.79.08-1.3l2.72-2.75c.81-.82.96-1.21 1.73-.48l.21.2zm.53.45l4.4-4.4c.7.94 2.34 3.47 1.53 5.34-.73 1.67-1.09 1.75-2 3-1.85 2.11-4.18 4.37-6 6.07-1.26.91-1.31 1.33-3 2-1.8.71-4.4-.89-5.38-1.56l4.4-4.4 1.18 1.62c.34.46 1.2-.06 1.8-.66 1.04-1.05 3.18-3.18 4-4.07.59-.59 1.12-1.45.66-1.8zM1.57 16.5l-.21-.21c-.68-.74-.29-.9.52-1.7l2.74-2.72c.51-.49.75-.6 1.27-.11l.2.21z';\n\t\t\t\tbreak;\n\t\t\tcase 'playlist-audio':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 3V1H2v2h15zm0 4V5H2v2h15zm-7 4V9H2v2h8zm7.45-1.96l-6 1.12c-.16.02-.19.03-.29.13-.11.09-.16.22-.16.37v4.59c-.29-.13-.66-.14-.93-.14-.54 0-1 .19-1.38.57s-.56.84-.56 1.38c0 .53.18.99.56 1.37s.84.57 1.38.57c.49 0 .92-.16 1.29-.48s.59-.71.65-1.19v-4.95L17 11.27v3.48c-.29-.13-.56-.19-.83-.19-.54 0-1.11.19-1.49.57-.38.37-.57.83-.57 1.37s.19.99.57 1.37.84.57 1.38.57c.53 0 .99-.19 1.37-.57s.57-.83.57-1.37V9.6c0-.16-.05-.3-.16-.41-.11-.12-.24-.17-.39-.15zM8 15v-2H2v2h6zm-2 4v-2H2v2h4z';\n\t\t\t\tbreak;\n\t\t\tcase 'playlist-video':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 3V1H2v2h15zm0 4V5H2v2h15zM6 11V9H2v2h4zm2-2h9c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1H8c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1zm3 7l3.33-2L11 12v4zm-5-1v-2H2v2h4zm0 4v-2H2v2h4z';\n\t\t\t\tbreak;\n\t\t\tcase 'plus-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M15.8 4.2c3.2 3.21 3.2 8.39 0 11.6-3.21 3.2-8.39 3.2-11.6 0C1 12.59 1 7.41 4.2 4.2 7.41 1 12.59 1 15.8 4.2zm-4.3 11.3v-4h4v-3h-4v-4h-3v4h-4v3h4v4h3z';\n\t\t\t\tbreak;\n\t\t\tcase 'plus-light':\n\t\t\t\tpath = 'M17 9v2h-6v6H9v-6H3V9h6V3h2v6h6z';\n\t\t\t\tbreak;\n\t\t\tcase 'plus':\n\t\t\t\tpath = 'M17 7v3h-5v5H9v-5H4V7h5V2h3v5h5z';\n\t\t\t\tbreak;\n\t\t\tcase 'portfolio':\n\t\t\t\tpath =\n\t\t\t\t\t'M4 5H.78c-.37 0-.74.32-.69.84l1.56 9.99S3.5 8.47 3.86 6.7c.11-.53.61-.7.98-.7H10s-.7-2.08-.77-2.31C9.11 3.25 8.89 3 8.45 3H5.14c-.36 0-.7.23-.8.64C4.25 4.04 4 5 4 5zm4.88 0h-4s.42-1 .87-1h2.13c.48 0 1 1 1 1zM2.67 16.25c-.31.47-.76.75-1.26.75h15.73c.54 0 .92-.31 1.03-.83.44-2.19 1.68-8.44 1.68-8.44.07-.5-.3-.73-.62-.73H16V5.53c0-.16-.26-.53-.66-.53h-3.76c-.52 0-.87.58-.87.58L10 7H5.59c-.32 0-.63.19-.69.5 0 0-1.59 6.7-1.72 7.33-.07.37-.22.99-.51 1.42zM15.38 7H11s.58-1 1.13-1h2.29c.71 0 .96 1 .96 1z';\n\t\t\t\tbreak;\n\t\t\tcase 'post-status':\n\t\t\t\tpath =\n\t\t\t\t\t'M14 6c0 1.86-1.28 3.41-3 3.86V16c0 1-2 2-2 2V9.86c-1.72-.45-3-2-3-3.86 0-2.21 1.79-4 4-4s4 1.79 4 4zM8 5c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1z';\n\t\t\t\tbreak;\n\t\t\tcase 'pressthis':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.76 1C16.55 1 18 2.46 18 4.25c0 1.78-1.45 3.24-3.24 3.24-.23 0-.47-.03-.7-.08L13 8.47V19H2V4h9.54c.13-2 1.52-3 3.22-3zm0 5.49C16 6.49 17 5.48 17 4.25 17 3.01 16 2 14.76 2s-2.24 1.01-2.24 2.25c0 .37.1.72.27 1.03L9.57 8.5c-.28.28-1.77 2.22-1.5 2.49.02.03.06.04.1.04.49 0 2.14-1.28 2.39-1.53l3.24-3.24c.29.14.61.23.96.23z';\n\t\t\t\tbreak;\n\t\t\tcase 'products':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 8h1v11H2V8h1V6c0-2.76 2.24-5 5-5 .71 0 1.39.15 2 .42.61-.27 1.29-.42 2-.42 2.76 0 5 2.24 5 5v2zM5 6v2h2V6c0-1.13.39-2.16 1.02-3H8C6.35 3 5 4.35 5 6zm10 2V6c0-1.65-1.35-3-3-3h-.02c.63.84 1.02 1.87 1.02 3v2h2zm-5-4.22C9.39 4.33 9 5.12 9 6v2h2V6c0-.88-.39-1.67-1-2.22z';\n\t\t\t\tbreak;\n\t\t\tcase 'randomize':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 6.01L14 9V7h-4l-5 8H2v-2h2l5-8h5V3zM2 5h3l1.15 2.17-1.12 1.8L4 7H2V5zm16 9.01L14 17v-2H9l-1.15-2.17 1.12-1.8L10 13h4v-2z';\n\t\t\t\tbreak;\n\t\t\tcase 'redo':\n\t\t\t\tpath =\n\t\t\t\t\t'M8 5h5V2l6 4-6 4V7H8c-2.2 0-4 1.8-4 4s1.8 4 4 4h5v2H8c-3.3 0-6-2.7-6-6s2.7-6 6-6z';\n\t\t\t\tbreak;\n\t\t\tcase 'rest-api':\n\t\t\t\tpath = 'M3 4h2v12H3z';\n\t\t\t\tbreak;\n\t\t\tcase 'rss':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.92 18H18C18 9.32 10.82 2.25 2 2.25v3.02c7.12 0 12.92 5.71 12.92 12.73zm-5.44 0h3.08C12.56 12.27 7.82 7.6 2 7.6v3.02c2 0 3.87.77 5.29 2.16C8.7 14.17 9.48 16.03 9.48 18zm-5.35-.02c1.17 0 2.13-.93 2.13-2.09 0-1.15-.96-2.09-2.13-2.09-1.18 0-2.13.94-2.13 2.09 0 1.16.95 2.09 2.13 2.09z';\n\t\t\t\tbreak;\n\t\t\tcase 'saved':\n\t\t\t\tpath = 'M15.3 5.3l-6.8 6.8-2.8-2.8-1.4 1.4 4.2 4.2 8.2-8.2';\n\t\t\t\tbreak;\n\t\t\tcase 'schedule':\n\t\t\t\tpath =\n\t\t\t\t\t'M2 2h16v4H2V2zm0 10V8h4v4H2zm6-2V8h4v2H8zm6 3V8h4v5h-4zm-6 5v-6h4v6H8zm-6 0v-4h4v4H2zm12 0v-3h4v3h-4z';\n\t\t\t\tbreak;\n\t\t\tcase 'screenoptions':\n\t\t\t\tpath =\n\t\t\t\t\t'M9 9V3H3v6h6zm8 0V3h-6v6h6zm-8 8v-6H3v6h6zm8 0v-6h-6v6h6z';\n\t\t\t\tbreak;\n\t\t\tcase 'search':\n\t\t\t\tpath =\n\t\t\t\t\t'M12.14 4.18c1.87 1.87 2.11 4.75.72 6.89.12.1.22.21.36.31.2.16.47.36.81.59.34.24.56.39.66.47.42.31.73.57.94.78.32.32.6.65.84 1 .25.35.44.69.59 1.04.14.35.21.68.18 1-.02.32-.14.59-.36.81s-.49.34-.81.36c-.31.02-.65-.04-.99-.19-.35-.14-.7-.34-1.04-.59-.35-.24-.68-.52-1-.84-.21-.21-.47-.52-.77-.93-.1-.13-.25-.35-.47-.66-.22-.32-.4-.57-.56-.78-.16-.2-.29-.35-.44-.5-2.07 1.09-4.69.76-6.44-.98-2.14-2.15-2.14-5.64 0-7.78 2.15-2.15 5.63-2.15 7.78 0zm-1.41 6.36c1.36-1.37 1.36-3.58 0-4.95-1.37-1.37-3.59-1.37-4.95 0-1.37 1.37-1.37 3.58 0 4.95 1.36 1.37 3.58 1.37 4.95 0z';\n\t\t\t\tbreak;\n\t\t\tcase 'share-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M16.22 5.8c.47.69.29 1.62-.4 2.08-.69.47-1.62.29-2.08-.4-.16-.24-.35-.46-.55-.67-.21-.2-.43-.39-.67-.55s-.5-.3-.77-.41c-.27-.12-.55-.21-.84-.26-.59-.13-1.23-.13-1.82-.01-.29.06-.57.15-.84.27-.27.11-.53.25-.77.41s-.46.35-.66.55c-.21.21-.4.43-.56.67s-.3.5-.41.76c-.01.02-.01.03-.01.04-.1.24-.17.48-.23.72H1V6h2.66c.04-.07.07-.13.12-.2.27-.4.57-.77.91-1.11s.72-.65 1.11-.91c.4-.27.83-.51 1.28-.7s.93-.34 1.41-.43c.99-.21 2.03-.21 3.02 0 .48.09.96.24 1.41.43s.88.43 1.28.7c.39.26.77.57 1.11.91s.64.71.91 1.11zM12.5 10c0-1.38-1.12-2.5-2.5-2.5S7.5 8.62 7.5 10s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5zm-8.72 4.2c-.47-.69-.29-1.62.4-2.09.69-.46 1.62-.28 2.08.41.16.24.35.46.55.67.21.2.43.39.67.55s.5.3.77.41c.27.12.55.2.84.26.59.13 1.23.12 1.82 0 .29-.06.57-.14.84-.26.27-.11.53-.25.77-.41s.46-.35.66-.55c.21-.21.4-.44.56-.67.16-.25.3-.5.41-.76.01-.02.01-.03.01-.04.1-.24.17-.48.23-.72H19v3h-2.66c-.04.06-.07.13-.12.2-.27.4-.57.77-.91 1.11s-.72.65-1.11.91c-.4.27-.83.51-1.28.7s-.93.33-1.41.43c-.99.21-2.03.21-3.02 0-.48-.1-.96-.24-1.41-.43s-.88-.43-1.28-.7c-.39-.26-.77-.57-1.11-.91s-.64-.71-.91-1.11z';\n\t\t\t\tbreak;\n\t\t\tcase 'share-alt2':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 8l-5 4V9.01c-2.58.06-4.88.45-7 2.99.29-3.57 2.66-5.66 7-5.94V3zM4 14h11v-2l2-1.6V16H2V5h9.43c-1.83.32-3.31 1-4.41 2H4v7z';\n\t\t\t\tbreak;\n\t\t\tcase 'share':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.5 12c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3c0-.24.03-.46.09-.69l-4.38-2.3c-.55.61-1.33.99-2.21.99-1.66 0-3-1.34-3-3s1.34-3 3-3c.88 0 1.66.39 2.21.99l4.38-2.3c-.06-.23-.09-.45-.09-.69 0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3c-.88 0-1.66-.39-2.21-.99l-4.38 2.3c.06.23.09.45.09.69s-.03.46-.09.69l4.38 2.3c.55-.61 1.33-.99 2.21-.99z';\n\t\t\t\tbreak;\n\t\t\tcase 'shield-alt':\n\t\t\t\tpath = 'M10 2s3 2 7 2c0 11-7 14-7 14S3 15 3 4c4 0 7-2 7-2z';\n\t\t\t\tbreak;\n\t\t\tcase 'shield':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2s3 2 7 2c0 11-7 14-7 14S3 15 3 4c4 0 7-2 7-2zm0 8h5s1-1 1-5c0 0-5-1-6-2v7H5c1 4 5 7 5 7v-7z';\n\t\t\t\tbreak;\n\t\t\tcase 'shortcode':\n\t\t\t\tpath =\n\t\t\t\t\t'M6 14H4V6h2V4H2v12h4M7.1 17h2.1l3.7-14h-2.1M14 4v2h2v8h-2v2h4V4';\n\t\t\t\tbreak;\n\t\t\tcase 'slides':\n\t\t\t\tpath =\n\t\t\t\t\t'M5 14V6h10v8H5zm-3-1V7h2v6H2zm4-6v6h8V7H6zm10 0h2v6h-2V7zm-3 2V8H7v1h6zm0 3v-2H7v2h6z';\n\t\t\t\tbreak;\n\t\t\tcase 'smartphone':\n\t\t\t\tpath =\n\t\t\t\t\t'M6 2h8c.55 0 1 .45 1 1v14c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1zm7 12V4H7v10h6zM8 5h4l-4 5V5z';\n\t\t\t\tbreak;\n\t\t\tcase 'smiley':\n\t\t\t\tpath =\n\t\t\t\t\t'M7 5.2c1.1 0 2 .89 2 2 0 .37-.11.71-.28 1C8.72 8.2 8 8 7 8s-1.72.2-1.72.2c-.17-.29-.28-.63-.28-1 0-1.11.9-2 2-2zm6 0c1.11 0 2 .89 2 2 0 .37-.11.71-.28 1 0 0-.72-.2-1.72-.2s-1.72.2-1.72.2c-.17-.29-.28-.63-.28-1 0-1.11.89-2 2-2zm-3 13.7c3.72 0 7.03-2.36 8.23-5.88l-1.32-.46C15.9 15.52 13.12 17.5 10 17.5s-5.9-1.98-6.91-4.94l-1.32.46c1.2 3.52 4.51 5.88 8.23 5.88z';\n\t\t\t\tbreak;\n\t\t\tcase 'sort':\n\t\t\t\tpath = 'M11 7H1l5 7zm-2 7h10l-5-7z';\n\t\t\t\tbreak;\n\t\t\tcase 'sos':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 10c0-4.42-3.58-8-8-8s-8 3.58-8 8 3.58 8 8 8 8-3.58 8-8zM7.23 3.57L8.72 7.3c-.62.29-1.13.8-1.42 1.42L3.57 7.23c.71-1.64 2.02-2.95 3.66-3.66zm9.2 3.66L12.7 8.72c-.29-.62-.8-1.13-1.42-1.42l1.49-3.73c1.64.71 2.95 2.02 3.66 3.66zM10 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm-6.43.77l3.73-1.49c.29.62.8 1.13 1.42 1.42l-1.49 3.73c-1.64-.71-2.95-2.02-3.66-3.66zm9.2 3.66l-1.49-3.73c.62-.29 1.13-.8 1.42-1.42l3.73 1.49c-.71 1.64-2.02 2.95-3.66 3.66z';\n\t\t\t\tbreak;\n\t\t\tcase 'star-empty':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 1L7 7l-6 .75 4.13 4.62L4 19l6-3 6 3-1.12-6.63L19 7.75 13 7zm0 2.24l2.34 4.69 4.65.58-3.18 3.56.87 5.15L10 14.88l-4.68 2.34.87-5.15-3.18-3.56 4.65-.58z';\n\t\t\t\tbreak;\n\t\t\tcase 'star-filled':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 1l3 6 6 .75-4.12 4.62L16 19l-6-3-6 3 1.13-6.63L1 7.75 7 7z';\n\t\t\t\tbreak;\n\t\t\tcase 'star-half':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 1L7 7l-6 .75 4.13 4.62L4 19l6-3 6 3-1.12-6.63L19 7.75 13 7zm0 2.24l2.34 4.69 4.65.58-3.18 3.56.87 5.15L10 14.88V3.24z';\n\t\t\t\tbreak;\n\t\t\tcase 'sticky':\n\t\t\t\tpath =\n\t\t\t\t\t'M5 3.61V1.04l8.99-.01-.01 2.58c-1.22.26-2.16 1.35-2.16 2.67v.5c.01 1.31.93 2.4 2.17 2.66l-.01 2.58h-3.41l-.01 2.57c0 .6-.47 4.41-1.06 4.41-.6 0-1.08-3.81-1.08-4.41v-2.56L5 12.02l.01-2.58c1.23-.25 2.15-1.35 2.15-2.66v-.5c0-1.31-.92-2.41-2.16-2.67z';\n\t\t\t\tbreak;\n\t\t\tcase 'store':\n\t\t\t\tpath =\n\t\t\t\t\t'M1 10c.41.29.96.43 1.5.43.55 0 1.09-.14 1.5-.43.62-.46 1-1.17 1-2 0 .83.37 1.54 1 2 .41.29.96.43 1.5.43.55 0 1.09-.14 1.5-.43.62-.46 1-1.17 1-2 0 .83.37 1.54 1 2 .41.29.96.43 1.51.43.54 0 1.08-.14 1.49-.43.62-.46 1-1.17 1-2 0 .83.37 1.54 1 2 .41.29.96.43 1.5.43.55 0 1.09-.14 1.5-.43.63-.46 1-1.17 1-2V7l-3-7H4L0 7v1c0 .83.37 1.54 1 2zm2 8.99h5v-5h4v5h5v-7c-.37-.05-.72-.22-1-.43-.63-.45-1-.73-1-1.56 0 .83-.38 1.11-1 1.56-.41.3-.95.43-1.49.44-.55 0-1.1-.14-1.51-.44-.63-.45-1-.73-1-1.56 0 .83-.38 1.11-1 1.56-.41.3-.95.43-1.5.44-.54 0-1.09-.14-1.5-.44-.63-.45-1-.73-1-1.57 0 .84-.38 1.12-1 1.57-.29.21-.63.38-1 .44v6.99z';\n\t\t\t\tbreak;\n\t\t\tcase 'table-col-after':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.08 12.864V9.216h3.648V7.424H14.08V3.776h-1.728v3.648H8.64v1.792h3.712v3.648zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm0 5.12H1.28v3.84H6.4V6.4zm0 5.12H1.28v3.84H6.4v-3.84zM19.2 1.28H7.68v14.08H19.2V1.28z';\n\t\t\t\tbreak;\n\t\t\tcase 'table-col-before':\n\t\t\t\tpath =\n\t\t\t\t\t'M6.4 3.776v3.648H2.752v1.792H6.4v3.648h1.728V9.216h3.712V7.424H8.128V3.776zM0 17.92V0h20.48v17.92H0zM12.8 1.28H1.28v14.08H12.8V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.12h-5.12v3.84h5.12V6.4zm0 5.12h-5.12v3.84h5.12v-3.84z';\n\t\t\t\tbreak;\n\t\t\tcase 'table-col-delete':\n\t\t\t\tpath =\n\t\t\t\t\t'M6.4 9.98L7.68 8.7v-.256L6.4 7.164V9.98zm6.4-1.532l1.28-1.28V9.92L12.8 8.64v-.192zm7.68 9.472V0H0v17.92h20.48zm-1.28-2.56h-5.12v-1.024l-.256.256-1.024-1.024v1.792H7.68v-1.792l-1.024 1.024-.256-.256v1.024H1.28V1.28H6.4v2.368l.704-.704.576.576V1.216h5.12V3.52l.96-.96.32.32V1.216h5.12V15.36zm-5.76-2.112l-3.136-3.136-3.264 3.264-1.536-1.536 3.264-3.264L5.632 5.44l1.536-1.536 3.136 3.136 3.2-3.2 1.536 1.536-3.2 3.2 3.136 3.136-1.536 1.536z';\n\t\t\t\tbreak;\n\t\t\tcase 'table-row-after':\n\t\t\t\tpath =\n\t\t\t\t\t'M13.824 10.176h-2.88v-2.88H9.536v2.88h-2.88v1.344h2.88v2.88h1.408v-2.88h2.88zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm6.4 0H7.68v3.84h5.12V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.056H1.28v9.024H19.2V6.336z';\n\t\t\t\tbreak;\n\t\t\tcase 'table-row-before':\n\t\t\t\tpath =\n\t\t\t\t\t'M6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84z';\n\t\t\t\tbreak;\n\t\t\tcase 'table-row-delete':\n\t\t\t\tpath =\n\t\t\t\t\t'M17.728 11.456L14.592 8.32l3.2-3.2-1.536-1.536-3.2 3.2L9.92 3.648 8.384 5.12l3.2 3.2-3.264 3.264 1.536 1.536 3.264-3.264 3.136 3.136 1.472-1.536zM0 17.92V0h20.48v17.92H0zm19.2-6.4h-.448l-1.28-1.28H19.2V6.4h-1.792l1.28-1.28h.512V1.28H1.28v3.84h6.208l1.28 1.28H1.28v3.84h7.424l-1.28 1.28H1.28v3.84H19.2v-3.84z';\n\t\t\t\tbreak;\n\t\t\tcase 'tablet':\n\t\t\t\tpath =\n\t\t\t\t\t'M4 2h12c.55 0 1 .45 1 1v14c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1zm11 14V4H5v12h10zM6 5h6l-6 5V5z';\n\t\t\t\tbreak;\n\t\t\tcase 'tag':\n\t\t\t\tpath =\n\t\t\t\t\t'M11 2h7v7L8 19l-7-7zm3 6c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z';\n\t\t\t\tbreak;\n\t\t\tcase 'tagcloud':\n\t\t\t\tpath =\n\t\t\t\t\t'M11 3v4H1V3h10zm8 0v4h-7V3h7zM7 8v3H1V8h6zm12 0v3H8V8h11zM9 12v2H1v-2h8zm10 0v2h-9v-2h9zM6 15v1H1v-1h5zm5 0v1H7v-1h4zm3 0v1h-2v-1h2zm5 0v1h-4v-1h4z';\n\t\t\t\tbreak;\n\t\t\tcase 'testimonial':\n\t\t\t\tpath =\n\t\t\t\t\t'M4 3h12c.55 0 1.02.2 1.41.59S18 4.45 18 5v7c0 .55-.2 1.02-.59 1.41S16.55 14 16 14h-1l-5 5v-5H4c-.55 0-1.02-.2-1.41-.59S2 12.55 2 12V5c0-.55.2-1.02.59-1.41S3.45 3 4 3zm11 2H4v1h11V5zm1 3H4v1h12V8zm-3 3H4v1h9v-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'text':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 3v2H2V3h16zm-6 4v2H2V7h10zm6 0v2h-4V7h4zM8 11v2H2v-2h6zm10 0v2h-8v-2h8zm-4 4v2H2v-2h12z';\n\t\t\t\tbreak;\n\t\t\tcase 'thumbs-down':\n\t\t\t\tpath =\n\t\t\t\t\t'M7.28 18c-.15.02-.26-.02-.41-.07-.56-.19-.83-.79-.66-1.35.17-.55 1-3.04 1-3.58 0-.53-.75-1-1.35-1h-3c-.6 0-1-.4-1-1s2-7 2-7c.17-.39.55-1 1-1H14v9h-2.14c-.41.41-3.3 4.71-3.58 5.27-.21.41-.6.68-1 .73zM18 12h-2V3h2v9z';\n\t\t\t\tbreak;\n\t\t\tcase 'thumbs-up':\n\t\t\t\tpath =\n\t\t\t\t\t'M12.72 2c.15-.02.26.02.41.07.56.19.83.79.66 1.35-.17.55-1 3.04-1 3.58 0 .53.75 1 1.35 1h3c.6 0 1 .4 1 1s-2 7-2 7c-.17.39-.55 1-1 1H6V8h2.14c.41-.41 3.3-4.71 3.58-5.27.21-.41.6-.68 1-.73zM2 8h2v9H2V8z';\n\t\t\t\tbreak;\n\t\t\tcase 'tickets-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M20 6.38L18.99 9.2v-.01c-.52-.19-1.03-.16-1.53.08s-.85.62-1.04 1.14-.16 1.03.07 1.53c.24.5.62.84 1.15 1.03v.01l-1.01 2.82-15.06-5.38.99-2.79c.52.19 1.03.16 1.53-.08.5-.23.84-.61 1.03-1.13s.16-1.03-.08-1.53c-.23-.49-.61-.83-1.13-1.02L4.93 1zm-4.97 5.69l1.37-3.76c.12-.31.1-.65-.04-.95s-.39-.53-.7-.65L8.14 3.98c-.64-.23-1.37.12-1.6.74L5.17 8.48c-.24.65.1 1.37.74 1.6l7.52 2.74c.14.05.28.08.43.08.52 0 1-.33 1.17-.83zM7.97 4.45l7.51 2.73c.19.07.34.21.43.39.08.18.09.38.02.57l-1.37 3.76c-.13.38-.58.59-.96.45L6.09 9.61c-.39-.14-.59-.57-.45-.96l1.37-3.76c.1-.29.39-.49.7-.49.09 0 .17.02.26.05zm6.82 12.14c.35.27.75.41 1.2.41H16v3H0v-2.96c.55 0 1.03-.2 1.41-.59.39-.38.59-.86.59-1.41s-.2-1.02-.59-1.41-.86-.59-1.41-.59V10h1.05l-.28.8 2.87 1.02c-.51.16-.89.62-.89 1.18v4c0 .69.56 1.25 1.25 1.25h8c.69 0 1.25-.56 1.25-1.25v-1.75l.83.3c.12.43.36.78.71 1.04zM3.25 17v-4c0-.41.34-.75.75-.75h.83l7.92 2.83V17c0 .41-.34.75-.75.75H4c-.41 0-.75-.34-.75-.75z';\n\t\t\t\tbreak;\n\t\t\tcase 'tickets':\n\t\t\t\tpath =\n\t\t\t\t\t'M20 5.38L18.99 8.2v-.01c-1.04-.37-2.19.18-2.57 1.22-.37 1.04.17 2.19 1.22 2.56v.01l-1.01 2.82L1.57 9.42l.99-2.79c1.04.38 2.19-.17 2.56-1.21s-.17-2.18-1.21-2.55L4.93 0zm-5.45 3.37c.74-2.08-.34-4.37-2.42-5.12-2.08-.74-4.37.35-5.11 2.42-.74 2.08.34 4.38 2.42 5.12 2.07.74 4.37-.35 5.11-2.42zm-2.56-4.74c.89.32 1.57.94 1.97 1.71-.01-.01-.02-.01-.04-.02-.33-.12-.67.09-.78.4-.1.28-.03.57.05.91.04.27.09.62-.06 1.04-.1.29-.33.58-.65 1l-.74 1.01.08-4.08.4.11c.19.04.26-.24.08-.29 0 0-.57-.15-.92-.28-.34-.12-.88-.36-.88-.36-.18-.08-.3.19-.12.27 0 0 .16.08.34.16l.01 1.63L9.2 9.18l.08-4.11c.2.06.4.11.4.11.19.04.26-.23.07-.29 0 0-.56-.15-.91-.28-.07-.02-.14-.05-.22-.08.93-.7 2.19-.94 3.37-.52zM7.4 6.19c.17-.49.44-.92.78-1.27l.04 5c-.94-.95-1.3-2.39-.82-3.73zm4.04 4.75l2.1-2.63c.37-.41.57-.77.69-1.12.05-.12.08-.24.11-.35.09.57.04 1.18-.17 1.77-.45 1.25-1.51 2.1-2.73 2.33zm-.7-3.22l.02 3.22c0 .02 0 .04.01.06-.4 0-.8-.07-1.2-.21-.33-.12-.63-.28-.9-.48zm1.24 6.08l2.1.75c.24.84 1 1.45 1.91 1.45H16v3H0v-2.96c1.1 0 2-.89 2-2 0-1.1-.9-2-2-2V9h1.05l-.28.8 4.28 1.52C4.4 12.03 4 12.97 4 14c0 2.21 1.79 4 4 4s4-1.79 4-4c0-.07-.02-.13-.02-.2zm-6.53-2.33l1.48.53c-.14.04-.15.27.03.28 0 0 .18.02.37.03l.56 1.54-.78 2.36-1.31-3.9c.21-.01.41-.03.41-.03.19-.02.17-.31-.02-.3 0 0-.59.05-.96.05-.07 0-.15 0-.23-.01.13-.2.28-.38.45-.55zM4.4 14c0-.52.12-1.02.32-1.46l1.71 4.7C5.23 16.65 4.4 15.42 4.4 14zm4.19-1.41l1.72.62c.07.17.12.37.12.61 0 .31-.12.66-.28 1.16l-.35 1.2zM11.6 14c0 1.33-.72 2.49-1.79 3.11l1.1-3.18c.06-.17.1-.31.14-.46l.52.19c.02.11.03.22.03.34zm-4.62 3.45l1.08-3.14 1.11 3.03c.01.02.01.04.02.05-.37.13-.77.21-1.19.21-.35 0-.69-.06-1.02-.15z';\n\t\t\t\tbreak;\n\t\t\tcase 'tide':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 7.2V3H3v7.1c2.6-.5 4.5-1.5 6.4-2.6.2-.2.4-.3.6-.5v3c-1.9 1.1-4 2.2-7 2.8V17h14V9.9c-2.6.5-4.4 1.5-6.2 2.6-.3.1-.5.3-.8.4V10c2-1.1 4-2.2 7-2.8z';\n\t\t\t\tbreak;\n\t\t\tcase 'translation':\n\t\t\t\tpath =\n\t\t\t\t\t'M11 7H9.49c-.63 0-1.25.3-1.59.7L7 5H4.13l-2.39 7h1.69l.74-2H7v4H2c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v2zM6.51 9H4.49l1-2.93zM10 8h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2zm7.25 5v-1.08h-3.17V9.75h-1.16v2.17H9.75V13h1.28c.11.85.56 1.85 1.28 2.62-.87.36-1.89.62-2.31.62-.01.02.22.97.2 1.46.84 0 2.21-.5 3.28-1.15 1.09.65 2.48 1.15 3.34 1.15-.02-.49.2-1.44.2-1.46-.43 0-1.49-.27-2.38-.63.7-.77 1.14-1.77 1.25-2.61h1.36zm-3.81 1.93c-.5-.46-.85-1.13-1.01-1.93h2.09c-.17.8-.51 1.47-1 1.93l-.04.03s-.03-.02-.04-.03z';\n\t\t\t\tbreak;\n\t\t\tcase 'trash':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z';\n\t\t\t\tbreak;\n\t\t\tcase 'twitter':\n\t\t\t\tpath =\n\t\t\t\t\t'M18.94 4.46c-.49.73-1.11 1.38-1.83 1.9.01.15.01.31.01.47 0 4.85-3.69 10.44-10.43 10.44-2.07 0-4-.61-5.63-1.65.29.03.58.05.88.05 1.72 0 3.3-.59 4.55-1.57-1.6-.03-2.95-1.09-3.42-2.55.22.04.45.07.69.07.33 0 .66-.05.96-.13-1.67-.34-2.94-1.82-2.94-3.6v-.04c.5.27 1.06.44 1.66.46-.98-.66-1.63-1.78-1.63-3.06 0-.67.18-1.3.5-1.84 1.81 2.22 4.51 3.68 7.56 3.83-.06-.27-.1-.55-.1-.84 0-2.02 1.65-3.66 3.67-3.66 1.06 0 2.01.44 2.68 1.16.83-.17 1.62-.47 2.33-.89-.28.85-.86 1.57-1.62 2.02.75-.08 1.45-.28 2.11-.57z';\n\t\t\t\tbreak;\n\t\t\tcase 'undo':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 5H7V2L1 6l6 4V7h5c2.2 0 4 1.8 4 4s-1.8 4-4 4H7v2h5c3.3 0 6-2.7 6-6s-2.7-6-6-6z';\n\t\t\t\tbreak;\n\t\t\tcase 'universal-access-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M19 10c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9 9-4.03 9-9zm-9-7.4c.83 0 1.5.67 1.5 1.5s-.67 1.51-1.5 1.51c-.82 0-1.5-.68-1.5-1.51s.68-1.5 1.5-1.5zM3.4 7.36c0-.65 6.6-.76 6.6-.76s6.6.11 6.6.76-4.47 1.4-4.47 1.4 1.69 8.14 1.06 8.38c-.62.24-3.19-5.19-3.19-5.19s-2.56 5.43-3.18 5.19c-.63-.24 1.06-8.38 1.06-8.38S3.4 8.01 3.4 7.36z';\n\t\t\t\tbreak;\n\t\t\tcase 'universal-access':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2.6c.83 0 1.5.67 1.5 1.5s-.67 1.51-1.5 1.51c-.82 0-1.5-.68-1.5-1.51s.68-1.5 1.5-1.5zM3.4 7.36c0-.65 6.6-.76 6.6-.76s6.6.11 6.6.76-4.47 1.4-4.47 1.4 1.69 8.14 1.06 8.38c-.62.24-3.19-5.19-3.19-5.19s-2.56 5.43-3.18 5.19c-.63-.24 1.06-8.38 1.06-8.38S3.4 8.01 3.4 7.36z';\n\t\t\t\tbreak;\n\t\t\tcase 'unlock':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 9V6c0-1.1-.9-2-2-2s-2 .9-2 2H6c0-2.21 1.79-4 4-4s4 1.79 4 4v3h1c.55 0 1 .45 1 1v7c0 .55-.45 1-1 1H5c-.55 0-1-.45-1-1v-7c0-.55.45-1 1-1h7zm-1 7l-.36-2.15c.51-.24.86-.75.86-1.35 0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .6.35 1.11.86 1.35L9 16h2z';\n\t\t\t\tbreak;\n\t\t\tcase 'update':\n\t\t\t\tpath =\n\t\t\t\t\t'M10.2 3.28c3.53 0 6.43 2.61 6.92 6h2.08l-3.5 4-3.5-4h2.32c-.45-1.97-2.21-3.45-4.32-3.45-1.45 0-2.73.71-3.54 1.78L4.95 5.66C6.23 4.2 8.11 3.28 10.2 3.28zm-.4 13.44c-3.52 0-6.43-2.61-6.92-6H.8l3.5-4c1.17 1.33 2.33 2.67 3.5 4H5.48c.45 1.97 2.21 3.45 4.32 3.45 1.45 0 2.73-.71 3.54-1.78l1.71 1.95c-1.28 1.46-3.15 2.38-5.25 2.38z';\n\t\t\t\tbreak;\n\t\t\tcase 'upload':\n\t\t\t\tpath = 'M8 14V8H5l5-6 5 6h-3v6H8zm-2 2v-6H4v8h12.01v-8H14v6H6z';\n\t\t\t\tbreak;\n\t\t\tcase 'vault':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 17V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1h14c.55 0 1-.45 1-1zm-1 0H3V3h14v14zM4.75 4h10.5c.41 0 .75.34.75.75V6h-1v3h1v2h-1v3h1v1.25c0 .41-.34.75-.75.75H4.75c-.41 0-.75-.34-.75-.75V4.75c0-.41.34-.75.75-.75zM13 10c0-2.21-1.79-4-4-4s-4 1.79-4 4 1.79 4 4 4 4-1.79 4-4zM9 7l.77 1.15C10.49 8.46 11 9.17 11 10c0 1.1-.9 2-2 2s-2-.9-2-2c0-.83.51-1.54 1.23-1.85z';\n\t\t\t\tbreak;\n\t\t\tcase 'video-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M8 5c0-.55-.45-1-1-1H2c-.55 0-1 .45-1 1 0 .57.49 1 1 1h5c.55 0 1-.45 1-1zm6 5l4-4v10l-4-4v-2zm-1 4V8c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h8c.55 0 1-.45 1-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'video-alt2':\n\t\t\t\tpath =\n\t\t\t\t\t'M12 13V7c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2zm1-2.5l6 4.5V5l-6 4.5v1z';\n\t\t\t\tbreak;\n\t\t\tcase 'video-alt3':\n\t\t\t\tpath =\n\t\t\t\t\t'M19 15V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2zM8 14V6l6 4z';\n\t\t\t\tbreak;\n\t\t\tcase 'visibility':\n\t\t\t\tpath =\n\t\t\t\t\t'M19.7 9.4C17.7 6 14 3.9 10 3.9S2.3 6 .3 9.4L0 10l.3.6c2 3.4 5.7 5.5 9.7 5.5s7.7-2.1 9.7-5.5l.3-.6-.3-.6zM10 14.1c-3.1 0-6-1.6-7.7-4.1C3.6 8 5.7 6.6 8 6.1c-.9.6-1.5 1.7-1.5 2.9 0 1.9 1.6 3.5 3.5 3.5s3.5-1.6 3.5-3.5c0-1.2-.6-2.3-1.5-2.9 2.3.5 4.4 1.9 5.7 3.9-1.7 2.5-4.6 4.1-7.7 4.1z';\n\t\t\t\tbreak;\n\t\t\tcase 'warning':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z';\n\t\t\t\tbreak;\n\t\t\tcase 'welcome-add-page':\n\t\t\t\tpath =\n\t\t\t\t\t'M17 7V4h-2V2h-3v1H3v15h11V9h1V7h2zm-1-2v1h-2v2h-1V6h-2V5h2V3h1v2h2z';\n\t\t\t\tbreak;\n\t\t\tcase 'welcome-comments':\n\t\t\t\tpath =\n\t\t\t\t\t'M5 2h10c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2h-2l-5 5v-5H5c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2zm8.5 8.5L11 8l2.5-2.5-1-1L10 7 7.5 4.5l-1 1L9 8l-2.5 2.5 1 1L10 9l2.5 2.5z';\n\t\t\t\tbreak;\n\t\t\tcase 'welcome-learn-more':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 10L2.54 7.02 3 18H1l.48-11.41L0 6l10-4 10 4zm0-5c-.55 0-1 .22-1 .5s.45.5 1 .5 1-.22 1-.5-.45-.5-1-.5zm0 6l5.57-2.23c.71.94 1.2 2.07 1.36 3.3-.3-.04-.61-.07-.93-.07-2.55 0-4.78 1.37-6 3.41C8.78 13.37 6.55 12 4 12c-.32 0-.63.03-.93.07.16-1.23.65-2.36 1.36-3.3z';\n\t\t\t\tbreak;\n\t\t\tcase 'welcome-view-site':\n\t\t\t\tpath =\n\t\t\t\t\t'M18 14V4c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h14c.55 0 1-.45 1-1zm-8-8c2.3 0 4.4 1.14 6 3-1.6 1.86-3.7 3-6 3s-4.4-1.14-6-3c1.6-1.86 3.7-3 6-3zm2 3c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm2 8h3v1H3v-1h3v-1h8v1z';\n\t\t\t\tbreak;\n\t\t\tcase 'welcome-widgets-menus':\n\t\t\t\tpath =\n\t\t\t\t\t'M19 16V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v13c0 .55.45 1 1 1h15c.55 0 1-.45 1-1zM4 4h13v4H4V4zm1 1v2h3V5H5zm4 0v2h3V5H9zm4 0v2h3V5h-3zm-8.5 5c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5zM6 10h4v1H6v-1zm6 0h5v5h-5v-5zm-7.5 2c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5zM6 12h4v1H6v-1zm7 0v2h3v-2h-3zm-8.5 2c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5zM6 14h4v1H6v-1z';\n\t\t\t\tbreak;\n\t\t\tcase 'welcome-write-blog':\n\t\t\t\tpath =\n\t\t\t\t\t'M16.89 1.2l1.41 1.41c.39.39.39 1.02 0 1.41L14 8.33V18H3V3h10.67l1.8-1.8c.4-.39 1.03-.4 1.42 0zm-5.66 8.48l5.37-5.36-1.42-1.42-5.36 5.37-.71 2.12z';\n\t\t\t\tbreak;\n\t\t\tcase 'wordpress-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z';\n\t\t\t\tbreak;\n\t\t\tcase 'wordpress':\n\t\t\t\tpath =\n\t\t\t\t\t'M20 10c0-5.52-4.48-10-10-10S0 4.48 0 10s4.48 10 10 10 10-4.48 10-10zM10 1.01c4.97 0 8.99 4.02 8.99 8.99s-4.02 8.99-8.99 8.99S1.01 14.97 1.01 10 5.03 1.01 10 1.01zM8.01 14.82L4.96 6.61c.49-.03 1.05-.08 1.05-.08.43-.05.38-1.01-.06-.99 0 0-1.29.1-2.13.1-.15 0-.33 0-.52-.01 1.44-2.17 3.9-3.6 6.7-3.6 2.09 0 3.99.79 5.41 2.09-.6-.08-1.45.35-1.45 1.42 0 .66.38 1.22.79 1.88.31.54.5 1.22.5 2.21 0 1.34-1.27 4.48-1.27 4.48l-2.71-7.5c.48-.03.75-.16.75-.16.43-.05.38-1.1-.05-1.08 0 0-1.3.11-2.14.11-.78 0-2.11-.11-2.11-.11-.43-.02-.48 1.06-.05 1.08l.84.08 1.12 3.04zm6.02 2.15L16.64 10s.67-1.69.39-3.81c.63 1.14.94 2.42.94 3.81 0 2.96-1.56 5.58-3.94 6.97zM2.68 6.77L6.5 17.25c-2.67-1.3-4.47-4.08-4.47-7.25 0-1.16.2-2.23.65-3.23zm7.45 4.53l2.29 6.25c-.75.27-1.57.42-2.42.42-.72 0-1.41-.11-2.06-.3z';\n\t\t\t\tbreak;\n\t\t\tcase 'yes-alt':\n\t\t\t\tpath =\n\t\t\t\t\t'M10 2c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm-.615 12.66h-1.34l-3.24-4.54 1.34-1.25 2.57 2.4 5.14-5.93 1.34.94-5.81 8.38z';\n\t\t\t\tbreak;\n\t\t\tcase 'yes':\n\t\t\t\tpath =\n\t\t\t\t\t'M14.83 4.89l1.34.94-5.81 8.38H9.02L5.78 9.67l1.34-1.25 2.57 2.4z';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( ! path ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst iconClass = [ 'dashicon', 'dashicons-' + icon, className ]\n\t\t\t.filter( Boolean )\n\t\t\t.join( ' ' );\n\n\t\treturn (\n\t\t\t<SVG\n\t\t\t\taria-hidden\n\t\t\t\trole=\"img\"\n\t\t\t\tfocusable=\"false\"\n\t\t\t\tclassName={ iconClass }\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth={ size }\n\t\t\t\theight={ size }\n\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t{ ...extraProps }\n\t\t\t>\n\t\t\t\t<Path d={ path } />\n\t\t\t</SVG>\n\t\t);\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tcloneElement,\n\tcreateElement,\n\tComponent,\n\tisValidElement,\n} from '@wordpress/element';\nimport { SVG } from '@wordpress/primitives';\n\n/**\n * Internal dependencies\n */\nimport Dashicon from '../dashicon';\n\nfunction Icon( { icon = null, size, ...additionalProps } ) {\n\t// Dashicons should be 20x20 by default.\n\tconst dashiconSize = size || 20;\n\n\tif ( 'string' === typeof icon ) {\n\t\treturn (\n\t\t\t<Dashicon\n\t\t\t\ticon={ icon }\n\t\t\t\tsize={ dashiconSize }\n\t\t\t\t{ ...additionalProps }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( icon && Dashicon === icon.type ) {\n\t\treturn cloneElement( icon, {\n\t\t\tsize: dashiconSize,\n\t\t\t...additionalProps,\n\t\t} );\n\t}\n\n\t// Icons should be 24x24 by default.\n\tconst iconSize = size || 24;\n\tif ( 'function' === typeof icon ) {\n\t\tif ( icon.prototype instanceof Component ) {\n\t\t\treturn createElement( icon, {\n\t\t\t\tsize: iconSize,\n\t\t\t\t...additionalProps,\n\t\t\t} );\n\t\t}\n\n\t\treturn icon( { size: iconSize, ...additionalProps } );\n\t}\n\n\tif ( icon && ( icon.type === 'svg' || icon.type === SVG ) ) {\n\t\tconst appliedProps = {\n\t\t\twidth: iconSize,\n\t\t\theight: iconSize,\n\t\t\t...icon.props,\n\t\t\t...additionalProps,\n\t\t};\n\n\t\treturn <SVG { ...appliedProps } />;\n\t}\n\n\tif ( isValidElement( icon ) ) {\n\t\treturn cloneElement( icon, {\n\t\t\tsize: iconSize,\n\t\t\t...additionalProps,\n\t\t} );\n\t}\n\n\treturn icon;\n}\n\nexport default Icon;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Tooltip from '../tooltip';\nimport Icon from '../icon';\n\nconst disabledEventsOnDisabledButton = [ 'onMouseDown', 'onClick' ];\n\nexport function Button( props, ref ) {\n\tconst {\n\t\thref,\n\t\ttarget,\n\t\tisPrimary,\n\t\tisLarge,\n\t\tisSmall,\n\t\tisTertiary,\n\t\tisPressed,\n\t\tisBusy,\n\t\tisDefault,\n\t\tisSecondary,\n\t\tisLink,\n\t\tisDestructive,\n\t\tclassName,\n\t\tdisabled,\n\t\ticon,\n\t\ticonSize,\n\t\tshowTooltip,\n\t\ttooltipPosition,\n\t\tshortcut,\n\t\tlabel,\n\t\tchildren,\n\t\t__experimentalIsFocusable: isFocusable,\n\t\t...additionalProps\n\t} = props;\n\n\tif ( isDefault ) {\n\t\tdeprecated( 'Button isDefault prop', {\n\t\t\talternative: 'isSecondary',\n\t\t} );\n\t}\n\n\tconst classes = classnames( 'components-button', className, {\n\t\t'is-secondary': isDefault || isSecondary,\n\t\t'is-primary': isPrimary,\n\t\t'is-large': isLarge,\n\t\t'is-small': isSmall,\n\t\t'is-tertiary': isTertiary,\n\t\t'is-pressed': isPressed,\n\t\t'is-busy': isBusy,\n\t\t'is-link': isLink,\n\t\t'is-destructive': isDestructive,\n\t\t'has-text': !! icon && !! children,\n\t\t'has-icon': !! icon,\n\t} );\n\n\tconst trulyDisabled = disabled && ! isFocusable;\n\tconst Tag = href !== undefined && ! trulyDisabled ? 'a' : 'button';\n\tconst tagProps =\n\t\tTag === 'a'\n\t\t\t? { href, target }\n\t\t\t: {\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tdisabled: trulyDisabled,\n\t\t\t\t\t'aria-pressed': isPressed,\n\t\t\t  };\n\n\tif ( disabled && isFocusable ) {\n\t\t// In this case, the button will be disabled, but still focusable and\n\t\t// perceivable by screen reader users.\n\t\ttagProps[ 'aria-disabled' ] = true;\n\n\t\tfor ( const disabledEvent of disabledEventsOnDisabledButton ) {\n\t\t\tadditionalProps[ disabledEvent ] = ( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t};\n\t\t}\n\t}\n\n\t// Should show the tooltip if...\n\tconst shouldShowTooltip =\n\t\t! trulyDisabled &&\n\t\t// an explicit tooltip is passed or...\n\t\t( ( showTooltip && label ) ||\n\t\t\t// there's a shortcut or...\n\t\t\tshortcut ||\n\t\t\t// there's a label and...\n\t\t\t( !! label &&\n\t\t\t\t// the children are empty and...\n\t\t\t\t( ! children ||\n\t\t\t\t\t( isArray( children ) && ! children.length ) ) &&\n\t\t\t\t// the tooltip is not explicitly disabled.\n\t\t\t\tfalse !== showTooltip ) );\n\n\tconst element = (\n\t\t<Tag\n\t\t\t{ ...tagProps }\n\t\t\t{ ...additionalProps }\n\t\t\tclassName={ classes }\n\t\t\taria-label={ additionalProps[ 'aria-label' ] || label }\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ icon && <Icon icon={ icon } size={ iconSize } /> }\n\t\t\t{ children }\n\t\t</Tag>\n\t);\n\n\tif ( ! shouldShowTooltip ) {\n\t\treturn element;\n\t}\n\n\treturn (\n\t\t<Tooltip\n\t\t\ttext={ label }\n\t\t\tshortcut={ shortcut }\n\t\t\tposition={ tooltipPosition }\n\t\t>\n\t\t\t{ element }\n\t\t</Tooltip>\n\t);\n}\n\nexport default forwardRef( Button );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Component, forwardRef } from '@wordpress/element';\nimport { chevronUp, chevronDown } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport Icon from '../icon';\n\nexport class PanelBody extends Component {\n\tconstructor( props ) {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\topened: props.initialOpen === undefined ? true : props.initialOpen,\n\t\t};\n\t\tthis.toggle = this.toggle.bind( this );\n\t}\n\n\ttoggle( event ) {\n\t\tevent.preventDefault();\n\t\tif ( this.props.opened === undefined ) {\n\t\t\tthis.setState( ( state ) => ( {\n\t\t\t\topened: ! state.opened,\n\t\t\t} ) );\n\t\t}\n\n\t\tif ( this.props.onToggle ) {\n\t\t\tthis.props.onToggle();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tchildren,\n\t\t\topened,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\tforwardedRef,\n\t\t} = this.props;\n\t\tconst isOpened = opened === undefined ? this.state.opened : opened;\n\t\tconst classes = classnames( 'components-panel__body', className, {\n\t\t\t'is-opened': isOpened,\n\t\t} );\n\n\t\treturn (\n\t\t\t<div className={ classes } ref={ forwardedRef }>\n\t\t\t\t{ !! title && (\n\t\t\t\t\t<h2 className=\"components-panel__body-title\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"components-panel__body-toggle\"\n\t\t\t\t\t\t\tonClick={ this.toggle }\n\t\t\t\t\t\t\taria-expanded={ isOpened }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ /*\n\t\t\t\t\t\t\t\tFirefox + NVDA don't announce aria-expanded because the browser\n\t\t\t\t\t\t\t\trepaints the whole element, so this wrapping span hides that.\n\t\t\t\t\t\t\t*/ }\n\t\t\t\t\t\t\t<span aria-hidden=\"true\">\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\tclassName=\"components-panel__arrow\"\n\t\t\t\t\t\t\t\t\ticon={ isOpened ? chevronUp : chevronDown }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t{ icon && (\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\t\t\tclassName=\"components-panel__icon\"\n\t\t\t\t\t\t\t\t\tsize={ 20 }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</h2>\n\t\t\t\t) }\n\t\t\t\t{ isOpened && children }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst forwardedPanelBody = ( props, ref ) => {\n\treturn <PanelBody { ...props } forwardedRef={ ref } />;\n};\nforwardedPanelBody.displayName = 'PanelBody';\n\nexport default forwardRef( forwardedPanelBody );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\nfunction PanelRow( { className, children } ) {\n\tconst classes = classnames( 'components-panel__row', className );\n\n\treturn <div className={ classes }>{ children }</div>;\n}\n\nexport default PanelRow;\n","/**\n * WordPress dependencies\n */\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport createHigherOrderComponent from '../../utils/create-higher-order-component';\n\n/**\n * Given a component returns the enhanced component augmented with a component\n * only rerendering when its props/state change\n *\n * @param {Function} mapComponentToEnhancedComponent Function mapping component\n *                                                   to enhanced component.\n * @param {string}   modifierName                    Seed name from which to\n *                                                   generated display name.\n *\n * @return {WPComponent} Component class with generated display name assigned.\n */\nconst pure = createHigherOrderComponent( ( Wrapped ) => {\n\tif ( Wrapped.prototype instanceof Component ) {\n\t\treturn class extends Wrapped {\n\t\t\tshouldComponentUpdate( nextProps, nextState ) {\n\t\t\t\treturn (\n\t\t\t\t\t! isShallowEqual( nextProps, this.props ) ||\n\t\t\t\t\t! isShallowEqual( nextState, this.state )\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t}\n\n\treturn class extends Component {\n\t\tshouldComponentUpdate( nextProps ) {\n\t\t\treturn ! isShallowEqual( nextProps, this.props );\n\t\t}\n\n\t\trender() {\n\t\t\treturn <Wrapped { ...this.props } />;\n\t\t}\n\t};\n}, 'pure' );\n\nexport default pure;\n","/**\n * Parts of this source were derived and modified from react-color,\n * released under the MIT license.\n *\n * https://github.com/casesandberg/react-color/\n *\n * Copyright (c) 2015 Case Sandberg\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * External dependencies\n */\nimport { each } from 'lodash';\nimport tinycolor from 'tinycolor2';\n\n/**\n * Given a hex color, get all other color properties (rgb, alpha, etc).\n *\n * @param {Object|string} data A hex color string or an object with a hex property\n * @param {string} oldHue A reference to the hue of the previous color, otherwise dragging the saturation to zero will reset the current hue to zero as well. See https://github.com/casesandberg/react-color/issues/29#issuecomment-132686909.\n * @return {Object} An object of different color representations.\n */\nexport function colorToState( data = {}, oldHue = false ) {\n\tconst color = data.hex ? tinycolor( data.hex ) : tinycolor( data );\n\tconst hsl = color.toHsl();\n\thsl.h = Math.round( hsl.h );\n\thsl.s = Math.round( hsl.s * 100 );\n\thsl.l = Math.round( hsl.l * 100 );\n\tconst hsv = color.toHsv();\n\thsv.h = Math.round( hsv.h );\n\thsv.s = Math.round( hsv.s * 100 );\n\thsv.v = Math.round( hsv.v * 100 );\n\tconst rgb = color.toRgb();\n\tconst hex = color.toHex();\n\tif ( hsl.s === 0 ) {\n\t\thsl.h = oldHue || 0;\n\t\thsv.h = oldHue || 0;\n\t}\n\tconst transparent = hex === '000000' && rgb.a === 0;\n\n\treturn {\n\t\tcolor,\n\t\thex: transparent ? 'transparent' : `#${ hex }`,\n\t\thsl,\n\t\thsv,\n\t\toldHue: data.h || oldHue || hsl.h,\n\t\trgb,\n\t\tsource: data.source,\n\t};\n}\n\n/**\n * Get the top/left offsets of a point in a container, also returns the container width/height.\n *\n * @param {Event} e Mouse or touch event with a location coordinate.\n * @param {HTMLElement} container The container div, returned point is relative to this container.\n * @return {Object} An object of the offset positions & container size.\n */\nfunction getPointOffset( e, container ) {\n\te.preventDefault();\n\tconst {\n\t\tleft: containerLeft,\n\t\ttop: containerTop,\n\t\twidth,\n\t\theight,\n\t} = container.getBoundingClientRect();\n\tconst x = typeof e.pageX === 'number' ? e.pageX : e.touches[ 0 ].pageX;\n\tconst y = typeof e.pageY === 'number' ? e.pageY : e.touches[ 0 ].pageY;\n\tlet left = x - ( containerLeft + window.pageXOffset );\n\tlet top = y - ( containerTop + window.pageYOffset );\n\n\tif ( left < 0 ) {\n\t\tleft = 0;\n\t} else if ( left > width ) {\n\t\tleft = width;\n\t} else if ( top < 0 ) {\n\t\ttop = 0;\n\t} else if ( top > height ) {\n\t\ttop = height;\n\t}\n\n\treturn { top, left, width, height };\n}\n\n/**\n * Check if a string is a valid hex color code.\n *\n * @param {string} hex A possible hex color.\n * @return {boolean} True if the color is a valid hex color.\n */\nexport function isValidHex( hex ) {\n\t// disable hex4 and hex8\n\tconst lh = String( hex ).charAt( 0 ) === '#' ? 1 : 0;\n\treturn (\n\t\thex.length !== 4 + lh &&\n\t\thex.length < 7 + lh &&\n\t\ttinycolor( hex ).isValid()\n\t);\n}\n\n/**\n * Check an object for any valid color properties.\n *\n * @param {Object} data A possible object representing a color.\n * @return {Object|boolean} If a valid representation of color, returns the data object. Otherwise returns false.\n */\nexport function simpleCheckForValidColor( data ) {\n\tconst keysToCheck = [ 'r', 'g', 'b', 'a', 'h', 's', 'l', 'v' ];\n\tlet checked = 0;\n\tlet passed = 0;\n\teach( keysToCheck, ( letter ) => {\n\t\tif ( data[ letter ] ) {\n\t\t\tchecked += 1;\n\t\t\tif ( ! isNaN( data[ letter ] ) ) {\n\t\t\t\tpassed += 1;\n\t\t\t}\n\t\t}\n\t} );\n\treturn checked === passed ? data : false;\n}\n\n/**\n * Calculate the current alpha based on a mouse or touch event\n *\n * @param {Event} e A mouse or touch event on the alpha bar.\n * @param {Object} props The current component props\n * @param {HTMLElement} container The container div for the alpha bar graph.\n * @return {Object|null} If the alpha value has changed, returns a new color object.\n */\nexport function calculateAlphaChange( e, props, container ) {\n\tconst { left, width } = getPointOffset( e, container );\n\tconst a = left < 0 ? 0 : Math.round( ( left * 100 ) / width ) / 100;\n\n\tif ( props.hsl.a !== a ) {\n\t\treturn {\n\t\t\th: props.hsl.h,\n\t\t\ts: props.hsl.s,\n\t\t\tl: props.hsl.l,\n\t\t\ta,\n\t\t\tsource: 'rgb',\n\t\t};\n\t}\n\treturn null;\n}\n\n/**\n * Calculate the current hue based on a mouse or touch event\n *\n * @param {Event} e A mouse or touch event on the hue bar.\n * @param {Object} props The current component props\n * @param {HTMLElement} container The container div for the hue bar graph.\n * @return {Object|null} If the hue value has changed, returns a new color object.\n */\nexport function calculateHueChange( e, props, container ) {\n\tconst { left, width } = getPointOffset( e, container );\n\tconst percent = ( left * 100 ) / width;\n\tconst h = left >= width ? 359 : ( 360 * percent ) / 100;\n\n\tif ( props.hsl.h !== h ) {\n\t\treturn {\n\t\t\th,\n\t\t\ts: props.hsl.s,\n\t\t\tl: props.hsl.l,\n\t\t\ta: props.hsl.a,\n\t\t\tsource: 'rgb',\n\t\t};\n\t}\n\treturn null;\n}\n\n/**\n * Calculate the current saturation & brightness based on a mouse or touch event\n *\n * @param {Event} e A mouse or touch event on the saturation graph.\n * @param {Object} props The current component props\n * @param {HTMLElement} container The container div for the 2D saturation graph.\n * @return {Object} Returns a new color object.\n */\nexport function calculateSaturationChange( e, props, container ) {\n\tconst { top, left, width, height } = getPointOffset( e, container );\n\tconst saturation = left < 0 ? 0 : ( left * 100 ) / width;\n\tlet bright = top >= height ? 0 : -( ( top * 100 ) / height ) + 100;\n\t// `v` values less than 1 are considered in the [0,1] range, causing unexpected behavior at the bottom\n\t// of the chart. To fix this, we assume any value less than 1 should be 0 brightness.\n\tif ( bright < 1 ) {\n\t\tbright = 0;\n\t}\n\n\treturn {\n\t\th: props.hsl.h,\n\t\ts: saturation,\n\t\tv: bright,\n\t\ta: props.hsl.a,\n\t\tsource: 'rgb',\n\t};\n}\n","/**\n * External dependencies\n */\nimport Mousetrap from 'mousetrap';\nimport 'mousetrap/plugins/global-bind/mousetrap-global-bind';\nimport { includes, castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\n/**\n * A block selection object.\n *\n * @typedef {Object} WPKeyboardShortcutConfig\n *\n * @property {boolean} [bindGlobal]  Handle keyboard events anywhere including inside textarea/input fields.\n * @property {string}  [eventName]   Event name used to trigger the handler, defaults to keydown.\n * @property {boolean} [isDisabled]  Disables the keyboard handler if the value is true.\n * @property {Object}  [target]      React reference to the DOM element used to catch the keyboard event.\n */\n\n/**\n * Return true if platform is MacOS.\n *\n * @param {Object} _window   window object by default; used for DI testing.\n *\n * @return {boolean} True if MacOS; false otherwise.\n */\nfunction isAppleOS( _window = window ) {\n\tconst { platform } = _window.navigator;\n\n\treturn (\n\t\tplatform.indexOf( 'Mac' ) !== -1 ||\n\t\tincludes( [ 'iPad', 'iPhone' ], platform )\n\t);\n}\n\n/**\n * Attach a keyboard shortcut handler.\n *\n * @param {string[]|string}         shortcuts  Keyboard Shortcuts.\n * @param {Function}                callback   Shortcut callback.\n * @param {WPKeyboardShortcutConfig} options    Shortcut options.\n */\nfunction useKeyboardShortcut(\n\tshortcuts,\n\tcallback,\n\t{\n\t\tbindGlobal = false,\n\t\teventName = 'keydown',\n\t\tisDisabled = false, // This is important for performance considerations.\n\t\ttarget,\n\t} = {}\n) {\n\tuseEffect( () => {\n\t\tif ( isDisabled ) {\n\t\t\treturn;\n\t\t}\n\t\tconst mousetrap = new Mousetrap( target ? target.current : document );\n\t\tcastArray( shortcuts ).forEach( ( shortcut ) => {\n\t\t\tconst keys = shortcut.split( '+' );\n\t\t\t// Determines whether a key is a modifier by the length of the string.\n\t\t\t// E.g. if I add a pass a shortcut Shift+Cmd+M, it'll determine that\n\t\t\t// the modifiers are Shift and Cmd because they're not a single character.\n\t\t\tconst modifiers = new Set(\n\t\t\t\tkeys.filter( ( value ) => value.length > 1 )\n\t\t\t);\n\t\t\tconst hasAlt = modifiers.has( 'alt' );\n\t\t\tconst hasShift = modifiers.has( 'shift' );\n\n\t\t\t// This should be better moved to the shortcut registration instead.\n\t\t\tif (\n\t\t\t\tisAppleOS() &&\n\t\t\t\t( ( modifiers.size === 1 && hasAlt ) ||\n\t\t\t\t\t( modifiers.size === 2 && hasAlt && hasShift ) )\n\t\t\t) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Cannot bind ${ shortcut }. Alt and Shift+Alt modifiers are reserved for character input.`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst bindFn = bindGlobal ? 'bindGlobal' : 'bind';\n\t\t\tmousetrap[ bindFn ]( shortcut, callback, eventName );\n\t\t} );\n\n\t\treturn () => {\n\t\t\tmousetrap.reset();\n\t\t};\n\t}, [ shortcuts, bindGlobal, eventName, callback, target, isDisabled ] );\n}\n\nexport default useKeyboardShortcut;\n","/**\n * External dependencies\n */\nimport { map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, Children } from '@wordpress/element';\nimport { useKeyboardShortcut } from '@wordpress/compose';\n\nfunction KeyboardShortcut( {\n\ttarget,\n\tcallback,\n\tshortcut,\n\tbindGlobal,\n\teventName,\n} ) {\n\tuseKeyboardShortcut( shortcut, callback, {\n\t\tbindGlobal,\n\t\ttarget,\n\t\teventName,\n\t} );\n\n\treturn null;\n}\n\nfunction KeyboardShortcuts( { children, shortcuts, bindGlobal, eventName } ) {\n\tconst target = useRef();\n\n\tconst element = map( shortcuts, ( callback, shortcut ) => (\n\t\t<KeyboardShortcut\n\t\t\tkey={ shortcut }\n\t\t\tshortcut={ shortcut }\n\t\t\tcallback={ callback }\n\t\t\tbindGlobal={ bindGlobal }\n\t\t\teventName={ eventName }\n\t\t\ttarget={ target }\n\t\t/>\n\t) );\n\n\t// Render as non-visual if there are no children pressed. Keyboard\n\t// events will be bound to the document instead.\n\tif ( ! Children.count( children ) ) {\n\t\treturn element;\n\t}\n\n\treturn (\n\t\t<div ref={ target }>\n\t\t\t{ element }\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default KeyboardShortcuts;\n","/**\n * Parts of this source were derived and modified from react-color,\n * released under the MIT license.\n *\n * https://github.com/casesandberg/react-color/\n *\n * Copyright (c) 2015 Case Sandberg\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport { TAB } from '@wordpress/keycodes';\nimport { pure } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { calculateAlphaChange } from './utils';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\n\nexport class Alpha extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.container = createRef();\n\t\tthis.increase = this.increase.bind( this );\n\t\tthis.decrease = this.decrease.bind( this );\n\t\tthis.handleChange = this.handleChange.bind( this );\n\t\tthis.handleMouseDown = this.handleMouseDown.bind( this );\n\t\tthis.handleMouseUp = this.handleMouseUp.bind( this );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.unbindEventListeners();\n\t}\n\n\tincrease( amount = 0.01 ) {\n\t\tconst { hsl, onChange = noop } = this.props;\n\t\tamount = parseInt( amount * 100, 10 );\n\t\tconst change = {\n\t\t\th: hsl.h,\n\t\t\ts: hsl.s,\n\t\t\tl: hsl.l,\n\t\t\ta: ( parseInt( hsl.a * 100, 10 ) + amount ) / 100,\n\t\t\tsource: 'rgb',\n\t\t};\n\t\tonChange( change );\n\t}\n\n\tdecrease( amount = 0.01 ) {\n\t\tconst { hsl, onChange = noop } = this.props;\n\t\tconst intValue =\n\t\t\tparseInt( hsl.a * 100, 10 ) - parseInt( amount * 100, 10 );\n\t\tconst change = {\n\t\t\th: hsl.h,\n\t\t\ts: hsl.s,\n\t\t\tl: hsl.l,\n\t\t\ta: hsl.a <= amount ? 0 : intValue / 100,\n\t\t\tsource: 'rgb',\n\t\t};\n\t\tonChange( change );\n\t}\n\n\thandleChange( e ) {\n\t\tconst { onChange = noop } = this.props;\n\t\tconst change = calculateAlphaChange(\n\t\t\te,\n\t\t\tthis.props,\n\t\t\tthis.container.current\n\t\t);\n\t\tif ( change ) {\n\t\t\tonChange( change, e );\n\t\t}\n\t}\n\n\thandleMouseDown( e ) {\n\t\tthis.handleChange( e );\n\t\twindow.addEventListener( 'mousemove', this.handleChange );\n\t\twindow.addEventListener( 'mouseup', this.handleMouseUp );\n\t}\n\n\thandleMouseUp() {\n\t\tthis.unbindEventListeners();\n\t}\n\n\tpreventKeyEvents( event ) {\n\t\tif ( event.keyCode === TAB ) {\n\t\t\treturn;\n\t\t}\n\t\tevent.preventDefault();\n\t}\n\n\tunbindEventListeners() {\n\t\twindow.removeEventListener( 'mousemove', this.handleChange );\n\t\twindow.removeEventListener( 'mouseup', this.handleMouseUp );\n\t}\n\n\trender() {\n\t\tconst { rgb } = this.props;\n\t\tconst rgbString = `${ rgb.r },${ rgb.g },${ rgb.b }`;\n\t\tconst gradient = {\n\t\t\tbackground: `linear-gradient(to right, rgba(${ rgbString }, 0) 0%, rgba(${ rgbString }, 1) 100%)`,\n\t\t};\n\t\tconst pointerLocation = { left: `${ rgb.a * 100 }%` };\n\n\t\tconst shortcuts = {\n\t\t\tup: () => this.increase(),\n\t\t\tright: () => this.increase(),\n\t\t\t'shift+up': () => this.increase( 0.1 ),\n\t\t\t'shift+right': () => this.increase( 0.1 ),\n\t\t\tpageup: () => this.increase( 0.1 ),\n\t\t\tend: () => this.increase( 1 ),\n\t\t\tdown: () => this.decrease(),\n\t\t\tleft: () => this.decrease(),\n\t\t\t'shift+down': () => this.decrease( 0.1 ),\n\t\t\t'shift+left': () => this.decrease( 0.1 ),\n\t\t\tpagedown: () => this.decrease( 0.1 ),\n\t\t\thome: () => this.decrease( 1 ),\n\t\t};\n\n\t\treturn (\n\t\t\t<KeyboardShortcuts shortcuts={ shortcuts }>\n\t\t\t\t<div className=\"components-color-picker__alpha\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"components-color-picker__alpha-gradient\"\n\t\t\t\t\t\tstyle={ gradient }\n\t\t\t\t\t/>\n\t\t\t\t\t{ /* eslint-disable jsx-a11y/no-static-element-interactions */ }\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"components-color-picker__alpha-bar\"\n\t\t\t\t\t\tref={ this.container }\n\t\t\t\t\t\tonMouseDown={ this.handleMouseDown }\n\t\t\t\t\t\tonTouchMove={ this.handleChange }\n\t\t\t\t\t\tonTouchStart={ this.handleChange }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\trole=\"slider\"\n\t\t\t\t\t\t\taria-valuemax=\"1\"\n\t\t\t\t\t\t\taria-valuemin=\"0\"\n\t\t\t\t\t\t\taria-valuenow={ rgb.a }\n\t\t\t\t\t\t\taria-orientation=\"horizontal\"\n\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t'Alpha value, from 0 (transparent) to 1 (fully opaque).'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tclassName=\"components-color-picker__alpha-pointer\"\n\t\t\t\t\t\t\tstyle={ pointerLocation }\n\t\t\t\t\t\t\tonKeyDown={ this.preventKeyEvents }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-static-element-interactions */ }\n\t\t\t\t</div>\n\t\t\t</KeyboardShortcuts>\n\t\t);\n\t}\n}\n\nexport default pure( Alpha );\n","/**\n * External dependencies\n */\nimport { flowRight as compose } from 'lodash';\n\n/**\n * Composes multiple higher-order components into a single higher-order component. Performs right-to-left function\n * composition, where each successive invocation is supplied the return value of the previous.\n *\n * @param {...Function} hocs The HOC functions to invoke.\n *\n * @return {Function} Returns the new composite function.\n */\nexport default compose;\n","/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\nconst instanceMap = new WeakMap();\n\n/**\n * Creates a new id for a given object.\n *\n * @param {Object} object Object reference to create an id for.\n */\nfunction createId( object ) {\n\tconst instances = instanceMap.get( object ) || 0;\n\tinstanceMap.set( object, instances + 1 );\n\treturn instances;\n}\n\n/**\n * Provides a unique instance ID.\n *\n * @param {Object} object Object reference to create an id for.\n */\nexport default function useInstanceId( object ) {\n\treturn useMemo( () => createId( object ), [ object ] );\n}\n","/**\n * Internal dependencies\n */\nimport createHigherOrderComponent from '../../utils/create-higher-order-component';\nimport useInstanceId from '../../hooks/use-instance-id';\n\n/**\n * A Higher Order Component used to be provide a unique instance ID by\n * component.\n *\n * @param {WPComponent} WrappedComponent The wrapped component.\n *\n * @return {WPComponent} Component with an instanceId prop.\n */\nexport default createHigherOrderComponent( ( WrappedComponent ) => {\n\treturn ( props ) => {\n\t\tconst instanceId = useInstanceId( WrappedComponent );\n\t\treturn <WrappedComponent { ...props } instanceId={ instanceId } />;\n\t};\n}, 'withInstanceId' );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * Internal dependencies\n */\nimport { renderAsRenderProps } from './utils';\n\n/**\n * VisuallyHidden component to render text out non-visually\n * for use in devices such as a screen reader.\n */\nfunction VisuallyHidden( { as = 'div', className, ...props } ) {\n\treturn renderAsRenderProps( {\n\t\tas,\n\t\tclassName: classnames( 'components-visually-hidden', className ),\n\t\t...props,\n\t} );\n}\nexport default VisuallyHidden;\n","/**\n * Utility Functions\n */\n\n/**\n * renderAsRenderProps is used to wrap a component and convert\n * the passed property \"as\" either a string or component, to the\n * rendered tag if a string, or component.\n *\n * See VisuallyHidden hidden for example.\n *\n * @param {string|WPComponent} as A tag or component to render.\n * @return {WPComponent} The rendered component.\n */\nfunction renderAsRenderProps( { as: Component = 'div', ...props } ) {\n\tif ( typeof props.children === 'function' ) {\n\t\treturn props.children( props );\n\t}\n\treturn <Component { ...props } />;\n}\n\nexport { renderAsRenderProps };\n","/**\n * Parts of this source were derived and modified from react-color,\n * released under the MIT license.\n *\n * https://github.com/casesandberg/react-color/\n *\n * Copyright (c) 2015 Case Sandberg\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose, pure, withInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport { TAB } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { calculateHueChange } from './utils';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\nimport VisuallyHidden from '../visually-hidden';\n\nexport class Hue extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.container = createRef();\n\t\tthis.increase = this.increase.bind( this );\n\t\tthis.decrease = this.decrease.bind( this );\n\t\tthis.handleChange = this.handleChange.bind( this );\n\t\tthis.handleMouseDown = this.handleMouseDown.bind( this );\n\t\tthis.handleMouseUp = this.handleMouseUp.bind( this );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.unbindEventListeners();\n\t}\n\n\tincrease( amount = 1 ) {\n\t\tconst { hsl, onChange = noop } = this.props;\n\t\tconst change = {\n\t\t\th: hsl.h + amount >= 359 ? 359 : hsl.h + amount,\n\t\t\ts: hsl.s,\n\t\t\tl: hsl.l,\n\t\t\ta: hsl.a,\n\t\t\tsource: 'rgb',\n\t\t};\n\t\tonChange( change );\n\t}\n\n\tdecrease( amount = 1 ) {\n\t\tconst { hsl, onChange = noop } = this.props;\n\t\tconst change = {\n\t\t\th: hsl.h <= amount ? 0 : hsl.h - amount,\n\t\t\ts: hsl.s,\n\t\t\tl: hsl.l,\n\t\t\ta: hsl.a,\n\t\t\tsource: 'rgb',\n\t\t};\n\t\tonChange( change );\n\t}\n\n\thandleChange( e ) {\n\t\tconst { onChange = noop } = this.props;\n\t\tconst change = calculateHueChange(\n\t\t\te,\n\t\t\tthis.props,\n\t\t\tthis.container.current\n\t\t);\n\t\tif ( change ) {\n\t\t\tonChange( change, e );\n\t\t}\n\t}\n\n\thandleMouseDown( e ) {\n\t\tthis.handleChange( e );\n\t\twindow.addEventListener( 'mousemove', this.handleChange );\n\t\twindow.addEventListener( 'mouseup', this.handleMouseUp );\n\t}\n\n\thandleMouseUp() {\n\t\tthis.unbindEventListeners();\n\t}\n\n\tpreventKeyEvents( event ) {\n\t\tif ( event.keyCode === TAB ) {\n\t\t\treturn;\n\t\t}\n\t\tevent.preventDefault();\n\t}\n\n\tunbindEventListeners() {\n\t\twindow.removeEventListener( 'mousemove', this.handleChange );\n\t\twindow.removeEventListener( 'mouseup', this.handleMouseUp );\n\t}\n\n\trender() {\n\t\tconst { hsl = {}, instanceId } = this.props;\n\n\t\tconst pointerLocation = { left: `${ ( hsl.h * 100 ) / 360 }%` };\n\t\tconst shortcuts = {\n\t\t\tup: () => this.increase(),\n\t\t\tright: () => this.increase(),\n\t\t\t'shift+up': () => this.increase( 10 ),\n\t\t\t'shift+right': () => this.increase( 10 ),\n\t\t\tpageup: () => this.increase( 10 ),\n\t\t\tend: () => this.increase( 359 ),\n\t\t\tdown: () => this.decrease(),\n\t\t\tleft: () => this.decrease(),\n\t\t\t'shift+down': () => this.decrease( 10 ),\n\t\t\t'shift+left': () => this.decrease( 10 ),\n\t\t\tpagedown: () => this.decrease( 10 ),\n\t\t\thome: () => this.decrease( 359 ),\n\t\t};\n\n\t\treturn (\n\t\t\t<KeyboardShortcuts shortcuts={ shortcuts }>\n\t\t\t\t<div className=\"components-color-picker__hue\">\n\t\t\t\t\t<div className=\"components-color-picker__hue-gradient\" />\n\t\t\t\t\t{ /* eslint-disable jsx-a11y/no-static-element-interactions */ }\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"components-color-picker__hue-bar\"\n\t\t\t\t\t\tref={ this.container }\n\t\t\t\t\t\tonMouseDown={ this.handleMouseDown }\n\t\t\t\t\t\tonTouchMove={ this.handleChange }\n\t\t\t\t\t\tonTouchStart={ this.handleChange }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\trole=\"slider\"\n\t\t\t\t\t\t\taria-valuemax=\"1\"\n\t\t\t\t\t\t\taria-valuemin=\"359\"\n\t\t\t\t\t\t\taria-valuenow={ hsl.h }\n\t\t\t\t\t\t\taria-orientation=\"horizontal\"\n\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t'Hue value in degrees, from 0 to 359.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\taria-describedby={ `components-color-picker__hue-description-${ instanceId }` }\n\t\t\t\t\t\t\tclassName=\"components-color-picker__hue-pointer\"\n\t\t\t\t\t\t\tstyle={ pointerLocation }\n\t\t\t\t\t\t\tonKeyDown={ this.preventKeyEvents }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<VisuallyHidden\n\t\t\t\t\t\t\tas=\"p\"\n\t\t\t\t\t\t\tid={ `components-color-picker__hue-description-${ instanceId }` }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Move the arrow left or right to change hue.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-static-element-interactions */ }\n\t\t\t\t</div>\n\t\t\t</KeyboardShortcuts>\n\t\t);\n\t}\n}\n\nexport default compose( pure, withInstanceId )( Hue );\n","/**\n * Build the live regions markup.\n *\n * @param {string} [ariaLive] Value for the 'aria-live' attribute; default: 'polite'.\n *\n * @return {HTMLDivElement} The ARIA live region HTML element.\n */\nexport default function addContainer( ariaLive = 'polite' ) {\n\tconst container = document.createElement( 'div' );\n\tcontainer.id = `a11y-speak-${ ariaLive }`;\n\tcontainer.className = 'a11y-speak-region';\n\n\tcontainer.setAttribute(\n\t\t'style',\n\t\t'position: absolute;' +\n\t\t\t'margin: -1px;' +\n\t\t\t'padding: 0;' +\n\t\t\t'height: 1px;' +\n\t\t\t'width: 1px;' +\n\t\t\t'overflow: hidden;' +\n\t\t\t'clip: rect(1px, 1px, 1px, 1px);' +\n\t\t\t'-webkit-clip-path: inset(50%);' +\n\t\t\t'clip-path: inset(50%);' +\n\t\t\t'border: 0;' +\n\t\t\t'word-wrap: normal !important;'\n\t);\n\tcontainer.setAttribute( 'aria-live', ariaLive );\n\tcontainer.setAttribute( 'aria-relevant', 'additions text' );\n\tcontainer.setAttribute( 'aria-atomic', 'true' );\n\n\tconst { body } = document;\n\tif ( body ) {\n\t\tbody.appendChild( container );\n\t}\n\n\treturn container;\n}\n","let previousMessage = '';\n\n/**\n * Filter the message to be announced to the screenreader.\n *\n * @param {string} message The message to be announced.\n *\n * @return {string} The filtered message.\n */\nexport default function filterMessage( message ) {\n\t/*\n\t * Strip HTML tags (if any) from the message string. Ideally, messages should\n\t * be simple strings, carefully crafted for specific use with A11ySpeak.\n\t * When re-using already existing strings this will ensure simple HTML to be\n\t * stripped out and replaced with a space. Browsers will collapse multiple\n\t * spaces natively.\n\t */\n\tmessage = message.replace( /<[^<>]+>/g, ' ' );\n\n\tif ( previousMessage === message ) {\n\t\tmessage += '\\u00A0';\n\t}\n\n\tpreviousMessage = message;\n\n\treturn message;\n}\n","/**\n * @typedef {() => void} Callback\n *\n * TODO: Remove this typedef and inline `() => void` type.\n *\n * This typedef is used so that a descriptive type is provided in our\n * automatically generated documentation.\n *\n * An in-line type `() => void` would be preferable, but the generated\n * documentation is `null` in that case.\n *\n * @see https://github.com/WordPress/gutenberg/issues/18045\n */\n\n/**\n * Specify a function to execute when the DOM is fully loaded.\n *\n * @param {Callback} callback A function to execute after the DOM is ready.\n *\n * @example\n * ```js\n * import domReady from '@wordpress/dom-ready';\n *\n * domReady( function() {\n * \t//do something after DOM loads.\n * } );\n * ```\n *\n * @return {void}\n */\nexport default function domReady( callback ) {\n\tif (\n\t\tdocument.readyState === 'complete' || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\n\t\tdocument.readyState === 'interactive' // DOMContentLoaded fires at this point, so we call directly.\n\t) {\n\t\treturn void callback();\n\t}\n\n\t// DOMContentLoaded has not fired yet, delay callback until then.\n\tdocument.addEventListener( 'DOMContentLoaded', callback );\n}\n","/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Internal dependencies\n */\nimport addContainer from './add-container';\nimport clear from './clear';\nimport filterMessage from './filter-message';\n\n/**\n * Create the live regions.\n */\nexport function setup() {\n\tconst containerAssertive = document.getElementById(\n\t\t'a11y-speak-assertive'\n\t);\n\tconst containerPolite = document.getElementById( 'a11y-speak-polite' );\n\n\tif ( containerAssertive === null ) {\n\t\taddContainer( 'assertive' );\n\t}\n\tif ( containerPolite === null ) {\n\t\taddContainer( 'polite' );\n\t}\n}\n\n/**\n * Run setup on domReady.\n */\ndomReady( setup );\n\n/**\n * Allows you to easily announce dynamic interface updates to screen readers using ARIA live regions.\n * This module is inspired by the `speak` function in `wp-a11y.js`.\n *\n * @param {string} message  The message to be announced by assistive technologies.\n * @param {string} [ariaLive] The politeness level for aria-live; default: 'polite'.\n *\n * @example\n * ```js\n * import { speak } from '@wordpress/a11y';\n *\n * // For polite messages that shouldn't interrupt what screen readers are currently announcing.\n * speak( 'The message you want to send to the ARIA live region' );\n *\n * // For assertive messages that should interrupt what screen readers are currently announcing.\n * speak( 'The message you want to send to the ARIA live region', 'assertive' );\n * ```\n */\nexport function speak( message, ariaLive ) {\n\t// Clear previous messages to allow repeated strings being read out.\n\tclear();\n\n\tmessage = filterMessage( message );\n\n\tconst containerAssertive = document.getElementById(\n\t\t'a11y-speak-assertive'\n\t);\n\tconst containerPolite = document.getElementById( 'a11y-speak-polite' );\n\n\tif ( containerAssertive && ariaLive === 'assertive' ) {\n\t\tcontainerAssertive.textContent = message;\n\t} else if ( containerPolite ) {\n\t\tcontainerPolite.textContent = message;\n\t}\n}\n","/**\n * Clear the a11y-speak-region elements.\n */\nexport default function clear() {\n\tconst regions = document.getElementsByClassName( 'a11y-speak-region' );\n\n\tfor ( let i = 0; i < regions.length; i++ ) {\n\t\tregions[ i ].textContent = '';\n\t}\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * Internal dependencies\n */\nimport VisuallyHidden from '../visually-hidden';\n\nfunction BaseControl( {\n\tid,\n\tlabel,\n\thideLabelFromVision,\n\thelp,\n\tclassName,\n\tchildren,\n} ) {\n\treturn (\n\t\t<div className={ classnames( 'components-base-control', className ) }>\n\t\t\t<div className=\"components-base-control__field\">\n\t\t\t\t{ label &&\n\t\t\t\t\tid &&\n\t\t\t\t\t( hideLabelFromVision ? (\n\t\t\t\t\t\t<VisuallyHidden as=\"label\" htmlFor={ id }>\n\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tclassName=\"components-base-control__label\"\n\t\t\t\t\t\t\thtmlFor={ id }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t</label>\n\t\t\t\t\t) ) }\n\t\t\t\t{ label &&\n\t\t\t\t\t! id &&\n\t\t\t\t\t( hideLabelFromVision ? (\n\t\t\t\t\t\t<VisuallyHidden as=\"label\">{ label }</VisuallyHidden>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t) ) }\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t\t{ !! help && (\n\t\t\t\t<p\n\t\t\t\t\tid={ id + '__help' }\n\t\t\t\t\tclassName=\"components-base-control__help\"\n\t\t\t\t>\n\t\t\t\t\t{ help }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nBaseControl.VisualLabel = ( { className, children } ) => {\n\tclassName = classnames( 'components-base-control__label', className );\n\treturn <span className={ className }>{ children }</span>;\n};\n\nexport default BaseControl;\n","/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BaseControl from '../base-control';\n\nexport default function TextControl( {\n\tlabel,\n\thideLabelFromVision,\n\tvalue,\n\thelp,\n\tclassName,\n\tonChange,\n\ttype = 'text',\n\t...props\n} ) {\n\tconst instanceId = useInstanceId( TextControl );\n\tconst id = `inspector-text-control-${ instanceId }`;\n\tconst onChangeValue = ( event ) => onChange( event.target.value );\n\n\treturn (\n\t\t<BaseControl\n\t\t\tlabel={ label }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\tid={ id }\n\t\t\thelp={ help }\n\t\t\tclassName={ className }\n\t\t>\n\t\t\t<input\n\t\t\t\tclassName=\"components-text-control__input\"\n\t\t\t\ttype={ type }\n\t\t\t\tid={ id }\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ onChangeValue }\n\t\t\t\taria-describedby={ !! help ? id + '__help' : undefined }\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t</BaseControl>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { DOWN, ENTER, UP } from '@wordpress/keycodes';\nimport { pure } from '@wordpress/compose';\nimport { chevronDown } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport TextControl from '../text-control';\nimport VisuallyHidden from '../visually-hidden';\nimport { isValidHex } from './utils';\n\n/* Wrapper for TextControl, only used to handle intermediate state while typing. */\nexport class Input extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.handleBlur = this.handleBlur.bind( this );\n\t\tthis.handleChange = this.handleChange.bind( this );\n\t\tthis.handleKeyDown = this.handleKeyDown.bind( this );\n\t}\n\n\thandleBlur() {\n\t\tconst { value, valueKey, onChange, source } = this.props;\n\t\tonChange( {\n\t\t\tsource,\n\t\t\tstate: 'commit',\n\t\t\tvalue,\n\t\t\tvalueKey,\n\t\t} );\n\t}\n\n\thandleChange( value ) {\n\t\tconst { valueKey, onChange, source } = this.props;\n\t\tif ( value.length > 4 && isValidHex( value ) ) {\n\t\t\tonChange( {\n\t\t\t\tsource,\n\t\t\t\tstate: 'commit',\n\t\t\t\tvalue,\n\t\t\t\tvalueKey,\n\t\t\t} );\n\t\t} else {\n\t\t\tonChange( {\n\t\t\t\tsource,\n\t\t\t\tstate: 'draft',\n\t\t\t\tvalue,\n\t\t\t\tvalueKey,\n\t\t\t} );\n\t\t}\n\t}\n\n\thandleKeyDown( { keyCode } ) {\n\t\tif ( keyCode !== ENTER && keyCode !== UP && keyCode !== DOWN ) {\n\t\t\treturn;\n\t\t}\n\t\tconst { value, valueKey, onChange, source } = this.props;\n\t\tonChange( {\n\t\t\tsource,\n\t\t\tstate: 'commit',\n\t\t\tvalue,\n\t\t\tvalueKey,\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { label, value, ...props } = this.props;\n\t\treturn (\n\t\t\t<TextControl\n\t\t\t\tclassName=\"components-color-picker__inputs-field\"\n\t\t\t\tlabel={ label }\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ ( newValue ) => this.handleChange( newValue ) }\n\t\t\t\tonBlur={ this.handleBlur }\n\t\t\t\tonKeyDown={ this.handleKeyDown }\n\t\t\t\t{ ...omit( props, [ 'onChange', 'valueKey', 'source' ] ) }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst PureButton = pure( Button );\n\nexport class Inputs extends Component {\n\tconstructor( { hsl } ) {\n\t\tsuper( ...arguments );\n\n\t\tconst view = hsl.a === 1 ? 'hex' : 'rgb';\n\t\tthis.state = { view };\n\n\t\tthis.toggleViews = this.toggleViews.bind( this );\n\t\tthis.resetDraftValues = this.resetDraftValues.bind( this );\n\t\tthis.handleChange = this.handleChange.bind( this );\n\t\tthis.normalizeValue = this.normalizeValue.bind( this );\n\t}\n\n\tstatic getDerivedStateFromProps( props, state ) {\n\t\tif ( props.hsl.a !== 1 && state.view === 'hex' ) {\n\t\t\treturn { view: 'rgb' };\n\t\t}\n\t\treturn null;\n\t}\n\n\ttoggleViews() {\n\t\tif ( this.state.view === 'hex' ) {\n\t\t\tthis.setState( { view: 'rgb' }, this.resetDraftValues );\n\n\t\t\tspeak( __( 'RGB mode active' ) );\n\t\t} else if ( this.state.view === 'rgb' ) {\n\t\t\tthis.setState( { view: 'hsl' }, this.resetDraftValues );\n\n\t\t\tspeak( __( 'Hue/saturation/lightness mode active' ) );\n\t\t} else if ( this.state.view === 'hsl' ) {\n\t\t\tif ( this.props.hsl.a === 1 ) {\n\t\t\t\tthis.setState( { view: 'hex' }, this.resetDraftValues );\n\n\t\t\t\tspeak( __( 'Hex color mode active' ) );\n\t\t\t} else {\n\t\t\t\tthis.setState( { view: 'rgb' }, this.resetDraftValues );\n\n\t\t\t\tspeak( __( 'RGB mode active' ) );\n\t\t\t}\n\t\t}\n\t}\n\n\tresetDraftValues() {\n\t\treturn this.props.onChange( {\n\t\t\tstate: 'reset',\n\t\t} );\n\t}\n\n\tnormalizeValue( valueKey, value ) {\n\t\tif ( valueKey !== 'a' ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( value < 0 ) {\n\t\t\treturn 0;\n\t\t} else if ( value > 1 ) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn Math.round( value * 100 ) / 100;\n\t}\n\n\thandleChange( { source, state, value, valueKey } ) {\n\t\tthis.props.onChange( {\n\t\t\tsource,\n\t\t\tstate,\n\t\t\tvalueKey,\n\t\t\tvalue: this.normalizeValue( valueKey, value ),\n\t\t} );\n\t}\n\n\trenderFields() {\n\t\tconst { disableAlpha = false } = this.props;\n\t\tif ( this.state.view === 'hex' ) {\n\t\t\treturn (\n\t\t\t\t<div className=\"components-color-picker__inputs-fields\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tsource={ this.state.view }\n\t\t\t\t\t\tlabel={ __( 'Color value in hexadecimal' ) }\n\t\t\t\t\t\tvalueKey=\"hex\"\n\t\t\t\t\t\tvalue={ this.props.hex }\n\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if ( this.state.view === 'rgb' ) {\n\t\t\treturn (\n\t\t\t\t<fieldset>\n\t\t\t\t\t<VisuallyHidden as=\"legend\">\n\t\t\t\t\t\t{ __( 'Color value in RGB' ) }\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t<div className=\"components-color-picker__inputs-fields\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tsource={ this.state.view }\n\t\t\t\t\t\t\tlabel=\"r\"\n\t\t\t\t\t\t\tvalueKey=\"r\"\n\t\t\t\t\t\t\tvalue={ this.props.rgb.r }\n\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\tmax=\"255\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tsource={ this.state.view }\n\t\t\t\t\t\t\tlabel=\"g\"\n\t\t\t\t\t\t\tvalueKey=\"g\"\n\t\t\t\t\t\t\tvalue={ this.props.rgb.g }\n\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\tmax=\"255\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tsource={ this.state.view }\n\t\t\t\t\t\t\tlabel=\"b\"\n\t\t\t\t\t\t\tvalueKey=\"b\"\n\t\t\t\t\t\t\tvalue={ this.props.rgb.b }\n\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\tmax=\"255\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ disableAlpha ? null : (\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tsource={ this.state.view }\n\t\t\t\t\t\t\t\tlabel=\"a\"\n\t\t\t\t\t\t\t\tvalueKey=\"a\"\n\t\t\t\t\t\t\t\tvalue={ this.props.rgb.a }\n\t\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tmax=\"1\"\n\t\t\t\t\t\t\t\tstep=\"0.05\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t);\n\t\t} else if ( this.state.view === 'hsl' ) {\n\t\t\treturn (\n\t\t\t\t<fieldset>\n\t\t\t\t\t<VisuallyHidden as=\"legend\">\n\t\t\t\t\t\t{ __( 'Color value in HSL' ) }\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t<div className=\"components-color-picker__inputs-fields\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tsource={ this.state.view }\n\t\t\t\t\t\t\tlabel=\"h\"\n\t\t\t\t\t\t\tvalueKey=\"h\"\n\t\t\t\t\t\t\tvalue={ this.props.hsl.h }\n\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\tmax=\"359\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tsource={ this.state.view }\n\t\t\t\t\t\t\tlabel=\"s\"\n\t\t\t\t\t\t\tvalueKey=\"s\"\n\t\t\t\t\t\t\tvalue={ this.props.hsl.s }\n\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tsource={ this.state.view }\n\t\t\t\t\t\t\tlabel=\"l\"\n\t\t\t\t\t\t\tvalueKey=\"l\"\n\t\t\t\t\t\t\tvalue={ this.props.hsl.l }\n\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ disableAlpha ? null : (\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tsource={ this.state.view }\n\t\t\t\t\t\t\t\tlabel=\"a\"\n\t\t\t\t\t\t\t\tvalueKey=\"a\"\n\t\t\t\t\t\t\t\tvalue={ this.props.hsl.a }\n\t\t\t\t\t\t\t\tonChange={ this.handleChange }\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tmax=\"1\"\n\t\t\t\t\t\t\t\tstep=\"0.05\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"components-color-picker__inputs-wrapper\">\n\t\t\t\t{ this.renderFields() }\n\t\t\t\t<div className=\"components-color-picker__inputs-toggle-wrapper\">\n\t\t\t\t\t<PureButton\n\t\t\t\t\t\tclassName=\"components-color-picker__inputs-toggle\"\n\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\tlabel={ __( 'Change color format' ) }\n\t\t\t\t\t\tonClick={ this.toggleViews }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Inputs;\n","/**\n * Parts of this source were derived and modified from react-color,\n * released under the MIT license.\n *\n * https://github.com/casesandberg/react-color/\n *\n * Copyright (c) 2015 Case Sandberg\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * External dependencies\n */\nimport { clamp, noop, throttle } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport { TAB } from '@wordpress/keycodes';\nimport { compose, pure, withInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { calculateSaturationChange } from './utils';\nimport Button from '../button';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\nimport VisuallyHidden from '../visually-hidden';\n\nexport class Saturation extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.throttle = throttle( ( fn, data, e ) => {\n\t\t\tfn( data, e );\n\t\t}, 50 );\n\n\t\tthis.container = createRef();\n\t\tthis.saturate = this.saturate.bind( this );\n\t\tthis.brighten = this.brighten.bind( this );\n\t\tthis.handleChange = this.handleChange.bind( this );\n\t\tthis.handleMouseDown = this.handleMouseDown.bind( this );\n\t\tthis.handleMouseUp = this.handleMouseUp.bind( this );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.throttle.cancel();\n\t\tthis.unbindEventListeners();\n\t}\n\n\tsaturate( amount = 0.01 ) {\n\t\tconst { hsv, onChange = noop } = this.props;\n\t\tconst intSaturation = clamp(\n\t\t\thsv.s + Math.round( amount * 100 ),\n\t\t\t0,\n\t\t\t100\n\t\t);\n\t\tconst change = {\n\t\t\th: hsv.h,\n\t\t\ts: intSaturation,\n\t\t\tv: hsv.v,\n\t\t\ta: hsv.a,\n\t\t\tsource: 'rgb',\n\t\t};\n\n\t\tonChange( change );\n\t}\n\n\tbrighten( amount = 0.01 ) {\n\t\tconst { hsv, onChange = noop } = this.props;\n\t\tconst intValue = clamp( hsv.v + Math.round( amount * 100 ), 0, 100 );\n\t\tconst change = {\n\t\t\th: hsv.h,\n\t\t\ts: hsv.s,\n\t\t\tv: intValue,\n\t\t\ta: hsv.a,\n\t\t\tsource: 'rgb',\n\t\t};\n\n\t\tonChange( change );\n\t}\n\n\thandleChange( e ) {\n\t\tconst { onChange = noop } = this.props;\n\t\tconst change = calculateSaturationChange(\n\t\t\te,\n\t\t\tthis.props,\n\t\t\tthis.container.current\n\t\t);\n\t\tthis.throttle( onChange, change, e );\n\t}\n\n\thandleMouseDown( e ) {\n\t\tthis.handleChange( e );\n\t\twindow.addEventListener( 'mousemove', this.handleChange );\n\t\twindow.addEventListener( 'mouseup', this.handleMouseUp );\n\t}\n\n\thandleMouseUp() {\n\t\tthis.unbindEventListeners();\n\t}\n\n\tpreventKeyEvents( event ) {\n\t\tif ( event.keyCode === TAB ) {\n\t\t\treturn;\n\t\t}\n\t\tevent.preventDefault();\n\t}\n\n\tunbindEventListeners() {\n\t\twindow.removeEventListener( 'mousemove', this.handleChange );\n\t\twindow.removeEventListener( 'mouseup', this.handleMouseUp );\n\t}\n\n\trender() {\n\t\tconst { hsv, hsl, instanceId } = this.props;\n\t\tconst pointerLocation = {\n\t\t\ttop: `${ -hsv.v + 100 }%`,\n\t\t\tleft: `${ hsv.s }%`,\n\t\t};\n\t\tconst shortcuts = {\n\t\t\tup: () => this.brighten(),\n\t\t\t'shift+up': () => this.brighten( 0.1 ),\n\t\t\tpageup: () => this.brighten( 1 ),\n\t\t\tdown: () => this.brighten( -0.01 ),\n\t\t\t'shift+down': () => this.brighten( -0.1 ),\n\t\t\tpagedown: () => this.brighten( -1 ),\n\t\t\tright: () => this.saturate(),\n\t\t\t'shift+right': () => this.saturate( 0.1 ),\n\t\t\tend: () => this.saturate( 1 ),\n\t\t\tleft: () => this.saturate( -0.01 ),\n\t\t\t'shift+left': () => this.saturate( -0.1 ),\n\t\t\thome: () => this.saturate( -1 ),\n\t\t};\n\n\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\t\treturn (\n\t\t\t<KeyboardShortcuts shortcuts={ shortcuts }>\n\t\t\t\t<div\n\t\t\t\t\tstyle={ { background: `hsl(${ hsl.h },100%, 50%)` } }\n\t\t\t\t\tclassName=\"components-color-picker__saturation-color\"\n\t\t\t\t\tref={ this.container }\n\t\t\t\t\tonMouseDown={ this.handleMouseDown }\n\t\t\t\t\tonTouchMove={ this.handleChange }\n\t\t\t\t\tonTouchStart={ this.handleChange }\n\t\t\t\t\trole=\"application\"\n\t\t\t\t>\n\t\t\t\t\t<div className=\"components-color-picker__saturation-white\" />\n\t\t\t\t\t<div className=\"components-color-picker__saturation-black\" />\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label={ __( 'Choose a shade' ) }\n\t\t\t\t\t\taria-describedby={ `color-picker-saturation-${ instanceId }` }\n\t\t\t\t\t\tclassName=\"components-color-picker__saturation-pointer\"\n\t\t\t\t\t\tstyle={ pointerLocation }\n\t\t\t\t\t\tonKeyDown={ this.preventKeyEvents }\n\t\t\t\t\t/>\n\t\t\t\t\t<VisuallyHidden\n\t\t\t\t\t\tid={ `color-picker-saturation-${ instanceId }` }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Use your arrow keys to change the base color. Move up to lighten the color, down to darken, left to decrease saturation, and right to increase saturation.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t</div>\n\t\t\t</KeyboardShortcuts>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions */\n\t}\n}\n\nexport default compose( pure, withInstanceId )( Saturation );\n","/**\n * Parts of this source were derived and modified from react-color,\n * released under the MIT license.\n *\n * https://github.com/casesandberg/react-color/\n *\n * Copyright (c) 2015 Case Sandberg\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { debounce, noop, partial } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Alpha from './alpha';\nimport Hue from './hue';\nimport Inputs from './inputs';\nimport Saturation from './saturation';\nimport { colorToState, simpleCheckForValidColor, isValidHex } from './utils';\n\nconst toLowerCase = ( value ) => String( value ).toLowerCase();\nconst isValueEmpty = ( data ) => {\n\tif ( data.source === 'hex' && ! data.hex ) {\n\t\treturn true;\n\t} else if (\n\t\tdata.source === 'hsl' &&\n\t\t( ! data.h || ! data.s || ! data.l )\n\t) {\n\t\treturn true;\n\t} else if (\n\t\tdata.source === 'rgb' &&\n\t\t( ! data.r || ! data.g || ! data.b ) &&\n\t\t( ! data.h || ! data.s || ! data.v || ! data.a ) &&\n\t\t( ! data.h || ! data.s || ! data.l || ! data.a )\n\t) {\n\t\treturn true;\n\t}\n\treturn false;\n};\nconst isValidColor = ( colors ) =>\n\tcolors.hex ? isValidHex( colors.hex ) : simpleCheckForValidColor( colors );\n\n/**\n * Function that creates the new color object\n * from old data and the new value.\n *\n * @param {Object} oldColors The old color object.\n * @param {string} oldColors.hex\n * @param {Object} oldColors.rgb\n * @param {number} oldColors.rgb.r\n * @param {number} oldColors.rgb.g\n * @param {number} oldColors.rgb.b\n * @param {number} oldColors.rgb.a\n * @param {Object} oldColors.hsl\n * @param {number} oldColors.hsl.h\n * @param {number} oldColors.hsl.s\n * @param {number} oldColors.hsl.l\n * @param {number} oldColors.hsl.a\n * @param {string} oldColors.draftHex Same format as oldColors.hex\n * @param {Object} oldColors.draftRgb Same format as oldColors.rgb\n * @param {Object} oldColors.draftHsl Same format as oldColors.hsl\n * @param {Object} data Data containing the new value to update.\n * @param {Object} data.source One of `hex`, `rgb`, `hsl`.\n * @param {string|number} data.value Value to update.\n * @param {string} data.valueKey Depends on `data.source` values:\n *   - when source = `rgb`, valuKey can be `r`, `g`, `b`, or `a`.\n *   - when source = `hsl`, valuKey can be `h`, `s`, `l`, or `a`.\n * @return {Object} A new color object for a specific source. For example:\n * { source: 'rgb', r: 1, g: 2, b:3, a:0 }\n */\nconst dataToColors = ( oldColors, { source, valueKey, value } ) => {\n\tif ( source === 'hex' ) {\n\t\treturn {\n\t\t\tsource,\n\t\t\t[ source ]: value,\n\t\t};\n\t}\n\treturn {\n\t\tsource,\n\t\t...{ ...oldColors[ source ], ...{ [ valueKey ]: value } },\n\t};\n};\n\nexport default class ColorPicker extends Component {\n\tconstructor( { color = '0071a1' } ) {\n\t\tsuper( ...arguments );\n\t\tconst colors = colorToState( color );\n\t\tthis.state = {\n\t\t\t...colors,\n\t\t\tdraftHex: toLowerCase( colors.hex ),\n\t\t\tdraftRgb: colors.rgb,\n\t\t\tdraftHsl: colors.hsl,\n\t\t};\n\t\tthis.commitValues = this.commitValues.bind( this );\n\t\tthis.setDraftValues = this.setDraftValues.bind( this );\n\t\tthis.resetDraftValues = this.resetDraftValues.bind( this );\n\t\tthis.handleInputChange = this.handleInputChange.bind( this );\n\t}\n\n\tcommitValues( data ) {\n\t\tconst { oldHue, onChangeComplete = noop } = this.props;\n\n\t\tif ( isValidColor( data ) ) {\n\t\t\tconst colors = colorToState( data, data.h || oldHue );\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\t...colors,\n\t\t\t\t\tdraftHex: toLowerCase( colors.hex ),\n\t\t\t\t\tdraftHsl: colors.hsl,\n\t\t\t\t\tdraftRgb: colors.rgb,\n\t\t\t\t},\n\t\t\t\tdebounce( partial( onChangeComplete, colors ), 100 )\n\t\t\t);\n\t\t}\n\t}\n\n\tresetDraftValues() {\n\t\tthis.setState( {\n\t\t\tdraftHex: this.state.hex,\n\t\t\tdraftHsl: this.state.hsl,\n\t\t\tdraftRgb: this.state.rgb,\n\t\t} );\n\t}\n\n\tsetDraftValues( data ) {\n\t\tswitch ( data.source ) {\n\t\t\tcase 'hex':\n\t\t\t\tthis.setState( { draftHex: toLowerCase( data.hex ) } );\n\t\t\t\tbreak;\n\t\t\tcase 'rgb':\n\t\t\t\tthis.setState( { draftRgb: data } );\n\t\t\t\tbreak;\n\t\t\tcase 'hsl':\n\t\t\t\tthis.setState( { draftHsl: data } );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\thandleInputChange( data ) {\n\t\tswitch ( data.state ) {\n\t\t\tcase 'reset':\n\t\t\t\tthis.resetDraftValues();\n\t\t\t\tbreak;\n\t\t\tcase 'commit':\n\t\t\t\tconst colors = dataToColors( this.state, data );\n\t\t\t\tif ( ! isValueEmpty( colors ) ) {\n\t\t\t\t\tthis.commitValues( colors );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'draft':\n\t\t\t\tthis.setDraftValues( dataToColors( this.state, data ) );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { className, disableAlpha } = this.props;\n\t\tconst {\n\t\t\tcolor,\n\t\t\thsl,\n\t\t\thsv,\n\t\t\trgb,\n\t\t\tdraftHex,\n\t\t\tdraftHsl,\n\t\t\tdraftRgb,\n\t\t} = this.state;\n\t\tconst classes = classnames( className, {\n\t\t\t'components-color-picker': true,\n\t\t\t'is-alpha-disabled': disableAlpha,\n\t\t\t'is-alpha-enabled': ! disableAlpha,\n\t\t} );\n\n\t\treturn (\n\t\t\t<div className={ classes }>\n\t\t\t\t<div className=\"components-color-picker__saturation\">\n\t\t\t\t\t<Saturation\n\t\t\t\t\t\thsl={ hsl }\n\t\t\t\t\t\thsv={ hsv }\n\t\t\t\t\t\tonChange={ this.commitValues }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"components-color-picker__body\">\n\t\t\t\t\t<div className=\"components-color-picker__controls\">\n\t\t\t\t\t\t<div className=\"components-color-picker__swatch\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"components-color-picker__active\"\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tbackgroundColor:\n\t\t\t\t\t\t\t\t\t\tcolor && color.toRgbString(),\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"components-color-picker__toggles\">\n\t\t\t\t\t\t\t<Hue hsl={ hsl } onChange={ this.commitValues } />\n\t\t\t\t\t\t\t{ disableAlpha ? null : (\n\t\t\t\t\t\t\t\t<Alpha\n\t\t\t\t\t\t\t\t\trgb={ rgb }\n\t\t\t\t\t\t\t\t\thsl={ hsl }\n\t\t\t\t\t\t\t\t\tonChange={ this.commitValues }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Inputs\n\t\t\t\t\t\trgb={ draftRgb }\n\t\t\t\t\t\thsl={ draftHsl }\n\t\t\t\t\t\thex={ draftHex }\n\t\t\t\t\t\tonChange={ this.handleInputChange }\n\t\t\t\t\t\tdisableAlpha={ disableAlpha }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","export default function Spinner() {\n\treturn <span className=\"components-spinner\" />;\n}\n","/**\n * Internal dependencies\n */\nimport __unstableEscapeGreaterThan from './escape-greater';\n\n/**\n * Regular expression matching invalid attribute names.\n *\n * \"Attribute names must consist of one or more characters other than controls,\n * U+0020 SPACE, U+0022 (\"), U+0027 ('), U+003E (>), U+002F (/), U+003D (=),\n * and noncharacters.\"\n *\n * @see https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n *\n * @type {RegExp}\n */\nconst REGEXP_INVALID_ATTRIBUTE_NAME = /[\\u007F-\\u009F \"'>/=\"\\uFDD0-\\uFDEF]/;\n\n/**\n * Returns a string with ampersands escaped. Note that this is an imperfect\n * implementation, where only ampersands which do not appear as a pattern of\n * named, decimal, or hexadecimal character references are escaped. Invalid\n * named references (i.e. ambiguous ampersand) are are still permitted.\n *\n * @see https://w3c.github.io/html/syntax.html#character-references\n * @see https://w3c.github.io/html/syntax.html#ambiguous-ampersand\n * @see https://w3c.github.io/html/syntax.html#named-character-references\n *\n * @param {string} value Original string.\n *\n * @return {string} Escaped string.\n */\nexport function escapeAmpersand( value ) {\n\treturn value.replace( /&(?!([a-z0-9]+|#[0-9]+|#x[a-f0-9]+);)/gi, '&amp;' );\n}\n\n/**\n * Returns a string with quotation marks replaced.\n *\n * @param {string} value Original string.\n *\n * @return {string} Escaped string.\n */\nexport function escapeQuotationMark( value ) {\n\treturn value.replace( /\"/g, '&quot;' );\n}\n\n/**\n * Returns a string with less-than sign replaced.\n *\n * @param {string} value Original string.\n *\n * @return {string} Escaped string.\n */\nexport function escapeLessThan( value ) {\n\treturn value.replace( /</g, '&lt;' );\n}\n\n/**\n * Returns an escaped attribute value.\n *\n * @see https://w3c.github.io/html/syntax.html#elements-attributes\n *\n * \"[...] the text cannot contain an ambiguous ampersand [...] must not contain\n * any literal U+0022 QUOTATION MARK characters (\")\"\n *\n * Note we also escape the greater than symbol, as this is used by wptexturize to\n * split HTML strings. This is a WordPress specific fix\n *\n * Note that if a resolution for Trac#45387 comes to fruition, it is no longer\n * necessary for `__unstableEscapeGreaterThan` to be used.\n *\n * See: https://core.trac.wordpress.org/ticket/45387\n *\n * @param {string} value Attribute value.\n *\n * @return {string} Escaped attribute value.\n */\nexport function escapeAttribute( value ) {\n\treturn __unstableEscapeGreaterThan(\n\t\tescapeQuotationMark( escapeAmpersand( value ) )\n\t);\n}\n\n/**\n * Returns an escaped HTML element value.\n *\n * @see https://w3c.github.io/html/syntax.html#writing-html-documents-elements\n *\n * \"the text must not contain the character U+003C LESS-THAN SIGN (<) or an\n * ambiguous ampersand.\"\n *\n * @param {string} value Element value.\n *\n * @return {string} Escaped HTML element value.\n */\nexport function escapeHTML( value ) {\n\treturn escapeLessThan( escapeAmpersand( value ) );\n}\n\n/**\n * Returns an escaped Editable HTML element value. This is different from\n * `escapeHTML`, because for editable HTML, ALL ampersands must be escaped in\n * order to render the content correctly on the page.\n *\n * @param {string} value Element value.\n *\n * @return {string} Escaped HTML element value.\n */\nexport function escapeEditableHTML( value ) {\n\treturn escapeLessThan( value.replace( /&/g, '&amp;' ) );\n}\n\n/**\n * Returns true if the given attribute name is valid, or false otherwise.\n *\n * @param {string} name Attribute name to test.\n *\n * @return {boolean} Whether attribute is valid.\n */\nexport function isValidAttributeName( name ) {\n\treturn ! REGEXP_INVALID_ATTRIBUTE_NAME.test( name );\n}\n","/**\n * Returns a string with greater-than sign replaced.\n *\n * Note that if a resolution for Trac#45387 comes to fruition, it is no longer\n * necessary for `__unstableEscapeGreaterThan` to exist.\n *\n * See: https://core.trac.wordpress.org/ticket/45387\n *\n * @param {string} value Original string.\n *\n * @return {string} Escaped string.\n */\nexport default function __unstableEscapeGreaterThan( value ) {\n\treturn value.replace( />/g, '&gt;' );\n}\n","/**\n * Internal dependencies\n */\nimport { createElement } from './react';\n\n// Disable reason: JSDoc linter doesn't seem to parse the union (`&`) correctly.\n/* eslint-disable jsdoc/valid-types */\n/** @typedef {{children: string} & import('react').ComponentPropsWithoutRef<'div'>} RawHTMLProps */\n/* eslint-enable jsdoc/valid-types */\n\n/**\n * Component used as equivalent of Fragment with unescaped HTML, in cases where\n * it is desirable to render dangerous HTML without needing a wrapper element.\n * To preserve additional props, a `div` wrapper _will_ be created if any props\n * aside from `children` are passed.\n *\n * @param {RawHTMLProps} props Children should be a string of HTML. Other props\n *                             will be passed through to div wrapper.\n *\n * @return {JSX.Element} Dangerously-rendering component.\n */\nexport default function RawHTML( { children, ...props } ) {\n\t// The DIV wrapper will be stripped by serializer, unless there are\n\t// non-children props present.\n\treturn createElement( 'div', {\n\t\tdangerouslySetInnerHTML: { __html: children },\n\t\t...props,\n\t} );\n}\n","/**\n * Parts of this source were derived and modified from fast-react-render,\n * released under the MIT license.\n *\n * https://github.com/alt-j/fast-react-render\n *\n * Copyright (c) 2016 Andrey Morozov\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * External dependencies\n */\nimport {\n\tisEmpty,\n\tcastArray,\n\tomit,\n\tstartsWith,\n\tkebabCase,\n\tisPlainObject,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tescapeHTML,\n\tescapeAttribute,\n\tisValidAttributeName,\n} from '@wordpress/escape-html';\n\n/**\n * Internal dependencies\n */\nimport { createContext, Fragment, StrictMode, forwardRef } from './react';\nimport RawHTML from './raw-html';\n\n/** @typedef {import('./react').WPElement} WPElement */\n\nconst { Provider, Consumer } = createContext( undefined );\nconst ForwardRef = forwardRef( () => {\n\treturn null;\n} );\n\n/**\n * Valid attribute types.\n *\n * @type {Set<string>}\n */\nconst ATTRIBUTES_TYPES = new Set( [ 'string', 'boolean', 'number' ] );\n\n/**\n * Element tags which can be self-closing.\n *\n * @type {Set<string>}\n */\nconst SELF_CLOSING_TAGS = new Set( [\n\t'area',\n\t'base',\n\t'br',\n\t'col',\n\t'command',\n\t'embed',\n\t'hr',\n\t'img',\n\t'input',\n\t'keygen',\n\t'link',\n\t'meta',\n\t'param',\n\t'source',\n\t'track',\n\t'wbr',\n] );\n\n/**\n * Boolean attributes are attributes whose presence as being assigned is\n * meaningful, even if only empty.\n *\n * See: https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributes\n * Extracted from: https://html.spec.whatwg.org/multipage/indices.html#attributes-3\n *\n * Object.keys( [ ...document.querySelectorAll( '#attributes-1 > tbody > tr' ) ]\n *     .filter( ( tr ) => tr.lastChild.textContent.indexOf( 'Boolean attribute' ) !== -1 )\n *     .reduce( ( result, tr ) => Object.assign( result, {\n *         [ tr.firstChild.textContent.trim() ]: true\n *     } ), {} ) ).sort();\n *\n * @type {Set<string>}\n */\nconst BOOLEAN_ATTRIBUTES = new Set( [\n\t'allowfullscreen',\n\t'allowpaymentrequest',\n\t'allowusermedia',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'download',\n\t'formnovalidate',\n\t'hidden',\n\t'ismap',\n\t'itemscope',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'selected',\n\t'typemustmatch',\n] );\n\n/**\n * Enumerated attributes are attributes which must be of a specific value form.\n * Like boolean attributes, these are meaningful if specified, even if not of a\n * valid enumerated value.\n *\n * See: https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#enumerated-attribute\n * Extracted from: https://html.spec.whatwg.org/multipage/indices.html#attributes-3\n *\n * Object.keys( [ ...document.querySelectorAll( '#attributes-1 > tbody > tr' ) ]\n *     .filter( ( tr ) => /^(\"(.+?)\";?\\s*)+/.test( tr.lastChild.textContent.trim() ) )\n *     .reduce( ( result, tr ) => Object.assign( result, {\n *         [ tr.firstChild.textContent.trim() ]: true\n *     } ), {} ) ).sort();\n *\n * Some notable omissions:\n *\n *  - `alt`: https://blog.whatwg.org/omit-alt\n *\n * @type {Set<string>}\n */\nconst ENUMERATED_ATTRIBUTES = new Set( [\n\t'autocapitalize',\n\t'autocomplete',\n\t'charset',\n\t'contenteditable',\n\t'crossorigin',\n\t'decoding',\n\t'dir',\n\t'draggable',\n\t'enctype',\n\t'formenctype',\n\t'formmethod',\n\t'http-equiv',\n\t'inputmode',\n\t'kind',\n\t'method',\n\t'preload',\n\t'scope',\n\t'shape',\n\t'spellcheck',\n\t'translate',\n\t'type',\n\t'wrap',\n] );\n\n/**\n * Set of CSS style properties which support assignment of unitless numbers.\n * Used in rendering of style properties, where `px` unit is assumed unless\n * property is included in this set or value is zero.\n *\n * Generated via:\n *\n * Object.entries( document.createElement( 'div' ).style )\n *     .filter( ( [ key ] ) => (\n *         ! /^(webkit|ms|moz)/.test( key ) &&\n *         ( e.style[ key ] = 10 ) &&\n *         e.style[ key ] === '10'\n *     ) )\n *     .map( ( [ key ] ) => key )\n *     .sort();\n *\n * @type {Set<string>}\n */\nconst CSS_PROPERTIES_SUPPORTS_UNITLESS = new Set( [\n\t'animation',\n\t'animationIterationCount',\n\t'baselineShift',\n\t'borderImageOutset',\n\t'borderImageSlice',\n\t'borderImageWidth',\n\t'columnCount',\n\t'cx',\n\t'cy',\n\t'fillOpacity',\n\t'flexGrow',\n\t'flexShrink',\n\t'floodOpacity',\n\t'fontWeight',\n\t'gridColumnEnd',\n\t'gridColumnStart',\n\t'gridRowEnd',\n\t'gridRowStart',\n\t'lineHeight',\n\t'opacity',\n\t'order',\n\t'orphans',\n\t'r',\n\t'rx',\n\t'ry',\n\t'shapeImageThreshold',\n\t'stopOpacity',\n\t'strokeDasharray',\n\t'strokeDashoffset',\n\t'strokeMiterlimit',\n\t'strokeOpacity',\n\t'strokeWidth',\n\t'tabSize',\n\t'widows',\n\t'x',\n\t'y',\n\t'zIndex',\n\t'zoom',\n] );\n\n/**\n * Returns true if the specified string is prefixed by one of an array of\n * possible prefixes.\n *\n * @param {string}   string   String to check.\n * @param {string[]} prefixes Possible prefixes.\n *\n * @return {boolean} Whether string has prefix.\n */\nexport function hasPrefix( string, prefixes ) {\n\treturn prefixes.some( ( prefix ) => string.indexOf( prefix ) === 0 );\n}\n\n/**\n * Returns true if the given prop name should be ignored in attributes\n * serialization, or false otherwise.\n *\n * @param {string} attribute Attribute to check.\n *\n * @return {boolean} Whether attribute should be ignored.\n */\nfunction isInternalAttribute( attribute ) {\n\treturn 'key' === attribute || 'children' === attribute;\n}\n\n/**\n * Returns the normal form of the element's attribute value for HTML.\n *\n * @param {string} attribute Attribute name.\n * @param {*}      value     Non-normalized attribute value.\n *\n * @return {*} Normalized attribute value.\n */\nfunction getNormalAttributeValue( attribute, value ) {\n\tswitch ( attribute ) {\n\t\tcase 'style':\n\t\t\treturn renderStyle( value );\n\t}\n\n\treturn value;\n}\n\n/**\n * Returns the normal form of the element's attribute name for HTML.\n *\n * @param {string} attribute Non-normalized attribute name.\n *\n * @return {string} Normalized attribute name.\n */\nfunction getNormalAttributeName( attribute ) {\n\tswitch ( attribute ) {\n\t\tcase 'htmlFor':\n\t\t\treturn 'for';\n\n\t\tcase 'className':\n\t\t\treturn 'class';\n\t}\n\n\treturn attribute.toLowerCase();\n}\n\n/**\n * Returns the normal form of the style property name for HTML.\n *\n * - Converts property names to kebab-case, e.g. 'backgroundColor' → 'background-color'\n * - Leaves custom attributes alone, e.g. '--myBackgroundColor' → '--myBackgroundColor'\n * - Converts vendor-prefixed property names to -kebab-case, e.g. 'MozTransform' → '-moz-transform'\n *\n * @param {string} property Property name.\n *\n * @return {string} Normalized property name.\n */\nfunction getNormalStylePropertyName( property ) {\n\tif ( startsWith( property, '--' ) ) {\n\t\treturn property;\n\t}\n\n\tif ( hasPrefix( property, [ 'ms', 'O', 'Moz', 'Webkit' ] ) ) {\n\t\treturn '-' + kebabCase( property );\n\t}\n\n\treturn kebabCase( property );\n}\n\n/**\n * Returns the normal form of the style property value for HTML. Appends a\n * default pixel unit if numeric, not a unitless property, and not zero.\n *\n * @param {string} property Property name.\n * @param {*}      value    Non-normalized property value.\n *\n * @return {*} Normalized property value.\n */\nfunction getNormalStylePropertyValue( property, value ) {\n\tif (\n\t\ttypeof value === 'number' &&\n\t\t0 !== value &&\n\t\t! CSS_PROPERTIES_SUPPORTS_UNITLESS.has( property )\n\t) {\n\t\treturn value + 'px';\n\t}\n\n\treturn value;\n}\n\n/**\n * Serializes a React element to string.\n *\n * @param {import('react').ReactNode} element         Element to serialize.\n * @param {Object}                    [context]       Context object.\n * @param {Object}                    [legacyContext] Legacy context object.\n *\n * @return {string} Serialized element.\n */\nexport function renderElement( element, context, legacyContext = {} ) {\n\tif ( null === element || undefined === element || false === element ) {\n\t\treturn '';\n\t}\n\n\tif ( Array.isArray( element ) ) {\n\t\treturn renderChildren( element, context, legacyContext );\n\t}\n\n\tswitch ( typeof element ) {\n\t\tcase 'string':\n\t\t\treturn escapeHTML( element );\n\n\t\tcase 'number':\n\t\t\treturn element.toString();\n\t}\n\n\tconst {\n\t\ttype,\n\t\tprops,\n\t} = /** @type {{type?: any, props?: any}} */ ( element );\n\n\tswitch ( type ) {\n\t\tcase StrictMode:\n\t\tcase Fragment:\n\t\t\treturn renderChildren( props.children, context, legacyContext );\n\n\t\tcase RawHTML:\n\t\t\tconst { children, ...wrapperProps } = props;\n\n\t\t\treturn renderNativeComponent(\n\t\t\t\tisEmpty( wrapperProps ) ? null : 'div',\n\t\t\t\t{\n\t\t\t\t\t...wrapperProps,\n\t\t\t\t\tdangerouslySetInnerHTML: { __html: children },\n\t\t\t\t},\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\t}\n\n\tswitch ( typeof type ) {\n\t\tcase 'string':\n\t\t\treturn renderNativeComponent( type, props, context, legacyContext );\n\n\t\tcase 'function':\n\t\t\tif (\n\t\t\t\ttype.prototype &&\n\t\t\t\ttypeof type.prototype.render === 'function'\n\t\t\t) {\n\t\t\t\treturn renderComponent( type, props, context, legacyContext );\n\t\t\t}\n\n\t\t\treturn renderElement(\n\t\t\t\ttype( props, legacyContext ),\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\t}\n\n\tswitch ( type && type.$$typeof ) {\n\t\tcase Provider.$$typeof:\n\t\t\treturn renderChildren( props.children, props.value, legacyContext );\n\n\t\tcase Consumer.$$typeof:\n\t\t\treturn renderElement(\n\t\t\t\tprops.children( context || type._currentValue ),\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\n\t\tcase ForwardRef.$$typeof:\n\t\t\treturn renderElement(\n\t\t\t\ttype.render( props ),\n\t\t\t\tcontext,\n\t\t\t\tlegacyContext\n\t\t\t);\n\t}\n\n\treturn '';\n}\n\n/**\n * Serializes a native component type to string.\n *\n * @param {?string} type            Native component type to serialize, or null if\n *                                  rendering as fragment of children content.\n * @param {Object}  props           Props object.\n * @param {Object}  [context]       Context object.\n * @param {Object}  [legacyContext] Legacy context object.\n *\n * @return {string} Serialized element.\n */\nexport function renderNativeComponent(\n\ttype,\n\tprops,\n\tcontext,\n\tlegacyContext = {}\n) {\n\tlet content = '';\n\tif ( type === 'textarea' && props.hasOwnProperty( 'value' ) ) {\n\t\t// Textarea children can be assigned as value prop. If it is, render in\n\t\t// place of children. Ensure to omit so it is not assigned as attribute\n\t\t// as well.\n\t\tcontent = renderChildren( props.value, context, legacyContext );\n\t\tprops = omit( props, 'value' );\n\t} else if (\n\t\tprops.dangerouslySetInnerHTML &&\n\t\ttypeof props.dangerouslySetInnerHTML.__html === 'string'\n\t) {\n\t\t// Dangerous content is left unescaped.\n\t\tcontent = props.dangerouslySetInnerHTML.__html;\n\t} else if ( typeof props.children !== 'undefined' ) {\n\t\tcontent = renderChildren( props.children, context, legacyContext );\n\t}\n\n\tif ( ! type ) {\n\t\treturn content;\n\t}\n\n\tconst attributes = renderAttributes( props );\n\n\tif ( SELF_CLOSING_TAGS.has( type ) ) {\n\t\treturn '<' + type + attributes + '/>';\n\t}\n\n\treturn '<' + type + attributes + '>' + content + '</' + type + '>';\n}\n\n/** @typedef {import('./react').WPComponent} WPComponent */\n\n/**\n * Serializes a non-native component type to string.\n *\n * @param {WPComponent} Component       Component type to serialize.\n * @param {Object}      props           Props object.\n * @param {Object}      [context]       Context object.\n * @param {Object}      [legacyContext] Legacy context object.\n *\n * @return {string} Serialized element\n */\nexport function renderComponent(\n\tComponent,\n\tprops,\n\tcontext,\n\tlegacyContext = {}\n) {\n\tconst instance = new /** @type {import('react').ComponentClass} */ ( Component )(\n\t\tprops,\n\t\tlegacyContext\n\t);\n\n\tif (\n\t\ttypeof (\n\t\t\t// Ignore reason: Current prettier reformats parens and mangles type assertion\n\t\t\t// prettier-ignore\n\t\t\t/** @type {{getChildContext?: () => unknown}} */ ( instance ).getChildContext\n\t\t) === 'function'\n\t) {\n\t\tObject.assign(\n\t\t\tlegacyContext,\n\t\t\t/** @type {{getChildContext?: () => unknown}} */ ( instance ).getChildContext()\n\t\t);\n\t}\n\n\tconst html = renderElement( instance.render(), context, legacyContext );\n\n\treturn html;\n}\n\n/**\n * Serializes an array of children to string.\n *\n * @param {import('react').ReactNodeArray} children        Children to serialize.\n * @param {Object}                         [context]       Context object.\n * @param {Object}                         [legacyContext] Legacy context object.\n *\n * @return {string} Serialized children.\n */\nfunction renderChildren( children, context, legacyContext = {} ) {\n\tlet result = '';\n\n\tchildren = castArray( children );\n\n\tfor ( let i = 0; i < children.length; i++ ) {\n\t\tconst child = children[ i ];\n\n\t\tresult += renderElement( child, context, legacyContext );\n\t}\n\n\treturn result;\n}\n\n/**\n * Renders a props object as a string of HTML attributes.\n *\n * @param {Object} props Props object.\n *\n * @return {string} Attributes string.\n */\nexport function renderAttributes( props ) {\n\tlet result = '';\n\n\tfor ( const key in props ) {\n\t\tconst attribute = getNormalAttributeName( key );\n\t\tif ( ! isValidAttributeName( attribute ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet value = getNormalAttributeValue( key, props[ key ] );\n\n\t\t// If value is not of serializeable type, skip.\n\t\tif ( ! ATTRIBUTES_TYPES.has( typeof value ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Don't render internal attribute names.\n\t\tif ( isInternalAttribute( key ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst isBooleanAttribute = BOOLEAN_ATTRIBUTES.has( attribute );\n\n\t\t// Boolean attribute should be omitted outright if its value is false.\n\t\tif ( isBooleanAttribute && value === false ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst isMeaningfulAttribute =\n\t\t\tisBooleanAttribute ||\n\t\t\thasPrefix( key, [ 'data-', 'aria-' ] ) ||\n\t\t\tENUMERATED_ATTRIBUTES.has( attribute );\n\n\t\t// Only write boolean value as attribute if meaningful.\n\t\tif ( typeof value === 'boolean' && ! isMeaningfulAttribute ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tresult += ' ' + attribute;\n\n\t\t// Boolean attributes should write attribute name, but without value.\n\t\t// Mere presence of attribute name is effective truthiness.\n\t\tif ( isBooleanAttribute ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( typeof value === 'string' ) {\n\t\t\tvalue = escapeAttribute( value );\n\t\t}\n\n\t\tresult += '=\"' + value + '\"';\n\t}\n\n\treturn result;\n}\n\n/**\n * Renders a style object as a string attribute value.\n *\n * @param {Object} style Style object.\n *\n * @return {string} Style attribute value.\n */\nexport function renderStyle( style ) {\n\t// Only generate from object, e.g. tolerate string value.\n\tif ( ! isPlainObject( style ) ) {\n\t\treturn style;\n\t}\n\n\tlet result;\n\n\tfor ( const property in style ) {\n\t\tconst value = style[ property ];\n\t\tif ( null === value || undefined === value ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( result ) {\n\t\t\tresult += ';';\n\t\t} else {\n\t\t\tresult = '';\n\t\t}\n\n\t\tconst normalName = getNormalStylePropertyName( property );\n\t\tconst normalValue = getNormalStylePropertyValue( property, value );\n\t\tresult += normalName + ':' + normalValue;\n\t}\n\n\treturn result;\n}\n\nexport default renderElement;\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RawHTML, useEffect, renderToString } from '@wordpress/element';\nimport { speak } from '@wordpress/a11y';\nimport { close } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { Button } from '../';\n\n/** @typedef {import('@wordpress/element').WPElement} WPElement */\n\n/**\n * Custom hook which announces the message with the given politeness, if a\n * valid message is provided.\n *\n * @param {string|WPElement}     [message]  Message to announce.\n * @param {'polite'|'assertive'} politeness Politeness to announce.\n */\nfunction useSpokenMessage( message, politeness ) {\n\tconst spokenMessage =\n\t\ttypeof message === 'string' ? message : renderToString( message );\n\n\tuseEffect( () => {\n\t\tif ( spokenMessage ) {\n\t\t\tspeak( spokenMessage, politeness );\n\t\t}\n\t}, [ spokenMessage, politeness ] );\n}\n\n/**\n * Given a notice status, returns an assumed default politeness for the status.\n * Defaults to 'assertive'.\n *\n * @param {string} [status] Notice status.\n *\n * @return {'polite'|'assertive'} Notice politeness.\n */\nfunction getDefaultPoliteness( status ) {\n\tswitch ( status ) {\n\t\tcase 'success':\n\t\tcase 'warning':\n\t\tcase 'info':\n\t\t\treturn 'polite';\n\n\t\tcase 'error':\n\t\tdefault:\n\t\t\treturn 'assertive';\n\t}\n}\n\nfunction Notice( {\n\tclassName,\n\tstatus = 'info',\n\tchildren,\n\tspokenMessage = children,\n\tonRemove = noop,\n\tisDismissible = true,\n\tactions = [],\n\tpoliteness = getDefaultPoliteness( status ),\n\t__unstableHTML,\n} ) {\n\tuseSpokenMessage( spokenMessage, politeness );\n\n\tconst classes = classnames(\n\t\tclassName,\n\t\t'components-notice',\n\t\t'is-' + status,\n\t\t{\n\t\t\t'is-dismissible': isDismissible,\n\t\t}\n\t);\n\n\tif ( __unstableHTML ) {\n\t\tchildren = <RawHTML>{ children }</RawHTML>;\n\t}\n\n\treturn (\n\t\t<div className={ classes }>\n\t\t\t<div className=\"components-notice__content\">\n\t\t\t\t{ children }\n\t\t\t\t{ actions.map(\n\t\t\t\t\t(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclassName: buttonCustomClasses,\n\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\tisPrimary,\n\t\t\t\t\t\t\tnoDefaultClasses = false,\n\t\t\t\t\t\t\tonClick,\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tindex\n\t\t\t\t\t) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\t\t\tisPrimary={ isPrimary }\n\t\t\t\t\t\t\t\tisSecondary={ ! noDefaultClasses && ! url }\n\t\t\t\t\t\t\t\tisLink={ ! noDefaultClasses && !! url }\n\t\t\t\t\t\t\t\tonClick={ url ? undefined : onClick }\n\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t'components-notice__action',\n\t\t\t\t\t\t\t\t\tbuttonCustomClasses\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ isDismissible && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"components-notice__dismiss\"\n\t\t\t\t\ticon={ close }\n\t\t\t\t\tlabel={ __( 'Dismiss this notice' ) }\n\t\t\t\t\tonClick={ onRemove }\n\t\t\t\t\tshowTooltip={ false }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default Notice;\n","import { useState, createContext, useEffect } from \"@wordpress/element\";\n\nexport const TemplateDesignerContext = createContext();\n\nfunction TemplateDesignerContextProvider(props) {\n\tconst [panelTitle, setPanelTitle] = useState(\"\");\n\tconst [panelOptions, setPanelOptions] = useState(null);\n\tconst [editingElement, setEditingElement] = useState(\"container\");\n\tconst [settings, setSettings] = useState({});\n\t// const [errorMessage, setErrorMessage] = useState(\"\");\n\t// const [infoMessage, setInfoMessage] = useState(\"\");\n\t// const [confirmDialog, setConfirmDialog] = useState({});\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tconst updateSetting = (key, value) => {\n\t\tsetSettings({ ...settings, [key]: value });\n\t};\n\n\treturn (\n\t\t<TemplateDesignerContext.Provider\n\t\t\tvalue={{\n\t\t\t\tpanelTitle,\n\t\t\t\tsetPanelTitle,\n\t\t\t\tpanelOptions,\n\t\t\t\tsetPanelOptions,\n\t\t\t\teditingElement,\n\t\t\t\tsetEditingElement,\n\t\t\t\tsettings,\n\t\t\t\tsetSettings,\n\t\t\t\tupdateSetting,\n\t\t\t\t// errorMessage,\n\t\t\t\t// setErrorMessage,\n\t\t\t\t// infoMessage,\n\t\t\t\t// setInfoMessage,\n\t\t\t\t// confirmDialog,\n\t\t\t\t// setConfirmDialog,\n\t\t\t\tisLoading,\n\t\t\t\tsetIsLoading,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</TemplateDesignerContext.Provider>\n\t);\n}\n\nexport default TemplateDesignerContextProvider;\n","function PanelHeader( { label, children } ) {\n\treturn (\n\t\t<div className=\"components-panel__header\">\n\t\t\t{ label && <h2>{ label }</h2> }\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default PanelHeader;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * Internal dependencies\n */\nimport PanelHeader from './header';\n\nfunction Panel( { header, className, children } ) {\n\tconst classNames = classnames( className, 'components-panel' );\n\treturn (\n\t\t<div className={ classNames }>\n\t\t\t{ header && <PanelHeader label={ header } /> }\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default Panel;\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\nimport { Panel, PanelBody, PanelRow } from \"@wordpress/components\";\nimport { more } from \"@wordpress/icons\";\nimport { Card, CardBody } from \"@wordpress/components\";\nimport { BaseControl } from \"@wordpress/components\";\nimport { ColorPicker } from \"@wordpress/components\";\nimport { FontSizePicker } from \"@wordpress/components\";\nimport { __ } from \"@wordpress/i18n\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nexport default function OptionsPanel() {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\n\tif (\n\t\ttemplateDesignerContext.settings === {} ||\n\t\t!templateDesignerContext.editingElement\n\t)\n\t\treturn null;\n\telse\n\t\treturn (\n\t\t\t<Panel\n\t\t\t\theader={templateDesignerContext.panelTitle}\n\t\t\t\tclassName=\"mail-optionspanel\"\n\t\t\t>\n\t\t\t\t{templateDesignerContext.panelOptions}\n\t\t\t</Panel>\n\t\t);\n}\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BaseControl from '../base-control';\n\nexport default function RadioControl( {\n\tlabel,\n\tclassName,\n\tselected,\n\thelp,\n\tonChange,\n\toptions = [],\n} ) {\n\tconst instanceId = useInstanceId( RadioControl );\n\tconst id = `inspector-radio-control-${ instanceId }`;\n\tconst onChangeValue = ( event ) => onChange( event.target.value );\n\n\treturn (\n\t\t! isEmpty( options ) && (\n\t\t\t<BaseControl\n\t\t\t\tlabel={ label }\n\t\t\t\tid={ id }\n\t\t\t\thelp={ help }\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\tclassName,\n\t\t\t\t\t'components-radio-control'\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t{ options.map( ( option, index ) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={ `${ id }-${ index }` }\n\t\t\t\t\t\tclassName=\"components-radio-control__option\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid={ `${ id }-${ index }` }\n\t\t\t\t\t\t\tclassName=\"components-radio-control__input\"\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname={ id }\n\t\t\t\t\t\t\tvalue={ option.value }\n\t\t\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t\t\t\tchecked={ option.value === selected }\n\t\t\t\t\t\t\taria-describedby={\n\t\t\t\t\t\t\t\t!! help ? `${ id }__help` : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label htmlFor={ `${ id }-${ index }` }>\n\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t) ) }\n\t\t\t</BaseControl>\n\t\t)\n\t);\n}\n","/**\n * External dependencies\n */\nimport { merge } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { rgba } from './colors';\n\nexport const BASE = {\n\tblack: '#000',\n\twhite: '#fff',\n};\n\n/**\n * TODO: Continue to update values as \"G2\" design evolves.\n *\n * \"G2\" refers to the movement to advance the interface of the block editor.\n * https://github.com/WordPress/gutenberg/issues/18667\n */\nexport const G2 = {\n\tblue: {\n\t\tmedium: {\n\t\t\tfocus: '#007cba',\n\t\t\tfocusDark: '#fff',\n\t\t},\n\t},\n\tdarkGray: {\n\t\tprimary: '#1e1e1e',\n\t},\n\tmediumGray: {\n\t\ttext: '#757575',\n\t},\n\tlightGray: {\n\t\tui: '#949494',\n\t\tsecondary: '#ccc',\n\t\ttertiary: '#e7e8e9',\n\t},\n};\n\nexport const DARK_GRAY = {\n\t900: '#191e23',\n\t800: '#23282d',\n\t700: '#32373c',\n\t600: '#40464d',\n\t500: '#555d66', // Use this most of the time for dark items.\n\t400: '#606a73',\n\t300: '#6c7781', // Lightest gray that can be used for AA text contrast.\n\t200: '#7e8993',\n\t150: '#8d96a0', // Lightest gray that can be used for AA non-text contrast.\n\t100: '#8f98a1',\n};\n\nexport const DARK_OPACITY = {\n\t900: rgba( '#000510', 0.9 ),\n\t800: rgba( '#00000a', 0.85 ),\n\t700: rgba( '#06060b', 0.8 ),\n\t600: rgba( '#000913', 0.75 ),\n\t500: rgba( '#0a1829', 0.7 ),\n\t400: rgba( '#0a1829', 0.65 ),\n\t300: rgba( '#0e1c2e', 0.62 ),\n\t200: rgba( '#162435', 0.55 ),\n\t100: rgba( '#223443', 0.5 ),\n\tbackgroundFill: rgba( DARK_GRAY[ 700 ], 0.7 ),\n};\n\nexport const DARK_OPACITY_LIGHT = {\n\t900: rgba( '#304455', 0.45 ),\n\t800: rgba( '#425863', 0.4 ),\n\t700: rgba( '#667886', 0.35 ),\n\t600: rgba( '#7b86a2', 0.3 ),\n\t500: rgba( '#9197a2', 0.25 ),\n\t400: rgba( '#95959c', 0.2 ),\n\t300: rgba( '#829493', 0.15 ),\n\t200: rgba( '#8b8b96', 0.1 ),\n\t100: rgba( '#747474', 0.05 ),\n};\n\nexport const LIGHT_GRAY = {\n\t900: '#a2aab2',\n\t800: '#b5bcc2',\n\t700: '#ccd0d4',\n\t600: '#d7dade',\n\t500: '#e2e4e7', // Good for \"grayed\" items and borders.\n\t400: '#e8eaeb', // Good for \"readonly\" input fields and special text selection.\n\t300: '#edeff0',\n\t200: '#f3f4f5',\n\t100: '#f8f9f9',\n};\n\nexport const LIGHT_OPACITY_LIGHT = {\n\t900: rgba( BASE.white, 0.5 ),\n\t800: rgba( BASE.white, 0.45 ),\n\t700: rgba( BASE.white, 0.4 ),\n\t600: rgba( BASE.white, 0.35 ),\n\t500: rgba( BASE.white, 0.3 ),\n\t400: rgba( BASE.white, 0.25 ),\n\t300: rgba( BASE.white, 0.2 ),\n\t200: rgba( BASE.white, 0.15 ),\n\t100: rgba( BASE.white, 0.1 ),\n\tbackgroundFill: rgba( LIGHT_GRAY[ 300 ], 0.8 ),\n};\n\n// Additional colors.\n// Some are from https://make.wordpress.org/design/handbook/foundations/colors/.\n\nexport const BLUE = {\n\twordpress: {\n\t\t700: '#00669b',\n\t},\n\tdark: {\n\t\t900: '#0071a1',\n\t},\n\tmedium: {\n\t\t900: '#006589',\n\t\t800: '#00739c',\n\t\t700: '#007fac',\n\t\t600: '#008dbe',\n\t\t500: '#00a0d2',\n\t\t400: '#33b3db',\n\t\t300: '#66c6e4',\n\t\t200: '#bfe7f3',\n\t\t100: '#e5f5fa',\n\t\thighlight: '#b3e7fe',\n\t\tfocus: '#007cba',\n\t},\n};\n\nexport const ALERT = {\n\tyellow: '#f0b849',\n\tred: '#d94f4f',\n\tgreen: '#4ab866',\n};\n\n// Namespaced values for raw colors hex codes\nexport const UI = {\n\tbackground: BASE.white,\n\tborder: BASE.black,\n\tborderFocus: BLUE.medium.focus,\n};\n\nexport const COLORS = {\n\t...BASE,\n\tdarkGray: merge( {}, DARK_GRAY, G2.darkGray ),\n\tdarkOpacity: DARK_OPACITY,\n\tdarkOpacityLight: DARK_OPACITY_LIGHT,\n\tmediumGray: G2.mediumGray,\n\tlightGray: merge( {}, LIGHT_GRAY, G2.lightGray ),\n\tlightGrayLight: LIGHT_OPACITY_LIGHT,\n\tblue: merge( {}, BLUE, G2.blue ),\n\talert: ALERT,\n\tui: UI,\n};\n\nexport default COLORS;\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\nimport tinycolor from 'tinycolor2';\n/**\n * Internal dependencies\n */\nimport { COLORS } from './colors-values';\n\n/**\n * Generating a CSS complient rgba() color value.\n *\n * @param {string} hexValue The hex value to convert to rgba().\n * @param {number} alpha The alpha value for opacity.\n * @return {string} The converted rgba() color value.\n *\n * @example\n * rgba( '#000000', 0.5 )\n * // rgba(0, 0, 0, 0.5)\n */\nexport function rgba( hexValue = '', alpha = 1 ) {\n\tconst { r, g, b } = tinycolor( hexValue ).toRgb();\n\treturn `rgba(${ r }, ${ g }, ${ b }, ${ alpha })`;\n}\n\n/**\n * Retrieves a color from the color palette.\n *\n * @param {string} value The value to retrieve.\n * @return {string} The color (or fallback, if not found).\n *\n * @example\n * color( 'blue.wordpress.700' )\n * // #00669b\n */\nexport function color( value ) {\n\tconst fallbackColor = '#000';\n\treturn get( COLORS, value, fallbackColor );\n}\n","/**\n * External dependencies\n */\nimport { clamp, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useRef, useEffect, useState } from '@wordpress/element';\n\n/**\n * A float supported clamp function for a specific value.\n *\n * @param {number|null} value The value to clamp\n * @param {number} min The minimum value\n * @param {number} max The maxinum value\n *\n * @return {number} A (float) number\n */\nexport function floatClamp( value, min, max ) {\n\tif ( ! isFinite( value ) ) {\n\t\treturn null;\n\t}\n\n\treturn parseFloat( clamp( value, min, max ) );\n}\n\n/**\n * Hook to store a clamped value, derived from props.\n */\nexport function useControlledRangeValue( { min, max, value: valueProp } ) {\n\tconst [ value, setValue ] = useState( floatClamp( valueProp, min, max ) );\n\tconst valueRef = useRef( value );\n\n\tconst setClampValue = useCallback(\n\t\t( nextValue ) => {\n\t\t\tsetValue( floatClamp( nextValue, min, max ) );\n\t\t},\n\t\t[ setValue, min, max ]\n\t);\n\n\tuseEffect( () => {\n\t\tif ( valueRef.current !== valueProp ) {\n\t\t\tsetClampValue( valueProp );\n\t\t\tvalueRef.current = valueProp;\n\t\t}\n\t}, [ valueProp, setValue ] );\n\n\treturn [ value, setValue ];\n}\n\n/**\n * Hook to encapsulate the debouncing \"hover\" to better handle the showing\n * and hiding of the Tooltip.\n */\nexport function useDebouncedHoverInteraction( {\n\tonShow = noop,\n\tonHide = noop,\n\tonMouseMove = noop,\n\tonMouseLeave = noop,\n\ttimeout = 300,\n} ) {\n\tconst [ show, setShow ] = useState( false );\n\tconst timeoutRef = useRef();\n\n\tconst setDebouncedTimeout = useCallback(\n\t\t( callback ) => {\n\t\t\twindow.clearTimeout( timeoutRef.current );\n\n\t\t\ttimeoutRef.current = setTimeout( callback, timeout );\n\t\t},\n\t\t[ timeout ]\n\t);\n\n\tconst handleOnMouseMove = useCallback( ( event ) => {\n\t\tonMouseMove( event );\n\n\t\tsetDebouncedTimeout( () => {\n\t\t\tif ( ! show ) {\n\t\t\t\tsetShow( true );\n\t\t\t\tonShow();\n\t\t\t}\n\t\t} );\n\t}, [] );\n\n\tconst handleOnMouseLeave = useCallback( ( event ) => {\n\t\tonMouseLeave( event );\n\n\t\tsetDebouncedTimeout( () => {\n\t\t\tsetShow( false );\n\t\t\tonHide();\n\t\t} );\n\t}, [] );\n\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\twindow.clearTimeout( timeoutRef.current );\n\t\t};\n\t} );\n\n\treturn {\n\t\tonMouseMove: handleOnMouseMove,\n\t\tonMouseLeave: handleOnMouseLeave,\n\t};\n}\n","function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport default index;\n","/*\n\nBased off glamor's StyleSheet, thanks Sunil ❤️\n\nhigh performance StyleSheet for css-in-js systems\n\n- uses multiple style tags behind the scenes for millions of rules\n- uses `insertRule` for appending in production for *much* faster performance\n\n// usage\n\nimport { StyleSheet } from '@emotion/sheet'\n\nlet styleSheet = new StyleSheet({ key: '', container: document.head })\n\nstyleSheet.insert('#box { border: 1px solid red; }')\n- appends a css rule into the stylesheet\n\nstyleSheet.flush()\n- empties the stylesheet of all its contents\n\n*/\n// $FlowFixMe\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    // $FlowFixMe\n    return tag.sheet;\n  } // this weirdness brought to you by firefox\n\n  /* istanbul ignore next */\n\n\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      // $FlowFixMe\n      return document.styleSheets[i];\n    }\n  }\n}\n\nfunction createStyleElement(options) {\n  var tag = document.createElement('style');\n  tag.setAttribute('data-emotion', options.key);\n\n  if (options.nonce !== undefined) {\n    tag.setAttribute('nonce', options.nonce);\n  }\n\n  tag.appendChild(document.createTextNode(''));\n  return tag;\n}\n\nvar StyleSheet =\n/*#__PURE__*/\nfunction () {\n  function StyleSheet(options) {\n    this.isSpeedy = options.speedy === undefined ? process.env.NODE_ENV === 'production' : options.speedy;\n    this.tags = [];\n    this.ctr = 0;\n    this.nonce = options.nonce; // key is the value of the data-emotion attribute, it's used to identify different sheets\n\n    this.key = options.key;\n    this.container = options.container;\n    this.before = null;\n  }\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.insert = function insert(rule) {\n    // the max length is how many rules we have per style tag, it's 65000 in speedy mode\n    // it's 1 in dev because we insert source maps that map a single rule to a location\n    // and you can only have one source map per style tag\n    if (this.ctr % (this.isSpeedy ? 65000 : 1) === 0) {\n      var _tag = createStyleElement(this);\n\n      var before;\n\n      if (this.tags.length === 0) {\n        before = this.before;\n      } else {\n        before = this.tags[this.tags.length - 1].nextSibling;\n      }\n\n      this.container.insertBefore(_tag, before);\n      this.tags.push(_tag);\n    }\n\n    var tag = this.tags[this.tags.length - 1];\n\n    if (this.isSpeedy) {\n      var sheet = sheetForTag(tag);\n\n      try {\n        // this is a really hot path\n        // we check the second character first because having \"i\"\n        // as the second character will happen less often than\n        // having \"@\" as the first character\n        var isImportRule = rule.charCodeAt(1) === 105 && rule.charCodeAt(0) === 64; // this is the ultrafast version, works across browsers\n        // the big drawback is that the css won't be editable in devtools\n\n        sheet.insertRule(rule, // we need to insert @import rules before anything else\n        // otherwise there will be an error\n        // technically this means that the @import rules will\n        // _usually_(not always since there could be multiple style tags)\n        // be the first ones in prod and generally later in dev\n        // this shouldn't really matter in the real world though\n        // @import is generally only used for font faces from google fonts and etc.\n        // so while this could be technically correct then it would be slower and larger\n        // for a tiny bit of correctness that won't matter in the real world\n        isImportRule ? 0 : sheet.cssRules.length);\n      } catch (e) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn(\"There was a problem inserting the following rule: \\\"\" + rule + \"\\\"\", e);\n        }\n      }\n    } else {\n      tag.appendChild(document.createTextNode(rule));\n    }\n\n    this.ctr++;\n  };\n\n  _proto.flush = function flush() {\n    // $FlowFixMe\n    this.tags.forEach(function (tag) {\n      return tag.parentNode.removeChild(tag);\n    });\n    this.tags = [];\n    this.ctr = 0;\n  };\n\n  return StyleSheet;\n}();\n\nexport { StyleSheet };\n","function stylis_min (W) {\n  function M(d, c, e, h, a) {\n    for (var m = 0, b = 0, v = 0, n = 0, q, g, x = 0, K = 0, k, u = k = q = 0, l = 0, r = 0, I = 0, t = 0, B = e.length, J = B - 1, y, f = '', p = '', F = '', G = '', C; l < B;) {\n      g = e.charCodeAt(l);\n      l === J && 0 !== b + n + v + m && (0 !== b && (g = 47 === b ? 10 : 47), n = v = m = 0, B++, J++);\n\n      if (0 === b + n + v + m) {\n        if (l === J && (0 < r && (f = f.replace(N, '')), 0 < f.trim().length)) {\n          switch (g) {\n            case 32:\n            case 9:\n            case 59:\n            case 13:\n            case 10:\n              break;\n\n            default:\n              f += e.charAt(l);\n          }\n\n          g = 59;\n        }\n\n        switch (g) {\n          case 123:\n            f = f.trim();\n            q = f.charCodeAt(0);\n            k = 1;\n\n            for (t = ++l; l < B;) {\n              switch (g = e.charCodeAt(l)) {\n                case 123:\n                  k++;\n                  break;\n\n                case 125:\n                  k--;\n                  break;\n\n                case 47:\n                  switch (g = e.charCodeAt(l + 1)) {\n                    case 42:\n                    case 47:\n                      a: {\n                        for (u = l + 1; u < J; ++u) {\n                          switch (e.charCodeAt(u)) {\n                            case 47:\n                              if (42 === g && 42 === e.charCodeAt(u - 1) && l + 2 !== u) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                              break;\n\n                            case 10:\n                              if (47 === g) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                          }\n                        }\n\n                        l = u;\n                      }\n\n                  }\n\n                  break;\n\n                case 91:\n                  g++;\n\n                case 40:\n                  g++;\n\n                case 34:\n                case 39:\n                  for (; l++ < J && e.charCodeAt(l) !== g;) {\n                  }\n\n              }\n\n              if (0 === k) break;\n              l++;\n            }\n\n            k = e.substring(t, l);\n            0 === q && (q = (f = f.replace(ca, '').trim()).charCodeAt(0));\n\n            switch (q) {\n              case 64:\n                0 < r && (f = f.replace(N, ''));\n                g = f.charCodeAt(1);\n\n                switch (g) {\n                  case 100:\n                  case 109:\n                  case 115:\n                  case 45:\n                    r = c;\n                    break;\n\n                  default:\n                    r = O;\n                }\n\n                k = M(c, r, k, g, a + 1);\n                t = k.length;\n                0 < A && (r = X(O, f, I), C = H(3, k, r, c, D, z, t, g, a, h), f = r.join(''), void 0 !== C && 0 === (t = (k = C.trim()).length) && (g = 0, k = ''));\n                if (0 < t) switch (g) {\n                  case 115:\n                    f = f.replace(da, ea);\n\n                  case 100:\n                  case 109:\n                  case 45:\n                    k = f + '{' + k + '}';\n                    break;\n\n                  case 107:\n                    f = f.replace(fa, '$1 $2');\n                    k = f + '{' + k + '}';\n                    k = 1 === w || 2 === w && L('@' + k, 3) ? '@-webkit-' + k + '@' + k : '@' + k;\n                    break;\n\n                  default:\n                    k = f + k, 112 === h && (k = (p += k, ''));\n                } else k = '';\n                break;\n\n              default:\n                k = M(c, X(c, f, I), k, h, a + 1);\n            }\n\n            F += k;\n            k = I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n            break;\n\n          case 125:\n          case 59:\n            f = (0 < r ? f.replace(N, '') : f).trim();\n            if (1 < (t = f.length)) switch (0 === u && (q = f.charCodeAt(0), 45 === q || 96 < q && 123 > q) && (t = (f = f.replace(' ', ':')).length), 0 < A && void 0 !== (C = H(1, f, c, d, D, z, p.length, h, a, h)) && 0 === (t = (f = C.trim()).length) && (f = '\\x00\\x00'), q = f.charCodeAt(0), g = f.charCodeAt(1), q) {\n              case 0:\n                break;\n\n              case 64:\n                if (105 === g || 99 === g) {\n                  G += f + e.charAt(l);\n                  break;\n                }\n\n              default:\n                58 !== f.charCodeAt(t - 1) && (p += P(f, q, g, f.charCodeAt(2)));\n            }\n            I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n        }\n      }\n\n      switch (g) {\n        case 13:\n        case 10:\n          47 === b ? b = 0 : 0 === 1 + q && 107 !== h && 0 < f.length && (r = 1, f += '\\x00');\n          0 < A * Y && H(0, f, c, d, D, z, p.length, h, a, h);\n          z = 1;\n          D++;\n          break;\n\n        case 59:\n        case 125:\n          if (0 === b + n + v + m) {\n            z++;\n            break;\n          }\n\n        default:\n          z++;\n          y = e.charAt(l);\n\n          switch (g) {\n            case 9:\n            case 32:\n              if (0 === n + m + b) switch (x) {\n                case 44:\n                case 58:\n                case 9:\n                case 32:\n                  y = '';\n                  break;\n\n                default:\n                  32 !== g && (y = ' ');\n              }\n              break;\n\n            case 0:\n              y = '\\\\0';\n              break;\n\n            case 12:\n              y = '\\\\f';\n              break;\n\n            case 11:\n              y = '\\\\v';\n              break;\n\n            case 38:\n              0 === n + b + m && (r = I = 1, y = '\\f' + y);\n              break;\n\n            case 108:\n              if (0 === n + b + m + E && 0 < u) switch (l - u) {\n                case 2:\n                  112 === x && 58 === e.charCodeAt(l - 3) && (E = x);\n\n                case 8:\n                  111 === K && (E = K);\n              }\n              break;\n\n            case 58:\n              0 === n + b + m && (u = l);\n              break;\n\n            case 44:\n              0 === b + v + n + m && (r = 1, y += '\\r');\n              break;\n\n            case 34:\n            case 39:\n              0 === b && (n = n === g ? 0 : 0 === n ? g : n);\n              break;\n\n            case 91:\n              0 === n + b + v && m++;\n              break;\n\n            case 93:\n              0 === n + b + v && m--;\n              break;\n\n            case 41:\n              0 === n + b + m && v--;\n              break;\n\n            case 40:\n              if (0 === n + b + m) {\n                if (0 === q) switch (2 * x + 3 * K) {\n                  case 533:\n                    break;\n\n                  default:\n                    q = 1;\n                }\n                v++;\n              }\n\n              break;\n\n            case 64:\n              0 === b + v + n + m + u + k && (k = 1);\n              break;\n\n            case 42:\n            case 47:\n              if (!(0 < n + m + v)) switch (b) {\n                case 0:\n                  switch (2 * g + 3 * e.charCodeAt(l + 1)) {\n                    case 235:\n                      b = 47;\n                      break;\n\n                    case 220:\n                      t = l, b = 42;\n                  }\n\n                  break;\n\n                case 42:\n                  47 === g && 42 === x && t + 2 !== l && (33 === e.charCodeAt(t + 2) && (p += e.substring(t, l + 1)), y = '', b = 0);\n              }\n          }\n\n          0 === b && (f += y);\n      }\n\n      K = x;\n      x = g;\n      l++;\n    }\n\n    t = p.length;\n\n    if (0 < t) {\n      r = c;\n      if (0 < A && (C = H(2, p, r, d, D, z, t, h, a, h), void 0 !== C && 0 === (p = C).length)) return G + p + F;\n      p = r.join(',') + '{' + p + '}';\n\n      if (0 !== w * E) {\n        2 !== w || L(p, 2) || (E = 0);\n\n        switch (E) {\n          case 111:\n            p = p.replace(ha, ':-moz-$1') + p;\n            break;\n\n          case 112:\n            p = p.replace(Q, '::-webkit-input-$1') + p.replace(Q, '::-moz-$1') + p.replace(Q, ':-ms-input-$1') + p;\n        }\n\n        E = 0;\n      }\n    }\n\n    return G + p + F;\n  }\n\n  function X(d, c, e) {\n    var h = c.trim().split(ia);\n    c = h;\n    var a = h.length,\n        m = d.length;\n\n    switch (m) {\n      case 0:\n      case 1:\n        var b = 0;\n\n        for (d = 0 === m ? '' : d[0] + ' '; b < a; ++b) {\n          c[b] = Z(d, c[b], e).trim();\n        }\n\n        break;\n\n      default:\n        var v = b = 0;\n\n        for (c = []; b < a; ++b) {\n          for (var n = 0; n < m; ++n) {\n            c[v++] = Z(d[n] + ' ', h[b], e).trim();\n          }\n        }\n\n    }\n\n    return c;\n  }\n\n  function Z(d, c, e) {\n    var h = c.charCodeAt(0);\n    33 > h && (h = (c = c.trim()).charCodeAt(0));\n\n    switch (h) {\n      case 38:\n        return c.replace(F, '$1' + d.trim());\n\n      case 58:\n        return d.trim() + c.replace(F, '$1' + d.trim());\n\n      default:\n        if (0 < 1 * e && 0 < c.indexOf('\\f')) return c.replace(F, (58 === d.charCodeAt(0) ? '' : '$1') + d.trim());\n    }\n\n    return d + c;\n  }\n\n  function P(d, c, e, h) {\n    var a = d + ';',\n        m = 2 * c + 3 * e + 4 * h;\n\n    if (944 === m) {\n      d = a.indexOf(':', 9) + 1;\n      var b = a.substring(d, a.length - 1).trim();\n      b = a.substring(0, d).trim() + b + ';';\n      return 1 === w || 2 === w && L(b, 1) ? '-webkit-' + b + b : b;\n    }\n\n    if (0 === w || 2 === w && !L(a, 1)) return a;\n\n    switch (m) {\n      case 1015:\n        return 97 === a.charCodeAt(10) ? '-webkit-' + a + a : a;\n\n      case 951:\n        return 116 === a.charCodeAt(3) ? '-webkit-' + a + a : a;\n\n      case 963:\n        return 110 === a.charCodeAt(5) ? '-webkit-' + a + a : a;\n\n      case 1009:\n        if (100 !== a.charCodeAt(4)) break;\n\n      case 969:\n      case 942:\n        return '-webkit-' + a + a;\n\n      case 978:\n        return '-webkit-' + a + '-moz-' + a + a;\n\n      case 1019:\n      case 983:\n        return '-webkit-' + a + '-moz-' + a + '-ms-' + a + a;\n\n      case 883:\n        if (45 === a.charCodeAt(8)) return '-webkit-' + a + a;\n        if (0 < a.indexOf('image-set(', 11)) return a.replace(ja, '$1-webkit-$2') + a;\n        break;\n\n      case 932:\n        if (45 === a.charCodeAt(4)) switch (a.charCodeAt(5)) {\n          case 103:\n            return '-webkit-box-' + a.replace('-grow', '') + '-webkit-' + a + '-ms-' + a.replace('grow', 'positive') + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-' + a.replace('shrink', 'negative') + a;\n\n          case 98:\n            return '-webkit-' + a + '-ms-' + a.replace('basis', 'preferred-size') + a;\n        }\n        return '-webkit-' + a + '-ms-' + a + a;\n\n      case 964:\n        return '-webkit-' + a + '-ms-flex-' + a + a;\n\n      case 1023:\n        if (99 !== a.charCodeAt(8)) break;\n        b = a.substring(a.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify');\n        return '-webkit-box-pack' + b + '-webkit-' + a + '-ms-flex-pack' + b + a;\n\n      case 1005:\n        return ka.test(a) ? a.replace(aa, ':-webkit-') + a.replace(aa, ':-moz-') + a : a;\n\n      case 1e3:\n        b = a.substring(13).trim();\n        c = b.indexOf('-') + 1;\n\n        switch (b.charCodeAt(0) + b.charCodeAt(c)) {\n          case 226:\n            b = a.replace(G, 'tb');\n            break;\n\n          case 232:\n            b = a.replace(G, 'tb-rl');\n            break;\n\n          case 220:\n            b = a.replace(G, 'lr');\n            break;\n\n          default:\n            return a;\n        }\n\n        return '-webkit-' + a + '-ms-' + b + a;\n\n      case 1017:\n        if (-1 === a.indexOf('sticky', 9)) break;\n\n      case 975:\n        c = (a = d).length - 10;\n        b = (33 === a.charCodeAt(c) ? a.substring(0, c) : a).substring(d.indexOf(':', 7) + 1).trim();\n\n        switch (m = b.charCodeAt(0) + (b.charCodeAt(7) | 0)) {\n          case 203:\n            if (111 > b.charCodeAt(8)) break;\n\n          case 115:\n            a = a.replace(b, '-webkit-' + b) + ';' + a;\n            break;\n\n          case 207:\n          case 102:\n            a = a.replace(b, '-webkit-' + (102 < m ? 'inline-' : '') + 'box') + ';' + a.replace(b, '-webkit-' + b) + ';' + a.replace(b, '-ms-' + b + 'box') + ';' + a;\n        }\n\n        return a + ';';\n\n      case 938:\n        if (45 === a.charCodeAt(5)) switch (a.charCodeAt(6)) {\n          case 105:\n            return b = a.replace('-items', ''), '-webkit-' + a + '-webkit-box-' + b + '-ms-flex-' + b + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-flex-item-' + a.replace(ba, '') + a;\n\n          default:\n            return '-webkit-' + a + '-ms-flex-line-pack' + a.replace('align-content', '').replace(ba, '') + a;\n        }\n        break;\n\n      case 973:\n      case 989:\n        if (45 !== a.charCodeAt(3) || 122 === a.charCodeAt(4)) break;\n\n      case 931:\n      case 953:\n        if (!0 === la.test(d)) return 115 === (b = d.substring(d.indexOf(':') + 1)).charCodeAt(0) ? P(d.replace('stretch', 'fill-available'), c, e, h).replace(':fill-available', ':stretch') : a.replace(b, '-webkit-' + b) + a.replace(b, '-moz-' + b.replace('fill-', '')) + a;\n        break;\n\n      case 962:\n        if (a = '-webkit-' + a + (102 === a.charCodeAt(5) ? '-ms-' + a : '') + a, 211 === e + h && 105 === a.charCodeAt(13) && 0 < a.indexOf('transform', 10)) return a.substring(0, a.indexOf(';', 27) + 1).replace(ma, '$1-webkit-$2') + a;\n    }\n\n    return a;\n  }\n\n  function L(d, c) {\n    var e = d.indexOf(1 === c ? ':' : '{'),\n        h = d.substring(0, 3 !== c ? e : 10);\n    e = d.substring(e + 1, d.length - 1);\n    return R(2 !== c ? h : h.replace(na, '$1'), e, c);\n  }\n\n  function ea(d, c) {\n    var e = P(c, c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2));\n    return e !== c + ';' ? e.replace(oa, ' or ($1)').substring(4) : '(' + c + ')';\n  }\n\n  function H(d, c, e, h, a, m, b, v, n, q) {\n    for (var g = 0, x = c, w; g < A; ++g) {\n      switch (w = S[g].call(B, d, x, e, h, a, m, b, v, n, q)) {\n        case void 0:\n        case !1:\n        case !0:\n        case null:\n          break;\n\n        default:\n          x = w;\n      }\n    }\n\n    if (x !== c) return x;\n  }\n\n  function T(d) {\n    switch (d) {\n      case void 0:\n      case null:\n        A = S.length = 0;\n        break;\n\n      default:\n        if ('function' === typeof d) S[A++] = d;else if ('object' === typeof d) for (var c = 0, e = d.length; c < e; ++c) {\n          T(d[c]);\n        } else Y = !!d | 0;\n    }\n\n    return T;\n  }\n\n  function U(d) {\n    d = d.prefix;\n    void 0 !== d && (R = null, d ? 'function' !== typeof d ? w = 1 : (w = 2, R = d) : w = 0);\n    return U;\n  }\n\n  function B(d, c) {\n    var e = d;\n    33 > e.charCodeAt(0) && (e = e.trim());\n    V = e;\n    e = [V];\n\n    if (0 < A) {\n      var h = H(-1, c, e, e, D, z, 0, 0, 0, 0);\n      void 0 !== h && 'string' === typeof h && (c = h);\n    }\n\n    var a = M(O, e, c, 0, 0);\n    0 < A && (h = H(-2, a, e, e, D, z, a.length, 0, 0, 0), void 0 !== h && (a = h));\n    V = '';\n    E = 0;\n    z = D = 1;\n    return a;\n  }\n\n  var ca = /^\\0+/g,\n      N = /[\\0\\r\\f]/g,\n      aa = /: */g,\n      ka = /zoo|gra/,\n      ma = /([,: ])(transform)/g,\n      ia = /,\\r+?/g,\n      F = /([\\t\\r\\n ])*\\f?&/g,\n      fa = /@(k\\w+)\\s*(\\S*)\\s*/,\n      Q = /::(place)/g,\n      ha = /:(read-only)/g,\n      G = /[svh]\\w+-[tblr]{2}/,\n      da = /\\(\\s*(.*)\\s*\\)/g,\n      oa = /([\\s\\S]*?);/g,\n      ba = /-self|flex-/g,\n      na = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n      la = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n      ja = /([^-])(image-set\\()/,\n      z = 1,\n      D = 1,\n      E = 0,\n      w = 1,\n      O = [],\n      S = [],\n      A = 0,\n      R = null,\n      Y = 0,\n      V = '';\n  B.use = T;\n  B.set = U;\n  void 0 !== W && U(W);\n  return B;\n}\n\nexport default stylis_min;\n","import { StyleSheet } from '@emotion/sheet';\nimport Stylis from '@emotion/stylis';\nimport '@emotion/weak-memoize';\n\n// https://github.com/thysultan/stylis.js/tree/master/plugins/rule-sheet\n// inlined to avoid umd wrapper and peerDep warnings/installing stylis\n// since we use stylis after closure compiler\nvar delimiter = '/*|*/';\nvar needle = delimiter + '}';\n\nfunction toSheet(block) {\n  if (block) {\n    Sheet.current.insert(block + '}');\n  }\n}\n\nvar Sheet = {\n  current: null\n};\nvar ruleSheet = function ruleSheet(context, content, selectors, parents, line, column, length, ns, depth, at) {\n  switch (context) {\n    // property\n    case 1:\n      {\n        switch (content.charCodeAt(0)) {\n          case 64:\n            {\n              // @import\n              Sheet.current.insert(content + ';');\n              return '';\n            }\n          // charcode for l\n\n          case 108:\n            {\n              // charcode for b\n              // this ignores label\n              if (content.charCodeAt(2) === 98) {\n                return '';\n              }\n            }\n        }\n\n        break;\n      }\n    // selector\n\n    case 2:\n      {\n        if (ns === 0) return content + delimiter;\n        break;\n      }\n    // at-rule\n\n    case 3:\n      {\n        switch (ns) {\n          // @font-face, @page\n          case 102:\n          case 112:\n            {\n              Sheet.current.insert(selectors[0] + content);\n              return '';\n            }\n\n          default:\n            {\n              return content + (at === 0 ? delimiter : '');\n            }\n        }\n      }\n\n    case -2:\n      {\n        content.split(needle).forEach(toSheet);\n      }\n  }\n};\n\nvar createCache = function createCache(options) {\n  if (options === undefined) options = {};\n  var key = options.key || 'css';\n  var stylisOptions;\n\n  if (options.prefix !== undefined) {\n    stylisOptions = {\n      prefix: options.prefix\n    };\n  }\n\n  var stylis = new Stylis(stylisOptions);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe\n    if (/[^a-z-]/.test(key)) {\n      throw new Error(\"Emotion key must only contain lower case alphabetical characters and - but \\\"\" + key + \"\\\" was passed\");\n    }\n  }\n\n  var inserted = {}; // $FlowFixMe\n\n  var container;\n\n  {\n    container = options.container || document.head;\n    var nodes = document.querySelectorAll(\"style[data-emotion-\" + key + \"]\");\n    Array.prototype.forEach.call(nodes, function (node) {\n      var attrib = node.getAttribute(\"data-emotion-\" + key); // $FlowFixMe\n\n      attrib.split(' ').forEach(function (id) {\n        inserted[id] = true;\n      });\n\n      if (node.parentNode !== container) {\n        container.appendChild(node);\n      }\n    });\n  }\n\n  var _insert;\n\n  {\n    stylis.use(options.stylisPlugins)(ruleSheet);\n\n    _insert = function insert(selector, serialized, sheet, shouldCache) {\n      var name = serialized.name;\n      Sheet.current = sheet;\n\n      if (process.env.NODE_ENV !== 'production' && serialized.map !== undefined) {\n        var map = serialized.map;\n        Sheet.current = {\n          insert: function insert(rule) {\n            sheet.insert(rule + map);\n          }\n        };\n      }\n\n      stylis(selector, serialized.styles);\n\n      if (shouldCache) {\n        cache.inserted[name] = true;\n      }\n    };\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    // https://esbench.com/bench/5bf7371a4cd7e6009ef61d0a\n    var commentStart = /\\/\\*/g;\n    var commentEnd = /\\*\\//g;\n    stylis.use(function (context, content) {\n      switch (context) {\n        case -1:\n          {\n            while (commentStart.test(content)) {\n              commentEnd.lastIndex = commentStart.lastIndex;\n\n              if (commentEnd.test(content)) {\n                commentStart.lastIndex = commentEnd.lastIndex;\n                continue;\n              }\n\n              throw new Error('Your styles have an unterminated comment (\"/*\" without corresponding \"*/\").');\n            }\n\n            commentStart.lastIndex = 0;\n            break;\n          }\n      }\n    });\n    stylis.use(function (context, content, selectors) {\n      switch (context) {\n        case -1:\n          {\n            var flag = 'emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason';\n            var unsafePseudoClasses = content.match(/(:first|:nth|:nth-last)-child/g);\n\n            if (unsafePseudoClasses && cache.compat !== true) {\n              unsafePseudoClasses.forEach(function (unsafePseudoClass) {\n                var ignoreRegExp = new RegExp(unsafePseudoClass + \".*\\\\/\\\\* \" + flag + \" \\\\*\\\\/\");\n                var ignore = ignoreRegExp.test(content);\n\n                if (unsafePseudoClass && !ignore) {\n                  console.error(\"The pseudo class \\\"\" + unsafePseudoClass + \"\\\" is potentially unsafe when doing server-side rendering. Try changing it to \\\"\" + unsafePseudoClass.split('-child')[0] + \"-of-type\\\".\");\n                }\n              });\n            }\n\n            break;\n          }\n      }\n    });\n  }\n\n  var cache = {\n    key: key,\n    sheet: new StyleSheet({\n      key: key,\n      container: container,\n      nonce: options.nonce,\n      speedy: options.speedy\n    }),\n    nonce: options.nonce,\n    inserted: inserted,\n    registered: {},\n    insert: _insert\n  };\n  return cache;\n};\n\nexport default createCache;\n","var isBrowser = \"object\" !== 'undefined';\nfunction getRegisteredStyles(registered, registeredStyles, classNames) {\n  var rawClassName = '';\n  classNames.split(' ').forEach(function (className) {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className]);\n    } else {\n      rawClassName += className + \" \";\n    }\n  });\n  return rawClassName;\n}\nvar insertStyles = function insertStyles(cache, serialized, isStringTag) {\n  var className = cache.key + \"-\" + serialized.name;\n\n  if ( // we only need to add the styles to the registered cache if the\n  // class name could be used further down\n  // the tree but if it's a string tag, we know it won't\n  // so we don't have to add it to registered cache.\n  // this improves memory usage since we can avoid storing the whole style string\n  (isStringTag === false || // we need to always store it if we're in compat mode and\n  // in node since emotion-server relies on whether a style is in\n  // the registered cache to know whether a style is global or not\n  // also, note that this check will be dead code eliminated in the browser\n  isBrowser === false && cache.compat !== undefined) && cache.registered[className] === undefined) {\n    cache.registered[className] = serialized.styles;\n  }\n\n  if (cache.inserted[serialized.name] === undefined) {\n    var current = serialized;\n\n    do {\n      var maybeStyles = cache.insert(\".\" + className, current, cache.sheet, true);\n\n      current = current.next;\n    } while (current !== undefined);\n  }\n};\n\nexport { getRegisteredStyles, insertStyles };\n","/* eslint-disable */\n// Inspired by https://github.com/garycourt/murmurhash-js\n// Ported from https://github.com/aappleby/smhasher/blob/61a0530f28277f2e850bfc39600ce61d02b518de/src/MurmurHash2.cpp#L37-L86\nfunction murmur2(str) {\n  // 'm' and 'r' are mixing constants generated offline.\n  // They're not really 'magic', they just happen to work well.\n  // const m = 0x5bd1e995;\n  // const r = 24;\n  // Initialize the hash\n  var h = 0; // Mix 4 bytes at a time into the hash\n\n  var k,\n      i = 0,\n      len = str.length;\n\n  for (; len >= 4; ++i, len -= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16);\n    k ^=\n    /* k >>> r: */\n    k >>> 24;\n    h =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16) ^\n    /* Math.imul(h, m): */\n    (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Handle the last few bytes of the input array\n\n\n  switch (len) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h =\n      /* Math.imul(h, m): */\n      (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Do a few final mixes of the hash to ensure the last few\n  // bytes are well-incorporated.\n\n\n  h ^= h >>> 13;\n  h =\n  /* Math.imul(h, m): */\n  (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  return ((h ^ h >>> 15) >>> 0).toString(36);\n}\n\nexport default murmur2;\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport default unitlessKeys;\n","import hashString from '@emotion/hash';\nimport unitless from '@emotion/unitless';\nimport memoize from '@emotion/memoize';\n\nvar ILLEGAL_ESCAPE_SEQUENCE_ERROR = \"You have illegal escape sequence in your template literal, most likely inside content's property value.\\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \\\"content: '\\\\00d7';\\\" should become \\\"content: '\\\\\\\\00d7';\\\".\\nYou can read more about this here:\\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences\";\nvar UNDEFINED_AS_OBJECT_KEY_ERROR = \"You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).\";\nvar hyphenateRegex = /[A-Z]|^ms/g;\nvar animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;\n\nvar isCustomProperty = function isCustomProperty(property) {\n  return property.charCodeAt(1) === 45;\n};\n\nvar isProcessableValue = function isProcessableValue(value) {\n  return value != null && typeof value !== 'boolean';\n};\n\nvar processStyleName = memoize(function (styleName) {\n  return isCustomProperty(styleName) ? styleName : styleName.replace(hyphenateRegex, '-$&').toLowerCase();\n});\n\nvar processStyleValue = function processStyleValue(key, value) {\n  switch (key) {\n    case 'animation':\n    case 'animationName':\n      {\n        if (typeof value === 'string') {\n          return value.replace(animationRegex, function (match, p1, p2) {\n            cursor = {\n              name: p1,\n              styles: p2,\n              next: cursor\n            };\n            return p1;\n          });\n        }\n      }\n  }\n\n  if (unitless[key] !== 1 && !isCustomProperty(key) && typeof value === 'number' && value !== 0) {\n    return value + 'px';\n  }\n\n  return value;\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  var contentValuePattern = /(attr|calc|counters?|url)\\(/;\n  var contentValues = ['normal', 'none', 'counter', 'open-quote', 'close-quote', 'no-open-quote', 'no-close-quote', 'initial', 'inherit', 'unset'];\n  var oldProcessStyleValue = processStyleValue;\n  var msPattern = /^-ms-/;\n  var hyphenPattern = /-(.)/g;\n  var hyphenatedCache = {};\n\n  processStyleValue = function processStyleValue(key, value) {\n    if (key === 'content') {\n      if (typeof value !== 'string' || contentValues.indexOf(value) === -1 && !contentValuePattern.test(value) && (value.charAt(0) !== value.charAt(value.length - 1) || value.charAt(0) !== '\"' && value.charAt(0) !== \"'\")) {\n        console.error(\"You seem to be using a value for 'content' without quotes, try replacing it with `content: '\\\"\" + value + \"\\\"'`\");\n      }\n    }\n\n    var processed = oldProcessStyleValue(key, value);\n\n    if (processed !== '' && !isCustomProperty(key) && key.indexOf('-') !== -1 && hyphenatedCache[key] === undefined) {\n      hyphenatedCache[key] = true;\n      console.error(\"Using kebab-case for css properties in objects is not supported. Did you mean \" + key.replace(msPattern, 'ms-').replace(hyphenPattern, function (str, _char) {\n        return _char.toUpperCase();\n      }) + \"?\");\n    }\n\n    return processed;\n  };\n}\n\nvar shouldWarnAboutInterpolatingClassNameFromCss = true;\n\nfunction handleInterpolation(mergedProps, registered, interpolation, couldBeSelectorInterpolation) {\n  if (interpolation == null) {\n    return '';\n  }\n\n  if (interpolation.__emotion_styles !== undefined) {\n    if (process.env.NODE_ENV !== 'production' && interpolation.toString() === 'NO_COMPONENT_SELECTOR') {\n      throw new Error('Component selectors can only be used in conjunction with babel-plugin-emotion.');\n    }\n\n    return interpolation;\n  }\n\n  switch (typeof interpolation) {\n    case 'boolean':\n      {\n        return '';\n      }\n\n    case 'object':\n      {\n        if (interpolation.anim === 1) {\n          cursor = {\n            name: interpolation.name,\n            styles: interpolation.styles,\n            next: cursor\n          };\n          return interpolation.name;\n        }\n\n        if (interpolation.styles !== undefined) {\n          var next = interpolation.next;\n\n          if (next !== undefined) {\n            // not the most efficient thing ever but this is a pretty rare case\n            // and there will be very few iterations of this generally\n            while (next !== undefined) {\n              cursor = {\n                name: next.name,\n                styles: next.styles,\n                next: cursor\n              };\n              next = next.next;\n            }\n          }\n\n          var styles = interpolation.styles + \";\";\n\n          if (process.env.NODE_ENV !== 'production' && interpolation.map !== undefined) {\n            styles += interpolation.map;\n          }\n\n          return styles;\n        }\n\n        return createStringFromObject(mergedProps, registered, interpolation);\n      }\n\n    case 'function':\n      {\n        if (mergedProps !== undefined) {\n          var previousCursor = cursor;\n          var result = interpolation(mergedProps);\n          cursor = previousCursor;\n          return handleInterpolation(mergedProps, registered, result, couldBeSelectorInterpolation);\n        } else if (process.env.NODE_ENV !== 'production') {\n          console.error('Functions that are interpolated in css calls will be stringified.\\n' + 'If you want to have a css call based on props, create a function that returns a css call like this\\n' + 'let dynamicStyle = (props) => css`color: ${props.color}`\\n' + 'It can be called directly with props or interpolated in a styled call like this\\n' + \"let SomeComponent = styled('div')`${dynamicStyle}`\");\n        }\n\n        break;\n      }\n\n    case 'string':\n      if (process.env.NODE_ENV !== 'production') {\n        var matched = [];\n        var replaced = interpolation.replace(animationRegex, function (match, p1, p2) {\n          var fakeVarName = \"animation\" + matched.length;\n          matched.push(\"const \" + fakeVarName + \" = keyframes`\" + p2.replace(/^@keyframes animation-\\w+/, '') + \"`\");\n          return \"${\" + fakeVarName + \"}\";\n        });\n\n        if (matched.length) {\n          console.error('`keyframes` output got interpolated into plain string, please wrap it with `css`.\\n\\n' + 'Instead of doing this:\\n\\n' + [].concat(matched, [\"`\" + replaced + \"`\"]).join('\\n') + '\\n\\nYou should wrap it with `css` like this:\\n\\n' + (\"css`\" + replaced + \"`\"));\n        }\n      }\n\n      break;\n  } // finalize string values (regular strings and functions interpolated into css calls)\n\n\n  if (registered == null) {\n    return interpolation;\n  }\n\n  var cached = registered[interpolation];\n\n  if (process.env.NODE_ENV !== 'production' && couldBeSelectorInterpolation && shouldWarnAboutInterpolatingClassNameFromCss && cached !== undefined) {\n    console.error('Interpolating a className from css`` is not recommended and will cause problems with composition.\\n' + 'Interpolating a className from css`` will be completely unsupported in a future major version of Emotion');\n    shouldWarnAboutInterpolatingClassNameFromCss = false;\n  }\n\n  return cached !== undefined && !couldBeSelectorInterpolation ? cached : interpolation;\n}\n\nfunction createStringFromObject(mergedProps, registered, obj) {\n  var string = '';\n\n  if (Array.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      string += handleInterpolation(mergedProps, registered, obj[i], false);\n    }\n  } else {\n    for (var _key in obj) {\n      var value = obj[_key];\n\n      if (typeof value !== 'object') {\n        if (registered != null && registered[value] !== undefined) {\n          string += _key + \"{\" + registered[value] + \"}\";\n        } else if (isProcessableValue(value)) {\n          string += processStyleName(_key) + \":\" + processStyleValue(_key, value) + \";\";\n        }\n      } else {\n        if (_key === 'NO_COMPONENT_SELECTOR' && process.env.NODE_ENV !== 'production') {\n          throw new Error('Component selectors can only be used in conjunction with babel-plugin-emotion.');\n        }\n\n        if (Array.isArray(value) && typeof value[0] === 'string' && (registered == null || registered[value[0]] === undefined)) {\n          for (var _i = 0; _i < value.length; _i++) {\n            if (isProcessableValue(value[_i])) {\n              string += processStyleName(_key) + \":\" + processStyleValue(_key, value[_i]) + \";\";\n            }\n          }\n        } else {\n          var interpolated = handleInterpolation(mergedProps, registered, value, false);\n\n          switch (_key) {\n            case 'animation':\n            case 'animationName':\n              {\n                string += processStyleName(_key) + \":\" + interpolated + \";\";\n                break;\n              }\n\n            default:\n              {\n                if (process.env.NODE_ENV !== 'production' && _key === 'undefined') {\n                  console.error(UNDEFINED_AS_OBJECT_KEY_ERROR);\n                }\n\n                string += _key + \"{\" + interpolated + \"}\";\n              }\n          }\n        }\n      }\n    }\n  }\n\n  return string;\n}\n\nvar labelPattern = /label:\\s*([^\\s;\\n{]+)\\s*;/g;\nvar sourceMapPattern;\n\nif (process.env.NODE_ENV !== 'production') {\n  sourceMapPattern = /\\/\\*#\\ssourceMappingURL=data:application\\/json;\\S+\\s+\\*\\//;\n} // this is the cursor for keyframes\n// keyframes are stored on the SerializedStyles object as a linked list\n\n\nvar cursor;\nvar serializeStyles = function serializeStyles(args, registered, mergedProps) {\n  if (args.length === 1 && typeof args[0] === 'object' && args[0] !== null && args[0].styles !== undefined) {\n    return args[0];\n  }\n\n  var stringMode = true;\n  var styles = '';\n  cursor = undefined;\n  var strings = args[0];\n\n  if (strings == null || strings.raw === undefined) {\n    stringMode = false;\n    styles += handleInterpolation(mergedProps, registered, strings, false);\n  } else {\n    if (process.env.NODE_ENV !== 'production' && strings[0] === undefined) {\n      console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n    }\n\n    styles += strings[0];\n  } // we start at 1 since we've already handled the first arg\n\n\n  for (var i = 1; i < args.length; i++) {\n    styles += handleInterpolation(mergedProps, registered, args[i], styles.charCodeAt(styles.length - 1) === 46);\n\n    if (stringMode) {\n      if (process.env.NODE_ENV !== 'production' && strings[i] === undefined) {\n        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n      }\n\n      styles += strings[i];\n    }\n  }\n\n  var sourceMap;\n\n  if (process.env.NODE_ENV !== 'production') {\n    styles = styles.replace(sourceMapPattern, function (match) {\n      sourceMap = match;\n      return '';\n    });\n  } // using a global regex with .exec is stateful so lastIndex has to be reset each time\n\n\n  labelPattern.lastIndex = 0;\n  var identifierName = '';\n  var match; // https://esbench.com/bench/5b809c2cf2949800a0f61fb5\n\n  while ((match = labelPattern.exec(styles)) !== null) {\n    identifierName += '-' + // $FlowFixMe we know it's not null\n    match[1];\n  }\n\n  var name = hashString(styles) + identifierName;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe SerializedStyles type doesn't have toString property (and we don't want to add it)\n    return {\n      name: name,\n      styles: styles,\n      map: sourceMap,\n      next: cursor,\n      toString: function toString() {\n        return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n      }\n    };\n  }\n\n  return {\n    name: name,\n    styles: styles,\n    next: cursor\n  };\n};\n\nexport { serializeStyles };\n","import { serializeStyles } from '@emotion/serialize';\n\nfunction css() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return serializeStyles(args);\n}\n\nexport default css;\n","import _inheritsLoose from '@babel/runtime/helpers/inheritsLoose';\nimport { createContext, forwardRef, createElement, Component } from 'react';\nimport createCache from '@emotion/cache';\nimport { getRegisteredStyles, insertStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\nimport { StyleSheet } from '@emotion/sheet';\nimport css from '@emotion/css';\nexport { default as css } from '@emotion/css';\n\nvar EmotionCacheContext = createContext( // we're doing this to avoid preconstruct's dead code elimination in this one case\n// because this module is primarily intended for the browser and node\n// but it's also required in react native and similar environments sometimes\n// and we could have a special build just for that\n// but this is much easier and the native packages\n// might use a different theme context in the future anyway\ntypeof HTMLElement !== 'undefined' ? createCache() : null);\nvar ThemeContext = createContext({});\nvar CacheProvider = EmotionCacheContext.Provider;\n\nvar withEmotionCache = function withEmotionCache(func) {\n  var render = function render(props, ref) {\n    return createElement(EmotionCacheContext.Consumer, null, function (cache) {\n      return func(props, cache, ref);\n    });\n  }; // $FlowFixMe\n\n\n  return forwardRef(render);\n};\n\n// thus we only need to replace what is a valid character for JS, but not for CSS\n\nvar sanitizeIdentifier = function sanitizeIdentifier(identifier) {\n  return identifier.replace(/\\$/g, '-');\n};\n\nvar typePropName = '__EMOTION_TYPE_PLEASE_DO_NOT_USE__';\nvar labelPropName = '__EMOTION_LABEL_PLEASE_DO_NOT_USE__';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar render = function render(cache, props, theme, ref) {\n  var cssProp = theme === null ? props.css : props.css(theme); // so that using `css` from `emotion` and passing the result to the css prop works\n  // not passing the registered cache to serializeStyles because it would\n  // make certain babel optimisations not possible\n\n  if (typeof cssProp === 'string' && cache.registered[cssProp] !== undefined) {\n    cssProp = cache.registered[cssProp];\n  }\n\n  var type = props[typePropName];\n  var registeredStyles = [cssProp];\n  var className = '';\n\n  if (typeof props.className === 'string') {\n    className = getRegisteredStyles(cache.registered, registeredStyles, props.className);\n  } else if (props.className != null) {\n    className = props.className + \" \";\n  }\n\n  var serialized = serializeStyles(registeredStyles);\n\n  if (process.env.NODE_ENV !== 'production' && serialized.name.indexOf('-') === -1) {\n    var labelFromStack = props[labelPropName];\n\n    if (labelFromStack) {\n      serialized = serializeStyles([serialized, 'label:' + labelFromStack + ';']);\n    }\n  }\n\n  var rules = insertStyles(cache, serialized, typeof type === 'string');\n  className += cache.key + \"-\" + serialized.name;\n  var newProps = {};\n\n  for (var key in props) {\n    if (hasOwnProperty.call(props, key) && key !== 'css' && key !== typePropName && (process.env.NODE_ENV === 'production' || key !== labelPropName)) {\n      newProps[key] = props[key];\n    }\n  }\n\n  newProps.ref = ref;\n  newProps.className = className;\n  var ele = createElement(type, newProps);\n\n  return ele;\n};\n\nvar Emotion =\n/* #__PURE__ */\nwithEmotionCache(function (props, cache, ref) {\n  // use Context.read for the theme when it's stable\n  if (typeof props.css === 'function') {\n    return createElement(ThemeContext.Consumer, null, function (theme) {\n      return render(cache, props, theme, ref);\n    });\n  }\n\n  return render(cache, props, null, ref);\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Emotion.displayName = 'EmotionCssPropInternal';\n} // $FlowFixMe\n\n\nvar jsx = function jsx(type, props) {\n  var args = arguments;\n\n  if (props == null || !hasOwnProperty.call(props, 'css')) {\n    // $FlowFixMe\n    return createElement.apply(undefined, args);\n  }\n\n  if (process.env.NODE_ENV !== 'production' && typeof props.css === 'string' && // check if there is a css declaration\n  props.css.indexOf(':') !== -1) {\n    throw new Error(\"Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/css' like this: css`\" + props.css + \"`\");\n  }\n\n  var argsLength = args.length;\n  var createElementArgArray = new Array(argsLength);\n  createElementArgArray[0] = Emotion;\n  var newProps = {};\n\n  for (var key in props) {\n    if (hasOwnProperty.call(props, key)) {\n      newProps[key] = props[key];\n    }\n  }\n\n  newProps[typePropName] = type;\n\n  if (process.env.NODE_ENV !== 'production') {\n    var error = new Error();\n\n    if (error.stack) {\n      // chrome\n      var match = error.stack.match(/at (?:Object\\.|)jsx.*\\n\\s+at ([A-Z][A-Za-z$]+) /);\n\n      if (!match) {\n        // safari and firefox\n        match = error.stack.match(/.*\\n([A-Z][A-Za-z$]+)@/);\n      }\n\n      if (match) {\n        newProps[labelPropName] = sanitizeIdentifier(match[1]);\n      }\n    }\n  }\n\n  createElementArgArray[1] = newProps;\n\n  for (var i = 2; i < argsLength; i++) {\n    createElementArgArray[i] = args[i];\n  } // $FlowFixMe\n\n\n  return createElement.apply(null, createElementArgArray);\n};\n\nvar warnedAboutCssPropForGlobal = false;\nvar Global =\n/* #__PURE__ */\nwithEmotionCache(function (props, cache) {\n  if (process.env.NODE_ENV !== 'production' && !warnedAboutCssPropForGlobal && ( // check for className as well since the user is\n  // probably using the custom createElement which\n  // means it will be turned into a className prop\n  // $FlowFixMe I don't really want to add it to the type since it shouldn't be used\n  props.className || props.css)) {\n    console.error(\"It looks like you're using the css prop on Global, did you mean to use the styles prop instead?\");\n    warnedAboutCssPropForGlobal = true;\n  }\n\n  var styles = props.styles;\n\n  if (typeof styles === 'function') {\n    return createElement(ThemeContext.Consumer, null, function (theme) {\n      var serialized = serializeStyles([styles(theme)]);\n      return createElement(InnerGlobal, {\n        serialized: serialized,\n        cache: cache\n      });\n    });\n  }\n\n  var serialized = serializeStyles([styles]);\n  return createElement(InnerGlobal, {\n    serialized: serialized,\n    cache: cache\n  });\n});\n\n// maintain place over rerenders.\n// initial render from browser, insertBefore context.sheet.tags[0] or if a style hasn't been inserted there yet, appendChild\n// initial client-side render from SSR, use place of hydrating tag\nvar InnerGlobal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(InnerGlobal, _React$Component);\n\n  function InnerGlobal(props, context, updater) {\n    return _React$Component.call(this, props, context, updater) || this;\n  }\n\n  var _proto = InnerGlobal.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.sheet = new StyleSheet({\n      key: this.props.cache.key + \"-global\",\n      nonce: this.props.cache.sheet.nonce,\n      container: this.props.cache.sheet.container\n    }); // $FlowFixMe\n\n    var node = document.querySelector(\"style[data-emotion-\" + this.props.cache.key + \"=\\\"\" + this.props.serialized.name + \"\\\"]\");\n\n    if (node !== null) {\n      this.sheet.tags.push(node);\n    }\n\n    if (this.props.cache.sheet.tags.length) {\n      this.sheet.before = this.props.cache.sheet.tags[0];\n    }\n\n    this.insertStyles();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.serialized.name !== this.props.serialized.name) {\n      this.insertStyles();\n    }\n  };\n\n  _proto.insertStyles = function insertStyles$1() {\n    if (this.props.serialized.next !== undefined) {\n      // insert keyframes\n      insertStyles(this.props.cache, this.props.serialized.next, true);\n    }\n\n    if (this.sheet.tags.length) {\n      // if this doesn't exist then it will be null so the style element will be appended\n      var element = this.sheet.tags[this.sheet.tags.length - 1].nextElementSibling;\n      this.sheet.before = element;\n      this.sheet.flush();\n    }\n\n    this.props.cache.insert(\"\", this.props.serialized, this.sheet, false);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.sheet.flush();\n  };\n\n  _proto.render = function render() {\n\n    return null;\n  };\n\n  return InnerGlobal;\n}(Component);\n\nvar keyframes = function keyframes() {\n  var insertable = css.apply(void 0, arguments);\n  var name = \"animation-\" + insertable.name; // $FlowFixMe\n\n  return {\n    name: name,\n    styles: \"@keyframes \" + name + \"{\" + insertable.styles + \"}\",\n    anim: 1,\n    toString: function toString() {\n      return \"_EMO_\" + this.name + \"_\" + this.styles + \"_EMO_\";\n    }\n  };\n};\n\nvar classnames = function classnames(args) {\n  var len = args.length;\n  var i = 0;\n  var cls = '';\n\n  for (; i < len; i++) {\n    var arg = args[i];\n    if (arg == null) continue;\n    var toAdd = void 0;\n\n    switch (typeof arg) {\n      case 'boolean':\n        break;\n\n      case 'object':\n        {\n          if (Array.isArray(arg)) {\n            toAdd = classnames(arg);\n          } else {\n            toAdd = '';\n\n            for (var k in arg) {\n              if (arg[k] && k) {\n                toAdd && (toAdd += ' ');\n                toAdd += k;\n              }\n            }\n          }\n\n          break;\n        }\n\n      default:\n        {\n          toAdd = arg;\n        }\n    }\n\n    if (toAdd) {\n      cls && (cls += ' ');\n      cls += toAdd;\n    }\n  }\n\n  return cls;\n};\n\nfunction merge(registered, css, className) {\n  var registeredStyles = [];\n  var rawClassName = getRegisteredStyles(registered, registeredStyles, className);\n\n  if (registeredStyles.length < 2) {\n    return className;\n  }\n\n  return rawClassName + css(registeredStyles);\n}\n\nvar ClassNames = withEmotionCache(function (props, context) {\n  return createElement(ThemeContext.Consumer, null, function (theme) {\n    var hasRendered = false;\n\n    var css = function css() {\n      if (hasRendered && process.env.NODE_ENV !== 'production') {\n        throw new Error('css can only be used during render');\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var serialized = serializeStyles(args, context.registered);\n\n      {\n        insertStyles(context, serialized, false);\n      }\n\n      return context.key + \"-\" + serialized.name;\n    };\n\n    var cx = function cx() {\n      if (hasRendered && process.env.NODE_ENV !== 'production') {\n        throw new Error('cx can only be used during render');\n      }\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return merge(context.registered, css, classnames(args));\n    };\n\n    var content = {\n      css: css,\n      cx: cx,\n      theme: theme\n    };\n    var ele = props.children(content);\n    hasRendered = true;\n\n    return ele;\n  });\n});\n\nexport { CacheProvider, ClassNames, Global, ThemeContext, jsx, keyframes, withEmotionCache };\n","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { createElement } from 'react';\nimport isPropValid from '@emotion/is-prop-valid';\nimport { withEmotionCache, ThemeContext } from '@emotion/core';\nimport { getRegisteredStyles, insertStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\n\nvar testOmitPropsOnStringTag = isPropValid;\n\nvar testOmitPropsOnComponent = function testOmitPropsOnComponent(key) {\n  return key !== 'theme' && key !== 'innerRef';\n};\n\nvar getDefaultShouldForwardProp = function getDefaultShouldForwardProp(tag) {\n  return typeof tag === 'string' && // 96 is one less than the char code\n  // for \"a\" so this is checking that\n  // it's a lowercase character\n  tag.charCodeAt(0) > 96 ? testOmitPropsOnStringTag : testOmitPropsOnComponent;\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar ILLEGAL_ESCAPE_SEQUENCE_ERROR = \"You have illegal escape sequence in your template literal, most likely inside content's property value.\\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \\\"content: '\\\\00d7';\\\" should become \\\"content: '\\\\\\\\00d7';\\\".\\nYou can read more about this here:\\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences\";\n\nvar createStyled = function createStyled(tag, options) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (tag === undefined) {\n      throw new Error('You are trying to create a styled element with an undefined component.\\nYou may have forgotten to import it.');\n    }\n  }\n\n  var identifierName;\n  var shouldForwardProp;\n  var targetClassName;\n\n  if (options !== undefined) {\n    identifierName = options.label;\n    targetClassName = options.target;\n    shouldForwardProp = tag.__emotion_forwardProp && options.shouldForwardProp ? function (propName) {\n      return tag.__emotion_forwardProp(propName) && // $FlowFixMe\n      options.shouldForwardProp(propName);\n    } : options.shouldForwardProp;\n  }\n\n  var isReal = tag.__emotion_real === tag;\n  var baseTag = isReal && tag.__emotion_base || tag;\n\n  if (typeof shouldForwardProp !== 'function' && isReal) {\n    shouldForwardProp = tag.__emotion_forwardProp;\n  }\n\n  var defaultShouldForwardProp = shouldForwardProp || getDefaultShouldForwardProp(baseTag);\n  var shouldUseAs = !defaultShouldForwardProp('as');\n  return function () {\n    var args = arguments;\n    var styles = isReal && tag.__emotion_styles !== undefined ? tag.__emotion_styles.slice(0) : [];\n\n    if (identifierName !== undefined) {\n      styles.push(\"label:\" + identifierName + \";\");\n    }\n\n    if (args[0] == null || args[0].raw === undefined) {\n      styles.push.apply(styles, args);\n    } else {\n      if (process.env.NODE_ENV !== 'production' && args[0][0] === undefined) {\n        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n      }\n\n      styles.push(args[0][0]);\n      var len = args.length;\n      var i = 1;\n\n      for (; i < len; i++) {\n        if (process.env.NODE_ENV !== 'production' && args[0][i] === undefined) {\n          console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n        }\n\n        styles.push(args[i], args[0][i]);\n      }\n    } // $FlowFixMe: we need to cast StatelessFunctionalComponent to our PrivateStyledComponent class\n\n\n    var Styled = withEmotionCache(function (props, context, ref) {\n      return createElement(ThemeContext.Consumer, null, function (theme) {\n        var finalTag = shouldUseAs && props.as || baseTag;\n        var className = '';\n        var classInterpolations = [];\n        var mergedProps = props;\n\n        if (props.theme == null) {\n          mergedProps = {};\n\n          for (var key in props) {\n            mergedProps[key] = props[key];\n          }\n\n          mergedProps.theme = theme;\n        }\n\n        if (typeof props.className === 'string') {\n          className = getRegisteredStyles(context.registered, classInterpolations, props.className);\n        } else if (props.className != null) {\n          className = props.className + \" \";\n        }\n\n        var serialized = serializeStyles(styles.concat(classInterpolations), context.registered, mergedProps);\n        var rules = insertStyles(context, serialized, typeof finalTag === 'string');\n        className += context.key + \"-\" + serialized.name;\n\n        if (targetClassName !== undefined) {\n          className += \" \" + targetClassName;\n        }\n\n        var finalShouldForwardProp = shouldUseAs && shouldForwardProp === undefined ? getDefaultShouldForwardProp(finalTag) : defaultShouldForwardProp;\n        var newProps = {};\n\n        for (var _key in props) {\n          if (shouldUseAs && _key === 'as') continue;\n\n          if ( // $FlowFixMe\n          finalShouldForwardProp(_key)) {\n            newProps[_key] = props[_key];\n          }\n        }\n\n        newProps.className = className;\n        newProps.ref = ref || props.innerRef;\n\n        if (process.env.NODE_ENV !== 'production' && props.innerRef) {\n          console.error('`innerRef` is deprecated and will be removed in a future major version of Emotion, please use the `ref` prop instead' + (identifierName === undefined ? '' : \" in the usage of `\" + identifierName + \"`\"));\n        }\n\n        var ele = createElement(finalTag, newProps);\n\n        return ele;\n      });\n    });\n    Styled.displayName = identifierName !== undefined ? identifierName : \"Styled(\" + (typeof baseTag === 'string' ? baseTag : baseTag.displayName || baseTag.name || 'Component') + \")\";\n    Styled.defaultProps = tag.defaultProps;\n    Styled.__emotion_real = Styled;\n    Styled.__emotion_base = baseTag;\n    Styled.__emotion_styles = styles;\n    Styled.__emotion_forwardProp = shouldForwardProp;\n    Object.defineProperty(Styled, 'toString', {\n      value: function value() {\n        if (targetClassName === undefined && process.env.NODE_ENV !== 'production') {\n          return 'NO_COMPONENT_SELECTOR';\n        } // $FlowFixMe: coerce undefined to string\n\n\n        return \".\" + targetClassName;\n      }\n    });\n\n    Styled.withComponent = function (nextTag, nextOptions) {\n      return createStyled(nextTag, nextOptions !== undefined ? _objectSpread({}, options || {}, {}, nextOptions) : options).apply(void 0, styles);\n    };\n\n    return Styled;\n  };\n};\n\nexport default createStyled;\n","/**\n * External dependencies\n */\nimport { css } from '@emotion/core';\nimport { mapKeys } from 'lodash';\n\nconst LOWER_LEFT_REGEXP = new RegExp( /-left/g );\nconst LOWER_RIGHT_REGEXP = new RegExp( /-right/g );\nconst UPPER_LEFT_REGEXP = new RegExp( /Left/g );\nconst UPPER_RIGHT_REGEXP = new RegExp( /Right/g );\n\n/**\n * Checks to see whether the document is set to rtl.\n *\n * @return {boolean} Whether document is RTL.\n */\nfunction getRtl() {\n\treturn !! ( document && document.documentElement.dir === 'rtl' );\n}\n\n/**\n * Simple hook to retrieve RTL direction value\n *\n * @return {boolean} Whether document is RTL.\n */\nexport function useRtl() {\n\treturn getRtl();\n}\n\n/**\n * Flips a CSS property from left <-> right.\n *\n * @param {string} key The CSS property name.\n *\n * @return {string} The flipped CSS property name, if applicable.\n */\nfunction getConvertedKey( key ) {\n\tif ( key === 'left' ) {\n\t\treturn 'right';\n\t}\n\n\tif ( key === 'right' ) {\n\t\treturn 'left';\n\t}\n\n\tif ( LOWER_LEFT_REGEXP.test( key ) ) {\n\t\treturn key.replace( LOWER_LEFT_REGEXP, '-right' );\n\t}\n\n\tif ( LOWER_RIGHT_REGEXP.test( key ) ) {\n\t\treturn key.replace( LOWER_RIGHT_REGEXP, '-left' );\n\t}\n\n\tif ( UPPER_LEFT_REGEXP.test( key ) ) {\n\t\treturn key.replace( UPPER_LEFT_REGEXP, 'Right' );\n\t}\n\n\tif ( UPPER_RIGHT_REGEXP.test( key ) ) {\n\t\treturn key.replace( UPPER_RIGHT_REGEXP, 'Left' );\n\t}\n\n\treturn key;\n}\n\n/**\n * An incredibly basic ltr -> rtl converter for style properties\n *\n * @param {Object} ltrStyles\n *\n * @return {Object} Converted ltr -> rtl styles\n */\nexport const convertLTRToRTL = ( ltrStyles = {} ) => {\n\treturn mapKeys( ltrStyles, ( _value, key ) => getConvertedKey( key ) );\n};\n\n/**\n * A higher-order function that create an incredibly basic ltr -> rtl style converter for CSS objects.\n *\n * @param {Object} ltrStyles Ltr styles. Converts and renders from ltr -> rtl styles, if applicable.\n * @param {null|Object} rtlStyles Rtl styles. Renders if provided.\n *\n * @return {Function} A function to output CSS styles for Emotion's renderer\n */\nexport function rtl( ltrStyles = {}, rtlStyles ) {\n\treturn () => {\n\t\tconst isRtl = getRtl();\n\n\t\tif ( rtlStyles ) {\n\t\t\treturn isRtl ? css( rtlStyles ) : css( ltrStyles );\n\t\t}\n\n\t\treturn isRtl ? css( convertLTRToRTL( ltrStyles ) ) : css( ltrStyles );\n\t};\n}\n","/**\n * External dependencies\n */\nimport { css } from '@emotion/core';\nimport styled from '@emotion/styled';\n\n/**\n * Internal dependencies\n */\nimport { color, reduceMotion, rtl } from '../../utils/style-mixins';\n\nconst rangeHeight = () => css( { height: 30, minHeight: 30 } );\n\nexport const Root = styled.span`\n\t-webkit-tap-highlight-color: transparent;\n\tbox-sizing: border-box;\n\tcursor: pointer;\n\talign-items: flex-start;\n\tdisplay: inline-flex;\n\tjustify-content: flex-start;\n\tpadding: 0;\n\tposition: relative;\n\ttouch-action: none;\n\twidth: 100%;\n`;\n\nconst wrapperMargin = ( { marks } ) =>\n\tcss( { marginBottom: marks ? 16 : null } );\n\nexport const Wrapper = styled.span`\n\tbox-sizing: border-box;\n\tcolor: ${color( 'blue.medium.focus' )};\n\tdisplay: block;\n\tpadding-top: 15px;\n\tposition: relative;\n\twidth: 100%;\n\n\t${rangeHeight};\n\t${wrapperMargin};\n\n\t${rtl( { marginLeft: 10 } )}\n`;\n\nexport const BeforeIconWrapper = styled.span`\n\tmargin-top: 3px;\n\n\t${rtl( { marginRight: 6 } )}\n`;\n\nexport const AfterIconWrapper = styled.span`\n\tmargin-top: 3px;\n\n\t${rtl( { marginLeft: 16 } )}\n`;\n\nconst disabledRailBackgroundColor = ( { disabled } ) => {\n\tif ( ! disabled ) return '';\n\treturn css( {\n\t\tbackgroundColor: color( 'lightGray.400' ),\n\t} );\n};\n\nexport const Rail = styled.span`\n\tbackground-color: ${color( 'lightGray.600' )};\n\tbox-sizing: border-box;\n\tleft: 0;\n\tpointer-events: none;\n\tright: 0;\n\tdisplay: block;\n\theight: 3px;\n\tposition: absolute;\n\tmargin-top: 14px;\n\ttop: 0;\n\n\t${disabledRailBackgroundColor};\n`;\n\nconst disabledBackgroundColor = ( { disabled } ) => {\n\tif ( ! disabled ) return '';\n\treturn css( {\n\t\tbackgroundColor: color( 'lightGray.800' ),\n\t} );\n};\n\nexport const Track = styled.span`\n\tbackground-color: currentColor;\n\tborder-radius: 1px;\n\tbox-sizing: border-box;\n\theight: 3px;\n\tpointer-events: none;\n\tdisplay: block;\n\tposition: absolute;\n\tmargin-top: 14px;\n\ttop: 0;\n\n\t${disabledBackgroundColor};\n`;\n\nexport const MarksWrapper = styled.span`\n\tbox-sizing: border-box;\n\tdisplay: block;\n\tposition: relative;\n\twidth: 100%;\n\tuser-select: none;\n`;\n\nconst markFill = ( { isFilled } ) => {\n\treturn css( {\n\t\tbackgroundColor: isFilled ? 'currentColor' : color( 'lightGray.600' ),\n\t} );\n};\n\nexport const Mark = styled.span`\n\tbox-sizing: border-box;\n\theight: 9px;\n\tleft: 0;\n\tposition: absolute;\n\ttop: -4px;\n\twidth: 1px;\n\n\t${markFill};\n\t${disabledBackgroundColor};\n`;\n\nconst markLabelFill = ( { isFilled } ) => {\n\treturn css( {\n\t\tcolor: isFilled ? color( 'darkGray.300' ) : color( 'lightGray.600' ),\n\t} );\n};\n\nexport const MarkLabel = styled.span`\n\tbox-sizing: border-box;\n\tcolor: ${color( 'lightGray.600' )};\n\tleft: 0;\n\tfont-size: 11px;\n\tposition: absolute;\n\ttop: 12px;\n\ttransform: translateX( -50% );\n\twhite-space: nowrap;\n\n\t${markLabelFill};\n`;\n\nexport const ThumbWrapper = styled.span`\n\talign-items: center;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\theight: 20px;\n\tjustify-content: center;\n\tmargin-top: 5px;\n\toutline: 0;\n\tpointer-events: none;\n\tposition: absolute;\n\ttop: 0;\n\tuser-select: none;\n\twidth: 20px;\n\n\t${rtl( { marginLeft: -10 } )}\n`;\n\nconst thumbFocus = ( { isFocused } ) => {\n\treturn css( {\n\t\tborderColor: isFocused\n\t\t\t? color( 'blue.medium.focus' )\n\t\t\t: color( 'darkGray.200' ),\n\t\tboxShadow: isFocused\n\t\t\t? `\n\t\t\t\t0 0 0 1px ${ color( 'blue.medium.focus' ) }\n\t\t\t`\n\t\t\t: `\n\t\t\t\t0 0 0 rgba(0, 0, 0, 0)\n\t\t\t`,\n\t} );\n};\n\nexport const Thumb = styled.span`\n\talign-items: center;\n\tbackground-color: white;\n\tborder-radius: 50%;\n\tborder: 1px solid ${color( 'darkGray.200' )};\n\tbox-sizing: border-box;\n\theight: 100%;\n\toutline: 0;\n\tpointer-events: none;\n\tposition: absolute;\n\tuser-select: none;\n\twidth: 100%;\n\n\t${thumbFocus};\n`;\n\nexport const InputRange = styled.input`\n\tbox-sizing: border-box;\n\tcursor: pointer;\n\tdisplay: block;\n\theight: 100%;\n\tleft: 0;\n\tmargin: 0;\n\topacity: 0;\n\toutline: none;\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\twidth: 100%;\n`;\n\nconst tooltipShow = ( { show } ) => {\n\treturn css( {\n\t\topacity: show ? 1 : 0,\n\t} );\n};\n\nconst tooltipPosition = ( { position } ) => {\n\tconst isTop = position === 'top';\n\n\tif ( isTop ) {\n\t\treturn css`\n\t\t\tmargin-top: -4px;\n\t\t\ttop: -100%;\n\n\t\t\t&::after {\n\t\t\t\tborder-bottom: none;\n\t\t\t\tborder-top-style: solid;\n\t\t\t\tbottom: -6px;\n\t\t\t}\n\t\t`;\n\t}\n\n\treturn css`\n\t\tmargin-bottom: -4px;\n\t\tbottom: -100%;\n\n\t\t&::after {\n\t\t\tborder-bottom-style: solid;\n\t\t\tborder-top: none;\n\t\t\ttop: -6px;\n\t\t}\n\t`;\n};\n\nexport const Tooltip = styled.span`\n\tbackground: ${color( 'darkGray.800' )};\n\tborder-radius: 3px;\n\tbox-sizing: border-box;\n\tcolor: white;\n\tdisplay: inline-block;\n\tfont-size: 11px;\n\tmin-width: 32px;\n\topacity: 0;\n\tpadding: 8px;\n\tpointer-events: none;\n\tposition: absolute;\n\ttext-align: center;\n\ttransition: opacity 120ms ease;\n\tuser-select: none;\n\n\t&::after {\n\t\tborder: 6px solid ${color( 'darkGray.800' )};\n\t\tborder-left-color: transparent;\n\t\tborder-right-color: transparent;\n\t\tbottom: -6px;\n\t\tbox-sizing: border-box;\n\t\tcontent: '';\n\t\theight: 0;\n\t\tleft: 50%;\n\t\tline-height: 0;\n\t\tmargin-left: -6px;\n\t\tposition: absolute;\n\t\twidth: 0;\n\t}\n\n\t${tooltipShow};\n\t${tooltipPosition};\n\t${reduceMotion( 'transition' )};\n\t${rtl(\n\t\t{ transform: 'translateX(-50%)' },\n\t\t{ transform: 'translateX(50%)' }\n\t)}\n`;\n\nexport const InputNumber = styled.input`\n\tbox-sizing: border-box;\n\tdisplay: inline-block;\n\tmargin-top: 0;\n\tmin-width: 54px;\n\tmax-width: 120px;\n\n\tinput[type='number']& {\n\t\t${rangeHeight};\n\t}\n\n\t${rtl( { marginLeft: 16 } )}\n`;\n\nexport const ActionRightWrapper = styled.span`\n\tbox-sizing: border-box;\n\tdisplay: block;\n\tmargin-top: 0;\n\n\tbutton,\n\tbutton.is-small {\n\t\tmargin-left: 0;\n\t\t${rangeHeight};\n\t}\n\n\t${rtl( { marginLeft: 8 } )}\n`;\n","/**\n * Allows users to opt-out of animations via OS-level preferences.\n *\n * @param {string} prop CSS Property name\n * @return {string} Generated CSS code for the reduced style\n */\nexport function reduceMotion( prop = 'transition' ) {\n\tlet style;\n\n\tswitch ( prop ) {\n\t\tcase 'transition':\n\t\t\tstyle = 'transition-duration: 0ms;';\n\t\t\tbreak;\n\n\t\tcase 'animation':\n\t\t\tstyle = 'animation-duration: 1ms;';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tstyle = `\n\t\t\t\tanimation-duration: 1ms;\n\t\t\t\ttransition-duration: 0ms;\n\t\t\t`;\n\t}\n\n\treturn `\n\t\t@media ( prefers-reduced-motion: reduce ) {\n\t\t\t${ style };\n\t\t}\n\t`;\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * Internal dependencies\n */\nimport { Mark, MarkLabel } from './styles/range-control-styles';\n\nexport default function RangeMark( {\n\tclassName,\n\tisFilled = false,\n\tlabel,\n\tstyle = {},\n\t...props\n} ) {\n\tconst classes = classnames(\n\t\t'components-range-control__mark',\n\t\tisFilled && 'is-filled',\n\t\tclassName\n\t);\n\tconst labelClasses = classnames(\n\t\t'components-range-control__mark-label',\n\t\tisFilled && 'is-filled'\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<Mark\n\t\t\t\t{ ...props }\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={ classes }\n\t\t\t\tisFilled={ isFilled }\n\t\t\t\tstyle={ style }\n\t\t\t/>\n\t\t\t{ label && (\n\t\t\t\t<MarkLabel\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tclassName={ labelClasses }\n\t\t\t\t\tisFilled={ isFilled }\n\t\t\t\t\tstyle={ style }\n\t\t\t\t>\n\t\t\t\t\t{ label }\n\t\t\t\t</MarkLabel>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport RangeMark from './mark';\nimport { MarksWrapper, Rail } from './styles/range-control-styles';\n\nexport default function RangeRail( {\n\tdisabled = false,\n\tmarks = false,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tvalue = 0,\n\t...restProps\n} ) {\n\treturn (\n\t\t<>\n\t\t\t<Rail disabled={ disabled } { ...restProps } />\n\t\t\t{ marks && (\n\t\t\t\t<Marks\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tmarks={ marks }\n\t\t\t\t\tmin={ min }\n\t\t\t\t\tmax={ max }\n\t\t\t\t\tstep={ step }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction Marks( {\n\tdisabled = false,\n\tmarks = false,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tvalue = 0,\n} ) {\n\tconst marksData = useMarks( { marks, min, max, step, value } );\n\n\treturn (\n\t\t<MarksWrapper\n\t\t\taria-hidden=\"true\"\n\t\t\tclassName=\"components-range-control__marks\"\n\t\t>\n\t\t\t{ marksData.map( ( mark ) => (\n\t\t\t\t<RangeMark\n\t\t\t\t\t{ ...mark }\n\t\t\t\t\tkey={ mark.key }\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</MarksWrapper>\n\t);\n}\n\nfunction useMarks( { marks, min = 0, max = 100, step = 1, value = 0 } ) {\n\tconst isRTL = document.documentElement.dir === 'rtl';\n\n\tif ( ! marks ) {\n\t\treturn [];\n\t}\n\n\tconst isCustomMarks = Array.isArray( marks );\n\n\tconst markCount = ( max - min ) / step;\n\tconst marksArray = isCustomMarks\n\t\t? marks\n\t\t: [ ...Array( markCount + 1 ) ].map( ( _, index ) => ( {\n\t\t\t\tvalue: index,\n\t\t  } ) );\n\n\tconst enhancedMarks = marksArray.map( ( mark, index ) => {\n\t\tconst markValue = mark.value !== undefined ? mark.value : value;\n\n\t\tconst key = `mark-${ index }`;\n\t\tconst isFilled = markValue * step <= value;\n\t\tconst offset = `${ ( markValue / markCount ) * 100 }%`;\n\n\t\tconst offsetStyle = {\n\t\t\t[ isRTL ? 'right' : 'left' ]: offset,\n\t\t};\n\n\t\treturn {\n\t\t\t...mark,\n\t\t\tisFilled,\n\t\t\tkey,\n\t\t\tstyle: offsetStyle,\n\t\t};\n\t} );\n\n\treturn enhancedMarks;\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Tooltip } from './styles/range-control-styles';\n\nconst TOOLTIP_OFFSET_HEIGHT = 32;\n\nexport default function SimpleTooltip( {\n\tclassName,\n\tinputRef,\n\tposition: positionProp = 'auto',\n\tshow = false,\n\tstyle = {},\n\tvalue = 0,\n\trenderTooltipContent = ( v ) => v,\n\tzIndex = 100,\n\t...restProps\n} ) {\n\tconst position = useTooltipPosition( { inputRef, position: positionProp } );\n\tconst classes = classnames( 'components-simple-tooltip', className );\n\tconst styles = {\n\t\t...style,\n\t\tzIndex,\n\t};\n\n\treturn (\n\t\t<Tooltip\n\t\t\t{ ...restProps }\n\t\t\taria-hidden={ show }\n\t\t\tclassName={ classes }\n\t\t\tposition={ position }\n\t\t\tshow={ show }\n\t\t\trole=\"tooltip\"\n\t\t\tstyle={ styles }\n\t\t>\n\t\t\t{ renderTooltipContent( value ) }\n\t\t</Tooltip>\n\t);\n}\n\nfunction useTooltipPosition( { inputRef, position: positionProp } ) {\n\tconst [ position, setPosition ] = useState( 'top' );\n\n\tconst calculatePosition = useCallback( () => {\n\t\tif ( inputRef && inputRef.current ) {\n\t\t\tlet nextPosition = positionProp;\n\n\t\t\tif ( positionProp === 'auto' ) {\n\t\t\t\tconst { top } = inputRef.current.getBoundingClientRect();\n\t\t\t\tconst isOffscreenTop = top - TOOLTIP_OFFSET_HEIGHT < 0;\n\n\t\t\t\tnextPosition = isOffscreenTop ? 'bottom' : 'top';\n\t\t\t}\n\n\t\t\tsetPosition( nextPosition );\n\t\t}\n\t}, [ positionProp ] );\n\n\tuseEffect( () => {\n\t\tcalculatePosition();\n\t}, [ calculatePosition ] );\n\n\tuseEffect( () => {\n\t\twindow.addEventListener( 'resize', calculatePosition );\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener( 'resize', calculatePosition );\n\t\t};\n\t} );\n\n\treturn position;\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { clamp, isFinite, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useRef, useState, forwardRef } from '@wordpress/element';\nimport { compose, withInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BaseControl from '../base-control';\nimport Button from '../button';\nimport Icon from '../icon';\nimport { color } from '../utils/colors';\nimport {\n\tfloatClamp,\n\tuseControlledRangeValue,\n\tuseDebouncedHoverInteraction,\n} from './utils';\nimport RangeRail from './rail';\nimport SimpleTooltip from './tooltip';\nimport {\n\tActionRightWrapper,\n\tAfterIconWrapper,\n\tBeforeIconWrapper,\n\tInputRange,\n\tInputNumber,\n\tRoot,\n\tTrack,\n\tThumbWrapper,\n\tThumb,\n\tWrapper,\n} from './styles/range-control-styles';\nimport { useRtl } from '../utils/rtl';\n\nconst BaseRangeControl = forwardRef(\n\t(\n\t\t{\n\t\t\tafterIcon,\n\t\t\tallowReset = false,\n\t\t\tbeforeIcon,\n\t\t\tclassName,\n\t\t\tcurrentInput,\n\t\t\tcolor: colorProp = color( 'blue.wordpress.700' ),\n\t\t\tdisabled = false,\n\t\t\thelp,\n\t\t\tinstanceId,\n\t\t\tinitialPosition,\n\t\t\tlabel,\n\t\t\tmarks = false,\n\t\t\tmax = 100,\n\t\t\tmin = 0,\n\t\t\tonBlur = noop,\n\t\t\tonChange = noop,\n\t\t\tonFocus = noop,\n\t\t\tonMouseMove = noop,\n\t\t\tonMouseLeave = noop,\n\t\t\trenderTooltipContent = ( v ) => v,\n\t\t\tshowTooltip: showTooltipProp,\n\t\t\tstep = 1,\n\t\t\tvalue: valueProp,\n\t\t\twithInputField = true,\n\t\t\t...props\n\t\t},\n\t\tref\n\t) => {\n\t\tconst isRTL = useRtl();\n\n\t\tconst sliderValue =\n\t\t\tvalueProp !== undefined ? valueProp : initialPosition;\n\n\t\tconst [ value, setValue ] = useControlledRangeValue( {\n\t\t\tmin,\n\t\t\tmax,\n\t\t\tvalue: sliderValue,\n\t\t} );\n\t\tconst [ showTooltip, setShowTooltip ] = useState( showTooltipProp );\n\t\tconst [ isFocused, setIsFocused ] = useState( false );\n\n\t\tconst inputRef = useRef();\n\n\t\tconst setRef = ( nodeRef ) => {\n\t\t\tinputRef.current = nodeRef;\n\n\t\t\tif ( ref ) {\n\t\t\t\tref( nodeRef );\n\t\t\t}\n\t\t};\n\n\t\tconst isCurrentlyFocused = inputRef.current?.matches( ':focus' );\n\t\tconst isThumbFocused = ! disabled && isFocused;\n\n\t\tconst isValueReset = value === null;\n\t\tconst currentValue = value !== undefined ? value : currentInput;\n\n\t\tconst inputSliderValue = isValueReset ? '' : currentValue;\n\n\t\tconst rangeFillValue = isValueReset\n\t\t\t? floatClamp( max / 2, min, max )\n\t\t\t: value;\n\n\t\tconst calculatedFillValue = ( ( value - min ) / ( max - min ) ) * 100;\n\t\tconst fillValue = isValueReset ? 50 : calculatedFillValue;\n\t\tconst fillValueOffset = `${ clamp( fillValue, 0, 100 ) }%`;\n\n\t\tconst classes = classnames( 'components-range-control', className );\n\n\t\tconst wrapperClasses = classnames(\n\t\t\t'components-range-control__wrapper',\n\t\t\t!! marks && 'is-marked'\n\t\t);\n\n\t\tconst id = `inspector-range-control-${ instanceId }`;\n\n\t\tconst describedBy = !! help ? `${ id }__help` : undefined;\n\t\tconst enableTooltip = showTooltipProp !== false && isFinite( value );\n\n\t\tconst handleOnChange = ( event ) => {\n\t\t\tif (\n\t\t\t\tevent.target.checkValidity &&\n\t\t\t\t! event.target.checkValidity()\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst nextValue = parseFloat( event.target.value );\n\n\t\t\tif ( isNaN( nextValue ) ) {\n\t\t\t\thandleOnReset();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetValue( nextValue );\n\t\t\tonChange( nextValue );\n\t\t};\n\n\t\tconst handleOnReset = () => {\n\t\t\tsetValue( null );\n\t\t\tonChange( undefined );\n\t\t};\n\n\t\tconst handleShowTooltip = () => setShowTooltip( true );\n\t\tconst handleHideTooltip = () => setShowTooltip( false );\n\n\t\tconst handleOnBlur = ( event ) => {\n\t\t\tonBlur( event );\n\t\t\tsetIsFocused( false );\n\t\t\thandleHideTooltip();\n\t\t};\n\n\t\tconst handleOnFocus = ( event ) => {\n\t\t\tonFocus( event );\n\t\t\tsetIsFocused( true );\n\t\t\thandleShowTooltip();\n\t\t};\n\n\t\tconst hoverInteractions = useDebouncedHoverInteraction( {\n\t\t\tonShow: handleShowTooltip,\n\t\t\tonHide: handleHideTooltip,\n\t\t\tonMouseMove,\n\t\t\tonMouseLeave,\n\t\t} );\n\n\t\tconst offsetStyle = {\n\t\t\t[ isRTL ? 'right' : 'left' ]: fillValueOffset,\n\t\t};\n\n\t\treturn (\n\t\t\t<BaseControl\n\t\t\t\tclassName={ classes }\n\t\t\t\tlabel={ label }\n\t\t\t\tid={ id }\n\t\t\t\thelp={ help }\n\t\t\t>\n\t\t\t\t<Root\n\t\t\t\t\tclassName=\"components-range-control__root\"\n\t\t\t\t\tisRTL={ isRTL }\n\t\t\t\t>\n\t\t\t\t\t{ beforeIcon && (\n\t\t\t\t\t\t<BeforeIconWrapper>\n\t\t\t\t\t\t\t<Icon icon={ beforeIcon } />\n\t\t\t\t\t\t</BeforeIconWrapper>\n\t\t\t\t\t) }\n\t\t\t\t\t<Wrapper\n\t\t\t\t\t\tclassName={ wrapperClasses }\n\t\t\t\t\t\tcolor={ colorProp }\n\t\t\t\t\t\tmarks={ !! marks }\n\t\t\t\t\t>\n\t\t\t\t\t\t<InputRange\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t{ ...hoverInteractions }\n\t\t\t\t\t\t\taria-describedby={ describedBy }\n\t\t\t\t\t\t\taria-label={ label }\n\t\t\t\t\t\t\taria-hidden={ false }\n\t\t\t\t\t\t\tclassName=\"components-range-control__slider\"\n\t\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t\t\tid={ id }\n\t\t\t\t\t\t\tmax={ max }\n\t\t\t\t\t\t\tmin={ min }\n\t\t\t\t\t\t\tonBlur={ handleOnBlur }\n\t\t\t\t\t\t\tonChange={ handleOnChange }\n\t\t\t\t\t\t\tonFocus={ handleOnFocus }\n\t\t\t\t\t\t\tref={ setRef }\n\t\t\t\t\t\t\tstep={ step }\n\t\t\t\t\t\t\ttabIndex={ 0 }\n\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\tvalue={ inputSliderValue }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeRail\n\t\t\t\t\t\t\taria-hidden={ true }\n\t\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t\t\tmarks={ marks }\n\t\t\t\t\t\t\tmax={ max }\n\t\t\t\t\t\t\tmin={ min }\n\t\t\t\t\t\t\tstep={ step }\n\t\t\t\t\t\t\tvalue={ rangeFillValue }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Track\n\t\t\t\t\t\t\taria-hidden={ true }\n\t\t\t\t\t\t\tclassName=\"components-range-control__track\"\n\t\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t\t\tstyle={ { width: fillValueOffset } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ThumbWrapper style={ offsetStyle }>\n\t\t\t\t\t\t\t<Thumb\n\t\t\t\t\t\t\t\taria-hidden={ true }\n\t\t\t\t\t\t\t\tisFocused={ isThumbFocused }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ThumbWrapper>\n\t\t\t\t\t\t{ enableTooltip && (\n\t\t\t\t\t\t\t<SimpleTooltip\n\t\t\t\t\t\t\t\tclassName=\"components-range-control__tooltip\"\n\t\t\t\t\t\t\t\tinputRef={ inputRef }\n\t\t\t\t\t\t\t\trenderTooltipContent={ renderTooltipContent }\n\t\t\t\t\t\t\t\tshow={ isCurrentlyFocused || showTooltip }\n\t\t\t\t\t\t\t\tstyle={ offsetStyle }\n\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Wrapper>\n\t\t\t\t\t{ afterIcon && (\n\t\t\t\t\t\t<AfterIconWrapper>\n\t\t\t\t\t\t\t<Icon icon={ afterIcon } />\n\t\t\t\t\t\t</AfterIconWrapper>\n\t\t\t\t\t) }\n\t\t\t\t\t{ withInputField && (\n\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\taria-label={ label }\n\t\t\t\t\t\t\tclassName=\"components-range-control__number\"\n\t\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t\t\tinputMode=\"decimal\"\n\t\t\t\t\t\t\tmax={ max }\n\t\t\t\t\t\t\tmin={ min }\n\t\t\t\t\t\t\tonChange={ handleOnChange }\n\t\t\t\t\t\t\tstep={ step }\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={ inputSliderValue }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ allowReset && (\n\t\t\t\t\t\t<ActionRightWrapper>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"components-range-control__reset\"\n\t\t\t\t\t\t\t\tdisabled={ disabled || value === undefined }\n\t\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\tonClick={ handleOnReset }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ActionRightWrapper>\n\t\t\t\t\t) }\n\t\t\t\t</Root>\n\t\t\t</BaseControl>\n\t\t);\n\t}\n);\n\nexport const RangeControlNext = compose( withInstanceId )( BaseRangeControl );\n\nexport default RangeControlNext;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowDown = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M9 2h2v12l4-4 2 1-7 7-7-7 2-1 4 4V2z\" />\n\t</SVG>\n);\n\nexport default arrowDown;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M18 9v2H6l4 4-1 2-7-7 7-7 1 2-4 4h12z\" />\n\t</SVG>\n);\n\nexport default arrowLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowUp = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M11 18H9V6l-4 4-2-1 7-7 7 7-2 1-4-4v12z\" />\n\t</SVG>\n);\n\nexport default arrowUp;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M2 11V9h12l-4-4 1-2 7 7-7 7-1-2 4-4H2z\" />\n\t</SVG>\n);\n\nexport default arrowRight;\n","export function getIntVal(value, fallback = 0) {\n\tif (isNaN(parseInt(value))) return fallback;\n\telse return parseInt(value);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport { Icon } from \"@wordpress/components\";\nimport { edit } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nexport default function EditableElement({\n\tchildren,\n\telementTitle,\n\telementName,\n\tframeSize = \"normal\",\n\thandleAlign = \"left\",\n}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"editable-element clearfix\"\n\t\t\tonClick={(e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\ttemplateDesignerContext.setEditingElement(elementName);\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\t(templateDesignerContext.editingElement === elementName\n\t\t\t\t\t\t? \"edit-frame-active\"\n\t\t\t\t\t\t: \"edit-frame-default\") +\n\t\t\t\t\t\" frame-size-\" +\n\t\t\t\t\tframeSize +\n\t\t\t\t\t\" handle-align-\" +\n\t\t\t\t\thandleAlign\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"edit-frame-handle\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\ttemplateDesignerContext.setEditingElement(elementName);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{elementTitle}\n\t\t\t\t\t<Icon icon=\"edit\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BaseControl from '../base-control';\n\nexport default function SelectControl( {\n\thelp,\n\tlabel,\n\tmultiple = false,\n\tonChange,\n\toptions = [],\n\tclassName,\n\thideLabelFromVision,\n\t...props\n} ) {\n\tconst instanceId = useInstanceId( SelectControl );\n\tconst id = `inspector-select-control-${ instanceId }`;\n\tconst onChangeValue = ( event ) => {\n\t\tif ( multiple ) {\n\t\t\tconst selectedOptions = [ ...event.target.options ].filter(\n\t\t\t\t( { selected } ) => selected\n\t\t\t);\n\t\t\tconst newValues = selectedOptions.map( ( { value } ) => value );\n\t\t\tonChange( newValues );\n\t\t\treturn;\n\t\t}\n\t\tonChange( event.target.value );\n\t};\n\n\t// Disable reason: A select with an onchange throws a warning\n\n\t/* eslint-disable jsx-a11y/no-onchange */\n\treturn (\n\t\t! isEmpty( options ) && (\n\t\t\t<BaseControl\n\t\t\t\tlabel={ label }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tid={ id }\n\t\t\t\thelp={ help }\n\t\t\t\tclassName={ className }\n\t\t\t>\n\t\t\t\t<select\n\t\t\t\t\tid={ id }\n\t\t\t\t\tclassName=\"components-select-control__input\"\n\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t\taria-describedby={ !! help ? `${ id }__help` : undefined }\n\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\t{ ...props }\n\t\t\t\t>\n\t\t\t\t\t{ options.map( ( option, index ) => (\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tkey={ `${ option.label }-${ option.value }-${ index }` }\n\t\t\t\t\t\t\tvalue={ option.value }\n\t\t\t\t\t\t\tdisabled={ option.disabled }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t</option>\n\t\t\t\t\t) ) }\n\t\t\t\t</select>\n\t\t\t</BaseControl>\n\t\t)\n\t);\n\t/* eslint-enable jsx-a11y/no-onchange */\n}\n","/**\n * External dependencies\n */\nimport { clamp, noop } from 'lodash';\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { UP, DOWN } from '@wordpress/keycodes';\n\nexport default function NumberControl( {\n\tclassName,\n\tisShiftStepEnabled = true,\n\tmax = Infinity,\n\tmin = -Infinity,\n\tonChange = noop,\n\tonKeyDown = noop,\n\tshiftStep = 10,\n\tstep = 1,\n\t...props\n} ) {\n\tconst baseValue = clamp( 0, min, max );\n\n\tconst handleOnKeyDown = ( event ) => {\n\t\tonKeyDown( event );\n\t\tconst { value } = event.target;\n\n\t\tconst isEmpty = value === '';\n\t\tconst enableShift = event.shiftKey && isShiftStepEnabled;\n\n\t\tconst incrementalValue = enableShift\n\t\t\t? parseFloat( shiftStep )\n\t\t\t: parseFloat( step );\n\t\tlet nextValue = isEmpty ? baseValue : value;\n\n\t\t// Convert to a number to use math\n\t\tnextValue = parseFloat( nextValue );\n\n\t\tswitch ( event.keyCode ) {\n\t\t\tcase UP:\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tnextValue = nextValue + incrementalValue;\n\t\t\t\tnextValue = clamp( nextValue, min, max );\n\n\t\t\t\tonChange( nextValue.toString(), { event } );\n\n\t\t\t\tbreak;\n\n\t\t\tcase DOWN:\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tnextValue = nextValue - incrementalValue;\n\t\t\t\tnextValue = clamp( nextValue, min, max );\n\n\t\t\t\tonChange( nextValue.toString(), { event } );\n\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst handleOnChange = ( event ) => {\n\t\tonChange( event.target.value, { event } );\n\t};\n\n\tconst classes = classNames( 'component-number-control', className );\n\n\treturn (\n\t\t<input\n\t\t\tinputMode=\"numeric\"\n\t\t\t{ ...props }\n\t\t\tclassName={ classes }\n\t\t\ttype=\"number\"\n\t\t\tonChange={ handleOnChange }\n\t\t\tonKeyDown={ handleOnKeyDown }\n\t\t/>\n\t);\n}\n","const ToolbarButtonContainer = ( props ) => (\n\t<div className={ props.className }>{ props.children }</div>\n);\nexport default ToolbarButtonContainer;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport ToolbarItem from '../toolbar-item';\nimport ToolbarContext from '../toolbar-context';\nimport ToolbarButtonContainer from './toolbar-button-container';\n\nfunction ToolbarButton( {\n\tcontainerClassName,\n\tclassName,\n\textraProps,\n\tchildren,\n\t...props\n} ) {\n\tconst accessibleToolbarState = useContext( ToolbarContext );\n\n\tif ( ! accessibleToolbarState ) {\n\t\t// This should be deprecated when <Toolbar __experimentalAccessibilityLabel=\"label\">\n\t\t// becomes stable.\n\t\treturn (\n\t\t\t<ToolbarButtonContainer className={ containerClassName }>\n\t\t\t\t<Button\n\t\t\t\t\ticon={ props.icon }\n\t\t\t\t\tlabel={ props.title }\n\t\t\t\t\tshortcut={ props.shortcut }\n\t\t\t\t\tdata-subscript={ props.subscript }\n\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tif ( props.onClick ) {\n\t\t\t\t\t\t\tprops.onClick( event );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'components-toolbar__control',\n\t\t\t\t\t\tclassName\n\t\t\t\t\t) }\n\t\t\t\t\tisPressed={ props.isActive }\n\t\t\t\t\tdisabled={ props.isDisabled }\n\t\t\t\t\t{ ...extraProps }\n\t\t\t\t>\n\t\t\t\t\t{ children }\n\t\t\t\t</Button>\n\t\t\t</ToolbarButtonContainer>\n\t\t);\n\t}\n\n\t// ToobarItem will pass all props to the render prop child, which will pass\n\t// all props to Button. This means that ToolbarButton has the same API as\n\t// Button.\n\treturn (\n\t\t<ToolbarItem\n\t\t\tclassName={ classnames( 'components-toolbar-button', className ) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ ( toolbarItemProps ) => (\n\t\t\t\t<Button { ...toolbarItemProps }>{ children }</Button>\n\t\t\t) }\n\t\t</ToolbarItem>\n\t);\n}\n\nexport default ToolbarButton;\n","const ToolbarGroupContainer = ( { className, children, ...props } ) => (\n\t<div className={ className } { ...props }>\n\t\t{ children }\n\t</div>\n);\nexport default ToolbarGroupContainer;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Component, createRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Popover from '../popover';\n\nclass Dropdown extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.toggle = this.toggle.bind( this );\n\t\tthis.close = this.close.bind( this );\n\t\tthis.closeIfFocusOutside = this.closeIfFocusOutside.bind( this );\n\n\t\tthis.containerRef = createRef();\n\n\t\tthis.state = {\n\t\t\tisOpen: false,\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tconst { isOpen } = this.state;\n\t\tconst { onToggle } = this.props;\n\t\tif ( isOpen && onToggle ) {\n\t\t\tonToggle( false );\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps, prevState ) {\n\t\tconst { isOpen } = this.state;\n\t\tconst { onToggle } = this.props;\n\t\tif ( prevState.isOpen !== isOpen && onToggle ) {\n\t\t\tonToggle( isOpen );\n\t\t}\n\t}\n\n\ttoggle() {\n\t\tthis.setState( ( state ) => ( {\n\t\t\tisOpen: ! state.isOpen,\n\t\t} ) );\n\t}\n\n\t/**\n\t * Closes the dropdown if a focus leaves the dropdown wrapper. This is\n\t * intentionally distinct from `onClose` since focus loss from the popover\n\t * is expected to occur when using the Dropdown's toggle button, in which\n\t * case the correct behavior is to keep the dropdown closed. The same applies\n\t * in case when focus is moved to the modal dialog.\n\t */\n\tcloseIfFocusOutside() {\n\t\tif (\n\t\t\t! this.containerRef.current.contains( document.activeElement ) &&\n\t\t\t! document.activeElement.closest( '[role=\"dialog\"]' )\n\t\t) {\n\t\t\tthis.close();\n\t\t}\n\t}\n\n\tclose() {\n\t\tif ( this.props.onClose ) {\n\t\t\tthis.props.onClose();\n\t\t}\n\t\tthis.setState( { isOpen: false } );\n\t}\n\n\trender() {\n\t\tconst { isOpen } = this.state;\n\t\tconst {\n\t\t\trenderContent,\n\t\t\trenderToggle,\n\t\t\tposition = 'bottom right',\n\t\t\tclassName,\n\t\t\tcontentClassName,\n\t\t\texpandOnMobile,\n\t\t\theaderTitle,\n\t\t\tfocusOnMount,\n\t\t\tpopoverProps,\n\t\t} = this.props;\n\n\t\tconst args = { isOpen, onToggle: this.toggle, onClose: this.close };\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={ classnames( 'components-dropdown', className ) }\n\t\t\t\tref={ this.containerRef }\n\t\t\t>\n\t\t\t\t{ renderToggle( args ) }\n\t\t\t\t{ isOpen && (\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tposition={ position }\n\t\t\t\t\t\tonClose={ this.close }\n\t\t\t\t\t\tonFocusOutside={ this.closeIfFocusOutside }\n\t\t\t\t\t\texpandOnMobile={ expandOnMobile }\n\t\t\t\t\t\theaderTitle={ headerTitle }\n\t\t\t\t\t\tfocusOnMount={ focusOnMount }\n\t\t\t\t\t\t{ ...popoverProps }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'components-dropdown__content',\n\t\t\t\t\t\t\tpopoverProps ? popoverProps.className : undefined,\n\t\t\t\t\t\t\tcontentClassName\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ renderContent( args ) }\n\t\t\t\t\t</Popover>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Dropdown;\n","/**\n * External dependencies\n */\nimport { omit, noop, isFunction } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, forwardRef } from '@wordpress/element';\nimport { focus } from '@wordpress/dom';\n\nfunction cycleValue( value, total, offset ) {\n\tconst nextValue = value + offset;\n\tif ( nextValue < 0 ) {\n\t\treturn total + nextValue;\n\t} else if ( nextValue >= total ) {\n\t\treturn nextValue - total;\n\t}\n\n\treturn nextValue;\n}\n\nclass NavigableContainer extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\t\tthis.bindContainer = this.bindContainer.bind( this );\n\n\t\tthis.getFocusableContext = this.getFocusableContext.bind( this );\n\t\tthis.getFocusableIndex = this.getFocusableIndex.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\t// We use DOM event listeners instead of React event listeners\n\t\t// because we want to catch events from the underlying DOM tree\n\t\t// The React Tree can be different from the DOM tree when using\n\t\t// portals. Block Toolbars for instance are rendered in a separate\n\t\t// React Trees.\n\t\tthis.container.addEventListener( 'keydown', this.onKeyDown );\n\t\tthis.container.addEventListener( 'focus', this.onFocus );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.container.removeEventListener( 'keydown', this.onKeyDown );\n\t\tthis.container.removeEventListener( 'focus', this.onFocus );\n\t}\n\n\tbindContainer( ref ) {\n\t\tconst { forwardedRef } = this.props;\n\t\tthis.container = ref;\n\n\t\tif ( isFunction( forwardedRef ) ) {\n\t\t\tforwardedRef( ref );\n\t\t} else if ( forwardedRef && 'current' in forwardedRef ) {\n\t\t\tforwardedRef.current = ref;\n\t\t}\n\t}\n\n\tgetFocusableContext( target ) {\n\t\tconst { onlyBrowserTabstops } = this.props;\n\t\tconst finder = onlyBrowserTabstops ? focus.tabbable : focus.focusable;\n\t\tconst focusables = finder.find( this.container );\n\n\t\tconst index = this.getFocusableIndex( focusables, target );\n\t\tif ( index > -1 && target ) {\n\t\t\treturn { index, target, focusables };\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetFocusableIndex( focusables, target ) {\n\t\tconst directIndex = focusables.indexOf( target );\n\t\tif ( directIndex !== -1 ) {\n\t\t\treturn directIndex;\n\t\t}\n\t}\n\n\tonKeyDown( event ) {\n\t\tif ( this.props.onKeyDown ) {\n\t\t\tthis.props.onKeyDown( event );\n\t\t}\n\n\t\tconst { getFocusableContext } = this;\n\t\tconst {\n\t\t\tcycle = true,\n\t\t\teventToOffset,\n\t\t\tonNavigate = noop,\n\t\t\tstopNavigationEvents,\n\t\t} = this.props;\n\n\t\tconst offset = eventToOffset( event );\n\n\t\t// eventToOffset returns undefined if the event is not handled by the component\n\t\tif ( offset !== undefined && stopNavigationEvents ) {\n\t\t\t// Prevents arrow key handlers bound to the document directly interfering\n\t\t\tevent.stopImmediatePropagation();\n\n\t\t\t// When navigating a collection of items, prevent scroll containers\n\t\t\t// from scrolling.\n\t\t\tif ( event.target.getAttribute( 'role' ) === 'menuitem' ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\n\t\tif ( ! offset ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst context = getFocusableContext( document.activeElement );\n\t\tif ( ! context ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { index, focusables } = context;\n\t\tconst nextIndex = cycle\n\t\t\t? cycleValue( index, focusables.length, offset )\n\t\t\t: index + offset;\n\t\tif ( nextIndex >= 0 && nextIndex < focusables.length ) {\n\t\t\tfocusables[ nextIndex ].focus();\n\t\t\tonNavigate( nextIndex, focusables[ nextIndex ] );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { children, ...props } = this.props;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ this.bindContainer }\n\t\t\t\t{ ...omit( props, [\n\t\t\t\t\t'stopNavigationEvents',\n\t\t\t\t\t'eventToOffset',\n\t\t\t\t\t'onNavigate',\n\t\t\t\t\t'onKeyDown',\n\t\t\t\t\t'cycle',\n\t\t\t\t\t'onlyBrowserTabstops',\n\t\t\t\t\t'forwardedRef',\n\t\t\t\t] ) }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst forwardedNavigableContainer = ( props, ref ) => {\n\treturn <NavigableContainer { ...props } forwardedRef={ ref } />;\n};\nforwardedNavigableContainer.displayName = 'NavigableContainer';\n\nexport default forwardRef( forwardedNavigableContainer );\n","/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\nimport { UP, DOWN, LEFT, RIGHT } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport NavigableContainer from './container';\n\nexport function NavigableMenu(\n\t{ role = 'menu', orientation = 'vertical', ...rest },\n\tref\n) {\n\tconst eventToOffset = ( evt ) => {\n\t\tconst { keyCode } = evt;\n\n\t\tlet next = [ DOWN ];\n\t\tlet previous = [ UP ];\n\n\t\tif ( orientation === 'horizontal' ) {\n\t\t\tnext = [ RIGHT ];\n\t\t\tprevious = [ LEFT ];\n\t\t}\n\n\t\tif ( orientation === 'both' ) {\n\t\t\tnext = [ RIGHT, DOWN ];\n\t\t\tprevious = [ LEFT, UP ];\n\t\t}\n\n\t\tif ( includes( next, keyCode ) ) {\n\t\t\treturn 1;\n\t\t} else if ( includes( previous, keyCode ) ) {\n\t\t\treturn -1;\n\t\t}\n\t};\n\n\treturn (\n\t\t<NavigableContainer\n\t\t\tref={ ref }\n\t\t\tstopNavigationEvents\n\t\t\tonlyBrowserTabstops={ false }\n\t\t\trole={ role }\n\t\t\taria-orientation={ role === 'presentation' ? null : orientation }\n\t\t\teventToOffset={ eventToOffset }\n\t\t\t{ ...rest }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( NavigableMenu );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { flatMap, isEmpty, isFunction } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { DOWN } from '@wordpress/keycodes';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport Dropdown from '../dropdown';\nimport { NavigableMenu } from '../navigable-container';\n\nfunction mergeProps( defaultProps = {}, props = {} ) {\n\tconst mergedProps = {\n\t\t...defaultProps,\n\t\t...props,\n\t};\n\n\tif ( props.className && defaultProps.className ) {\n\t\tmergedProps.className = classnames(\n\t\t\tprops.className,\n\t\t\tdefaultProps.className\n\t\t);\n\t}\n\n\treturn mergedProps;\n}\n\nfunction DropdownMenu( {\n\tchildren,\n\tclassName,\n\tcontrols,\n\ticon = 'menu',\n\tlabel,\n\tpopoverProps,\n\ttoggleProps,\n\tmenuProps,\n\t// The following props exist for backward compatibility.\n\tmenuLabel,\n\tposition,\n\tnoIcons,\n} ) {\n\tif ( menuLabel ) {\n\t\tdeprecated( '`menuLabel` prop in `DropdownComponent`', {\n\t\t\talternative: '`menuProps` object and its `aria-label` property',\n\t\t\tplugin: 'Gutenberg',\n\t\t} );\n\t}\n\n\tif ( position ) {\n\t\tdeprecated( '`position` prop in `DropdownComponent`', {\n\t\t\talternative: '`popoverProps` object and its `position` property',\n\t\t\tplugin: 'Gutenberg',\n\t\t} );\n\t}\n\n\tif ( isEmpty( controls ) && ! isFunction( children ) ) {\n\t\treturn null;\n\t}\n\n\t// Normalize controls to nested array of objects (sets of controls)\n\tlet controlSets;\n\tif ( ! isEmpty( controls ) ) {\n\t\tcontrolSets = controls;\n\t\tif ( ! Array.isArray( controlSets[ 0 ] ) ) {\n\t\t\tcontrolSets = [ controlSets ];\n\t\t}\n\t}\n\tconst mergedPopoverProps = mergeProps(\n\t\t{\n\t\t\tclassName: 'components-dropdown-menu__popover',\n\t\t\tposition,\n\t\t},\n\t\tpopoverProps\n\t);\n\n\treturn (\n\t\t<Dropdown\n\t\t\tclassName={ classnames( 'components-dropdown-menu', className ) }\n\t\t\tpopoverProps={ mergedPopoverProps }\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => {\n\t\t\t\tconst openOnArrowDown = ( event ) => {\n\t\t\t\t\tif ( ! isOpen && event.keyCode === DOWN ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tonToggle();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst mergedToggleProps = mergeProps(\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: classnames(\n\t\t\t\t\t\t\t'components-dropdown-menu__toggle',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-opened': isOpen,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\ttoggleProps\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\t{ ...mergedToggleProps }\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\tonToggle( event );\n\t\t\t\t\t\t\tif ( mergedToggleProps.onClick ) {\n\t\t\t\t\t\t\t\tmergedToggleProps.onClick( event );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\topenOnArrowDown( event );\n\t\t\t\t\t\t\tif ( mergedToggleProps.onKeyDown ) {\n\t\t\t\t\t\t\t\tmergedToggleProps.onKeyDown( event );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t>\n\t\t\t\t\t\t{ mergedToggleProps.children }\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trenderContent={ ( props ) => {\n\t\t\t\tconst mergedMenuProps = mergeProps(\n\t\t\t\t\t{\n\t\t\t\t\t\t'aria-label': menuLabel || label,\n\t\t\t\t\t\tclassName: classnames(\n\t\t\t\t\t\t\t'components-dropdown-menu__menu',\n\t\t\t\t\t\t\t{ 'no-icons': noIcons }\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\tmenuProps\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<NavigableMenu { ...mergedMenuProps } role=\"menu\">\n\t\t\t\t\t\t{ isFunction( children ) ? children( props ) : null }\n\t\t\t\t\t\t{ flatMap( controlSets, ( controlSet, indexOfSet ) =>\n\t\t\t\t\t\t\tcontrolSet.map( ( control, indexOfControl ) => (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tkey={ [\n\t\t\t\t\t\t\t\t\t\tindexOfSet,\n\t\t\t\t\t\t\t\t\t\tindexOfControl,\n\t\t\t\t\t\t\t\t\t].join() }\n\t\t\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t\t\tprops.onClose();\n\t\t\t\t\t\t\t\t\t\tif ( control.onClick ) {\n\t\t\t\t\t\t\t\t\t\t\tcontrol.onClick();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t\t'components-dropdown-menu__menu-item',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t'has-separator':\n\t\t\t\t\t\t\t\t\t\t\t\tindexOfSet > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tindexOfControl === 0,\n\t\t\t\t\t\t\t\t\t\t\t'is-active': control.isActive,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\ticon={ control.icon }\n\t\t\t\t\t\t\t\t\taria-checked={\n\t\t\t\t\t\t\t\t\t\tcontrol.role === 'menuitemcheckbox' ||\n\t\t\t\t\t\t\t\t\t\tcontrol.role === 'menuitemradio'\n\t\t\t\t\t\t\t\t\t\t\t? control.isActive\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\trole={\n\t\t\t\t\t\t\t\t\t\tcontrol.role === 'menuitemcheckbox' ||\n\t\t\t\t\t\t\t\t\t\tcontrol.role === 'menuitemradio'\n\t\t\t\t\t\t\t\t\t\t\t? control.role\n\t\t\t\t\t\t\t\t\t\t\t: 'menuitem'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdisabled={ control.isDisabled }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ control.title }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) )\n\t\t\t\t\t\t) }\n\t\t\t\t\t</NavigableMenu>\n\t\t\t\t);\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nexport default DropdownMenu;\n","/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport DropdownMenu from '../dropdown-menu';\nimport ToolbarContext from '../toolbar-context';\nimport ToolbarItem from '../toolbar-item';\n\nfunction ToolbarGroupCollapsed( { controls = [], ...props } ) {\n\t// It'll contain state if `ToolbarGroup` is being used within\n\t// `<Toolbar __experimentalAccessibilityLabel=\"label\" />`\n\tconst accessibleToolbarState = useContext( ToolbarContext );\n\n\tconst renderDropdownMenu = ( toggleProps ) => (\n\t\t<DropdownMenu\n\t\t\tcontrols={ controls }\n\t\t\ttoggleProps={ toggleProps }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n\n\tif ( accessibleToolbarState ) {\n\t\treturn <ToolbarItem>{ renderDropdownMenu }</ToolbarItem>;\n\t}\n\n\treturn renderDropdownMenu();\n}\n\nexport default ToolbarGroupCollapsed;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { flatMap } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport ToolbarButton from '../toolbar-button';\nimport ToolbarGroupContainer from './toolbar-group-container';\nimport ToolbarGroupCollapsed from './toolbar-group-collapsed';\nimport ToolbarContext from '../toolbar-context';\n\n/**\n * Renders a collapsible group of controls\n *\n * The `controls` prop accepts an array of sets. A set is an array of controls.\n * Controls have the following shape:\n *\n * ```\n * {\n *   icon: string,\n *   title: string,\n *   subscript: string,\n *   onClick: Function,\n *   isActive: boolean,\n *   isDisabled: boolean\n * }\n * ```\n *\n * For convenience it is also possible to pass only an array of controls. It is\n * then assumed this is the only set.\n *\n * Either `controls` or `children` is required, otherwise this components\n * renders nothing.\n *\n * @param {Object}                props               Component props.\n * @param {Array}                 [props.controls]    The controls to render in this toolbar.\n * @param {WPElement}             [props.children]    Any other things to render inside the toolbar besides the controls.\n * @param {string}                [props.className]   Class to set on the container div.\n * @param {boolean}               [props.isCollapsed] Turns ToolbarGroup into a dropdown menu.\n * @param {WPBlockTypeIconRender} [props.icon]        The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element.\n * @param {string}                [props.label]       The menu item text.\n */\nfunction ToolbarGroup( {\n\tcontrols = [],\n\tchildren,\n\tclassName,\n\tisCollapsed,\n\ttitle,\n\t...props\n} ) {\n\t// It'll contain state if `ToolbarGroup` is being used within\n\t// `<Toolbar accessibilityLabel=\"label\" />`\n\tconst accessibleToolbarState = useContext( ToolbarContext );\n\n\tif ( ( ! controls || ! controls.length ) && ! children ) {\n\t\treturn null;\n\t}\n\n\tconst finalClassName = classnames(\n\t\t// Unfortunately, there's legacy code referencing to `.components-toolbar`\n\t\t// So we can't get rid of it\n\t\taccessibleToolbarState\n\t\t\t? 'components-toolbar-group'\n\t\t\t: 'components-toolbar',\n\t\tclassName\n\t);\n\n\t// Normalize controls to nested array of objects (sets of controls)\n\tlet controlSets = controls;\n\tif ( ! Array.isArray( controlSets[ 0 ] ) ) {\n\t\tcontrolSets = [ controlSets ];\n\t}\n\n\tif ( isCollapsed ) {\n\t\treturn (\n\t\t\t<ToolbarGroupCollapsed\n\t\t\t\tlabel={ title }\n\t\t\t\tcontrols={ controlSets }\n\t\t\t\tclassName={ finalClassName }\n\t\t\t\tchildren={ children }\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<ToolbarGroupContainer className={ finalClassName } { ...props }>\n\t\t\t{ flatMap( controlSets, ( controlSet, indexOfSet ) =>\n\t\t\t\tcontrolSet.map( ( control, indexOfControl ) => (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tkey={ [ indexOfSet, indexOfControl ].join() }\n\t\t\t\t\t\tcontainerClassName={\n\t\t\t\t\t\t\tindexOfSet > 0 && indexOfControl === 0\n\t\t\t\t\t\t\t\t? 'has-left-divider'\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...control }\n\t\t\t\t\t/>\n\t\t\t\t) )\n\t\t\t) }\n\t\t\t{ children }\n\t\t</ToolbarGroupContainer>\n\t);\n}\n\nexport default ToolbarGroup;\n","import './getDocument.js';\nimport { createEvent } from './createEvent.js';\n\n/**\n * Creates and dispatches `Event` in a way that also works on IE 11.\n *\n * @example\n * import { fireEvent } from \"reakit-utils\";\n *\n * fireEvent(document.getElementById(\"id\"), \"blur\", {\n *   bubbles: true,\n *   cancelable: true,\n * });\n */\n\nfunction fireEvent(element, type, eventInit) {\n  return element.dispatchEvent(createEvent(element, type, eventInit));\n}\n\nexport { fireEvent };\n","import { getDocument } from './getDocument.js';\n\n/**\n * Creates an `Event` in a way that also works on IE 11.\n *\n * @example\n * import { createEvent } from \"reakit-utils\";\n *\n * const el = document.getElementById(\"id\");\n * el.dispatchEvent(createEvent(el, \"blur\", { bubbles: false }));\n */\n\nfunction createEvent(element, type, eventInit) {\n  var _eventInit, _eventInit2;\n\n  if (eventInit === void 0) {\n    eventInit = {};\n  }\n\n  if (typeof Event === \"function\") {\n    return new Event(type, eventInit);\n  } // IE 11 doesn't support Event constructors\n\n\n  var event = getDocument(element).createEvent(\"Event\");\n  event.initEvent(type, (_eventInit = eventInit) === null || _eventInit === void 0 ? void 0 : _eventInit.bubbles, (_eventInit2 = eventInit) === null || _eventInit2 === void 0 ? void 0 : _eventInit2.cancelable);\n  return event;\n}\n\nexport { createEvent };\n","import { getDocument } from './getDocument.js';\nimport { getDefaultView } from './getDefaultView.js';\n\n/**\n * Creates a `KeyboardEvent` in a way that also works on IE 11.\n *\n * @example\n * import { createKeyboardEvent } from \"reakit-utils\";\n *\n * const el = document.getElementById(\"id\");\n * el.dispatchEvent(createKeyboardEvent(el, \"keydown\", { key: \"ArrowDown\" }));\n */\n\nfunction createKeyboardEvent(element, type, eventInit) {\n  if (eventInit === void 0) {\n    eventInit = {};\n  }\n\n  if (typeof KeyboardEvent === \"function\") {\n    return new KeyboardEvent(type, eventInit);\n  } // IE 11 doesn't support Event constructors\n\n\n  var event = getDocument(element).createEvent(\"KeyboardEvent\");\n  event.initKeyboardEvent(type, eventInit.bubbles, eventInit.cancelable, getDefaultView(element), eventInit.key, eventInit.location, eventInit.ctrlKey, eventInit.altKey, eventInit.shiftKey, eventInit.metaKey);\n  return event;\n}\n\nexport { createKeyboardEvent };\n","import { getDocument } from './getDocument.js';\n\n/**\n * Returns `element.ownerDocument.defaultView || window`.\n */\n\nfunction getDefaultView(element) {\n  return getDocument(element).defaultView || window;\n}\n\nexport { getDefaultView };\n","import { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport { useBox } from '../Box/Box.js';\nimport { a as _objectSpread2, _ as _objectWithoutPropertiesLoose } from '../_rollupPluginBabelHelpers-959e870d.js';\nimport { useRef, useEffect, useCallback, useMemo } from 'react';\nimport { useForkRef } from 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport { warning, useWarning } from 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport 'reakit-utils/tabbable';\nimport 'reakit-utils/hasFocusWithin';\nimport { useTabbable } from '../Tabbable/Tabbable.js';\nimport 'reakit-utils/useSealedState';\nimport { useCreateElement } from 'reakit-system/useCreateElement';\nimport { createOnKeyDown } from 'reakit-utils/createOnKeyDown';\nimport { getDocument } from 'reakit-utils/getDocument';\nimport { fireEvent } from 'reakit-utils/fireEvent';\nimport { fireKeyboardEvent } from 'reakit-utils/fireKeyboardEvent';\nimport { isSelfTarget } from 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/applyState';\nimport '../Id/IdProvider.js';\nimport '../Id/IdState.js';\nimport { u as unstable_useCompositeState, g as getCurrentId, f as findEnabledItemById, a as findFirstEnabledItem, b as flatten, r as reverse, c as groupItems } from '../CompositeState-de01a7f3.js';\nimport { getActiveElement } from 'reakit-utils/getActiveElement';\n\nvar isIE11 = typeof window !== \"undefined\" && \"msCrypto\" in window;\nfunction getNextActiveElementOnBlur(event) {\n  // IE 11 doesn't support event.relatedTarget on blur.\n  // document.activeElement points the the next active element.\n  // On modern browsers, document.activeElement points to the current target.\n  if (isIE11) {\n    var activeElement = getActiveElement(event.target);\n    return activeElement;\n  }\n\n  return event.relatedTarget;\n}\n\nvar validCompositeRoles = [\"combobox\", \"grid\", \"tablist\", \"listbox\", \"menu\", \"menubar\", \"toolbar\", \"radiogroup\", \"tree\", \"treegrid\"];\nvar isIE11$1 = typeof window !== \"undefined\" && \"msCrypto\" in window;\n\nfunction canProxyKeyboardEvent(event) {\n  if (!isSelfTarget(event)) return false;\n  if (event.metaKey) return false;\n  if (event.key === \"Tab\") return false;\n  return true;\n}\n\nfunction useKeyboardEventProxy(virtual, currentItem, htmlEventHandler) {\n  var eventHandlerRef = useLiveRef(htmlEventHandler);\n  return useCallback(function (event) {\n    var _eventHandlerRef$curr;\n\n    if (virtual && canProxyKeyboardEvent(event)) {\n      var currentElement = currentItem === null || currentItem === void 0 ? void 0 : currentItem.ref.current;\n\n      if (currentElement) {\n        fireKeyboardEvent(currentElement, event.type, event); // The event will be triggered on the composite item and then\n        // propagated up to this composite element again, so we can pretend\n        // that it wasn't called on this component in the first place.\n\n        if (event.currentTarget.contains(currentElement)) {\n          event.stopPropagation();\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n\n    (_eventHandlerRef$curr = eventHandlerRef.current) === null || _eventHandlerRef$curr === void 0 ? void 0 : _eventHandlerRef$curr.call(eventHandlerRef, event);\n  }, [virtual, currentItem]);\n} // istanbul ignore next\n\n\nfunction useActiveElementRef(elementRef) {\n  var activeElementRef = useRef(null);\n  useEffect(function () {\n    var document = getDocument(elementRef.current);\n\n    var onFocus = function onFocus(event) {\n      var target = event.target;\n      activeElementRef.current = target;\n    };\n\n    document.addEventListener(\"focus\", onFocus, true);\n    return function () {\n      document.removeEventListener(\"focus\", onFocus, true);\n    };\n  }, []);\n  return activeElementRef;\n}\n\nfunction findFirstEnabledItemInTheLastRow(items) {\n  return findFirstEnabledItem(flatten(reverse(groupItems(items))));\n}\n\nfunction isItem(items, element) {\n  return items === null || items === void 0 ? void 0 : items.some(function (item) {\n    return !!element && item.ref.current === element;\n  });\n}\n\nvar unstable_useComposite = createHook({\n  name: \"Composite\",\n  compose: [useTabbable],\n  useState: unstable_useCompositeState,\n  useOptions: function useOptions(options) {\n    return _objectSpread2({}, options, {\n      currentId: getCurrentId(options)\n    });\n  },\n  useProps: function useProps(options, _ref) {\n    var htmlRef = _ref.ref,\n        htmlOnFocus = _ref.onFocus,\n        htmlOnBlur = _ref.onBlur,\n        htmlOnKeyDown = _ref.onKeyDown,\n        htmlOnKeyUp = _ref.onKeyUp,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"ref\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"onKeyUp\"]);\n\n    var ref = useRef(null);\n    var currentItem = findEnabledItemById(options.items, options.currentId);\n    var previousItem = useRef(undefined);\n    var onFocusRef = useLiveRef(htmlOnFocus);\n    var onBlurRef = useLiveRef(htmlOnBlur); // IE 11 doesn't support event.relatedTarget, so we use the active element\n    // ref instead.\n\n    var activeElementRef = isIE11$1 ? useActiveElementRef(ref) : undefined;\n    useEffect(function () {\n      var self = ref.current;\n\n      if (!self) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, \"Can't focus composite component because `ref` wasn't passed to component.\", \"See https://reakit.io/docs/composite\") : void 0;\n        return;\n      }\n\n      if (options.unstable_moves && !currentItem) {\n        // If composite.move(null) has been called, the composite container\n        // will receive focus.\n        self.focus();\n      }\n    }, [options.unstable_moves, currentItem]);\n    var onKeyDown = useKeyboardEventProxy(options.unstable_virtual, currentItem, htmlOnKeyDown);\n    var onKeyUp = useKeyboardEventProxy(options.unstable_virtual, currentItem, htmlOnKeyUp);\n    var onFocus = useCallback(function (event) {\n      var _onFocusRef$current2;\n\n      if (options.unstable_virtual) {\n        // IE11 doesn't support event.relatedTarget, so we use the active\n        // element ref instead.\n        var previousActiveElement = (activeElementRef === null || activeElementRef === void 0 ? void 0 : activeElementRef.current) || event.relatedTarget;\n        var previousActiveElementWasItem = isItem(options.items, previousActiveElement);\n\n        if (isSelfTarget(event) && !previousActiveElementWasItem) {\n          var _onFocusRef$current, _currentItem$ref$curr;\n\n          // This means that the composite element has been focused while the\n          // composite item has not. For example, by clicking on the\n          // composite element without touching any item, or by tabbing into\n          // the composite element. In this case, we want to trigger focus on\n          // the item, just like it would happen with roving tabindex.\n          // When it receives focus, the composite item will put focus back\n          // on the composite element, in which case hasItemWithFocus will be\n          // true.\n          (_onFocusRef$current = onFocusRef.current) === null || _onFocusRef$current === void 0 ? void 0 : _onFocusRef$current.call(onFocusRef, event);\n          currentItem === null || currentItem === void 0 ? void 0 : (_currentItem$ref$curr = currentItem.ref.current) === null || _currentItem$ref$curr === void 0 ? void 0 : _currentItem$ref$curr.focus();\n          return;\n        }\n\n        if (previousActiveElementWasItem) {\n          // Composite has been focused as a result of an item receiving\n          // focus. The composite item will move focus back to the composite\n          // container. In this case, we don't want to propagate this\n          // additional event nor call the onFocus handler passed to\n          // <Composite onFocus={...} /> (htmlOnFocus). Unless users add DOM\n          // event handlers to the composite element directly, this will be\n          // like this event has never existed.\n          event.stopPropagation();\n          return;\n        }\n      } else if (isSelfTarget(event)) {\n        var _options$setCurrentId;\n\n        // When the roving tabindex composite gets intentionally focused (for\n        // example, by clicking directly on it, and not on an item), we make\n        // sure to set the current id to null (which means the composite\n        // itself is focused).\n        (_options$setCurrentId = options.setCurrentId) === null || _options$setCurrentId === void 0 ? void 0 : _options$setCurrentId.call(options, null);\n      }\n\n      (_onFocusRef$current2 = onFocusRef.current) === null || _onFocusRef$current2 === void 0 ? void 0 : _onFocusRef$current2.call(onFocusRef, event);\n    }, [options.unstable_virtual, options.items, currentItem, options.setCurrentId]);\n    var onBlur = useCallback(function (event) {\n      var _onBlurRef$current;\n\n      // When virtual is set to true, we move focus from the composite\n      // container (this component) to the composite item that is being\n      // selected. Then we move focus back to the composite container. This\n      // is so we can provide the same API as the roving tabindex method,\n      // which means people can attach onFocus/onBlur handlers on the\n      // CompositeItem component regardless of whether it's virtual or not.\n      // This sequence of blurring and focusing items and composite may be\n      // confusing, so we ignore intermediate focus and blurs by stopping its\n      // propagation and not calling the passed onBlur handler (htmlOnBlur).\n      if (options.unstable_virtual) {\n        var targetIsItem = isItem(options.items, event.target);\n        var nextActiveElement = getNextActiveElementOnBlur(event);\n        var nextActiveElementIsItem = isItem(options.items, nextActiveElement);\n\n        if (isSelfTarget(event) && nextActiveElementIsItem) {\n          var _previousItem$current;\n\n          // This is an intermediate blur event: blurring the composite\n          // container to focus an item (nextActiveElement). We ignore this\n          // event.\n          if ((_previousItem$current = previousItem.current) === null || _previousItem$current === void 0 ? void 0 : _previousItem$current.ref.current) {\n            // If there's a previous active item we fire a blur event on it\n            // so it will work just like if it had DOM focus before (like when\n            // using roving tabindex).\n            fireEvent(previousItem.current.ref.current, \"blur\", event);\n          }\n\n          previousItem.current = currentItem;\n          event.stopPropagation();\n          return;\n        }\n\n        if (!targetIsItem) {\n          // If target is another thing (probably something outside of the\n          // composite container), we don't ignore the event, but we should\n          // reset the previousItem reference.\n          if (currentItem === null || currentItem === void 0 ? void 0 : currentItem.ref.current) {\n            fireEvent(currentItem.ref.current, \"blur\", event);\n          }\n\n          previousItem.current = undefined;\n        } else {\n          previousItem.current = currentItem;\n        }\n      }\n\n      (_onBlurRef$current = onBlurRef.current) === null || _onBlurRef$current === void 0 ? void 0 : _onBlurRef$current.call(onBlurRef, event);\n    }, [options.unstable_virtual, options.items, currentItem]);\n    var onMove = useMemo(function () {\n      return createOnKeyDown({\n        onKeyDown: onKeyDown,\n        stopPropagation: true,\n        shouldKeyDown: function shouldKeyDown(event) {\n          return isSelfTarget(event) && options.currentId === null;\n        },\n        keyMap: function keyMap() {\n          var _options$groups;\n\n          var isVertical = options.orientation !== \"horizontal\";\n          var isHorizontal = options.orientation !== \"vertical\";\n          var isGrid = !!((_options$groups = options.groups) === null || _options$groups === void 0 ? void 0 : _options$groups.length);\n\n          var up = function up() {\n            if (isGrid) {\n              var item = findFirstEnabledItemInTheLastRow(options.items);\n\n              if (item === null || item === void 0 ? void 0 : item.id) {\n                var _options$move;\n\n                (_options$move = options.move) === null || _options$move === void 0 ? void 0 : _options$move.call(options, item.id);\n              }\n            } else {\n              var _options$last;\n\n              (_options$last = options.last) === null || _options$last === void 0 ? void 0 : _options$last.call(options);\n            }\n          };\n\n          var first = options.first && function () {\n            return options.first();\n          };\n\n          var last = options.last && function () {\n            return options.last();\n          };\n\n          return {\n            ArrowUp: (isGrid || isVertical) && up,\n            ArrowRight: (isGrid || isHorizontal) && first,\n            ArrowDown: (isGrid || isVertical) && first,\n            ArrowLeft: (isGrid || isHorizontal) && last,\n            Home: first,\n            End: last,\n            PageUp: first,\n            PageDown: last\n          };\n        }\n      });\n    }, [onKeyDown, options.currentId, options.orientation, options.groups, options.items, options.move, options.last, options.first]);\n    return _objectSpread2({\n      ref: useForkRef(ref, htmlRef),\n      id: options.baseId,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onKeyDown: onMove,\n      onKeyUp: onKeyUp,\n      \"aria-activedescendant\": options.unstable_virtual ? (currentItem === null || currentItem === void 0 ? void 0 : currentItem.id) || undefined : undefined\n    }, htmlProps);\n  },\n  useComposeProps: function useComposeProps(options, htmlProps) {\n    htmlProps = useBox(options, htmlProps, true);\n    var tabbableHTMLProps = useTabbable(options, htmlProps, true);\n\n    if (options.unstable_virtual || options.currentId === null) {\n      // Composite will only be tabbable by default if the focus is managed\n      // using aria-activedescendant, which requires DOM focus on the container\n      // element (the composite)\n      return tabbableHTMLProps;\n    }\n\n    return _objectSpread2({}, htmlProps, {\n      ref: tabbableHTMLProps.ref\n    });\n  }\n});\nvar unstable_Composite = createComponent({\n  as: \"div\",\n  useHook: unstable_useComposite,\n  useCreateElement: function useCreateElement$1(type, props, children) {\n    process.env.NODE_ENV !== \"production\" ? useWarning(validCompositeRoles.indexOf(props.role) === -1, \"You should provide a valid `role` attribute to composite components.\", \"See https://reakit.io/docs/composite\") : void 0;\n    process.env.NODE_ENV !== \"production\" ? useWarning(!props[\"aria-label\"] && !props[\"aria-labelledby\"], \"You should provide either `aria-label` or `aria-labelledby` props.\", \"See https://reakit.io/docs/composite\") : void 0;\n    return useCreateElement(type, props, children);\n  }\n});\n\nexport { unstable_Composite, unstable_useComposite };\n","import './getDocument.js';\nimport './getDefaultView.js';\nimport { createKeyboardEvent } from './createKeyboardEvent.js';\n\n/**\n * Creates and dispatches `KeyboardEvent` in a way that also works on IE 11.\n *\n * @example\n * import { fireKeyboardEvent } from \"reakit-utils\";\n *\n * fireKeyboardEvent(document.getElementById(\"id\"), \"keydown\", {\n *   key: \"ArrowDown\",\n *   shiftKey: true,\n * });\n */\n\nfunction fireKeyboardEvent(element, type, eventInit) {\n  return element.dispatchEvent(createKeyboardEvent(element, type, eventInit));\n}\n\nexport { fireKeyboardEvent };\n","import { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport '../Box/Box.js';\nimport { a as _objectSpread2 } from '../_rollupPluginBabelHelpers-959e870d.js';\nimport 'react';\nimport 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport { useWarning } from 'reakit-warning';\nimport 'reakit-utils/useLiveRef';\nimport 'reakit-utils/tabbable';\nimport 'reakit-utils/hasFocusWithin';\nimport '../Tabbable/Tabbable.js';\nimport 'reakit-utils/useSealedState';\nimport { useCreateElement } from 'reakit-system/useCreateElement';\nimport 'reakit-utils/createOnKeyDown';\nimport 'reakit-utils/getDocument';\nimport 'reakit-utils/fireEvent';\nimport 'reakit-utils/fireKeyboardEvent';\nimport 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/applyState';\nimport '../Id/IdProvider.js';\nimport '../Id/IdState.js';\nimport '../CompositeState-de01a7f3.js';\nimport 'reakit-utils/getActiveElement';\nimport { unstable_useComposite } from '../Composite/Composite.js';\nimport { useToolbarState } from './ToolbarState.js';\n\nvar useToolbar = createHook({\n  name: \"Toolbar\",\n  compose: unstable_useComposite,\n  useState: useToolbarState,\n  useProps: function useProps(options, htmlProps) {\n    return _objectSpread2({\n      role: \"toolbar\",\n      \"aria-orientation\": options.orientation\n    }, htmlProps);\n  }\n});\nvar Toolbar = createComponent({\n  as: \"div\",\n  useHook: useToolbar,\n  useCreateElement: function useCreateElement$1(type, props, children) {\n    process.env.NODE_ENV !== \"production\" ? useWarning(!props[\"aria-label\"] && !props[\"aria-labelledby\"], \"You should provide either `aria-label` or `aria-labelledby` props.\", \"See https://reakit.io/docs/toolbar\") : void 0;\n    return useCreateElement(type, props, children);\n  }\n});\n\nexport { Toolbar, useToolbar };\n","/**\n * External dependencies\n */\nimport { useToolbarState, Toolbar } from 'reakit/Toolbar';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport ToolbarContext from '../toolbar-context';\n\nfunction ToolbarContainer( { accessibilityLabel, ...props }, ref ) {\n\t// https://reakit.io/docs/basic-concepts/#state-hooks\n\t// Passing baseId for server side rendering (which includes snapshots)\n\t// If an id prop is passed to Toolbar, toolbar items will use it as a base for their ids\n\tconst toolbarState = useToolbarState( { loop: true, baseId: props.id } );\n\n\treturn (\n\t\t// This will provide state for `ToolbarButton`'s\n\t\t<ToolbarContext.Provider value={ toolbarState }>\n\t\t\t<Toolbar\n\t\t\t\tref={ ref }\n\t\t\t\taria-label={ accessibilityLabel }\n\t\t\t\t{ ...toolbarState }\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t</ToolbarContext.Provider>\n\t);\n}\n\nexport default forwardRef( ToolbarContainer );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * Internal dependencies\n */\nimport ToolbarGroup from '../toolbar-group';\nimport ToolbarContainer from './toolbar-container';\n\n/**\n * Renders a toolbar.\n *\n * To add controls, simply pass `ToolbarButton` components as children.\n *\n * @param {Object} props             Component props.\n * @param {string} [props.className] Class to set on the container div.\n */\nfunction Toolbar( { className, __experimentalAccessibilityLabel, ...props } ) {\n\tif ( __experimentalAccessibilityLabel ) {\n\t\treturn (\n\t\t\t<ToolbarContainer\n\t\t\t\t// `ToolbarGroup` already uses components-toolbar for compatibility reasons\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'components-accessible-toolbar',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\taccessibilityLabel={ __experimentalAccessibilityLabel }\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn <ToolbarGroup { ...props } className={ className } />;\n}\n\nexport default Toolbar;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","/**\n * Returns true if the given object is a generator, or false otherwise.\n *\n * @see https://www.ecma-international.org/ecma-262/6.0/#sec-generator-objects\n *\n * @param {*} object Object to test.\n *\n * @return {boolean} Whether object is a generator.\n */\nexport default function isGenerator( object ) {\n\t// Check that iterator (next) and iterable (Symbol.iterator) interfaces are satisfied.\n\t// These checks seem to be compatible with several generator helpers as well as the native implementation.\n\treturn (\n\t\t!! object &&\n\t\ttypeof object[ Symbol.iterator ] === 'function' &&\n\t\ttypeof object.next === 'function'\n\t);\n}\n","/**\n * External dependencies\n */\nimport { isPlainObject, isString } from 'lodash';\n\n/**\n * Returns true if the given object quacks like an action.\n *\n * @param {*} object Object to test\n *\n * @return {boolean}  Whether object is an action.\n */\nexport function isAction( object ) {\n\treturn isPlainObject( object ) && isString( object.type );\n}\n\n/**\n * Returns true if the given object quacks like an action and has a specific\n * action type\n *\n * @param {*}      object       Object to test\n * @param {string} expectedType The expected type for the action.\n *\n * @return {boolean} Whether object is an action and is of specific type.\n */\nexport function isActionOfType( object, expectedType ) {\n\treturn isAction( object ) && object.type === expectedType;\n}\n","/**\n * External dependencies\n */\nimport { create } from 'rungen';\nimport { map } from 'lodash';\nimport isPromise from 'is-promise';\n\n/**\n * Internal dependencies\n */\nimport { isActionOfType, isAction } from './is-action';\n\n/**\n * Create a co-routine runtime.\n *\n * @param {Object}    controls Object of control handlers.\n * @param {Function}  dispatch Unhandled action dispatch.\n *\n * @return {Function} co-routine runtime\n */\nexport default function createRuntime( controls = {}, dispatch ) {\n\tconst rungenControls = map(\n\t\tcontrols,\n\t\t( control, actionType ) => (\n\t\t\tvalue,\n\t\t\tnext,\n\t\t\titerate,\n\t\t\tyieldNext,\n\t\t\tyieldError\n\t\t) => {\n\t\t\tif ( ! isActionOfType( value, actionType ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst routine = control( value );\n\t\t\tif ( isPromise( routine ) ) {\n\t\t\t\t// Async control routine awaits resolution.\n\t\t\t\troutine.then( yieldNext, yieldError );\n\t\t\t} else {\n\t\t\t\tyieldNext( routine );\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t);\n\n\tconst unhandledActionControl = ( value, next ) => {\n\t\tif ( ! isAction( value ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tdispatch( value );\n\t\tnext();\n\t\treturn true;\n\t};\n\trungenControls.push( unhandledActionControl );\n\n\tconst rungenRuntime = create( rungenControls );\n\n\treturn ( action ) =>\n\t\tnew Promise( ( resolve, reject ) =>\n\t\t\trungenRuntime(\n\t\t\t\taction,\n\t\t\t\t( result ) => {\n\t\t\t\t\tif ( isAction( result ) ) {\n\t\t\t\t\t\tdispatch( result );\n\t\t\t\t\t}\n\t\t\t\t\tresolve( result );\n\t\t\t\t},\n\t\t\t\treject\n\t\t\t)\n\t\t);\n}\n","/**\n * External dependencies\n */\nimport isPromise from 'is-promise';\n\n/**\n * Simplest possible promise redux middleware.\n *\n * @return {Function} middleware.\n */\nconst promiseMiddleware = () => ( next ) => ( action ) => {\n\tif ( isPromise( action ) ) {\n\t\treturn action.then( ( resolvedAction ) => {\n\t\t\tif ( resolvedAction ) {\n\t\t\t\treturn next( resolvedAction );\n\t\t\t}\n\t\t} );\n\t}\n\n\treturn next( action );\n};\n\nexport default promiseMiddleware;\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/** @typedef {import('./registry').WPDataRegistry} WPDataRegistry */\n\n/**\n * Creates a middleware handling resolvers cache invalidation.\n *\n * @param {WPDataRegistry} registry   The registry reference for which to create\n *                                    the middleware.\n * @param {string}         reducerKey The namespace for which to create the\n *                                    middleware.\n *\n * @return {Function} Middleware function.\n */\nconst createResolversCacheMiddleware = ( registry, reducerKey ) => () => (\n\tnext\n) => ( action ) => {\n\tconst resolvers = registry\n\t\t.select( 'core/data' )\n\t\t.getCachedResolvers( reducerKey );\n\tObject.entries( resolvers ).forEach(\n\t\t( [ selectorName, resolversByArgs ] ) => {\n\t\t\tconst resolver = get( registry.stores, [\n\t\t\t\treducerKey,\n\t\t\t\t'resolvers',\n\t\t\t\tselectorName,\n\t\t\t] );\n\t\t\tif ( ! resolver || ! resolver.shouldInvalidate ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolversByArgs.forEach( ( value, args ) => {\n\t\t\t\t// resolversByArgs is the map Map([ args ] => boolean) storing the cache resolution status for a given selector.\n\t\t\t\t// If the value is false it means this resolver has finished its resolution which means we need to invalidate it,\n\t\t\t\t// if it's true it means it's inflight and the invalidation is not necessary.\n\t\t\t\tif (\n\t\t\t\t\tvalue !== false ||\n\t\t\t\t\t! resolver.shouldInvalidate( action, ...args )\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Trigger cache invalidation\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( 'core/data' )\n\t\t\t\t\t.invalidateResolution( reducerKey, selectorName, args );\n\t\t\t} );\n\t\t}\n\t);\n\treturn next( action );\n};\n\nexport default createResolversCacheMiddleware;\n","/**\n * Higher-order reducer creator which creates a combined reducer object, keyed\n * by a property on the action object.\n *\n * @param {string} actionProperty Action property by which to key object.\n *\n * @return {Function} Higher-order reducer.\n */\nexport const onSubKey = ( actionProperty ) => ( reducer ) => (\n\tstate = {},\n\taction\n) => {\n\t// Retrieve subkey from action. Do not track if undefined; useful for cases\n\t// where reducer is scoped by action shape.\n\tconst key = action[ actionProperty ];\n\tif ( key === undefined ) {\n\t\treturn state;\n\t}\n\n\t// Avoid updating state if unchanged. Note that this also accounts for a\n\t// reducer which returns undefined on a key which is not yet tracked.\n\tconst nextKeyState = reducer( state[ key ], action );\n\tif ( nextKeyState === state[ key ] ) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\t...state,\n\t\t[ key ]: nextKeyState,\n\t};\n};\n","/**\n * External dependencies\n */\nimport { flowRight, omit, has } from 'lodash';\nimport EquivalentKeyMap from 'equivalent-key-map';\n\n/**\n * Internal dependencies\n */\nimport { onSubKey } from './utils';\n\n/**\n * Reducer function returning next state for selector resolution of\n * subkeys, object form:\n *\n *  selectorName -> EquivalentKeyMap<Array,boolean>\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Next state.\n */\nconst subKeysIsResolved = flowRight( [ onSubKey( 'selectorName' ) ] )(\n\t( state = new EquivalentKeyMap(), action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'START_RESOLUTION':\n\t\t\tcase 'FINISH_RESOLUTION': {\n\t\t\t\tconst isStarting = action.type === 'START_RESOLUTION';\n\t\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\t\tnextState.set( action.args, isStarting );\n\t\t\t\treturn nextState;\n\t\t\t}\n\t\t\tcase 'INVALIDATE_RESOLUTION': {\n\t\t\t\tconst nextState = new EquivalentKeyMap( state );\n\t\t\t\tnextState.delete( action.args );\n\t\t\t\treturn nextState;\n\t\t\t}\n\t\t}\n\t\treturn state;\n\t}\n);\n\n/**\n * Reducer function returning next state for selector resolution, object form:\n *\n *   selectorName -> EquivalentKeyMap<Array, boolean>\n *\n * @param {Object} state   Current state.\n * @param {Object} action  Dispatched action.\n *\n * @return {Object} Next state.\n */\nconst isResolved = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'INVALIDATE_RESOLUTION_FOR_STORE':\n\t\t\treturn {};\n\t\tcase 'INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR':\n\t\t\treturn has( state, [ action.selectorName ] )\n\t\t\t\t? omit( state, [ action.selectorName ] )\n\t\t\t\t: state;\n\t\tcase 'START_RESOLUTION':\n\t\tcase 'FINISH_RESOLUTION':\n\t\tcase 'INVALIDATE_RESOLUTION':\n\t\t\treturn subKeysIsResolved( state, action );\n\t}\n\treturn state;\n};\n\nexport default isResolved;\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * Returns the raw `isResolving` value for a given selector name,\n * and arguments set. May be undefined if the selector has never been resolved\n * or not resolved for the given set of arguments, otherwise true or false for\n * resolution started and completed respectively.\n *\n * @param {Object} state        Data state.\n * @param {string} selectorName Selector name.\n * @param {Array}  args         Arguments passed to selector.\n *\n * @return {?boolean} isResolving value.\n */\nexport function getIsResolving( state, selectorName, args ) {\n\tconst map = get( state, [ selectorName ] );\n\tif ( ! map ) {\n\t\treturn;\n\t}\n\n\treturn map.get( args );\n}\n\n/**\n * Returns true if resolution has already been triggered for a given\n * selector name, and arguments set.\n *\n * @param {Object} state        Data state.\n * @param {string} selectorName Selector name.\n * @param {?Array} args         Arguments passed to selector (default `[]`).\n *\n * @return {boolean} Whether resolution has been triggered.\n */\nexport function hasStartedResolution( state, selectorName, args = [] ) {\n\treturn getIsResolving( state, selectorName, args ) !== undefined;\n}\n\n/**\n * Returns true if resolution has completed for a given selector\n * name, and arguments set.\n *\n * @param {Object} state        Data state.\n * @param {string} selectorName Selector name.\n * @param {?Array} args         Arguments passed to selector.\n *\n * @return {boolean} Whether resolution has completed.\n */\nexport function hasFinishedResolution( state, selectorName, args = [] ) {\n\treturn getIsResolving( state, selectorName, args ) === false;\n}\n\n/**\n * Returns true if resolution has been triggered but has not yet completed for\n * a given selector name, and arguments set.\n *\n * @param {Object} state        Data state.\n * @param {string} selectorName Selector name.\n * @param {?Array} args         Arguments passed to selector.\n *\n * @return {boolean} Whether resolution is in progress.\n */\nexport function isResolving( state, selectorName, args = [] ) {\n\treturn getIsResolving( state, selectorName, args ) === true;\n}\n\n/**\n * Returns the list of the cached resolvers.\n *\n * @param {Object} state      Data state.\n *\n * @return {Object} Resolvers mapped by args and selectorName.\n */\nexport function getCachedResolvers( state ) {\n\treturn state;\n}\n","/**\n * Returns an action object used in signalling that selector resolution has\n * started.\n *\n * @param {string} selectorName Name of selector for which resolver triggered.\n * @param {...*}   args         Arguments to associate for uniqueness.\n *\n * @return {Object} Action object.\n */\nexport function startResolution( selectorName, args ) {\n\treturn {\n\t\ttype: 'START_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that selector resolution has\n * completed.\n *\n * @param {string} selectorName Name of selector for which resolver triggered.\n * @param {...*}   args         Arguments to associate for uniqueness.\n *\n * @return {Object} Action object.\n */\nexport function finishResolution( selectorName, args ) {\n\treturn {\n\t\ttype: 'FINISH_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that we should invalidate the resolution cache.\n *\n * @param {string} selectorName Name of selector for which resolver should be invalidated.\n * @param {Array}  args         Arguments to associate for uniqueness.\n *\n * @return {Object} Action object.\n */\nexport function invalidateResolution( selectorName, args ) {\n\treturn {\n\t\ttype: 'INVALIDATE_RESOLUTION',\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the resolution\n * should be invalidated.\n *\n * @return {Object} Action object.\n */\nexport function invalidateResolutionForStore() {\n\treturn {\n\t\ttype: 'INVALIDATE_RESOLUTION_FOR_STORE',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the resolution cache for a\n * given selectorName should be invalidated.\n *\n * @param {string} selectorName Name of selector for which all resolvers should\n *                              be invalidated.\n *\n * @return  {Object} Action object.\n */\nexport function invalidateResolutionForStoreSelector( selectorName ) {\n\treturn {\n\t\ttype: 'INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR',\n\t\tselectorName,\n\t};\n}\n","/**\n * External dependencies\n */\nimport { createStore, applyMiddleware } from 'redux';\nimport { flowRight, get, mapValues } from 'lodash';\nimport combineReducers from 'turbo-combine-reducers';\n\n/**\n * WordPress dependencies\n */\nimport createReduxRoutineMiddleware from '@wordpress/redux-routine';\n\n/**\n * Internal dependencies\n */\nimport promise from '../promise-middleware';\nimport createResolversCacheMiddleware from '../resolvers-cache-middleware';\nimport metadataReducer from './metadata/reducer';\nimport * as metadataSelectors from './metadata/selectors';\nimport * as metadataActions from './metadata/actions';\n\n/**\n * @typedef {WPDataRegistry} WPDataRegistry\n */\n\n/**\n * Creates a namespace object with a store derived from the reducer given.\n *\n * @param {string}         key      Unique namespace identifier.\n * @param {Object}         options  Registered store options, with properties\n *                                  describing reducer, actions, selectors, and\n *                                  resolvers.\n * @param {WPDataRegistry} registry Registry reference.\n *\n * @return {Object} Store Object.\n */\nexport default function createNamespace( key, options, registry ) {\n\tconst reducer = options.reducer;\n\tconst store = createReduxStore( key, options, registry );\n\n\tlet resolvers;\n\tconst actions = mapActions(\n\t\t{\n\t\t\t...metadataActions,\n\t\t\t...options.actions,\n\t\t},\n\t\tstore\n\t);\n\tlet selectors = mapSelectors(\n\t\t{\n\t\t\t...mapValues(\n\t\t\t\tmetadataSelectors,\n\t\t\t\t( selector ) => ( state, ...args ) =>\n\t\t\t\t\tselector( state.metadata, ...args )\n\t\t\t),\n\t\t\t...mapValues( options.selectors, ( selector ) => {\n\t\t\t\tif ( selector.isRegistrySelector ) {\n\t\t\t\t\tselector.registry = registry;\n\t\t\t\t}\n\n\t\t\t\treturn ( state, ...args ) => selector( state.root, ...args );\n\t\t\t} ),\n\t\t},\n\t\tstore\n\t);\n\tif ( options.resolvers ) {\n\t\tconst result = mapResolvers( options.resolvers, selectors, store );\n\t\tresolvers = result.resolvers;\n\t\tselectors = result.selectors;\n\t}\n\n\tconst getSelectors = () => selectors;\n\tconst getActions = () => actions;\n\n\t// We have some modules monkey-patching the store object\n\t// It's wrong to do so but until we refactor all of our effects to controls\n\t// We need to keep the same \"store\" instance here.\n\tstore.__unstableOriginalGetState = store.getState;\n\tstore.getState = () => store.__unstableOriginalGetState().root;\n\n\t// Customize subscribe behavior to call listeners only on effective change,\n\t// not on every dispatch.\n\tconst subscribe =\n\t\tstore &&\n\t\tfunction( listener ) {\n\t\t\tlet lastState = store.__unstableOriginalGetState();\n\t\t\tstore.subscribe( () => {\n\t\t\t\tconst state = store.__unstableOriginalGetState();\n\t\t\t\tconst hasChanged = state !== lastState;\n\t\t\t\tlastState = state;\n\n\t\t\t\tif ( hasChanged ) {\n\t\t\t\t\tlistener();\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\n\t// This can be simplified to just { subscribe, getSelectors, getActions }\n\t// Once we remove the use function.\n\treturn {\n\t\treducer,\n\t\tstore,\n\t\tactions,\n\t\tselectors,\n\t\tresolvers,\n\t\tgetSelectors,\n\t\tgetActions,\n\t\tsubscribe,\n\t};\n}\n\n/**\n * Creates a redux store for a namespace.\n *\n * @param {string}         key      Unique namespace identifier.\n * @param {Object}         options  Registered store options, with properties\n *                                  describing reducer, actions, selectors, and\n *                                  resolvers.\n * @param {WPDataRegistry} registry Registry reference.\n *\n * @return {Object} Newly created redux store.\n */\nfunction createReduxStore( key, options, registry ) {\n\tconst middlewares = [\n\t\tcreateResolversCacheMiddleware( registry, key ),\n\t\tpromise,\n\t];\n\n\tif ( options.controls ) {\n\t\tconst normalizedControls = mapValues( options.controls, ( control ) => {\n\t\t\treturn control.isRegistryControl ? control( registry ) : control;\n\t\t} );\n\t\tmiddlewares.push( createReduxRoutineMiddleware( normalizedControls ) );\n\t}\n\n\tconst enhancers = [ applyMiddleware( ...middlewares ) ];\n\tif (\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__\n\t) {\n\t\tenhancers.push(\n\t\t\twindow.__REDUX_DEVTOOLS_EXTENSION__( {\n\t\t\t\tname: key,\n\t\t\t\tinstanceId: key,\n\t\t\t} )\n\t\t);\n\t}\n\n\tconst { reducer, initialState } = options;\n\tconst enhancedReducer = combineReducers( {\n\t\tmetadata: metadataReducer,\n\t\troot: reducer,\n\t} );\n\n\treturn createStore(\n\t\tenhancedReducer,\n\t\t{ root: initialState },\n\t\tflowRight( enhancers )\n\t);\n}\n\n/**\n * Maps selectors to a store.\n *\n * @param {Object} selectors Selectors to register. Keys will be used as the\n *                           public facing API. Selectors will get passed the\n *                           state as first argument.\n * @param {Object} store     The store to which the selectors should be mapped.\n *\n * @return {Object} Selectors mapped to the provided store.\n */\nfunction mapSelectors( selectors, store ) {\n\tconst createStateSelector = ( registrySelector ) => {\n\t\tconst selector = function runSelector() {\n\t\t\t// This function is an optimized implementation of:\n\t\t\t//\n\t\t\t//   selector( store.getState(), ...arguments )\n\t\t\t//\n\t\t\t// Where the above would incur an `Array#concat` in its application,\n\t\t\t// the logic here instead efficiently constructs an arguments array via\n\t\t\t// direct assignment.\n\t\t\tconst argsLength = arguments.length;\n\t\t\tconst args = new Array( argsLength + 1 );\n\t\t\targs[ 0 ] = store.__unstableOriginalGetState();\n\t\t\tfor ( let i = 0; i < argsLength; i++ ) {\n\t\t\t\targs[ i + 1 ] = arguments[ i ];\n\t\t\t}\n\n\t\t\treturn registrySelector( ...args );\n\t\t};\n\t\tselector.hasResolver = false;\n\t\treturn selector;\n\t};\n\n\treturn mapValues( selectors, createStateSelector );\n}\n\n/**\n * Maps actions to dispatch from a given store.\n *\n * @param {Object} actions    Actions to register.\n * @param {Object} store      The redux store to which the actions should be mapped.\n * @return {Object}           Actions mapped to the redux store provided.\n */\nfunction mapActions( actions, store ) {\n\tconst createBoundAction = ( action ) => ( ...args ) => {\n\t\treturn Promise.resolve( store.dispatch( action( ...args ) ) );\n\t};\n\n\treturn mapValues( actions, createBoundAction );\n}\n\n/**\n * Returns resolvers with matched selectors for a given namespace.\n * Resolvers are side effects invoked once per argument set of a given selector call,\n * used in ensuring that the data needs for the selector are satisfied.\n *\n * @param {Object} resolvers   Resolvers to register.\n * @param {Object} selectors   The current selectors to be modified.\n * @param {Object} store       The redux store to which the resolvers should be mapped.\n * @return {Object}            An object containing updated selectors and resolvers.\n */\nfunction mapResolvers( resolvers, selectors, store ) {\n\tconst mappedResolvers = mapValues( resolvers, ( resolver ) => {\n\t\tconst { fulfill: resolverFulfill = resolver } = resolver;\n\t\treturn { ...resolver, fulfill: resolverFulfill };\n\t} );\n\n\tconst mapSelector = ( selector, selectorName ) => {\n\t\tconst resolver = resolvers[ selectorName ];\n\t\tif ( ! resolver ) {\n\t\t\tselector.hasResolver = false;\n\t\t\treturn selector;\n\t\t}\n\n\t\tconst selectorResolver = ( ...args ) => {\n\t\t\tasync function fulfillSelector() {\n\t\t\t\tconst state = store.getState();\n\t\t\t\tif (\n\t\t\t\t\ttypeof resolver.isFulfilled === 'function' &&\n\t\t\t\t\tresolver.isFulfilled( state, ...args )\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst { metadata } = store.__unstableOriginalGetState();\n\t\t\t\tif (\n\t\t\t\t\tmetadataSelectors.hasStartedResolution(\n\t\t\t\t\t\tmetadata,\n\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\targs\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tstore.dispatch(\n\t\t\t\t\tmetadataActions.startResolution( selectorName, args )\n\t\t\t\t);\n\t\t\t\tawait fulfillResolver(\n\t\t\t\t\tstore,\n\t\t\t\t\tmappedResolvers,\n\t\t\t\t\tselectorName,\n\t\t\t\t\t...args\n\t\t\t\t);\n\t\t\t\tstore.dispatch(\n\t\t\t\t\tmetadataActions.finishResolution( selectorName, args )\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tfulfillSelector( ...args );\n\t\t\treturn selector( ...args );\n\t\t};\n\t\tselectorResolver.hasResolver = true;\n\t\treturn selectorResolver;\n\t};\n\n\treturn {\n\t\tresolvers: mappedResolvers,\n\t\tselectors: mapValues( selectors, mapSelector ),\n\t};\n}\n\n/**\n * Calls a resolver given arguments\n *\n * @param {Object} store        Store reference, for fulfilling via resolvers\n * @param {Object} resolvers    Store Resolvers\n * @param {string} selectorName Selector name to fulfill.\n * @param {Array} args          Selector Arguments.\n */\nasync function fulfillResolver( store, resolvers, selectorName, ...args ) {\n\tconst resolver = get( resolvers, [ selectorName ] );\n\tif ( ! resolver ) {\n\t\treturn;\n\t}\n\n\tconst action = resolver.fulfill( ...args );\n\tif ( action ) {\n\t\tawait store.dispatch( action );\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport isGenerator from './is-generator';\nimport createRuntime from './runtime';\n\n/**\n * Creates a Redux middleware, given an object of controls where each key is an\n * action type for which to act upon, the value a function which returns either\n * a promise which is to resolve when evaluation of the action should continue,\n * or a value. The value or resolved promise value is assigned on the return\n * value of the yield assignment. If the control handler returns undefined, the\n * execution is not continued.\n *\n * @param {Object} controls Object of control handlers.\n *\n * @return {Function} Co-routine runtime\n */\nexport default function createMiddleware( controls = {} ) {\n\treturn ( store ) => {\n\t\tconst runtime = createRuntime( controls, store.dispatch );\n\t\treturn ( next ) => ( action ) => {\n\t\t\tif ( ! isGenerator( action ) ) {\n\t\t\t\treturn next( action );\n\t\t\t}\n\n\t\t\treturn runtime( action );\n\t\t};\n\t};\n}\n","function createCoreDataStore( registry ) {\n\tconst getCoreDataSelector = ( selectorName ) => ( reducerKey, ...args ) => {\n\t\treturn registry.select( reducerKey )[ selectorName ]( ...args );\n\t};\n\n\tconst getCoreDataAction = ( actionName ) => ( reducerKey, ...args ) => {\n\t\treturn registry.dispatch( reducerKey )[ actionName ]( ...args );\n\t};\n\n\treturn {\n\t\tgetSelectors() {\n\t\t\treturn [\n\t\t\t\t'getIsResolving',\n\t\t\t\t'hasStartedResolution',\n\t\t\t\t'hasFinishedResolution',\n\t\t\t\t'isResolving',\n\t\t\t\t'getCachedResolvers',\n\t\t\t].reduce(\n\t\t\t\t( memo, selectorName ) => ( {\n\t\t\t\t\t...memo,\n\t\t\t\t\t[ selectorName ]: getCoreDataSelector( selectorName ),\n\t\t\t\t} ),\n\t\t\t\t{}\n\t\t\t);\n\t\t},\n\n\t\tgetActions() {\n\t\t\treturn [\n\t\t\t\t'startResolution',\n\t\t\t\t'finishResolution',\n\t\t\t\t'invalidateResolution',\n\t\t\t\t'invalidateResolutionForStore',\n\t\t\t\t'invalidateResolutionForStoreSelector',\n\t\t\t].reduce(\n\t\t\t\t( memo, actionName ) => ( {\n\t\t\t\t\t...memo,\n\t\t\t\t\t[ actionName ]: getCoreDataAction( actionName ),\n\t\t\t\t} ),\n\t\t\t\t{}\n\t\t\t);\n\t\t},\n\n\t\tsubscribe() {\n\t\t\t// There's no reasons to trigger any listener when we subscribe to this store\n\t\t\t// because there's no state stored in this store that need to retrigger selectors\n\t\t\t// if a change happens, the corresponding store where the tracking stated live\n\t\t\t// would have already triggered a \"subscribe\" call.\n\t\t\treturn () => {};\n\t\t},\n\t};\n}\n\nexport default createCoreDataStore;\n","/**\n * External dependencies\n */\nimport { omit, without, mapValues } from 'lodash';\nimport memize from 'memize';\n\n/**\n * Internal dependencies\n */\nimport createNamespace from './namespace-store';\nimport createCoreDataStore from './store';\n\n/**\n * @typedef {Object} WPDataRegistry An isolated orchestrator of store registrations.\n *\n * @property {Function} registerGenericStore Given a namespace key and settings\n *                                           object, registers a new generic\n *                                           store.\n * @property {Function} registerStore        Given a namespace key and settings\n *                                           object, registers a new namespace\n *                                           store.\n * @property {Function} subscribe            Given a function callback, invokes\n *                                           the callback on any change to state\n *                                           within any registered store.\n * @property {Function} select               Given a namespace key, returns an\n *                                           object of the  store's registered\n *                                           selectors.\n * @property {Function} dispatch             Given a namespace key, returns an\n *                                           object of the store's registered\n *                                           action dispatchers.\n */\n\n/**\n * @typedef {Object} WPDataPlugin An object of registry function overrides.\n *\n * @property {Function} registerStore registers store.\n */\n\n/**\n * Creates a new store registry, given an optional object of initial store\n * configurations.\n *\n * @param {Object}  storeConfigs Initial store configurations.\n * @param {Object?} parent       Parent registry.\n *\n * @return {WPDataRegistry} Data registry.\n */\nexport function createRegistry( storeConfigs = {}, parent = null ) {\n\tconst stores = {};\n\tlet listeners = [];\n\n\t/**\n\t * Global listener called for each store's update.\n\t */\n\tfunction globalListener() {\n\t\tlisteners.forEach( ( listener ) => listener() );\n\t}\n\n\t/**\n\t * Subscribe to changes to any data.\n\t *\n\t * @param {Function}   listener Listener function.\n\t *\n\t * @return {Function}           Unsubscribe function.\n\t */\n\tconst subscribe = ( listener ) => {\n\t\tlisteners.push( listener );\n\n\t\treturn () => {\n\t\t\tlisteners = without( listeners, listener );\n\t\t};\n\t};\n\n\t/**\n\t * Calls a selector given the current state and extra arguments.\n\t *\n\t * @param {string} reducerKey Part of the state shape to register the\n\t *                            selectors for.\n\t *\n\t * @return {*} The selector's returned value.\n\t */\n\tfunction select( reducerKey ) {\n\t\tconst store = stores[ reducerKey ];\n\t\tif ( store ) {\n\t\t\treturn store.getSelectors();\n\t\t}\n\n\t\treturn parent && parent.select( reducerKey );\n\t}\n\n\tconst getResolveSelectors = memize(\n\t\t( selectors ) => {\n\t\t\treturn mapValues(\n\t\t\t\tomit( selectors, [\n\t\t\t\t\t'getIsResolving',\n\t\t\t\t\t'hasStartedResolution',\n\t\t\t\t\t'hasFinishedResolution',\n\t\t\t\t\t'isResolving',\n\t\t\t\t\t'getCachedResolvers',\n\t\t\t\t] ),\n\t\t\t\t( selector, selectorName ) => {\n\t\t\t\t\treturn ( ...args ) => {\n\t\t\t\t\t\treturn new Promise( ( resolve ) => {\n\t\t\t\t\t\t\tconst hasFinished = () =>\n\t\t\t\t\t\t\t\tselectors.hasFinishedResolution(\n\t\t\t\t\t\t\t\t\tselectorName,\n\t\t\t\t\t\t\t\t\targs\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst getResult = () =>\n\t\t\t\t\t\t\t\tselector.apply( null, args );\n\n\t\t\t\t\t\t\t// trigger the selector (to trigger the resolver)\n\t\t\t\t\t\t\tconst result = getResult();\n\t\t\t\t\t\t\tif ( hasFinished() ) {\n\t\t\t\t\t\t\t\treturn resolve( result );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst unsubscribe = subscribe( () => {\n\t\t\t\t\t\t\t\tif ( hasFinished() ) {\n\t\t\t\t\t\t\t\t\tunsubscribe();\n\t\t\t\t\t\t\t\t\tresolve( getResult() );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t{ maxSize: 1 }\n\t);\n\n\t/**\n\t * Given the name of a registered store, returns an object containing the store's\n\t * selectors pre-bound to state so that you only need to supply additional arguments,\n\t * and modified so that they return promises that resolve to their eventual values,\n\t * after any resolvers have ran.\n\t *\n\t * @param {string} reducerKey Part of the state shape to register the\n\t *                            selectors for.\n\t *\n\t * @return {Object} Each key of the object matches the name of a selector.\n\t */\n\tfunction __experimentalResolveSelect( reducerKey ) {\n\t\treturn getResolveSelectors( select( reducerKey ) );\n\t}\n\n\t/**\n\t * Returns the available actions for a part of the state.\n\t *\n\t * @param {string} reducerKey Part of the state shape to dispatch the\n\t *                            action for.\n\t *\n\t * @return {*} The action's returned value.\n\t */\n\tfunction dispatch( reducerKey ) {\n\t\tconst store = stores[ reducerKey ];\n\t\tif ( store ) {\n\t\t\treturn store.getActions();\n\t\t}\n\n\t\treturn parent && parent.dispatch( reducerKey );\n\t}\n\n\t//\n\t// Deprecated\n\t// TODO: Remove this after `use()` is removed.\n\t//\n\tfunction withPlugins( attributes ) {\n\t\treturn mapValues( attributes, ( attribute, key ) => {\n\t\t\tif ( typeof attribute !== 'function' ) {\n\t\t\t\treturn attribute;\n\t\t\t}\n\t\t\treturn function() {\n\t\t\t\treturn registry[ key ].apply( null, arguments );\n\t\t\t};\n\t\t} );\n\t}\n\n\t/**\n\t * Registers a generic store.\n\t *\n\t * @param {string} key    Store registry key.\n\t * @param {Object} config Configuration (getSelectors, getActions, subscribe).\n\t */\n\tfunction registerGenericStore( key, config ) {\n\t\tif ( typeof config.getSelectors !== 'function' ) {\n\t\t\tthrow new TypeError( 'config.getSelectors must be a function' );\n\t\t}\n\t\tif ( typeof config.getActions !== 'function' ) {\n\t\t\tthrow new TypeError( 'config.getActions must be a function' );\n\t\t}\n\t\tif ( typeof config.subscribe !== 'function' ) {\n\t\t\tthrow new TypeError( 'config.subscribe must be a function' );\n\t\t}\n\t\tstores[ key ] = config;\n\t\tconfig.subscribe( globalListener );\n\t}\n\n\tlet registry = {\n\t\tregisterGenericStore,\n\t\tstores,\n\t\tnamespaces: stores, // TODO: Deprecate/remove this.\n\t\tsubscribe,\n\t\tselect,\n\t\t__experimentalResolveSelect,\n\t\tdispatch,\n\t\tuse,\n\t};\n\n\t/**\n\t * Registers a standard `@wordpress/data` store.\n\t *\n\t * @param {string} reducerKey Reducer key.\n\t * @param {Object} options    Store description (reducer, actions, selectors, resolvers).\n\t *\n\t * @return {Object} Registered store object.\n\t */\n\tregistry.registerStore = ( reducerKey, options ) => {\n\t\tif ( ! options.reducer ) {\n\t\t\tthrow new TypeError( 'Must specify store reducer' );\n\t\t}\n\n\t\tconst namespace = createNamespace( reducerKey, options, registry );\n\t\tregisterGenericStore( reducerKey, namespace );\n\t\treturn namespace.store;\n\t};\n\n\t//\n\t// TODO:\n\t// This function will be deprecated as soon as it is no longer internally referenced.\n\t//\n\tfunction use( plugin, options ) {\n\t\tregistry = {\n\t\t\t...registry,\n\t\t\t...plugin( registry, options ),\n\t\t};\n\n\t\treturn registry;\n\t}\n\n\tregisterGenericStore( 'core/data', createCoreDataStore( registry ) );\n\n\tObject.entries( storeConfigs ).forEach( ( [ name, config ] ) =>\n\t\tregistry.registerStore( name, config )\n\t);\n\n\tif ( parent ) {\n\t\tparent.subscribe( globalListener );\n\t}\n\n\treturn withPlugins( registry );\n}\n","/**\n * Internal dependencies\n */\nimport { createRegistry } from './registry';\n\nexport default createRegistry();\n","let objectStorage;\n\nconst storage = {\n\tgetItem( key ) {\n\t\tif ( ! objectStorage || ! objectStorage[ key ] ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn objectStorage[ key ];\n\t},\n\tsetItem( key, value ) {\n\t\tif ( ! objectStorage ) {\n\t\t\tstorage.clear();\n\t\t}\n\n\t\tobjectStorage[ key ] = String( value );\n\t},\n\tclear() {\n\t\tobjectStorage = Object.create( null );\n\t},\n};\n\nexport default storage;\n","/**\n * Internal dependencies\n */\nimport objectStorage from './object';\n\nlet storage;\n\ntry {\n\t// Private Browsing in Safari 10 and earlier will throw an error when\n\t// attempting to set into localStorage. The test here is intentional in\n\t// causing a thrown error as condition for using fallback object storage.\n\tstorage = window.localStorage;\n\tstorage.setItem( '__wpDataTestLocalStorage', '' );\n\tstorage.removeItem( '__wpDataTestLocalStorage' );\n} catch ( error ) {\n\tstorage = objectStorage;\n}\n\nexport default storage;\n","/**\n * External dependencies\n */\nimport { merge, isPlainObject, get, has } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport defaultStorage from './storage/default';\nimport { combineReducers } from '../../';\n\n/** @typedef {import('../../registry').WPDataRegistry} WPDataRegistry */\n\n/** @typedef {import('../../registry').WPDataPlugin} WPDataPlugin */\n\n/**\n * @typedef {Object} WPDataPersistencePluginOptions Persistence plugin options.\n *\n * @property {Storage} storage    Persistent storage implementation. This must\n *                                at least implement `getItem` and `setItem` of\n *                                the Web Storage API.\n * @property {string}  storageKey Key on which to set in persistent storage.\n *\n */\n\n/**\n * Default plugin storage.\n *\n * @type {Storage}\n */\nconst DEFAULT_STORAGE = defaultStorage;\n\n/**\n * Default plugin storage key.\n *\n * @type {string}\n */\nconst DEFAULT_STORAGE_KEY = 'WP_DATA';\n\n/**\n * Higher-order reducer which invokes the original reducer only if state is\n * inequal from that of the action's `nextState` property, otherwise returning\n * the original state reference.\n *\n * @param {Function} reducer Original reducer.\n *\n * @return {Function} Enhanced reducer.\n */\nexport const withLazySameState = ( reducer ) => ( state, action ) => {\n\tif ( action.nextState === state ) {\n\t\treturn state;\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Creates a persistence interface, exposing getter and setter methods (`get`\n * and `set` respectively).\n *\n * @param {WPDataPersistencePluginOptions} options Plugin options.\n *\n * @return {Object} Persistence interface.\n */\nexport function createPersistenceInterface( options ) {\n\tconst {\n\t\tstorage = DEFAULT_STORAGE,\n\t\tstorageKey = DEFAULT_STORAGE_KEY,\n\t} = options;\n\n\tlet data;\n\n\t/**\n\t * Returns the persisted data as an object, defaulting to an empty object.\n\t *\n\t * @return {Object} Persisted data.\n\t */\n\tfunction getData() {\n\t\tif ( data === undefined ) {\n\t\t\t// If unset, getItem is expected to return null. Fall back to\n\t\t\t// empty object.\n\t\t\tconst persisted = storage.getItem( storageKey );\n\t\t\tif ( persisted === null ) {\n\t\t\t\tdata = {};\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tdata = JSON.parse( persisted );\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\t// Similarly, should any error be thrown during parse of\n\t\t\t\t\t// the string (malformed JSON), fall back to empty object.\n\t\t\t\t\tdata = {};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t/**\n\t * Merges an updated reducer state into the persisted data.\n\t *\n\t * @param {string} key   Key to update.\n\t * @param {*}      value Updated value.\n\t */\n\tfunction setData( key, value ) {\n\t\tdata = { ...data, [ key ]: value };\n\t\tstorage.setItem( storageKey, JSON.stringify( data ) );\n\t}\n\n\treturn {\n\t\tget: getData,\n\t\tset: setData,\n\t};\n}\n\n/**\n * Data plugin to persist store state into a single storage key.\n *\n * @param {WPDataRegistry}                  registry      Data registry.\n * @param {?WPDataPersistencePluginOptions} pluginOptions Plugin options.\n *\n * @return {WPDataPlugin} Data plugin.\n */\nconst persistencePlugin = function( registry, pluginOptions ) {\n\tconst persistence = createPersistenceInterface( pluginOptions );\n\n\t/**\n\t * Creates an enhanced store dispatch function, triggering the state of the\n\t * given reducer key to be persisted when changed.\n\t *\n\t * @param {Function}       getState   Function which returns current state.\n\t * @param {string}         reducerKey Reducer key.\n\t * @param {?Array<string>} keys       Optional subset of keys to save.\n\t *\n\t * @return {Function} Enhanced dispatch function.\n\t */\n\tfunction createPersistOnChange( getState, reducerKey, keys ) {\n\t\tlet getPersistedState;\n\t\tif ( Array.isArray( keys ) ) {\n\t\t\t// Given keys, the persisted state should by produced as an object\n\t\t\t// of the subset of keys. This implementation uses combineReducers\n\t\t\t// to leverage its behavior of returning the same object when none\n\t\t\t// of the property values changes. This allows a strict reference\n\t\t\t// equality to bypass a persistence set on an unchanging state.\n\t\t\tconst reducers = keys.reduce(\n\t\t\t\t( accumulator, key ) =>\n\t\t\t\t\tObject.assign( accumulator, {\n\t\t\t\t\t\t[ key ]: ( state, action ) => action.nextState[ key ],\n\t\t\t\t\t} ),\n\t\t\t\t{}\n\t\t\t);\n\n\t\t\tgetPersistedState = withLazySameState(\n\t\t\t\tcombineReducers( reducers )\n\t\t\t);\n\t\t} else {\n\t\t\tgetPersistedState = ( state, action ) => action.nextState;\n\t\t}\n\n\t\tlet lastState = getPersistedState( undefined, {\n\t\t\tnextState: getState(),\n\t\t} );\n\n\t\treturn () => {\n\t\t\tconst state = getPersistedState( lastState, {\n\t\t\t\tnextState: getState(),\n\t\t\t} );\n\t\t\tif ( state !== lastState ) {\n\t\t\t\tpersistence.set( reducerKey, state );\n\t\t\t\tlastState = state;\n\t\t\t}\n\t\t};\n\t}\n\n\treturn {\n\t\tregisterStore( reducerKey, options ) {\n\t\t\tif ( ! options.persist ) {\n\t\t\t\treturn registry.registerStore( reducerKey, options );\n\t\t\t}\n\n\t\t\t// Load from persistence to use as initial state.\n\t\t\tconst persistedState = persistence.get()[ reducerKey ];\n\t\t\tif ( persistedState !== undefined ) {\n\t\t\t\tlet initialState = options.reducer( undefined, {\n\t\t\t\t\ttype: '@@WP/PERSISTENCE_RESTORE',\n\t\t\t\t} );\n\n\t\t\t\tif (\n\t\t\t\t\tisPlainObject( initialState ) &&\n\t\t\t\t\tisPlainObject( persistedState )\n\t\t\t\t) {\n\t\t\t\t\t// If state is an object, ensure that:\n\t\t\t\t\t// - Other keys are left intact when persisting only a\n\t\t\t\t\t//   subset of keys.\n\t\t\t\t\t// - New keys in what would otherwise be used as initial\n\t\t\t\t\t//   state are deeply merged as base for persisted value.\n\t\t\t\t\tinitialState = merge( {}, initialState, persistedState );\n\t\t\t\t} else {\n\t\t\t\t\t// If there is a mismatch in object-likeness of default\n\t\t\t\t\t// initial or persisted state, defer to persisted value.\n\t\t\t\t\tinitialState = persistedState;\n\t\t\t\t}\n\n\t\t\t\toptions = {\n\t\t\t\t\t...options,\n\t\t\t\t\tinitialState,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst store = registry.registerStore( reducerKey, options );\n\n\t\t\tstore.subscribe(\n\t\t\t\tcreatePersistOnChange(\n\t\t\t\t\tstore.getState,\n\t\t\t\t\treducerKey,\n\t\t\t\t\toptions.persist\n\t\t\t\t)\n\t\t\t);\n\n\t\t\treturn store;\n\t\t},\n\t};\n};\n\n/**\n * Deprecated: Remove this function and the code in WordPress Core that calls\n * it once WordPress 5.4 is released.\n */\n\npersistencePlugin.__unstableMigrate = ( pluginOptions ) => {\n\tconst persistence = createPersistenceInterface( pluginOptions );\n\n\tconst state = persistence.get();\n\n\t// Migrate 'insertUsage' from 'core/editor' to 'core/block-editor'\n\tconst insertUsage = get( state, [\n\t\t'core/editor',\n\t\t'preferences',\n\t\t'insertUsage',\n\t] );\n\tif ( insertUsage ) {\n\t\tpersistence.set( 'core/block-editor', {\n\t\t\tpreferences: {\n\t\t\t\tinsertUsage,\n\t\t\t},\n\t\t} );\n\t}\n\n\tlet editPostState = state[ 'core/edit-post' ];\n\n\t// Default `fullscreenMode` to `false` if any persisted state had existed\n\t// and the user hadn't made an explicit choice about fullscreen mode. This\n\t// is needed since `fullscreenMode` previously did not have a default value\n\t// and was implicitly false by its absence. It is now `true` by default, but\n\t// this change is not intended to affect upgrades from earlier versions.\n\tconst hadPersistedState = Object.keys( state ).length > 0;\n\tconst hadFullscreenModePreference = has( state, [\n\t\t'core/edit-post',\n\t\t'preferences',\n\t\t'features',\n\t\t'fullscreenMode',\n\t] );\n\tif ( hadPersistedState && ! hadFullscreenModePreference ) {\n\t\teditPostState = merge( {}, editPostState, {\n\t\t\tpreferences: { features: { fullscreenMode: false } },\n\t\t} );\n\t}\n\n\t// Migrate 'areTipsEnabled' from 'core/nux' to 'showWelcomeGuide' in 'core/edit-post'\n\tconst areTipsEnabled = get( state, [\n\t\t'core/nux',\n\t\t'preferences',\n\t\t'areTipsEnabled',\n\t] );\n\tconst hasWelcomeGuide = has( state, [\n\t\t'core/edit-post',\n\t\t'preferences',\n\t\t'features',\n\t\t'welcomeGuide',\n\t] );\n\tif ( areTipsEnabled !== undefined && ! hasWelcomeGuide ) {\n\t\teditPostState = merge( {}, editPostState, {\n\t\t\tpreferences: {\n\t\t\t\tfeatures: {\n\t\t\t\t\twelcomeGuide: areTipsEnabled,\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\t}\n\n\tif ( editPostState !== state[ 'core/edit-post' ] ) {\n\t\tpersistence.set( 'core/edit-post', editPostState );\n\t}\n};\n\nexport default persistencePlugin;\n","import { useState, useRef, useEffect } from 'react';\n\nfunction areInputsEqual(newInputs, lastInputs) {\n  if (newInputs.length !== lastInputs.length) {\n    return false;\n  }\n\n  for (var i = 0; i < newInputs.length; i++) {\n    if (newInputs[i] !== lastInputs[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction useMemoOne(getResult, inputs) {\n  var initial = useState(function () {\n    return {\n      inputs: inputs,\n      result: getResult()\n    };\n  })[0];\n  var committed = useRef(initial);\n  var isInputMatch = Boolean(inputs && committed.current.inputs && areInputsEqual(inputs, committed.current.inputs));\n  var cache = isInputMatch ? committed.current : {\n    inputs: inputs,\n    result: getResult()\n  };\n  useEffect(function () {\n    committed.current = cache;\n  }, [cache]);\n  return cache.result;\n}\nfunction useCallbackOne(callback, inputs) {\n  return useMemoOne(function () {\n    return callback;\n  }, inputs);\n}\nvar useMemo = useMemoOne;\nvar useCallback = useCallbackOne;\n\nexport { useCallback, useCallbackOne, useMemo, useMemoOne };\n","/**\n * @typedef {( timeOrDeadline: IdleDeadline | number ) => void} Callback\n */\n\n/**\n * @return {(callback: Callback) => void} RequestIdleCallback\n */\nexport function createRequestIdleCallback() {\n\tif ( typeof window === 'undefined' ) {\n\t\treturn ( callback ) => {\n\t\t\tsetTimeout( () => callback( Date.now() ), 0 );\n\t\t};\n\t}\n\n\treturn window.requestIdleCallback || window.requestAnimationFrame;\n}\n\nexport default createRequestIdleCallback();\n","/**\n * Internal dependencies\n */\nimport requestIdleCallback from './request-idle-callback';\n\n/**\n * Enqueued callback to invoke once idle time permits.\n *\n * @typedef {()=>void} WPPriorityQueueCallback\n */\n\n/**\n * An object used to associate callbacks in a particular context grouping.\n *\n * @typedef {{}} WPPriorityQueueContext\n */\n\n/**\n * Function to add callback to priority queue.\n *\n * @typedef {(element:WPPriorityQueueContext,item:WPPriorityQueueCallback)=>void} WPPriorityQueueAdd\n */\n\n/**\n * Function to flush callbacks from priority queue.\n *\n * @typedef {(element:WPPriorityQueueContext)=>boolean} WPPriorityQueueFlush\n */\n\n/**\n * Reset the queue.\n *\n * @typedef {()=>void} WPPriorityQueueReset\n */\n\n/**\n * Priority queue instance.\n *\n * @typedef {Object} WPPriorityQueue\n *\n * @property {WPPriorityQueueAdd}   add   Add callback to queue for context.\n * @property {WPPriorityQueueFlush} flush Flush queue for context.\n * @property {WPPriorityQueueReset} reset Reset queue.\n */\n\n/**\n * Creates a context-aware queue that only executes\n * the last task of a given context.\n *\n * @example\n *```js\n * import { createQueue } from '@wordpress/priority-queue';\n *\n * const queue = createQueue();\n *\n * // Context objects.\n * const ctx1 = {};\n * const ctx2 = {};\n *\n * // For a given context in the queue, only the last callback is executed.\n * queue.add( ctx1, () => console.log( 'This will be printed first' ) );\n * queue.add( ctx2, () => console.log( 'This won\\'t be printed' ) );\n * queue.add( ctx2, () => console.log( 'This will be printed second' ) );\n *```\n *\n * @return {WPPriorityQueue} Queue object with `add`, `flush` and `reset` methods.\n */\nexport const createQueue = () => {\n\t/** @type {WPPriorityQueueContext[]} */\n\tlet waitingList = [];\n\n\t/** @type {WeakMap<WPPriorityQueueContext,WPPriorityQueueCallback>} */\n\tlet elementsMap = new WeakMap();\n\n\tlet isRunning = false;\n\n\t/* eslint-disable jsdoc/valid-types */\n\t/**\n\t * Callback to process as much queue as time permits.\n\t *\n\t * @param {IdleDeadline|number} deadline Idle callback deadline object, or\n\t *                                       animation frame timestamp.\n\t */\n\t/* eslint-enable */\n\tconst runWaitingList = ( deadline ) => {\n\t\tconst hasTimeRemaining =\n\t\t\ttypeof deadline === 'number'\n\t\t\t\t? () => false\n\t\t\t\t: () => deadline.timeRemaining() > 0;\n\n\t\tdo {\n\t\t\tif ( waitingList.length === 0 ) {\n\t\t\t\tisRunning = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst nextElement = /** @type {WPPriorityQueueContext} */ ( waitingList.shift() );\n\t\t\tconst callback = /** @type {WPPriorityQueueCallback} */ ( elementsMap.get(\n\t\t\t\tnextElement\n\t\t\t) );\n\t\t\tcallback();\n\t\t\telementsMap.delete( nextElement );\n\t\t} while ( hasTimeRemaining() );\n\n\t\trequestIdleCallback( runWaitingList );\n\t};\n\n\t/**\n\t * Add a callback to the queue for a given context.\n\t *\n\t * @type {WPPriorityQueueAdd}\n\t *\n\t * @param {WPPriorityQueueContext}  element Context object.\n\t * @param {WPPriorityQueueCallback} item    Callback function.\n\t */\n\tconst add = ( element, item ) => {\n\t\tif ( ! elementsMap.has( element ) ) {\n\t\t\twaitingList.push( element );\n\t\t}\n\t\telementsMap.set( element, item );\n\t\tif ( ! isRunning ) {\n\t\t\tisRunning = true;\n\t\t\trequestIdleCallback( runWaitingList );\n\t\t}\n\t};\n\n\t/**\n\t * Flushes queue for a given context, returning true if the flush was\n\t * performed, or false if there is no queue for the given context.\n\t *\n\t * @type {WPPriorityQueueFlush}\n\t *\n\t * @param {WPPriorityQueueContext} element Context object.\n\t *\n\t * @return {boolean} Whether flush was performed.\n\t */\n\tconst flush = ( element ) => {\n\t\tif ( ! elementsMap.has( element ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst index = waitingList.indexOf( element );\n\t\twaitingList.splice( index, 1 );\n\t\tconst callback = /** @type {WPPriorityQueueCallback} */ ( elementsMap.get(\n\t\t\telement\n\t\t) );\n\t\telementsMap.delete( element );\n\t\tcallback();\n\n\t\treturn true;\n\t};\n\n\t/**\n\t * Reset the queue without running the pending callbacks.\n\t *\n\t * @type {WPPriorityQueueReset}\n\t */\n\tconst reset = () => {\n\t\twaitingList = [];\n\t\telementsMap = new WeakMap();\n\t\tisRunning = false;\n\t};\n\n\treturn {\n\t\tadd,\n\t\tflush,\n\t\treset,\n\t};\n};\n","/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport defaultRegistry from '../../default-registry';\n\nexport const Context = createContext( defaultRegistry );\n\nconst { Consumer, Provider } = Context;\n\n/**\n * A custom react Context consumer exposing the provided `registry` to\n * children components. Used along with the RegistryProvider.\n *\n * You can read more about the react context api here:\n * https://reactjs.org/docs/context.html#contextprovider\n *\n * @example\n * ```js\n * const {\n *   RegistryProvider,\n *   RegistryConsumer,\n *   createRegistry\n * } = wp.data;\n *\n * const registry = createRegistry( {} );\n *\n * const App = ( { props } ) => {\n *   return <RegistryProvider value={ registry }>\n *     <div>Hello There</div>\n *     <RegistryConsumer>\n *       { ( registry ) => (\n *         <ComponentUsingRegistry\n *         \t\t{ ...props }\n *         \t  registry={ registry }\n *       ) }\n *     </RegistryConsumer>\n *   </RegistryProvider>\n * }\n * ```\n */\nexport const RegistryConsumer = Consumer;\n\n/**\n * A custom Context provider for exposing the provided `registry` to children\n * components via a consumer.\n *\n * See <a name=\"#RegistryConsumer\">RegistryConsumer</a> documentation for\n * example.\n */\nexport default Provider;\n","/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Context } from './context';\n\n/**\n * A custom react hook exposing the registry context for use.\n *\n * This exposes the `registry` value provided via the\n * <a href=\"#RegistryProvider\">Registry Provider</a> to a component implementing\n * this hook.\n *\n * It acts similarly to the `useContext` react hook.\n *\n * Note: Generally speaking, `useRegistry` is a low level hook that in most cases\n * won't be needed for implementation. Most interactions with the wp.data api\n * can be performed via the `useSelect` hook,  or the `withSelect` and\n * `withDispatch` higher order components.\n *\n * @example\n * ```js\n * const {\n *   RegistryProvider,\n *   createRegistry,\n *   useRegistry,\n * } = wp.data\n *\n * const registry = createRegistry( {} );\n *\n * const SomeChildUsingRegistry = ( props ) => {\n *   const registry = useRegistry( registry );\n *   // ...logic implementing the registry in other react hooks.\n * };\n *\n *\n * const ParentProvidingRegistry = ( props ) => {\n *   return <RegistryProvider value={ registry }>\n *     <SomeChildUsingRegistry { ...props } />\n *   </RegistryProvider>\n * };\n * ```\n *\n * @return {Function}  A custom react hook exposing the registry context value.\n */\nexport default function useRegistry() {\n\treturn useContext( Context );\n}\n","/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\nexport const Context = createContext( false );\n\nconst { Consumer, Provider } = Context;\n\nexport const AsyncModeConsumer = Consumer;\n\n/**\n * Context Provider Component used to switch the data module component rerendering\n * between Sync and Async modes.\n *\n * @example\n *\n * ```js\n * import { useSelect, AsyncModeProvider } from '@wordpress/data';\n *\n * function BlockCount() {\n *   const count = useSelect( ( select ) => {\n *     return select( 'core/block-editor' ).getBlockCount()\n *   }, [] );\n *\n *   return count;\n * }\n *\n * function App() {\n *   return (\n *     <AsyncModeProvider value={ true }>\n *       <BlockCount />\n *     </AsyncModeProvider>\n *   );\n * }\n * ```\n *\n * In this example, the BlockCount component is rerendered asynchronously.\n * It means if a more critical task is being performed (like typing in an input),\n * the rerendering is delayed until the browser becomes IDLE.\n * It is possible to nest multiple levels of AsyncModeProvider to fine-tune the rendering behavior.\n *\n * @param {boolean}   props.value  Enable Async Mode.\n * @return {WPComponent} The component to be rendered.\n */\nexport default Provider;\n","/**\n * External dependencies\n */\nimport { useMemoOne } from 'use-memo-one';\n\n/**\n * WordPress dependencies\n */\nimport { createQueue } from '@wordpress/priority-queue';\nimport {\n\tuseLayoutEffect,\n\tuseRef,\n\tuseCallback,\n\tuseEffect,\n\tuseReducer,\n} from '@wordpress/element';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\n\n/**\n * Internal dependencies\n */\nimport useRegistry from '../registry-provider/use-registry';\nimport useAsyncMode from '../async-mode-provider/use-async-mode';\n\n/**\n * Favor useLayoutEffect to ensure the store subscription callback always has\n * the selector from the latest render. If a store update happens between render\n * and the effect, this could cause missed/stale updates or inconsistent state.\n *\n * Fallback to useEffect for server rendered components because currently React\n * throws a warning when using useLayoutEffect in that environment.\n */\nconst useIsomorphicLayoutEffect =\n\ttypeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nconst renderQueue = createQueue();\n\n/**\n * Custom react hook for retrieving props from registered selectors.\n *\n * In general, this custom React hook follows the\n * [rules of hooks](https://reactjs.org/docs/hooks-rules.html).\n *\n * @param {Function} _mapSelect  Function called on every state change. The\n *                               returned value is exposed to the component\n *                               implementing this hook. The function receives\n *                               the `registry.select` method on the first\n *                               argument and the `registry` on the second\n *                               argument.\n * @param {Array}    deps        If provided, this memoizes the mapSelect so the\n *                               same `mapSelect` is invoked on every state\n *                               change unless the dependencies change.\n *\n * @example\n * ```js\n * const { useSelect } = wp.data;\n *\n * function HammerPriceDisplay( { currency } ) {\n *   const price = useSelect( ( select ) => {\n *     return select( 'my-shop' ).getPrice( 'hammer', currency )\n *   }, [ currency ] );\n *   return new Intl.NumberFormat( 'en-US', {\n *     style: 'currency',\n *     currency,\n *   } ).format( price );\n * }\n *\n * // Rendered in the application:\n * // <HammerPriceDisplay currency=\"USD\" />\n * ```\n *\n * In the above example, when `HammerPriceDisplay` is rendered into an\n * application, the price will be retrieved from the store state using the\n * `mapSelect` callback on `useSelect`. If the currency prop changes then\n * any price in the state for that currency is retrieved. If the currency prop\n * doesn't change and other props are passed in that do change, the price will\n * not change because the dependency is just the currency.\n *\n * @return {Function}  A custom react hook.\n */\nexport default function useSelect( _mapSelect, deps ) {\n\tconst mapSelect = useCallback( _mapSelect, deps );\n\tconst registry = useRegistry();\n\tconst isAsync = useAsyncMode();\n\t// React can sometimes clear the `useMemo` cache.\n\t// We use the cache-stable `useMemoOne` to avoid\n\t// losing queues.\n\tconst queueContext = useMemoOne( () => ( { queue: true } ), [ registry ] );\n\tconst [ , forceRender ] = useReducer( ( s ) => s + 1, 0 );\n\n\tconst latestMapSelect = useRef();\n\tconst latestIsAsync = useRef( isAsync );\n\tconst latestMapOutput = useRef();\n\tconst latestMapOutputError = useRef();\n\tconst isMountedAndNotUnsubscribing = useRef();\n\n\tlet mapOutput;\n\n\ttry {\n\t\tif (\n\t\t\tlatestMapSelect.current !== mapSelect ||\n\t\t\tlatestMapOutputError.current\n\t\t) {\n\t\t\tmapOutput = mapSelect( registry.select, registry );\n\t\t} else {\n\t\t\tmapOutput = latestMapOutput.current;\n\t\t}\n\t} catch ( error ) {\n\t\tlet errorMessage = `An error occurred while running 'mapSelect': ${ error.message }`;\n\n\t\tif ( latestMapOutputError.current ) {\n\t\t\terrorMessage += `\\nThe error may be correlated with this previous error:\\n`;\n\t\t\terrorMessage += `${ latestMapOutputError.current.stack }\\n\\n`;\n\t\t\terrorMessage += 'Original stack trace:';\n\n\t\t\tthrow new Error( errorMessage );\n\t\t} else {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error( errorMessage );\n\t\t}\n\t}\n\n\tuseIsomorphicLayoutEffect( () => {\n\t\tlatestMapSelect.current = mapSelect;\n\t\tlatestMapOutput.current = mapOutput;\n\t\tlatestMapOutputError.current = undefined;\n\t\tisMountedAndNotUnsubscribing.current = true;\n\n\t\t// This has to run after the other ref updates\n\t\t// to avoid using stale values in the flushed\n\t\t// callbacks or potentially overwriting a\n\t\t// changed `latestMapOutput.current`.\n\t\tif ( latestIsAsync.current !== isAsync ) {\n\t\t\tlatestIsAsync.current = isAsync;\n\t\t\trenderQueue.flush( queueContext );\n\t\t}\n\t} );\n\n\tuseIsomorphicLayoutEffect( () => {\n\t\tconst onStoreChange = () => {\n\t\t\tif ( isMountedAndNotUnsubscribing.current ) {\n\t\t\t\ttry {\n\t\t\t\t\tconst newMapOutput = latestMapSelect.current(\n\t\t\t\t\t\tregistry.select,\n\t\t\t\t\t\tregistry\n\t\t\t\t\t);\n\t\t\t\t\tif (\n\t\t\t\t\t\tisShallowEqual( latestMapOutput.current, newMapOutput )\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlatestMapOutput.current = newMapOutput;\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tlatestMapOutputError.current = error;\n\t\t\t\t}\n\t\t\t\tforceRender();\n\t\t\t}\n\t\t};\n\n\t\t// catch any possible state changes during mount before the subscription\n\t\t// could be set.\n\t\tif ( latestIsAsync.current ) {\n\t\t\trenderQueue.add( queueContext, onStoreChange );\n\t\t} else {\n\t\t\tonStoreChange();\n\t\t}\n\n\t\tconst unsubscribe = registry.subscribe( () => {\n\t\t\tif ( latestIsAsync.current ) {\n\t\t\t\trenderQueue.add( queueContext, onStoreChange );\n\t\t\t} else {\n\t\t\t\tonStoreChange();\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tisMountedAndNotUnsubscribing.current = false;\n\t\t\tunsubscribe();\n\t\t\trenderQueue.flush( queueContext );\n\t\t};\n\t}, [ registry ] );\n\n\treturn mapOutput;\n}\n","/**\n * WordPress dependencies\n */\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Context } from './context';\n\nexport default function useAsyncMode() {\n\treturn useContext( Context );\n}\n","/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent, pure } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport useSelect from '../use-select';\n\n/**\n * Higher-order component used to inject state-derived props using registered\n * selectors.\n *\n * @param {Function} mapSelectToProps Function called on every state change,\n *                                   expected to return object of props to\n *                                   merge with the component's own props.\n *\n * @example\n * ```js\n * function PriceDisplay( { price, currency } ) {\n * \treturn new Intl.NumberFormat( 'en-US', {\n * \t\tstyle: 'currency',\n * \t\tcurrency,\n * \t} ).format( price );\n * }\n *\n * const { withSelect } = wp.data;\n *\n * const HammerPriceDisplay = withSelect( ( select, ownProps ) => {\n * \tconst { getPrice } = select( 'my-shop' );\n * \tconst { currency } = ownProps;\n *\n * \treturn {\n * \t\tprice: getPrice( 'hammer', currency ),\n * \t};\n * } )( PriceDisplay );\n *\n * // Rendered in the application:\n * //\n * //  <HammerPriceDisplay currency=\"USD\" />\n * ```\n * In the above example, when `HammerPriceDisplay` is rendered into an\n * application, it will pass the price into the underlying `PriceDisplay`\n * component and update automatically if the price of a hammer ever changes in\n * the store.\n *\n * @return {WPComponent} Enhanced component with merged state data props.\n */\nconst withSelect = ( mapSelectToProps ) =>\n\tcreateHigherOrderComponent(\n\t\t( WrappedComponent ) =>\n\t\t\tpure( ( ownProps ) => {\n\t\t\t\tconst mapSelect = ( select, registry ) =>\n\t\t\t\t\tmapSelectToProps( select, ownProps, registry );\n\t\t\t\tconst mergeProps = useSelect( mapSelect );\n\t\t\t\treturn <WrappedComponent { ...ownProps } { ...mergeProps } />;\n\t\t\t} ),\n\t\t'withSelect'\n\t);\n\nexport default withSelect;\n","/**\n * Internal dependencies\n */\nimport useRegistry from '../registry-provider/use-registry';\n\n/**\n * A custom react hook returning the current registry dispatch actions creators.\n *\n * Note: The component using this hook must be within the context of a\n * RegistryProvider.\n *\n * @param {string} [storeName]  Optionally provide the name of the store from\n *                             which to retrieve action creators. If not\n *                             provided, the registry.dispatch function is\n *                             returned instead.\n *\n * @example\n * This illustrates a pattern where you may need to retrieve dynamic data from\n * the server via the `useSelect` hook to use in combination with the dispatch\n * action.\n *\n * ```jsx\n * const { useDispatch, useSelect } = wp.data;\n * const { useCallback } = wp.element;\n *\n * function Button( { onClick, children } ) {\n *   return <button type=\"button\" onClick={ onClick }>{ children }</button>\n * }\n *\n * const SaleButton = ( { children } ) => {\n *   const { stockNumber } = useSelect(\n *     ( select ) => select( 'my-shop' ).getStockNumber(),\n *     []\n *   );\n *   const { startSale } = useDispatch( 'my-shop' );\n *   const onClick = useCallback( () => {\n *     const discountPercent = stockNumber > 50 ? 10: 20;\n *     startSale( discountPercent );\n *   }, [ stockNumber ] );\n *   return <Button onClick={ onClick }>{ children }</Button>\n * }\n *\n * // Rendered somewhere in the application:\n * //\n * // <SaleButton>Start Sale!</SaleButton>\n * ```\n * @return {Function}  A custom react hook.\n */\nconst useDispatch = ( storeName ) => {\n\tconst { dispatch } = useRegistry();\n\treturn storeName === void 0 ? dispatch : dispatch( storeName );\n};\n\nexport default useDispatch;\n","/**\n * External dependencies\n */\nimport { mapValues } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseMemo,\n\tuseRef,\n\tuseEffect,\n\tuseLayoutEffect,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useRegistry from '../registry-provider/use-registry';\n\n/**\n * Favor useLayoutEffect to ensure the store subscription callback always has\n * the dispatchMap from the latest render. If a store update happens between\n * render and the effect, this could cause missed/stale updates or\n * inconsistent state.\n *\n * Fallback to useEffect for server rendered components because currently React\n * throws a warning when using useLayoutEffect in that environment.\n */\nconst useIsomorphicLayoutEffect =\n\ttypeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\n/**\n * Custom react hook for returning aggregate dispatch actions using the provided\n * dispatchMap.\n *\n * Currently this is an internal api only and is implemented by `withDispatch`\n *\n * @param {Function} dispatchMap  Receives the `registry.dispatch` function as\n *                                the first argument and the `registry` object\n *                                as the second argument.  Should return an\n *                                object mapping props to functions.\n * @param {Array}    deps         An array of dependencies for the hook.\n * @return {Object}  An object mapping props to functions created by the passed\n *                   in dispatchMap.\n */\nconst useDispatchWithMap = ( dispatchMap, deps ) => {\n\tconst registry = useRegistry();\n\tconst currentDispatchMap = useRef( dispatchMap );\n\n\tuseIsomorphicLayoutEffect( () => {\n\t\tcurrentDispatchMap.current = dispatchMap;\n\t} );\n\n\treturn useMemo( () => {\n\t\tconst currentDispatchProps = currentDispatchMap.current(\n\t\t\tregistry.dispatch,\n\t\t\tregistry\n\t\t);\n\t\treturn mapValues( currentDispatchProps, ( dispatcher, propName ) => {\n\t\t\tif ( typeof dispatcher !== 'function' ) {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.warn(\n\t\t\t\t\t`Property ${ propName } returned from dispatchMap in useDispatchWithMap must be a function.`\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn ( ...args ) =>\n\t\t\t\tcurrentDispatchMap\n\t\t\t\t\t.current( registry.dispatch, registry )\n\t\t\t\t\t[ propName ]( ...args );\n\t\t} );\n\t}, [ registry, ...deps ] );\n};\n\nexport default useDispatchWithMap;\n","/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { useDispatchWithMap } from '../use-dispatch';\n\n/**\n * Higher-order component used to add dispatch props using registered action\n * creators.\n *\n * @param {Function} mapDispatchToProps A function of returning an object of\n *                                      prop names where value is a\n *                                      dispatch-bound action creator, or a\n *                                      function to be called with the\n *                                      component's props and returning an\n *                                      action creator.\n *\n * @example\n * ```jsx\n * function Button( { onClick, children } ) {\n *     return <button type=\"button\" onClick={ onClick }>{ children }</button>;\n * }\n *\n * const { withDispatch } = wp.data;\n *\n * const SaleButton = withDispatch( ( dispatch, ownProps ) => {\n *     const { startSale } = dispatch( 'my-shop' );\n *     const { discountPercent } = ownProps;\n *\n *     return {\n *         onClick() {\n *             startSale( discountPercent );\n *         },\n *     };\n * } )( Button );\n *\n * // Rendered in the application:\n * //\n * // <SaleButton discountPercent=\"20\">Start Sale!</SaleButton>\n * ```\n *\n * @example\n * In the majority of cases, it will be sufficient to use only two first params\n * passed to `mapDispatchToProps` as illustrated in the previous example.\n * However, there might be some very advanced use cases where using the\n * `registry` object might be used as a tool to optimize the performance of\n * your component. Using `select` function from the registry might be useful\n * when you need to fetch some dynamic data from the store at the time when the\n * event is fired, but at the same time, you never use it to render your\n * component. In such scenario, you can avoid using the `withSelect` higher\n * order component to compute such prop, which might lead to unnecessary\n * re-renders of your component caused by its frequent value change.\n * Keep in mind, that `mapDispatchToProps` must return an object with functions\n * only.\n *\n * ```jsx\n * function Button( { onClick, children } ) {\n *     return <button type=\"button\" onClick={ onClick }>{ children }</button>;\n * }\n *\n * const { withDispatch } = wp.data;\n *\n * const SaleButton = withDispatch( ( dispatch, ownProps, { select } ) => {\n *    // Stock number changes frequently.\n *    const { getStockNumber } = select( 'my-shop' );\n *    const { startSale } = dispatch( 'my-shop' );\n *    return {\n *        onClick() {\n *            const discountPercent = getStockNumber() > 50 ? 10 : 20;\n *            startSale( discountPercent );\n *        },\n *    };\n * } )( Button );\n *\n * // Rendered in the application:\n * //\n * //  <SaleButton>Start Sale!</SaleButton>\n * ```\n *\n * _Note:_ It is important that the `mapDispatchToProps` function always\n * returns an object with the same keys. For example, it should not contain\n * conditions under which a different value would be returned.\n *\n * @return {WPComponent} Enhanced component with merged dispatcher props.\n */\nconst withDispatch = ( mapDispatchToProps ) =>\n\tcreateHigherOrderComponent(\n\t\t( WrappedComponent ) => ( ownProps ) => {\n\t\t\tconst mapDispatch = ( dispatch, registry ) =>\n\t\t\t\tmapDispatchToProps( dispatch, ownProps, registry );\n\t\t\tconst dispatchProps = useDispatchWithMap( mapDispatch, [] );\n\t\t\treturn <WrappedComponent { ...ownProps } { ...dispatchProps } />;\n\t\t},\n\t\t'withDispatch'\n\t);\n\nexport default withDispatch;\n","/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { RegistryConsumer } from '../registry-provider';\n\n/**\n * Higher-order component which renders the original component with the current\n * registry context passed as its `registry` prop.\n *\n * @param {WPComponent} OriginalComponent Original component.\n *\n * @return {WPComponent} Enhanced component.\n */\nconst withRegistry = createHigherOrderComponent(\n\t( OriginalComponent ) => ( props ) => (\n\t\t<RegistryConsumer>\n\t\t\t{ ( registry ) => (\n\t\t\t\t<OriginalComponent { ...props } registry={ registry } />\n\t\t\t) }\n\t\t</RegistryConsumer>\n\t),\n\t'withRegistry'\n);\n\nexport default withRegistry;\n","/**\n * External dependencies\n */\nimport combineReducers from 'turbo-combine-reducers';\n\n/**\n * Internal dependencies\n */\nimport defaultRegistry from './default-registry';\nimport * as plugins from './plugins';\n\nexport { default as withSelect } from './components/with-select';\nexport { default as withDispatch } from './components/with-dispatch';\nexport { default as withRegistry } from './components/with-registry';\nexport {\n\tRegistryProvider,\n\tRegistryConsumer,\n\tuseRegistry,\n} from './components/registry-provider';\nexport { default as useSelect } from './components/use-select';\nexport {\n\tuseDispatch,\n\tuseDispatchWithMap as __unstableUseDispatchWithMap,\n} from './components/use-dispatch';\nexport { AsyncModeProvider } from './components/async-mode-provider';\nexport { createRegistry } from './registry';\nexport { createRegistrySelector, createRegistryControl } from './factory';\n\n/**\n * Object of available plugins to use with a registry.\n *\n * @see [use](#use)\n *\n * @type {Object}\n */\nexport { plugins };\n\n/**\n * The combineReducers helper function turns an object whose values are different\n * reducing functions into a single reducing function you can pass to registerReducer.\n *\n * @param {Object} reducers An object whose values correspond to different reducing\n *                          functions that need to be combined into one.\n *\n * @example\n * ```js\n * const { combineReducers, registerStore } = wp.data;\n *\n * const prices = ( state = {}, action ) => {\n * \treturn action.type === 'SET_PRICE' ?\n * \t\t{\n * \t\t\t...state,\n * \t\t\t[ action.item ]: action.price,\n * \t\t} :\n * \t\tstate;\n * };\n *\n * const discountPercent = ( state = 0, action ) => {\n * \treturn action.type === 'START_SALE' ?\n * \t\taction.discountPercent :\n * \t\tstate;\n * };\n *\n * registerStore( 'my-shop', {\n * \treducer: combineReducers( {\n * \t\tprices,\n * \t\tdiscountPercent,\n * \t} ),\n * } );\n * ```\n *\n * @return {Function}       A reducer that invokes every reducer inside the reducers\n *                          object, and constructs a state object with the same shape.\n */\nexport { combineReducers };\n\n/**\n * Given the name of a registered store, returns an object of the store's selectors.\n * The selector functions are been pre-bound to pass the current state automatically.\n * As a consumer, you need only pass arguments of the selector, if applicable.\n *\n * @param {string} name Store name.\n *\n * @example\n * ```js\n * const { select } = wp.data;\n *\n * select( 'my-shop' ).getPrice( 'hammer' );\n * ```\n *\n * @return {Object} Object containing the store's selectors.\n */\nexport const select = defaultRegistry.select;\n\n/**\n * Given the name of a registered store, returns an object containing the store's\n * selectors pre-bound to state so that you only need to supply additional arguments,\n * and modified so that they return promises that resolve to their eventual values,\n * after any resolvers have ran.\n *\n * @param {string} name Store name.\n *\n * @example\n * ```js\n * const { __experimentalResolveSelect } = wp.data;\n *\n * __experimentalResolveSelect( 'my-shop' ).getPrice( 'hammer' ).then(console.log)\n * ```\n *\n * @return {Object} Object containing the store's promise-wrapped selectors.\n */\nexport const __experimentalResolveSelect =\n\tdefaultRegistry.__experimentalResolveSelect;\n\n/**\n * Given the name of a registered store, returns an object of the store's action creators.\n * Calling an action creator will cause it to be dispatched, updating the state value accordingly.\n *\n * Note: Action creators returned by the dispatch will return a promise when\n * they are called.\n *\n * @param {string} name Store name.\n *\n * @example\n * ```js\n * const { dispatch } = wp.data;\n *\n * dispatch( 'my-shop' ).setPrice( 'hammer', 9.75 );\n * ```\n * @return {Object} Object containing the action creators.\n */\nexport const dispatch = defaultRegistry.dispatch;\n\n/**\n * Given a listener function, the function will be called any time the state value\n * of one of the registered stores has changed. This function returns a `unsubscribe`\n * function used to stop the subscription.\n *\n * @param {Function} listener Callback function.\n *\n * @example\n * ```js\n * const { subscribe } = wp.data;\n *\n * const unsubscribe = subscribe( () => {\n * \t// You could use this opportunity to test whether the derived result of a\n * \t// selector has subsequently changed as the result of a state update.\n * } );\n *\n * // Later, if necessary...\n * unsubscribe();\n * ```\n */\nexport const subscribe = defaultRegistry.subscribe;\n\n/**\n * Registers a generic store.\n *\n * @param {string} key    Store registry key.\n * @param {Object} config Configuration (getSelectors, getActions, subscribe).\n */\nexport const registerGenericStore = defaultRegistry.registerGenericStore;\n\n/**\n * Registers a standard `@wordpress/data` store.\n *\n * @param {string} reducerKey Reducer key.\n * @param {Object} options    Store description (reducer, actions, selectors, resolvers).\n *\n * @return {Object} Registered store object.\n */\nexport const registerStore = defaultRegistry.registerStore;\n\n/**\n * Extends a registry to inherit functionality provided by a given plugin. A\n * plugin is an object with properties aligning to that of a registry, merged\n * to extend the default registry behavior.\n *\n * @param {Object} plugin Plugin object.\n */\nexport const use = defaultRegistry.use;\n","/**\n * External dependencies\n */\nimport {\n\tfilter,\n\tfind,\n\tget,\n\tisEmpty,\n\tkeyBy,\n\tmap,\n\tmapValues,\n\tomit,\n\tuniqBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Module Constants\n */\nexport const DEFAULT_CATEGORIES = [\n\t{ slug: 'common', title: __( 'Common blocks' ) },\n\t{ slug: 'formatting', title: __( 'Formatting' ) },\n\t{ slug: 'layout', title: __( 'Layout elements' ) },\n\t{ slug: 'widgets', title: __( 'Widgets' ) },\n\t{ slug: 'embed', title: __( 'Embeds' ) },\n\t{ slug: 'reusable', title: __( 'Reusable blocks' ) },\n];\n\n/**\n * Reducer managing the block types\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function blockTypes( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ADD_BLOCK_TYPES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...keyBy(\n\t\t\t\t\tmap( action.blockTypes, ( blockType ) =>\n\t\t\t\t\t\tomit( blockType, 'styles ' )\n\t\t\t\t\t),\n\t\t\t\t\t'name'\n\t\t\t\t),\n\t\t\t};\n\t\tcase 'REMOVE_BLOCK_TYPES':\n\t\t\treturn omit( state, action.names );\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the block style variations.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function blockStyles( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ADD_BLOCK_TYPES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...mapValues(\n\t\t\t\t\tkeyBy( action.blockTypes, 'name' ),\n\t\t\t\t\t( blockType ) => {\n\t\t\t\t\t\treturn uniqBy(\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t...get( blockType, [ 'styles' ], [] ),\n\t\t\t\t\t\t\t\t...get( state, [ blockType.name ], [] ),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t( style ) => style.name\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t};\n\t\tcase 'ADD_BLOCK_STYLES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.blockName ]: uniqBy(\n\t\t\t\t\t[\n\t\t\t\t\t\t...get( state, [ action.blockName ], [] ),\n\t\t\t\t\t\t...action.styles,\n\t\t\t\t\t],\n\t\t\t\t\t( style ) => style.name\n\t\t\t\t),\n\t\t\t};\n\t\tcase 'REMOVE_BLOCK_STYLES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.blockName ]: filter(\n\t\t\t\t\tget( state, [ action.blockName ], [] ),\n\t\t\t\t\t( style ) => action.styleNames.indexOf( style.name ) === -1\n\t\t\t\t),\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the block variations.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function blockVariations( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ADD_BLOCK_TYPES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...mapValues(\n\t\t\t\t\tkeyBy( action.blockTypes, 'name' ),\n\t\t\t\t\t( blockType ) => {\n\t\t\t\t\t\treturn uniqBy(\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t...get( blockType, [ 'variations' ], [] ),\n\t\t\t\t\t\t\t\t...get( state, [ blockType.name ], [] ),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t( variation ) => variation.name\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t};\n\t\tcase 'ADD_BLOCK_VARIATIONS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.blockName ]: uniqBy(\n\t\t\t\t\t[\n\t\t\t\t\t\t...get( state, [ action.blockName ], [] ),\n\t\t\t\t\t\t...action.variations,\n\t\t\t\t\t],\n\t\t\t\t\t( variation ) => variation.name\n\t\t\t\t),\n\t\t\t};\n\t\tcase 'REMOVE_BLOCK_VARIATIONS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.blockName ]: filter(\n\t\t\t\t\tget( state, [ action.blockName ], [] ),\n\t\t\t\t\t( variation ) =>\n\t\t\t\t\t\taction.variationNames.indexOf( variation.name ) === -1\n\t\t\t\t),\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Higher-order Reducer creating a reducer keeping track of given block name.\n *\n * @param {string} setActionType  Action type.\n *\n * @return {Function} Reducer.\n */\nexport function createBlockNameSetterReducer( setActionType ) {\n\treturn ( state = null, action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'REMOVE_BLOCK_TYPES':\n\t\t\t\tif ( action.names.indexOf( state ) !== -1 ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn state;\n\n\t\t\tcase setActionType:\n\t\t\t\treturn action.name || null;\n\t\t}\n\n\t\treturn state;\n\t};\n}\n\nexport const defaultBlockName = createBlockNameSetterReducer(\n\t'SET_DEFAULT_BLOCK_NAME'\n);\nexport const freeformFallbackBlockName = createBlockNameSetterReducer(\n\t'SET_FREEFORM_FALLBACK_BLOCK_NAME'\n);\nexport const unregisteredFallbackBlockName = createBlockNameSetterReducer(\n\t'SET_UNREGISTERED_FALLBACK_BLOCK_NAME'\n);\nexport const groupingBlockName = createBlockNameSetterReducer(\n\t'SET_GROUPING_BLOCK_NAME'\n);\n\n/**\n * Reducer managing the categories\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function categories( state = DEFAULT_CATEGORIES, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_CATEGORIES':\n\t\t\treturn action.categories || [];\n\t\tcase 'UPDATE_CATEGORY': {\n\t\t\tif ( ! action.category || isEmpty( action.category ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\tconst categoryToChange = find( state, [ 'slug', action.slug ] );\n\t\t\tif ( categoryToChange ) {\n\t\t\t\treturn map( state, ( category ) => {\n\t\t\t\t\tif ( category.slug === action.slug ) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...category,\n\t\t\t\t\t\t\t...action.category,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\treturn category;\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\treturn state;\n}\n\nexport function collections( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ADD_BLOCK_COLLECTION':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.namespace ]: {\n\t\t\t\t\ttitle: action.title,\n\t\t\t\t\ticon: action.icon,\n\t\t\t\t},\n\t\t\t};\n\t\tcase 'REMOVE_BLOCK_COLLECTION':\n\t\t\treturn omit( state, action.namespace );\n\t}\n\treturn state;\n}\n\nexport default combineReducers( {\n\tblockTypes,\n\tblockStyles,\n\tblockVariations,\n\tdefaultBlockName,\n\tfreeformFallbackBlockName,\n\tunregisteredFallbackBlockName,\n\tgroupingBlockName,\n\tcategories,\n\tcollections,\n} );\n","'use strict';\n\nvar LEAF_KEY, hasWeakMap;\n\n/**\n * Arbitrary value used as key for referencing cache object in WeakMap tree.\n *\n * @type {Object}\n */\nLEAF_KEY = {};\n\n/**\n * Whether environment supports WeakMap.\n *\n * @type {boolean}\n */\nhasWeakMap = typeof WeakMap !== 'undefined';\n\n/**\n * Returns the first argument as the sole entry in an array.\n *\n * @param {*} value Value to return.\n *\n * @return {Array} Value returned as entry in array.\n */\nfunction arrayOf( value ) {\n\treturn [ value ];\n}\n\n/**\n * Returns true if the value passed is object-like, or false otherwise. A value\n * is object-like if it can support property assignment, e.g. object or array.\n *\n * @param {*} value Value to test.\n *\n * @return {boolean} Whether value is object-like.\n */\nfunction isObjectLike( value ) {\n\treturn !! value && 'object' === typeof value;\n}\n\n/**\n * Creates and returns a new cache object.\n *\n * @return {Object} Cache object.\n */\nfunction createCache() {\n\tvar cache = {\n\t\tclear: function() {\n\t\t\tcache.head = null;\n\t\t},\n\t};\n\n\treturn cache;\n}\n\n/**\n * Returns true if entries within the two arrays are strictly equal by\n * reference from a starting index.\n *\n * @param {Array}  a         First array.\n * @param {Array}  b         Second array.\n * @param {number} fromIndex Index from which to start comparison.\n *\n * @return {boolean} Whether arrays are shallowly equal.\n */\nfunction isShallowEqual( a, b, fromIndex ) {\n\tvar i;\n\n\tif ( a.length !== b.length ) {\n\t\treturn false;\n\t}\n\n\tfor ( i = fromIndex; i < a.length; i++ ) {\n\t\tif ( a[ i ] !== b[ i ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a memoized selector function. The getDependants function argument is\n * called before the memoized selector and is expected to return an immutable\n * reference or array of references on which the selector depends for computing\n * its own return value. The memoize cache is preserved only as long as those\n * dependant references remain the same. If getDependants returns a different\n * reference(s), the cache is cleared and the selector value regenerated.\n *\n * @param {Function} selector      Selector function.\n * @param {Function} getDependants Dependant getter returning an immutable\n *                                 reference or array of reference used in\n *                                 cache bust consideration.\n *\n * @return {Function} Memoized selector.\n */\nexport default function( selector, getDependants ) {\n\tvar rootCache, getCache;\n\n\t// Use object source as dependant if getter not provided\n\tif ( ! getDependants ) {\n\t\tgetDependants = arrayOf;\n\t}\n\n\t/**\n\t * Returns the root cache. If WeakMap is supported, this is assigned to the\n\t * root WeakMap cache set, otherwise it is a shared instance of the default\n\t * cache object.\n\t *\n\t * @return {(WeakMap|Object)} Root cache object.\n\t */\n\tfunction getRootCache() {\n\t\treturn rootCache;\n\t}\n\n\t/**\n\t * Returns the cache for a given dependants array. When possible, a WeakMap\n\t * will be used to create a unique cache for each set of dependants. This\n\t * is feasible due to the nature of WeakMap in allowing garbage collection\n\t * to occur on entries where the key object is no longer referenced. Since\n\t * WeakMap requires the key to be an object, this is only possible when the\n\t * dependant is object-like. The root cache is created as a hierarchy where\n\t * each top-level key is the first entry in a dependants set, the value a\n\t * WeakMap where each key is the next dependant, and so on. This continues\n\t * so long as the dependants are object-like. If no dependants are object-\n\t * like, then the cache is shared across all invocations.\n\t *\n\t * @see isObjectLike\n\t *\n\t * @param {Array} dependants Selector dependants.\n\t *\n\t * @return {Object} Cache object.\n\t */\n\tfunction getWeakMapCache( dependants ) {\n\t\tvar caches = rootCache,\n\t\t\tisUniqueByDependants = true,\n\t\t\ti, dependant, map, cache;\n\n\t\tfor ( i = 0; i < dependants.length; i++ ) {\n\t\t\tdependant = dependants[ i ];\n\n\t\t\t// Can only compose WeakMap from object-like key.\n\t\t\tif ( ! isObjectLike( dependant ) ) {\n\t\t\t\tisUniqueByDependants = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Does current segment of cache already have a WeakMap?\n\t\t\tif ( caches.has( dependant ) ) {\n\t\t\t\t// Traverse into nested WeakMap.\n\t\t\t\tcaches = caches.get( dependant );\n\t\t\t} else {\n\t\t\t\t// Create, set, and traverse into a new one.\n\t\t\t\tmap = new WeakMap();\n\t\t\t\tcaches.set( dependant, map );\n\t\t\t\tcaches = map;\n\t\t\t}\n\t\t}\n\n\t\t// We use an arbitrary (but consistent) object as key for the last item\n\t\t// in the WeakMap to serve as our running cache.\n\t\tif ( ! caches.has( LEAF_KEY ) ) {\n\t\t\tcache = createCache();\n\t\t\tcache.isUniqueByDependants = isUniqueByDependants;\n\t\t\tcaches.set( LEAF_KEY, cache );\n\t\t}\n\n\t\treturn caches.get( LEAF_KEY );\n\t}\n\n\t// Assign cache handler by availability of WeakMap\n\tgetCache = hasWeakMap ? getWeakMapCache : getRootCache;\n\n\t/**\n\t * Resets root memoization cache.\n\t */\n\tfunction clear() {\n\t\trootCache = hasWeakMap ? new WeakMap() : createCache();\n\t}\n\n\t// eslint-disable-next-line jsdoc/check-param-names\n\t/**\n\t * The augmented selector call, considering first whether dependants have\n\t * changed before passing it to underlying memoize function.\n\t *\n\t * @param {Object} source    Source object for derivation.\n\t * @param {...*}   extraArgs Additional arguments to pass to selector.\n\t *\n\t * @return {*} Selector result.\n\t */\n\tfunction callSelector( /* source, ...extraArgs */ ) {\n\t\tvar len = arguments.length,\n\t\t\tcache, node, i, args, dependants;\n\n\t\t// Create copy of arguments (avoid leaking deoptimization).\n\t\targs = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tdependants = getDependants.apply( null, args );\n\t\tcache = getCache( dependants );\n\n\t\t// If not guaranteed uniqueness by dependants (primitive type or lack\n\t\t// of WeakMap support), shallow compare against last dependants and, if\n\t\t// references have changed, destroy cache to recalculate result.\n\t\tif ( ! cache.isUniqueByDependants ) {\n\t\t\tif ( cache.lastDependants && ! isShallowEqual( dependants, cache.lastDependants, 0 ) ) {\n\t\t\t\tcache.clear();\n\t\t\t}\n\n\t\t\tcache.lastDependants = dependants;\n\t\t}\n\n\t\tnode = cache.head;\n\t\twhile ( node ) {\n\t\t\t// Check whether node arguments match arguments\n\t\t\tif ( ! isShallowEqual( node.args, args, 1 ) ) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif ( node !== cache.head ) {\n\t\t\t\t// Adjust siblings to point to each other.\n\t\t\t\tnode.prev.next = node.next;\n\t\t\t\tif ( node.next ) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = cache.head;\n\t\t\t\tnode.prev = null;\n\t\t\t\tcache.head.prev = node;\n\t\t\t\tcache.head = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\tnode = {\n\t\t\t// Generate the result from original function\n\t\t\tval: selector.apply( null, args ),\n\t\t};\n\n\t\t// Avoid including the source object in the cache.\n\t\targs[ 0 ] = null;\n\t\tnode.args = args;\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif ( cache.head ) {\n\t\t\tcache.head.prev = node;\n\t\t\tnode.next = cache.head;\n\t\t}\n\n\t\tcache.head = node;\n\n\t\treturn node.val;\n\t}\n\n\tcallSelector.getDependants = getDependants;\n\tcallSelector.clear = clear;\n\tclear();\n\n\treturn callSelector;\n}\n","/**\n * External dependencies\n */\nimport createSelector from 'rememo';\nimport {\n\tdeburr,\n\tfilter,\n\tfindLast,\n\tfirst,\n\tflow,\n\tget,\n\tincludes,\n\tmap,\n\tsome,\n} from 'lodash';\n\n/** @typedef {import('../api/registration').WPBlockVariation} WPBlockVariation */\n\n/** @typedef {import('../api/registration').WPBlockVariationScope} WPBlockVariationScope */\n\n/**\n * Given a block name or block type object, returns the corresponding\n * normalized block type object.\n *\n * @param {Object}          state      Blocks state.\n * @param {(string|Object)} nameOrType Block name or type object\n *\n * @return {Object} Block type object.\n */\nconst getNormalizedBlockType = ( state, nameOrType ) =>\n\t'string' === typeof nameOrType\n\t\t? getBlockType( state, nameOrType )\n\t\t: nameOrType;\n\n/**\n * Returns all the available block types.\n *\n * @param {Object} state Data state.\n *\n * @return {Array} Block Types.\n */\nexport const getBlockTypes = createSelector(\n\t( state ) => {\n\t\treturn Object.values( state.blockTypes ).map( ( blockType ) => {\n\t\t\treturn {\n\t\t\t\t...blockType,\n\t\t\t\tvariations: getBlockVariations( state, blockType.name ),\n\t\t\t};\n\t\t} );\n\t},\n\t( state ) => [ state.blockTypes, state.blockVariations ]\n);\n\n/**\n * Returns a block type by name.\n *\n * @param {Object} state Data state.\n * @param {string} name Block type name.\n *\n * @return {Object?} Block Type.\n */\nexport function getBlockType( state, name ) {\n\treturn state.blockTypes[ name ];\n}\n\n/**\n * Returns block styles by block name.\n *\n * @param {Object} state Data state.\n * @param {string} name  Block type name.\n *\n * @return {Array?} Block Styles.\n */\nexport function getBlockStyles( state, name ) {\n\treturn state.blockStyles[ name ];\n}\n\n/**\n * Returns block variations by block name.\n *\n * @param {Object}                state     Data state.\n * @param {string}                blockName Block type name.\n * @param {WPBlockVariationScope} [scope]   Block variation scope name.\n *\n * @return {(WPBlockVariation[]|void)} Block variations.\n */\nexport function getBlockVariations( state, blockName, scope ) {\n\tconst variations = state.blockVariations[ blockName ];\n\tif ( ! variations || ! scope ) {\n\t\treturn variations;\n\t}\n\treturn variations.filter( ( variation ) => {\n\t\treturn ! variation.scope || variation.scope.includes( scope );\n\t} );\n}\n\n/**\n * Returns the default block variation for the given block type.\n * When there are multiple variations annotated as the default one,\n * the last added item is picked. This simplifies registering overrides.\n * When there is no default variation set, it returns the first item.\n *\n * @param {Object}                state     Data state.\n * @param {string}                blockName Block type name.\n * @param {WPBlockVariationScope} [scope]   Block variation scope name.\n *\n * @return {?WPBlockVariation} The default block variation.\n */\nexport function getDefaultBlockVariation( state, blockName, scope ) {\n\tconst variations = getBlockVariations( state, blockName, scope );\n\n\treturn findLast( variations, 'isDefault' ) || first( variations );\n}\n\n/**\n * Returns all the available categories.\n *\n * @param {Object} state Data state.\n *\n * @return {Array} Categories list.\n */\nexport function getCategories( state ) {\n\treturn state.categories;\n}\n\n/**\n * Returns all the available collections.\n *\n * @param {Object} state Data state.\n *\n * @return {Object} Collections list.\n */\nexport function getCollections( state ) {\n\treturn state.collections;\n}\n\n/**\n * Returns the name of the default block name.\n *\n * @param {Object} state Data state.\n *\n * @return {string?} Default block name.\n */\nexport function getDefaultBlockName( state ) {\n\treturn state.defaultBlockName;\n}\n\n/**\n * Returns the name of the block for handling non-block content.\n *\n * @param {Object} state Data state.\n *\n * @return {string?} Name of the block for handling non-block content.\n */\nexport function getFreeformFallbackBlockName( state ) {\n\treturn state.freeformFallbackBlockName;\n}\n\n/**\n * Returns the name of the block for handling unregistered blocks.\n *\n * @param {Object} state Data state.\n *\n * @return {string?} Name of the block for handling unregistered blocks.\n */\nexport function getUnregisteredFallbackBlockName( state ) {\n\treturn state.unregisteredFallbackBlockName;\n}\n\n/**\n * Returns the name of the block for handling unregistered blocks.\n *\n * @param {Object} state Data state.\n *\n * @return {string?} Name of the block for handling unregistered blocks.\n */\nexport function getGroupingBlockName( state ) {\n\treturn state.groupingBlockName;\n}\n\n/**\n * Returns an array with the child blocks of a given block.\n *\n * @param {Object} state     Data state.\n * @param {string} blockName Block type name.\n *\n * @return {Array} Array of child block names.\n */\nexport const getChildBlockNames = createSelector(\n\t( state, blockName ) => {\n\t\treturn map(\n\t\t\tfilter( state.blockTypes, ( blockType ) => {\n\t\t\t\treturn includes( blockType.parent, blockName );\n\t\t\t} ),\n\t\t\t( { name } ) => name\n\t\t);\n\t},\n\t( state ) => [ state.blockTypes ]\n);\n\n/**\n * Returns the block support value for a feature, if defined.\n *\n * @param  {Object}          state           Data state.\n * @param  {(string|Object)} nameOrType      Block name or type object\n * @param  {string}          feature         Feature to retrieve\n * @param  {*}               defaultSupports Default value to return if not\n *                                           explicitly defined\n *\n * @return {?*} Block support value\n */\nexport const getBlockSupport = (\n\tstate,\n\tnameOrType,\n\tfeature,\n\tdefaultSupports\n) => {\n\tconst blockType = getNormalizedBlockType( state, nameOrType );\n\n\treturn get( blockType, [ 'supports', feature ], defaultSupports );\n};\n\n/**\n * Returns true if the block defines support for a feature, or false otherwise.\n *\n * @param  {Object}         state           Data state.\n * @param {(string|Object)} nameOrType      Block name or type object.\n * @param {string}          feature         Feature to test.\n * @param {boolean}         defaultSupports Whether feature is supported by\n *                                          default if not explicitly defined.\n *\n * @return {boolean} Whether block supports feature.\n */\nexport function hasBlockSupport( state, nameOrType, feature, defaultSupports ) {\n\treturn !! getBlockSupport( state, nameOrType, feature, defaultSupports );\n}\n\n/**\n * Returns true if the block type by the given name or object value matches a\n * search term, or false otherwise.\n *\n * @param {Object}          state      Blocks state.\n * @param {(string|Object)} nameOrType Block name or type object.\n * @param {string}          searchTerm Search term by which to filter.\n *\n * @return {Object[]} Whether block type matches search term.\n */\nexport function isMatchingSearchTerm( state, nameOrType, searchTerm ) {\n\tconst blockType = getNormalizedBlockType( state, nameOrType );\n\n\tconst getNormalizedSearchTerm = flow( [\n\t\t// Disregard diacritics.\n\t\t//  Input: \"média\"\n\t\tdeburr,\n\n\t\t// Lowercase.\n\t\t//  Input: \"MEDIA\"\n\t\t( term ) => term.toLowerCase(),\n\n\t\t// Strip leading and trailing whitespace.\n\t\t//  Input: \" media \"\n\t\t( term ) => term.trim(),\n\t] );\n\n\tconst normalizedSearchTerm = getNormalizedSearchTerm( searchTerm );\n\n\tconst isSearchMatch = flow( [\n\t\tgetNormalizedSearchTerm,\n\t\t( normalizedCandidate ) =>\n\t\t\tincludes( normalizedCandidate, normalizedSearchTerm ),\n\t] );\n\n\treturn (\n\t\tisSearchMatch( blockType.title ) ||\n\t\tsome( blockType.keywords, isSearchMatch ) ||\n\t\tisSearchMatch( blockType.category )\n\t);\n}\n\n/**\n * Returns a boolean indicating if a block has child blocks or not.\n *\n * @param {Object} state     Data state.\n * @param {string} blockName Block type name.\n *\n * @return {boolean} True if a block contains child blocks and false otherwise.\n */\nexport const hasChildBlocks = ( state, blockName ) => {\n\treturn getChildBlockNames( state, blockName ).length > 0;\n};\n\n/**\n * Returns a boolean indicating if a block has at least one child block with inserter support.\n *\n * @param {Object} state     Data state.\n * @param {string} blockName Block type name.\n *\n * @return {boolean} True if a block contains at least one child blocks with inserter support\n *                   and false otherwise.\n */\nexport const hasChildBlocksWithInserterSupport = ( state, blockName ) => {\n\treturn some( getChildBlockNames( state, blockName ), ( childBlockName ) => {\n\t\treturn hasBlockSupport( state, childBlockName, 'inserter', true );\n\t} );\n};\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/** @typedef {import('../api/registration').WPBlockVariation} WPBlockVariation */\n\n/**\n * Returns an action object used in signalling that block types have been added.\n *\n * @param {Array|Object} blockTypes Block types received.\n *\n * @return {Object} Action object.\n */\nexport function addBlockTypes( blockTypes ) {\n\treturn {\n\t\ttype: 'ADD_BLOCK_TYPES',\n\t\tblockTypes: castArray( blockTypes ),\n\t};\n}\n\n/**\n * Returns an action object used to remove a registered block type.\n *\n * @param {string|Array} names Block name.\n *\n * @return {Object} Action object.\n */\nexport function removeBlockTypes( names ) {\n\treturn {\n\t\ttype: 'REMOVE_BLOCK_TYPES',\n\t\tnames: castArray( names ),\n\t};\n}\n\n/**\n * Returns an action object used in signalling that new block styles have been added.\n *\n * @param {string}       blockName  Block name.\n * @param {Array|Object} styles     Block styles.\n *\n * @return {Object} Action object.\n */\nexport function addBlockStyles( blockName, styles ) {\n\treturn {\n\t\ttype: 'ADD_BLOCK_STYLES',\n\t\tstyles: castArray( styles ),\n\t\tblockName,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that block styles have been removed.\n *\n * @param {string}       blockName  Block name.\n * @param {Array|string} styleNames Block style names.\n *\n * @return {Object} Action object.\n */\nexport function removeBlockStyles( blockName, styleNames ) {\n\treturn {\n\t\ttype: 'REMOVE_BLOCK_STYLES',\n\t\tstyleNames: castArray( styleNames ),\n\t\tblockName,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that new block variations have been added.\n *\n * @param {string}                              blockName  Block name.\n * @param {WPBlockVariation|WPBlockVariation[]} variations Block variations.\n *\n * @return {Object} Action object.\n */\nexport function addBlockVariations( blockName, variations ) {\n\treturn {\n\t\ttype: 'ADD_BLOCK_VARIATIONS',\n\t\tvariations: castArray( variations ),\n\t\tblockName,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that block variations have been removed.\n *\n * @param {string}          blockName      Block name.\n * @param {string|string[]} variationNames Block variation names.\n *\n * @return {Object} Action object.\n */\nexport function removeBlockVariations( blockName, variationNames ) {\n\treturn {\n\t\ttype: 'REMOVE_BLOCK_VARIATIONS',\n\t\tvariationNames: castArray( variationNames ),\n\t\tblockName,\n\t};\n}\n\n/**\n * Returns an action object used to set the default block name.\n *\n * @param {string} name Block name.\n *\n * @return {Object} Action object.\n */\nexport function setDefaultBlockName( name ) {\n\treturn {\n\t\ttype: 'SET_DEFAULT_BLOCK_NAME',\n\t\tname,\n\t};\n}\n\n/**\n * Returns an action object used to set the name of the block used as a fallback\n * for non-block content.\n *\n * @param {string} name Block name.\n *\n * @return {Object} Action object.\n */\nexport function setFreeformFallbackBlockName( name ) {\n\treturn {\n\t\ttype: 'SET_FREEFORM_FALLBACK_BLOCK_NAME',\n\t\tname,\n\t};\n}\n\n/**\n * Returns an action object used to set the name of the block used as a fallback\n * for unregistered blocks.\n *\n * @param {string} name Block name.\n *\n * @return {Object} Action object.\n */\nexport function setUnregisteredFallbackBlockName( name ) {\n\treturn {\n\t\ttype: 'SET_UNREGISTERED_FALLBACK_BLOCK_NAME',\n\t\tname,\n\t};\n}\n\n/**\n * Returns an action object used to set the name of the block used\n * when grouping other blocks\n * eg: in \"Group/Ungroup\" interactions\n *\n * @param {string} name Block name.\n *\n * @return {Object} Action object.\n */\nexport function setGroupingBlockName( name ) {\n\treturn {\n\t\ttype: 'SET_GROUPING_BLOCK_NAME',\n\t\tname,\n\t};\n}\n\n/**\n * Returns an action object used to set block categories.\n *\n * @param {Object[]} categories Block categories.\n *\n * @return {Object} Action object.\n */\nexport function setCategories( categories ) {\n\treturn {\n\t\ttype: 'SET_CATEGORIES',\n\t\tcategories,\n\t};\n}\n\n/**\n * Returns an action object used to update a category.\n *\n * @param {string} slug     Block category slug.\n * @param {Object} category Object containing the category properties that should be updated.\n *\n * @return {Object} Action object.\n */\nexport function updateCategory( slug, category ) {\n\treturn {\n\t\ttype: 'UPDATE_CATEGORY',\n\t\tslug,\n\t\tcategory,\n\t};\n}\n\n/**\n * Returns an action object used to add block collections\n *\n * @param {string} namespace       The namespace of the blocks to put in the collection\n * @param {string} title           The title to display in the block inserter\n * @param {Object} icon (optional) The icon to display in the block inserter\n *\n * @return {Object} Action object.\n */\nexport function addBlockCollection( namespace, title, icon ) {\n\treturn {\n\t\ttype: 'ADD_BLOCK_COLLECTION',\n\t\tnamespace,\n\t\ttitle,\n\t\ticon,\n\t};\n}\n\n/**\n * Returns an action object used to remove block collections\n *\n * @param {string} namespace       The namespace of the blocks to put in the collection\n *\n * @return {Object} Action object.\n */\nexport function removeBlockCollection( namespace ) {\n\treturn {\n\t\ttype: 'REMOVE_BLOCK_COLLECTION',\n\t\tnamespace,\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\n\nregisterStore( 'core/blocks', { reducer, selectors, actions } );\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nexport default v4;","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst blockDefault = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z\" />\n\t</SVG>\n);\n\nexport default blockDefault;\n","/**\n * External dependencies\n */\nimport { every, has, isFunction, isString } from 'lodash';\nimport { default as tinycolor, mostReadable } from 'tinycolor2';\n\n/**\n * WordPress dependencies\n */\nimport { Component, isValidElement } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { getBlockType, getDefaultBlockName } from './registration';\nimport { createBlock } from './factory';\n\n/**\n * Array of icon colors containing a color to be used if the icon color\n * was not explicitly set but the icon background color was.\n *\n * @type {Object}\n */\nconst ICON_COLORS = [ '#191e23', '#f8f9f9' ];\n\n/**\n * Determines whether the block is a default block\n * and its attributes are equal to the default attributes\n * which means the block is unmodified.\n *\n * @param  {WPBlock} block Block Object\n *\n * @return {boolean}       Whether the block is an unmodified default block\n */\nexport function isUnmodifiedDefaultBlock( block ) {\n\tconst defaultBlockName = getDefaultBlockName();\n\tif ( block.name !== defaultBlockName ) {\n\t\treturn false;\n\t}\n\n\t// Cache a created default block if no cache exists or the default block\n\t// name changed.\n\tif (\n\t\t! isUnmodifiedDefaultBlock.block ||\n\t\tisUnmodifiedDefaultBlock.block.name !== defaultBlockName\n\t) {\n\t\tisUnmodifiedDefaultBlock.block = createBlock( defaultBlockName );\n\t}\n\n\tconst newDefaultBlock = isUnmodifiedDefaultBlock.block;\n\tconst blockType = getBlockType( defaultBlockName );\n\n\treturn every(\n\t\tblockType.attributes,\n\t\t( value, key ) =>\n\t\t\tnewDefaultBlock.attributes[ key ] === block.attributes[ key ]\n\t);\n}\n\n/**\n * Function that checks if the parameter is a valid icon.\n *\n * @param {*} icon  Parameter to be checked.\n *\n * @return {boolean} True if the parameter is a valid icon and false otherwise.\n */\n\nexport function isValidIcon( icon ) {\n\treturn (\n\t\t!! icon &&\n\t\t( isString( icon ) ||\n\t\t\tisValidElement( icon ) ||\n\t\t\tisFunction( icon ) ||\n\t\t\ticon instanceof Component )\n\t);\n}\n\n/**\n * Function that receives an icon as set by the blocks during the registration\n * and returns a new icon object that is normalized so we can rely on just on possible icon structure\n * in the codebase.\n *\n * @param {WPBlockTypeIconRender} icon Render behavior of a block type icon;\n *                                     one of a Dashicon slug, an element, or a\n *                                     component.\n *\n * @return {WPBlockTypeIconDescriptor} Object describing the icon.\n */\nexport function normalizeIconObject( icon ) {\n\tif ( isValidIcon( icon ) ) {\n\t\treturn { src: icon };\n\t}\n\n\tif ( has( icon, [ 'background' ] ) ) {\n\t\tconst tinyBgColor = tinycolor( icon.background );\n\n\t\treturn {\n\t\t\t...icon,\n\t\t\tforeground: icon.foreground\n\t\t\t\t? icon.foreground\n\t\t\t\t: mostReadable( tinyBgColor, ICON_COLORS, {\n\t\t\t\t\t\tincludeFallbackColors: true,\n\t\t\t\t\t\tlevel: 'AA',\n\t\t\t\t\t\tsize: 'large',\n\t\t\t\t  } ).toHexString(),\n\t\t\tshadowColor: tinyBgColor.setAlpha( 0.3 ).toRgbString(),\n\t\t};\n\t}\n\n\treturn icon;\n}\n\n/**\n * Normalizes block type passed as param. When string is passed then\n * it converts it to the matching block type object.\n * It passes the original object otherwise.\n *\n * @param {string|Object} blockTypeOrName  Block type or name.\n *\n * @return {?Object} Block type.\n */\nexport function normalizeBlockType( blockTypeOrName ) {\n\tif ( isString( blockTypeOrName ) ) {\n\t\treturn getBlockType( blockTypeOrName );\n\t}\n\n\treturn blockTypeOrName;\n}\n\n/**\n * Get the label for the block, usually this is either the block title,\n * or the value of the block's `label` function when that's specified.\n *\n * @param {Object} blockType  The block type.\n * @param {Object} attributes The values of the block's attributes.\n * @param {Object} context    The intended use for the label.\n *\n * @return {string} The block label.\n */\nexport function getBlockLabel( blockType, attributes, context = 'visual' ) {\n\tconst { __experimentalLabel: getLabel, title } = blockType;\n\n\tconst label = getLabel && getLabel( attributes, { context } );\n\n\tif ( ! label ) {\n\t\treturn title;\n\t}\n\n\t// Strip any HTML (i.e. RichText formatting) before returning.\n\treturn stripHTML( label );\n}\n\n/**\n * Get a label for the block for use by screenreaders, this is more descriptive\n * than the visual label and includes the block title and the value of the\n * `getLabel` function if it's specified.\n *\n * @param {Object}  blockType              The block type.\n * @param {Object}  attributes             The values of the block's attributes.\n * @param {?number} position               The position of the block in the block list.\n * @param {string}  [direction='vertical'] The direction of the block layout.\n *\n * @return {string} The block label.\n */\nexport function getAccessibleBlockLabel(\n\tblockType,\n\tattributes,\n\tposition,\n\tdirection = 'vertical'\n) {\n\t// `title` is already localized, `label` is a user-supplied value.\n\tconst { title } = blockType;\n\tconst label = getBlockLabel( blockType, attributes, 'accessibility' );\n\tconst hasPosition = position !== undefined;\n\n\t// getBlockLabel returns the block title as a fallback when there's no label,\n\t// if it did return the title, this function needs to avoid adding the\n\t// title twice within the accessible label. Use this `hasLabel` boolean to\n\t// handle that.\n\tconst hasLabel = label && label !== title;\n\n\tif ( hasPosition && direction === 'vertical' ) {\n\t\tif ( hasLabel ) {\n\t\t\treturn sprintf(\n\t\t\t\t/* translators: accessibility text. 1: The block title. 2: The block row number. 3: The block label.. */\n\t\t\t\t__( '%1$s Block. Row %2$d. %3$s' ),\n\t\t\t\ttitle,\n\t\t\t\tposition,\n\t\t\t\tlabel\n\t\t\t);\n\t\t}\n\n\t\treturn sprintf(\n\t\t\t/* translators: accessibility text. 1: The block title. 2: The block row number. */\n\t\t\t__( '%1$s Block. Row %2$d' ),\n\t\t\ttitle,\n\t\t\tposition\n\t\t);\n\t} else if ( hasPosition && direction === 'horizontal' ) {\n\t\tif ( hasLabel ) {\n\t\t\treturn sprintf(\n\t\t\t\t/* translators: accessibility text. 1: The block title. 2: The block column number. 3: The block label.. */\n\t\t\t\t__( '%1$s Block. Column %2$d. %3$s' ),\n\t\t\t\ttitle,\n\t\t\t\tposition,\n\t\t\t\tlabel\n\t\t\t);\n\t\t}\n\n\t\treturn sprintf(\n\t\t\t/* translators: accessibility text. 1: The block title. 2: The block column number. */\n\t\t\t__( '%1$s Block. Column %2$d' ),\n\t\t\ttitle,\n\t\t\tposition\n\t\t);\n\t}\n\n\tif ( hasLabel ) {\n\t\treturn sprintf(\n\t\t\t/* translators: accessibility text. %1: The block title. %2: The block label. */\n\t\t\t__( '%1$s Block. %2$s' ),\n\t\t\ttitle,\n\t\t\tlabel\n\t\t);\n\t}\n\n\treturn sprintf(\n\t\t/* translators: accessibility text. %s: The block title. */\n\t\t__( '%s Block' ),\n\t\ttitle\n\t);\n}\n","/**\n * Array of valid keys in a block type settings deprecation object.\n *\n * @type {string[]}\n */\nexport const DEPRECATED_ENTRY_KEYS = [\n\t'attributes',\n\t'supports',\n\t'save',\n\t'migrate',\n\t'isEligible',\n];\n","/* eslint no-console: [ 'error', { allow: [ 'error' ] } ] */\n\n/**\n * External dependencies\n */\nimport { get, isFunction, isPlainObject, omit, pick, some } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { applyFilters } from '@wordpress/hooks';\nimport { select, dispatch } from '@wordpress/data';\nimport { blockDefault } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { isValidIcon, normalizeIconObject } from './utils';\nimport { DEPRECATED_ENTRY_KEYS } from './constants';\n\n/**\n * An icon type definition. One of a Dashicon slug, an element,\n * or a component.\n *\n * @typedef {(string|WPElement|WPComponent)} WPIcon\n *\n * @see https://developer.wordpress.org/resource/dashicons/\n */\n\n/**\n * Render behavior of a block type icon; one of a Dashicon slug, an element,\n * or a component.\n *\n * @typedef {WPIcon} WPBlockTypeIconRender\n */\n\n/**\n * An object describing a normalized block type icon.\n *\n * @typedef {Object} WPBlockTypeIconDescriptor\n *\n * @property {WPBlockTypeIconRender} src         Render behavior of the icon,\n *                                               one of a Dashicon slug, an\n *                                               element, or a component.\n * @property {string}                background  Optimal background hex string\n *                                               color when displaying icon.\n * @property {string}                foreground  Optimal foreground hex string\n *                                               color when displaying icon.\n * @property {string}                shadowColor Optimal shadow hex string\n *                                               color when displaying icon.\n */\n\n/**\n * Value to use to render the icon for a block type in an editor interface,\n * either a Dashicon slug, an element, a component, or an object describing\n * the icon.\n *\n * @typedef {(WPBlockTypeIconDescriptor|WPBlockTypeIconRender)} WPBlockTypeIcon\n */\n\n/**\n * Named block variation scopes.\n *\n * @typedef {'block'|'inserter'} WPBlockVariationScope\n */\n\n/**\n * An object describing a variation defined for the block type.\n *\n * @typedef {Object} WPBlockVariation\n *\n * @property {string}   name                   The unique and machine-readable name.\n * @property {string}   title                  A human-readable variation title.\n * @property {string}   [description]          A detailed variation description.\n * @property {WPIcon}   [icon]                 An icon helping to visualize the variation.\n * @property {boolean}  [isDefault]            Indicates whether the current variation is\n *                                             the default one. Defaults to `false`.\n * @property {Object}   [attributes]           Values which override block attributes.\n * @property {Array[]}  [innerBlocks]          Initial configuration of nested blocks.\n * @property {Object}   [example]              Example provides structured data for\n *                                             the block preview. You can set to\n *                                             `undefined` to disable the preview shown\n *                                             for the block type.\n * @property {WPBlockVariationScope[]} [scope] The list of scopes where the variation\n *                                             is applicable. When not provided, it\n *                                             assumes all available scopes.\n */\n\n/**\n * Defined behavior of a block type.\n *\n * @typedef {Object} WPBlock\n *\n * @property {string}             name         Block type's namespaced name.\n * @property {string}             title        Human-readable block type label.\n * @property {string}             description  A detailed block type description.\n * @property {string}             category     Block type category classification,\n *                                             used in search interfaces to arrange\n *                                             block types by category.\n * @property {WPBlockTypeIcon}    [icon]       Block type icon.\n * @property {string[]}           [keywords]   Additional keywords to produce block\n *                                             type as result in search interfaces.\n * @property {Object}             [attributes] Block type attributes.\n * @property {WPComponent}        [save]       Optional component describing\n *                                             serialized markup structure of a\n *                                             block type.\n * @property {WPComponent}        edit         Component rendering an element to\n *                                             manipulate the attributes of a block\n *                                             in the context of an editor.\n * @property {WPBlockVariation[]} [variations] The list of block variations.\n * @property {Object}             [example]    Example provides structured data for\n *                                             the block preview. When not defined\n *                                             then no preview is shown.\n */\n\nexport let serverSideBlockDefinitions = {};\n\n/**\n * Sets the server side block definition of blocks.\n *\n * @param {Object} definitions Server-side block definitions\n */\n// eslint-disable-next-line camelcase\nexport function unstable__bootstrapServerSideBlockDefinitions( definitions ) {\n\tserverSideBlockDefinitions = {\n\t\t...serverSideBlockDefinitions,\n\t\t...definitions,\n\t};\n}\n\n/**\n * Registers a new block provided a unique name and an object defining its\n * behavior. Once registered, the block is made available as an option to any\n * editor interface where blocks are implemented.\n *\n * @param {string} name     Block name.\n * @param {Object} settings Block settings.\n *\n * @return {?WPBlock} The block, if it has been successfully registered;\n *                    otherwise `undefined`.\n */\nexport function registerBlockType( name, settings ) {\n\tsettings = {\n\t\tname,\n\t\ticon: blockDefault,\n\t\tattributes: {},\n\t\tkeywords: [],\n\t\tsave: () => null,\n\t\t...get( serverSideBlockDefinitions, name ),\n\t\t...settings,\n\t};\n\n\tif ( typeof name !== 'string' ) {\n\t\tconsole.error( 'Block names must be strings.' );\n\t\treturn;\n\t}\n\tif ( ! /^[a-z][a-z0-9-]*\\/[a-z][a-z0-9-]*$/.test( name ) ) {\n\t\tconsole.error(\n\t\t\t'Block names must contain a namespace prefix, include only lowercase alphanumeric characters or dashes, and start with a letter. Example: my-plugin/my-custom-block'\n\t\t);\n\t\treturn;\n\t}\n\tif ( select( 'core/blocks' ).getBlockType( name ) ) {\n\t\tconsole.error( 'Block \"' + name + '\" is already registered.' );\n\t\treturn;\n\t}\n\n\tconst preFilterSettings = { ...settings };\n\tsettings = applyFilters( 'blocks.registerBlockType', settings, name );\n\n\tif ( settings.deprecated ) {\n\t\tsettings.deprecated = settings.deprecated.map( ( deprecation ) =>\n\t\t\tpick(\n\t\t\t\t// Only keep valid deprecation keys.\n\t\t\t\tapplyFilters(\n\t\t\t\t\t'blocks.registerBlockType',\n\t\t\t\t\t// Merge deprecation keys with pre-filter settings\n\t\t\t\t\t// so that filters that depend on specific keys being\n\t\t\t\t\t// present don't fail.\n\t\t\t\t\t{\n\t\t\t\t\t\t// Omit deprecation keys here so that deprecations\n\t\t\t\t\t\t// can opt out of specific keys like \"supports\".\n\t\t\t\t\t\t...omit( preFilterSettings, DEPRECATED_ENTRY_KEYS ),\n\t\t\t\t\t\t...deprecation,\n\t\t\t\t\t},\n\t\t\t\t\tname\n\t\t\t\t),\n\t\t\t\tDEPRECATED_ENTRY_KEYS\n\t\t\t)\n\t\t);\n\t}\n\n\tif ( ! isPlainObject( settings ) ) {\n\t\tconsole.error( 'Block settings must be a valid object.' );\n\t\treturn;\n\t}\n\n\tif ( ! isFunction( settings.save ) ) {\n\t\tconsole.error( 'The \"save\" property must be a valid function.' );\n\t\treturn;\n\t}\n\tif ( 'edit' in settings && ! isFunction( settings.edit ) ) {\n\t\tconsole.error( 'The \"edit\" property must be a valid function.' );\n\t\treturn;\n\t}\n\tif ( ! ( 'category' in settings ) ) {\n\t\tconsole.error( 'The block \"' + name + '\" must have a category.' );\n\t\treturn;\n\t}\n\tif (\n\t\t'category' in settings &&\n\t\t! some( select( 'core/blocks' ).getCategories(), {\n\t\t\tslug: settings.category,\n\t\t} )\n\t) {\n\t\tconsole.error(\n\t\t\t'The block \"' + name + '\" must have a registered category.'\n\t\t);\n\t\treturn;\n\t}\n\tif ( ! ( 'title' in settings ) || settings.title === '' ) {\n\t\tconsole.error( 'The block \"' + name + '\" must have a title.' );\n\t\treturn;\n\t}\n\tif ( typeof settings.title !== 'string' ) {\n\t\tconsole.error( 'Block titles must be strings.' );\n\t\treturn;\n\t}\n\n\tsettings.icon = normalizeIconObject( settings.icon );\n\tif ( ! isValidIcon( settings.icon.src ) ) {\n\t\tconsole.error(\n\t\t\t'The icon passed is invalid. ' +\n\t\t\t\t'The icon should be a string, an element, a function, or an object following the specifications documented in https://developer.wordpress.org/block-editor/developers/block-api/block-registration/#icon-optional'\n\t\t);\n\t\treturn;\n\t}\n\n\tdispatch( 'core/blocks' ).addBlockTypes( settings );\n\n\treturn settings;\n}\n\n/**\n * Registers a new block collection to group blocks in the same namespace in the inserter.\n *\n * @param {string} namespace The namespace to group blocks by in the inserter; corresponds to the block namespace\n * @param {Object} settings  An object composed of a title to show in the inserter, and an icon to show in the inserter\n *\n */\nexport function registerBlockCollection( namespace, { title, icon } ) {\n\tdispatch( 'core/blocks' ).addBlockCollection( namespace, title, icon );\n}\n\n/**\n * Unregisters a block collection\n *\n * @param {string} namespace The namespace to group blocks by in the inserter; corresponds to the block namespace\n *\n */\nexport function unregisterBlockCollection( namespace ) {\n\tdispatch( 'core/blocks' ).removeBlockCollection( namespace );\n}\n\n/**\n * Unregisters a block.\n *\n * @param {string} name Block name.\n *\n * @return {?WPBlock} The previous block value, if it has been successfully\n *                    unregistered; otherwise `undefined`.\n */\nexport function unregisterBlockType( name ) {\n\tconst oldBlock = select( 'core/blocks' ).getBlockType( name );\n\tif ( ! oldBlock ) {\n\t\tconsole.error( 'Block \"' + name + '\" is not registered.' );\n\t\treturn;\n\t}\n\tdispatch( 'core/blocks' ).removeBlockTypes( name );\n\treturn oldBlock;\n}\n\n/**\n * Assigns name of block for handling non-block content.\n *\n * @param {string} blockName Block name.\n */\nexport function setFreeformContentHandlerName( blockName ) {\n\tdispatch( 'core/blocks' ).setFreeformFallbackBlockName( blockName );\n}\n\n/**\n * Retrieves name of block handling non-block content, or undefined if no\n * handler has been defined.\n *\n * @return {?string} Block name.\n */\nexport function getFreeformContentHandlerName() {\n\treturn select( 'core/blocks' ).getFreeformFallbackBlockName();\n}\n\n/**\n * Retrieves name of block used for handling grouping interactions.\n *\n * @return {?string} Block name.\n */\nexport function getGroupingBlockName() {\n\treturn select( 'core/blocks' ).getGroupingBlockName();\n}\n\n/**\n * Assigns name of block handling unregistered block types.\n *\n * @param {string} blockName Block name.\n */\nexport function setUnregisteredTypeHandlerName( blockName ) {\n\tdispatch( 'core/blocks' ).setUnregisteredFallbackBlockName( blockName );\n}\n\n/**\n * Retrieves name of block handling unregistered block types, or undefined if no\n * handler has been defined.\n *\n * @return {?string} Block name.\n */\nexport function getUnregisteredTypeHandlerName() {\n\treturn select( 'core/blocks' ).getUnregisteredFallbackBlockName();\n}\n\n/**\n * Assigns the default block name.\n *\n * @param {string} name Block name.\n */\nexport function setDefaultBlockName( name ) {\n\tdispatch( 'core/blocks' ).setDefaultBlockName( name );\n}\n\n/**\n * Assigns name of block for handling block grouping interactions.\n *\n * @param {string} name Block name.\n */\nexport function setGroupingBlockName( name ) {\n\tdispatch( 'core/blocks' ).setGroupingBlockName( name );\n}\n\n/**\n * Retrieves the default block name.\n *\n * @return {?string} Block name.\n */\nexport function getDefaultBlockName() {\n\treturn select( 'core/blocks' ).getDefaultBlockName();\n}\n\n/**\n * Returns a registered block type.\n *\n * @param {string} name Block name.\n *\n * @return {?Object} Block type.\n */\nexport function getBlockType( name ) {\n\treturn select( 'core/blocks' ).getBlockType( name );\n}\n\n/**\n * Returns all registered blocks.\n *\n * @return {Array} Block settings.\n */\nexport function getBlockTypes() {\n\treturn select( 'core/blocks' ).getBlockTypes();\n}\n\n/**\n * Returns the block support value for a feature, if defined.\n *\n * @param  {(string|Object)} nameOrType      Block name or type object\n * @param  {string}          feature         Feature to retrieve\n * @param  {*}               defaultSupports Default value to return if not\n *                                           explicitly defined\n *\n * @return {?*} Block support value\n */\nexport function getBlockSupport( nameOrType, feature, defaultSupports ) {\n\treturn select( 'core/blocks' ).getBlockSupport(\n\t\tnameOrType,\n\t\tfeature,\n\t\tdefaultSupports\n\t);\n}\n\n/**\n * Returns true if the block defines support for a feature, or false otherwise.\n *\n * @param {(string|Object)} nameOrType      Block name or type object.\n * @param {string}          feature         Feature to test.\n * @param {boolean}         defaultSupports Whether feature is supported by\n *                                          default if not explicitly defined.\n *\n * @return {boolean} Whether block supports feature.\n */\nexport function hasBlockSupport( nameOrType, feature, defaultSupports ) {\n\treturn select( 'core/blocks' ).hasBlockSupport(\n\t\tnameOrType,\n\t\tfeature,\n\t\tdefaultSupports\n\t);\n}\n\n/**\n * Determines whether or not the given block is a reusable block. This is a\n * special block type that is used to point to a global block stored via the\n * API.\n *\n * @param {Object} blockOrType Block or Block Type to test.\n *\n * @return {boolean} Whether the given block is a reusable block.\n */\nexport function isReusableBlock( blockOrType ) {\n\treturn blockOrType.name === 'core/block';\n}\n\n/**\n * Returns an array with the child blocks of a given block.\n *\n * @param {string} blockName Name of block (example: “latest-posts”).\n *\n * @return {Array} Array of child block names.\n */\nexport const getChildBlockNames = ( blockName ) => {\n\treturn select( 'core/blocks' ).getChildBlockNames( blockName );\n};\n\n/**\n * Returns a boolean indicating if a block has child blocks or not.\n *\n * @param {string} blockName Name of block (example: “latest-posts”).\n *\n * @return {boolean} True if a block contains child blocks and false otherwise.\n */\nexport const hasChildBlocks = ( blockName ) => {\n\treturn select( 'core/blocks' ).hasChildBlocks( blockName );\n};\n\n/**\n * Returns a boolean indicating if a block has at least one child block with inserter support.\n *\n * @param {string} blockName Block type name.\n *\n * @return {boolean} True if a block contains at least one child blocks with inserter support\n *                   and false otherwise.\n */\nexport const hasChildBlocksWithInserterSupport = ( blockName ) => {\n\treturn select( 'core/blocks' ).hasChildBlocksWithInserterSupport(\n\t\tblockName\n\t);\n};\n\n/**\n * Registers a new block style variation for the given block.\n *\n * @param {string} blockName      Name of block (example: “core/latest-posts”).\n * @param {Object} styleVariation Object containing `name` which is the class name applied to the block and `label` which identifies the variation to the user.\n */\nexport const registerBlockStyle = ( blockName, styleVariation ) => {\n\tdispatch( 'core/blocks' ).addBlockStyles( blockName, styleVariation );\n};\n\n/**\n * Unregisters a block style variation for the given block.\n *\n * @param {string} blockName          Name of block (example: “core/latest-posts”).\n * @param {string} styleVariationName Name of class applied to the block.\n */\nexport const unregisterBlockStyle = ( blockName, styleVariationName ) => {\n\tdispatch( 'core/blocks' ).removeBlockStyles(\n\t\tblockName,\n\t\tstyleVariationName\n\t);\n};\n\n/**\n * Registers a new block variation for the given block type.\n *\n * @param {string}           blockName Name of the block (example: “core/columns”).\n * @param {WPBlockVariation} variation Object describing a block variation.\n */\nexport const registerBlockVariation = ( blockName, variation ) => {\n\tdispatch( 'core/blocks' ).addBlockVariations( blockName, variation );\n};\n\n/**\n * Unregisters a block variation defined for the given block type.\n *\n * @param {string} blockName     Name of the block (example: “core/columns”).\n * @param {string} variationName Name of the variation defined for the block.\n */\nexport const unregisterBlockVariation = ( blockName, variationName ) => {\n\tdispatch( 'core/blocks' ).removeBlockVariations( blockName, variationName );\n};\n","/**\n * External dependencies\n */\nimport { v4 as uuid } from 'uuid';\nimport {\n\tevery,\n\treduce,\n\tcastArray,\n\tfindIndex,\n\tisObjectLike,\n\tfilter,\n\tfirst,\n\tflatMap,\n\thas,\n\tuniq,\n\tisFunction,\n\tisEmpty,\n\tmap,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createHooks, applyFilters } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetBlockType,\n\tgetBlockTypes,\n\tgetGroupingBlockName,\n} from './registration';\nimport { normalizeBlockType } from './utils';\n\n/**\n * Returns a block object given its type and attributes.\n *\n * @param {string} name        Block name.\n * @param {Object} attributes  Block attributes.\n * @param {?Array} innerBlocks Nested blocks.\n *\n * @return {Object} Block object.\n */\nexport function createBlock( name, attributes = {}, innerBlocks = [] ) {\n\t// Get the type definition associated with a registered block.\n\tconst blockType = getBlockType( name );\n\n\t// Ensure attributes contains only values defined by block type, and merge\n\t// default values for missing attributes.\n\tconst sanitizedAttributes = reduce(\n\t\tblockType.attributes,\n\t\t( accumulator, schema, key ) => {\n\t\t\tconst value = attributes[ key ];\n\n\t\t\tif ( undefined !== value ) {\n\t\t\t\taccumulator[ key ] = value;\n\t\t\t} else if ( schema.hasOwnProperty( 'default' ) ) {\n\t\t\t\taccumulator[ key ] = schema.default;\n\t\t\t}\n\n\t\t\tif ( [ 'node', 'children' ].indexOf( schema.source ) !== -1 ) {\n\t\t\t\t// Ensure value passed is always an array, which we're expecting in\n\t\t\t\t// the RichText component to handle the deprecated value.\n\t\t\t\tif ( typeof accumulator[ key ] === 'string' ) {\n\t\t\t\t\taccumulator[ key ] = [ accumulator[ key ] ];\n\t\t\t\t} else if ( ! Array.isArray( accumulator[ key ] ) ) {\n\t\t\t\t\taccumulator[ key ] = [];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn accumulator;\n\t\t},\n\t\t{}\n\t);\n\n\tconst clientId = uuid();\n\n\t// Blocks are stored with a unique ID, the assigned type name, the block\n\t// attributes, and their inner blocks.\n\treturn {\n\t\tclientId,\n\t\tname,\n\t\tisValid: true,\n\t\tattributes: sanitizedAttributes,\n\t\tinnerBlocks,\n\t};\n}\n\n/**\n * Given a block object, returns a copy of the block object, optionally merging\n * new attributes and/or replacing its inner blocks.\n *\n * @param {Object} block              Block instance.\n * @param {Object} mergeAttributes    Block attributes.\n * @param {?Array} newInnerBlocks     Nested blocks.\n *\n * @return {Object} A cloned block.\n */\nexport function cloneBlock( block, mergeAttributes = {}, newInnerBlocks ) {\n\tconst clientId = uuid();\n\n\treturn {\n\t\t...block,\n\t\tclientId,\n\t\tattributes: {\n\t\t\t...block.attributes,\n\t\t\t...mergeAttributes,\n\t\t},\n\t\tinnerBlocks:\n\t\t\tnewInnerBlocks ||\n\t\t\tblock.innerBlocks.map( ( innerBlock ) => cloneBlock( innerBlock ) ),\n\t};\n}\n\n/**\n * Returns a boolean indicating whether a transform is possible based on\n * various bits of context.\n *\n * @param {Object} transform The transform object to validate.\n * @param {string} direction Is this a 'from' or 'to' transform.\n * @param {Array} blocks The blocks to transform from.\n *\n * @return {boolean} Is the transform possible?\n */\nconst isPossibleTransformForSource = ( transform, direction, blocks ) => {\n\tif ( isEmpty( blocks ) ) {\n\t\treturn false;\n\t}\n\n\t// If multiple blocks are selected, only multi block transforms\n\t// or wildcard transforms are allowed.\n\tconst isMultiBlock = blocks.length > 1;\n\tconst firstBlockName = first( blocks ).name;\n\tconst isValidForMultiBlocks =\n\t\tisWildcardBlockTransform( transform ) ||\n\t\t! isMultiBlock ||\n\t\ttransform.isMultiBlock;\n\tif ( ! isValidForMultiBlocks ) {\n\t\treturn false;\n\t}\n\n\t// Check non-wildcard transforms to ensure that transform is valid\n\t// for a block selection of multiple blocks of different types\n\tif (\n\t\t! isWildcardBlockTransform( transform ) &&\n\t\t! every( blocks, { name: firstBlockName } )\n\t) {\n\t\treturn false;\n\t}\n\n\t// Only consider 'block' type transforms as valid.\n\tconst isBlockType = transform.type === 'block';\n\tif ( ! isBlockType ) {\n\t\treturn false;\n\t}\n\n\t// Check if the transform's block name matches the source block (or is a wildcard)\n\t// only if this is a transform 'from'.\n\tconst sourceBlock = first( blocks );\n\tconst hasMatchingName =\n\t\tdirection !== 'from' ||\n\t\ttransform.blocks.indexOf( sourceBlock.name ) !== -1 ||\n\t\tisWildcardBlockTransform( transform );\n\tif ( ! hasMatchingName ) {\n\t\treturn false;\n\t}\n\n\t// Don't allow single Grouping blocks to be transformed into\n\t// a Grouping block.\n\tif (\n\t\t! isMultiBlock &&\n\t\tisContainerGroupBlock( sourceBlock.name ) &&\n\t\tisContainerGroupBlock( transform.blockName )\n\t) {\n\t\treturn false;\n\t}\n\n\t// If the transform has a `isMatch` function specified, check that it returns true.\n\tif ( isFunction( transform.isMatch ) ) {\n\t\tconst attributes = transform.isMultiBlock\n\t\t\t? blocks.map( ( block ) => block.attributes )\n\t\t\t: sourceBlock.attributes;\n\t\tif ( ! transform.isMatch( attributes ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n};\n\n/**\n * Returns block types that the 'blocks' can be transformed into, based on\n * 'from' transforms on other blocks.\n *\n * @param {Array}  blocks  The blocks to transform from.\n *\n * @return {Array} Block types that the blocks can be transformed into.\n */\nconst getBlockTypesForPossibleFromTransforms = ( blocks ) => {\n\tif ( isEmpty( blocks ) ) {\n\t\treturn [];\n\t}\n\n\tconst allBlockTypes = getBlockTypes();\n\n\t// filter all blocks to find those with a 'from' transform.\n\tconst blockTypesWithPossibleFromTransforms = filter(\n\t\tallBlockTypes,\n\t\t( blockType ) => {\n\t\t\tconst fromTransforms = getBlockTransforms( 'from', blockType.name );\n\n\t\t\treturn !! findTransform( fromTransforms, ( transform ) => {\n\t\t\t\treturn isPossibleTransformForSource(\n\t\t\t\t\ttransform,\n\t\t\t\t\t'from',\n\t\t\t\t\tblocks\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\t);\n\n\treturn blockTypesWithPossibleFromTransforms;\n};\n\n/**\n * Returns block types that the 'blocks' can be transformed into, based on\n * the source block's own 'to' transforms.\n *\n * @param {Array} blocks The blocks to transform from.\n *\n * @return {Array} Block types that the source can be transformed into.\n */\nconst getBlockTypesForPossibleToTransforms = ( blocks ) => {\n\tif ( isEmpty( blocks ) ) {\n\t\treturn [];\n\t}\n\n\tconst sourceBlock = first( blocks );\n\tconst blockType = getBlockType( sourceBlock.name );\n\tconst transformsTo = getBlockTransforms( 'to', blockType.name );\n\n\t// filter all 'to' transforms to find those that are possible.\n\tconst possibleTransforms = filter( transformsTo, ( transform ) => {\n\t\treturn (\n\t\t\ttransform && isPossibleTransformForSource( transform, 'to', blocks )\n\t\t);\n\t} );\n\n\t// Build a list of block names using the possible 'to' transforms.\n\tconst blockNames = flatMap(\n\t\tpossibleTransforms,\n\t\t( transformation ) => transformation.blocks\n\t);\n\n\t// Map block names to block types.\n\treturn blockNames.map( ( name ) => getBlockType( name ) );\n};\n\n/**\n * Determines whether transform is a \"block\" type\n * and if so whether it is a \"wildcard\" transform\n * ie: targets \"any\" block type\n *\n * @param {Object} t the Block transform object\n *\n * @return {boolean} whether transform is a wildcard transform\n */\nexport const isWildcardBlockTransform = ( t ) =>\n\tt &&\n\tt.type === 'block' &&\n\tArray.isArray( t.blocks ) &&\n\tt.blocks.includes( '*' );\n\n/**\n * Determines whether the given Block is the core Block which\n * acts as a container Block for other Blocks as part of the\n * Grouping mechanics\n *\n * @param  {string} name the name of the Block to test against\n *\n * @return {boolean} whether or not the Block is the container Block type\n */\nexport const isContainerGroupBlock = ( name ) =>\n\tname === getGroupingBlockName();\n\n/**\n * Determines whether the provided Blocks are of the same type\n * (eg: all `core/paragraph`).\n *\n * @param  {Array}  blocksArray the Block definitions\n *\n * @return {boolean} whether or not the given Blocks pass the criteria\n */\nexport const isBlockSelectionOfSameType = ( blocksArray = [] ) => {\n\tif ( ! blocksArray.length ) {\n\t\treturn false;\n\t}\n\tconst sourceName = blocksArray[ 0 ].name;\n\n\treturn every( blocksArray, [ 'name', sourceName ] );\n};\n\n/**\n * Returns an array of block types that the set of blocks received as argument\n * can be transformed into.\n *\n * @param {Array} blocks Blocks array.\n *\n * @return {Array} Block types that the blocks argument can be transformed to.\n */\nexport function getPossibleBlockTransformations( blocks ) {\n\tif ( isEmpty( blocks ) ) {\n\t\treturn [];\n\t}\n\n\tconst blockTypesForFromTransforms = getBlockTypesForPossibleFromTransforms(\n\t\tblocks\n\t);\n\tconst blockTypesForToTransforms = getBlockTypesForPossibleToTransforms(\n\t\tblocks\n\t);\n\n\treturn uniq( [\n\t\t...blockTypesForFromTransforms,\n\t\t...blockTypesForToTransforms,\n\t] );\n}\n\n/**\n * Given an array of transforms, returns the highest-priority transform where\n * the predicate function returns a truthy value. A higher-priority transform\n * is one with a lower priority value (i.e. first in priority order). Returns\n * null if the transforms set is empty or the predicate function returns a\n * falsey value for all entries.\n *\n * @param {Object[]} transforms Transforms to search.\n * @param {Function} predicate  Function returning true on matching transform.\n *\n * @return {?Object} Highest-priority transform candidate.\n */\nexport function findTransform( transforms, predicate ) {\n\t// The hooks library already has built-in mechanisms for managing priority\n\t// queue, so leverage via locally-defined instance.\n\tconst hooks = createHooks();\n\n\tfor ( let i = 0; i < transforms.length; i++ ) {\n\t\tconst candidate = transforms[ i ];\n\t\tif ( predicate( candidate ) ) {\n\t\t\thooks.addFilter(\n\t\t\t\t'transform',\n\t\t\t\t'transform/' + i.toString(),\n\t\t\t\t( result ) => ( result ? result : candidate ),\n\t\t\t\tcandidate.priority\n\t\t\t);\n\t\t}\n\t}\n\n\t// Filter name is arbitrarily chosen but consistent with above aggregation.\n\treturn hooks.applyFilters( 'transform', null );\n}\n\n/**\n * Returns normal block transforms for a given transform direction, optionally\n * for a specific block by name, or an empty array if there are no transforms.\n * If no block name is provided, returns transforms for all blocks. A normal\n * transform object includes `blockName` as a property.\n *\n * @param {string}  direction Transform direction (\"to\", \"from\").\n * @param {string|Object} blockTypeOrName  Block type or name.\n *\n * @return {Array} Block transforms for direction.\n */\nexport function getBlockTransforms( direction, blockTypeOrName ) {\n\t// When retrieving transforms for all block types, recurse into self.\n\tif ( blockTypeOrName === undefined ) {\n\t\treturn flatMap( getBlockTypes(), ( { name } ) =>\n\t\t\tgetBlockTransforms( direction, name )\n\t\t);\n\t}\n\n\t// Validate that block type exists and has array of direction.\n\tconst blockType = normalizeBlockType( blockTypeOrName );\n\tconst { name: blockName, transforms } = blockType || {};\n\tif ( ! transforms || ! Array.isArray( transforms[ direction ] ) ) {\n\t\treturn [];\n\t}\n\n\t// Map transforms to normal form.\n\treturn transforms[ direction ].map( ( transform ) => ( {\n\t\t...transform,\n\t\tblockName,\n\t} ) );\n}\n\n/**\n * Switch one or more blocks into one or more blocks of the new block type.\n *\n * @param {Array|Object} blocks Blocks array or block object.\n * @param {string}       name   Block name.\n *\n * @return {?Array} Array of blocks or null.\n */\nexport function switchToBlockType( blocks, name ) {\n\tconst blocksArray = castArray( blocks );\n\tconst isMultiBlock = blocksArray.length > 1;\n\tconst firstBlock = blocksArray[ 0 ];\n\tconst sourceName = firstBlock.name;\n\n\t// Unless it's a Grouping Block then for multi block selections\n\t// check that all Blocks are of the same type otherwise\n\t// we can't run a conversion\n\tif (\n\t\t! isContainerGroupBlock( name ) &&\n\t\tisMultiBlock &&\n\t\t! isBlockSelectionOfSameType( blocksArray )\n\t) {\n\t\treturn null;\n\t}\n\n\t// Find the right transformation by giving priority to the \"to\"\n\t// transformation.\n\tconst transformationsFrom = getBlockTransforms( 'from', name );\n\tconst transformationsTo = getBlockTransforms( 'to', sourceName );\n\n\tconst transformation =\n\t\tfindTransform(\n\t\t\ttransformationsTo,\n\t\t\t( t ) =>\n\t\t\t\tt.type === 'block' &&\n\t\t\t\t( isWildcardBlockTransform( t ) ||\n\t\t\t\t\tt.blocks.indexOf( name ) !== -1 ) &&\n\t\t\t\t( ! isMultiBlock || t.isMultiBlock )\n\t\t) ||\n\t\tfindTransform(\n\t\t\ttransformationsFrom,\n\t\t\t( t ) =>\n\t\t\t\tt.type === 'block' &&\n\t\t\t\t( isWildcardBlockTransform( t ) ||\n\t\t\t\t\tt.blocks.indexOf( sourceName ) !== -1 ) &&\n\t\t\t\t( ! isMultiBlock || t.isMultiBlock )\n\t\t);\n\n\t// Stop if there is no valid transformation.\n\tif ( ! transformation ) {\n\t\treturn null;\n\t}\n\n\tlet transformationResults;\n\n\tif ( transformation.isMultiBlock ) {\n\t\tif ( has( transformation, '__experimentalConvert' ) ) {\n\t\t\ttransformationResults = transformation.__experimentalConvert(\n\t\t\t\tblocksArray\n\t\t\t);\n\t\t} else {\n\t\t\ttransformationResults = transformation.transform(\n\t\t\t\tblocksArray.map( ( currentBlock ) => currentBlock.attributes ),\n\t\t\t\tblocksArray.map( ( currentBlock ) => currentBlock.innerBlocks )\n\t\t\t);\n\t\t}\n\t} else if ( has( transformation, '__experimentalConvert' ) ) {\n\t\ttransformationResults = transformation.__experimentalConvert(\n\t\t\tfirstBlock\n\t\t);\n\t} else {\n\t\ttransformationResults = transformation.transform(\n\t\t\tfirstBlock.attributes,\n\t\t\tfirstBlock.innerBlocks\n\t\t);\n\t}\n\n\t// Ensure that the transformation function returned an object or an array\n\t// of objects.\n\tif ( ! isObjectLike( transformationResults ) ) {\n\t\treturn null;\n\t}\n\n\t// If the transformation function returned a single object, we want to work\n\t// with an array instead.\n\ttransformationResults = castArray( transformationResults );\n\n\t// Ensure that every block object returned by the transformation has a\n\t// valid block type.\n\tif (\n\t\ttransformationResults.some(\n\t\t\t( result ) => ! getBlockType( result.name )\n\t\t)\n\t) {\n\t\treturn null;\n\t}\n\n\tconst firstSwitchedBlock = findIndex(\n\t\ttransformationResults,\n\t\t( result ) => result.name === name\n\t);\n\n\t// Ensure that at least one block object returned by the transformation has\n\t// the expected \"destination\" block type.\n\tif ( firstSwitchedBlock < 0 ) {\n\t\treturn null;\n\t}\n\n\treturn transformationResults.map( ( result, index ) => {\n\t\tconst transformedBlock = {\n\t\t\t...result,\n\t\t\t// The first transformed block whose type matches the \"destination\"\n\t\t\t// type gets to keep the existing client ID of the first block.\n\t\t\tclientId:\n\t\t\t\tindex === firstSwitchedBlock\n\t\t\t\t\t? firstBlock.clientId\n\t\t\t\t\t: result.clientId,\n\t\t};\n\n\t\t/**\n\t\t * Filters an individual transform result from block transformation.\n\t\t * All of the original blocks are passed, since transformations are\n\t\t * many-to-many, not one-to-one.\n\t\t *\n\t\t * @param {Object}   transformedBlock The transformed block.\n\t\t * @param {Object[]} blocks           Original blocks transformed.\n\t\t */\n\t\treturn applyFilters(\n\t\t\t'blocks.switchToBlockType.transformedBlock',\n\t\t\ttransformedBlock,\n\t\t\tblocks\n\t\t);\n\t} );\n}\n\n/**\n * Create a block object from the example API.\n *\n * @param {string} name\n * @param {Object} example\n *\n * @return {Object} block.\n */\nexport const getBlockFromExample = ( name, example ) => {\n\treturn createBlock(\n\t\tname,\n\t\texample.attributes,\n\t\tmap( example.innerBlocks, ( innerBlock ) =>\n\t\t\tgetBlockFromExample( innerBlock.name, innerBlock )\n\t\t)\n\t);\n};\n","/**\n * Given object and string of dot-delimited path segments, returns value at\n * path or undefined if path cannot be resolved.\n *\n * @param  {Object} object Lookup object\n * @param  {string} path   Path to resolve\n * @return {?*}            Resolved value\n */\nexport default function getPath(object, path) {\n  var segments = path.split('.');\n  var segment;\n\n  while (segment = segments.shift()) {\n    if (!(segment in object)) {\n      return;\n    }\n\n    object = object[segment];\n  }\n\n  return object;\n}","/**\n * Internal dependencies\n */\nimport getPath from './get-path';\n/**\n * Function returning a DOM document created by `createHTMLDocument`. The same\n * document is returned between invocations.\n *\n * @return {Document} DOM document.\n */\n\nvar getDocument = function () {\n  var doc;\n  return function () {\n    if (!doc) {\n      doc = document.implementation.createHTMLDocument('');\n    }\n\n    return doc;\n  };\n}();\n/**\n * Given a markup string or DOM element, creates an object aligning with the\n * shape of the matchers object, or the value returned by the matcher.\n *\n * @param  {(string|Element)}  source   Source content\n * @param  {(Object|Function)} matchers Matcher function or object of matchers\n * @return {(Object|*)}                 Matched value(s), shaped by object\n */\n\n\nexport function parse(source, matchers) {\n  if (!matchers) {\n    return;\n  } // Coerce to element\n\n\n  if ('string' === typeof source) {\n    var doc = getDocument();\n    doc.body.innerHTML = source;\n    source = doc.body;\n  } // Return singular value\n\n\n  if ('function' === typeof matchers) {\n    return matchers(source);\n  } // Bail if we can't handle matchers\n\n\n  if (Object !== matchers.constructor) {\n    return;\n  } // Shape result by matcher object\n\n\n  return Object.keys(matchers).reduce(function (memo, key) {\n    memo[key] = parse(source, matchers[key]);\n    return memo;\n  }, {});\n}\n/**\n * Generates a function which matches node of type selector, returning an\n * attribute by property if the attribute exists. If no selector is passed,\n * returns property of the query element.\n *\n * @param  {?string} selector Optional selector\n * @param  {string}  name     Property name\n * @return {*}                Property value\n */\n\nexport function prop(selector, name) {\n  if (1 === arguments.length) {\n    name = selector;\n    selector = undefined;\n  }\n\n  return function (node) {\n    var match = node;\n\n    if (selector) {\n      match = node.querySelector(selector);\n    }\n\n    if (match) {\n      return getPath(match, name);\n    }\n  };\n}\n/**\n * Generates a function which matches node of type selector, returning an\n * attribute by name if the attribute exists. If no selector is passed,\n * returns attribute of the query element.\n *\n * @param  {?string} selector Optional selector\n * @param  {string}  name     Attribute name\n * @return {?string}          Attribute value\n */\n\nexport function attr(selector, name) {\n  if (1 === arguments.length) {\n    name = selector;\n    selector = undefined;\n  }\n\n  return function (node) {\n    var attributes = prop(selector, 'attributes')(node);\n\n    if (attributes && attributes.hasOwnProperty(name)) {\n      return attributes[name].value;\n    }\n  };\n}\n/**\n * Convenience for `prop( selector, 'innerHTML' )`.\n *\n * @see prop()\n *\n * @param  {?string} selector Optional selector\n * @return {string}           Inner HTML\n */\n\nexport function html(selector) {\n  return prop(selector, 'innerHTML');\n}\n/**\n * Convenience for `prop( selector, 'textContent' )`.\n *\n * @see prop()\n *\n * @param  {?string} selector Optional selector\n * @return {string}           Text content\n */\n\nexport function text(selector) {\n  return prop(selector, 'textContent');\n}\n/**\n * Creates a new matching context by first finding elements matching selector\n * using querySelectorAll before then running another `parse` on `matchers`\n * scoped to the matched elements.\n *\n * @see parse()\n *\n * @param  {string}            selector Selector to match\n * @param  {(Object|Function)} matchers Matcher function or object of matchers\n * @return {Array.<*,Object>}           Array of matched value(s)\n */\n\nexport function query(selector, matchers) {\n  return function (node) {\n    var matches = node.querySelectorAll(selector);\n    return [].map.call(matches, function (match) {\n      return parse(match, matchers);\n    });\n  };\n}","/**\n * The regular expression for an HTML element.\n *\n * @type {RegExp}\n */\nconst htmlSplitRegex = ( () => {\n\t/* eslint-disable no-multi-spaces */\n\tconst comments =\n\t\t'!' + // Start of comment, after the <.\n\t\t'(?:' + // Unroll the loop: Consume everything until --> is found.\n\t\t'-(?!->)' + // Dash not followed by end of comment.\n\t\t'[^\\\\-]*' + // Consume non-dashes.\n\t\t')*' + // Loop possessively.\n\t\t'(?:-->)?'; // End of comment. If not found, match all input.\n\n\tconst cdata =\n\t\t'!\\\\[CDATA\\\\[' + // Start of comment, after the <.\n\t\t'[^\\\\]]*' + // Consume non-].\n\t\t'(?:' + // Unroll the loop: Consume everything until ]]> is found.\n\t\t'](?!]>)' + // One ] not followed by end of comment.\n\t\t'[^\\\\]]*' + // Consume non-].\n\t\t')*?' + // Loop possessively.\n\t\t'(?:]]>)?'; // End of comment. If not found, match all input.\n\n\tconst escaped =\n\t\t'(?=' + // Is the element escaped?\n\t\t'!--' +\n\t\t'|' +\n\t\t'!\\\\[CDATA\\\\[' +\n\t\t')' +\n\t\t'((?=!-)' + // If yes, which type?\n\t\tcomments +\n\t\t'|' +\n\t\tcdata +\n\t\t')';\n\n\tconst regex =\n\t\t'(' + // Capture the entire match.\n\t\t'<' + // Find start of element.\n\t\t'(' + // Conditional expression follows.\n\t\tescaped + // Find end of escaped element.\n\t\t'|' + // ... else ...\n\t\t'[^>]*>?' + // Find end of normal element.\n\t\t')' +\n\t\t')';\n\n\treturn new RegExp( regex );\n\t/* eslint-enable no-multi-spaces */\n} )();\n\n/**\n * Separate HTML elements and comments from the text.\n *\n * @param  {string} input The text which has to be formatted.\n * @return {string[]}        The formatted text.\n */\nfunction htmlSplit( input ) {\n\tconst parts = [];\n\tlet workingInput = input;\n\n\tlet match;\n\twhile ( ( match = workingInput.match( htmlSplitRegex ) ) ) {\n\t\t// The `match` result, when invoked on a RegExp with the `g` flag (`/foo/g`) will not include `index`.\n\t\t// If the `g` flag is omitted, `index` is included.\n\t\t// `htmlSplitRegex` does not have the `g` flag so we can assert it will have an index number.\n\t\t// Assert `match.index` is a number.\n\t\tconst index = /** @type {number} */ ( match.index );\n\n\t\tparts.push( workingInput.slice( 0, index ) );\n\t\tparts.push( match[ 0 ] );\n\t\tworkingInput = workingInput.slice( index + match[ 0 ].length );\n\t}\n\n\tif ( workingInput.length ) {\n\t\tparts.push( workingInput );\n\t}\n\n\treturn parts;\n}\n\n/**\n * Replace characters or phrases within HTML elements only.\n *\n * @param  {string}                haystack     The text which has to be formatted.\n * @param  {Record<string,string>} replacePairs In the form {from: 'to', …}.\n * @return {string}                             The formatted text.\n */\nfunction replaceInHtmlTags( haystack, replacePairs ) {\n\t// Find all elements.\n\tconst textArr = htmlSplit( haystack );\n\tlet changed = false;\n\n\t// Extract all needles.\n\tconst needles = Object.keys( replacePairs );\n\n\t// Loop through delimiters (elements) only.\n\tfor ( let i = 1; i < textArr.length; i += 2 ) {\n\t\tfor ( let j = 0; j < needles.length; j++ ) {\n\t\t\tconst needle = needles[ j ];\n\t\t\tif ( -1 !== textArr[ i ].indexOf( needle ) ) {\n\t\t\t\ttextArr[ i ] = textArr[ i ].replace(\n\t\t\t\t\tnew RegExp( needle, 'g' ),\n\t\t\t\t\treplacePairs[ needle ]\n\t\t\t\t);\n\t\t\t\tchanged = true;\n\t\t\t\t// After one strtr() break out of the foreach loop and look at next element.\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( changed ) {\n\t\thaystack = textArr.join( '' );\n\t}\n\n\treturn haystack;\n}\n\n/**\n * Replaces double line-breaks with paragraph elements.\n *\n * A group of regex replaces used to identify text formatted with newlines and\n * replace double line-breaks with HTML paragraph tags. The remaining line-\n * breaks after conversion become `<br />` tags, unless br is set to 'false'.\n *\n * @param  {string}    text The text which has to be formatted.\n * @param  {boolean}   br   Optional. If set, will convert all remaining line-\n *                          breaks after paragraphing. Default true.\n *\n * @example\n *```js\n * import { autop } from '@wordpress/autop';\n * autop( 'my text' ); // \"<p>my text</p>\"\n * ```\n *\n * @return {string}         Text which has been converted into paragraph tags.\n */\nexport function autop( text, br = true ) {\n\tconst preTags = [];\n\n\tif ( text.trim() === '' ) {\n\t\treturn '';\n\t}\n\n\t// Just to make things a little easier, pad the end.\n\ttext = text + '\\n';\n\n\t/*\n\t * Pre tags shouldn't be touched by autop.\n\t * Replace pre tags with placeholders and bring them back after autop.\n\t */\n\tif ( text.indexOf( '<pre' ) !== -1 ) {\n\t\tconst textParts = text.split( '</pre>' );\n\t\tconst lastText = textParts.pop();\n\t\ttext = '';\n\n\t\tfor ( let i = 0; i < textParts.length; i++ ) {\n\t\t\tconst textPart = textParts[ i ];\n\t\t\tconst start = textPart.indexOf( '<pre' );\n\n\t\t\t// Malformed html?\n\t\t\tif ( start === -1 ) {\n\t\t\t\ttext += textPart;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst name = '<pre wp-pre-tag-' + i + '></pre>';\n\t\t\tpreTags.push( [ name, textPart.substr( start ) + '</pre>' ] );\n\n\t\t\ttext += textPart.substr( 0, start ) + name;\n\t\t}\n\n\t\ttext += lastText;\n\t}\n\t// Change multiple <br>s into two line breaks, which will turn into paragraphs.\n\ttext = text.replace( /<br\\s*\\/?>\\s*<br\\s*\\/?>/g, '\\n\\n' );\n\n\tconst allBlocks =\n\t\t'(?:table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary)';\n\n\t// Add a double line break above block-level opening tags.\n\ttext = text.replace(\n\t\tnew RegExp( '(<' + allBlocks + '[\\\\s/>])', 'g' ),\n\t\t'\\n\\n$1'\n\t);\n\n\t// Add a double line break below block-level closing tags.\n\ttext = text.replace(\n\t\tnew RegExp( '(</' + allBlocks + '>)', 'g' ),\n\t\t'$1\\n\\n'\n\t);\n\n\t// Standardize newline characters to \"\\n\".\n\ttext = text.replace( /\\r\\n|\\r/g, '\\n' );\n\n\t// Find newlines in all elements and add placeholders.\n\ttext = replaceInHtmlTags( text, { '\\n': ' <!-- wpnl --> ' } );\n\n\t// Collapse line breaks before and after <option> elements so they don't get autop'd.\n\tif ( text.indexOf( '<option' ) !== -1 ) {\n\t\ttext = text.replace( /\\s*<option/g, '<option' );\n\t\ttext = text.replace( /<\\/option>\\s*/g, '</option>' );\n\t}\n\n\t/*\n\t * Collapse line breaks inside <object> elements, before <param> and <embed> elements\n\t * so they don't get autop'd.\n\t */\n\tif ( text.indexOf( '</object>' ) !== -1 ) {\n\t\ttext = text.replace( /(<object[^>]*>)\\s*/g, '$1' );\n\t\ttext = text.replace( /\\s*<\\/object>/g, '</object>' );\n\t\ttext = text.replace( /\\s*(<\\/?(?:param|embed)[^>]*>)\\s*/g, '$1' );\n\t}\n\n\t/*\n\t * Collapse line breaks inside <audio> and <video> elements,\n\t * before and after <source> and <track> elements.\n\t */\n\tif ( text.indexOf( '<source' ) !== -1 || text.indexOf( '<track' ) !== -1 ) {\n\t\ttext = text.replace( /([<\\[](?:audio|video)[^>\\]]*[>\\]])\\s*/g, '$1' );\n\t\ttext = text.replace( /\\s*([<\\[]\\/(?:audio|video)[>\\]])/g, '$1' );\n\t\ttext = text.replace( /\\s*(<(?:source|track)[^>]*>)\\s*/g, '$1' );\n\t}\n\n\t// Collapse line breaks before and after <figcaption> elements.\n\tif ( text.indexOf( '<figcaption' ) !== -1 ) {\n\t\ttext = text.replace( /\\s*(<figcaption[^>]*>)/, '$1' );\n\t\ttext = text.replace( /<\\/figcaption>\\s*/, '</figcaption>' );\n\t}\n\n\t// Remove more than two contiguous line breaks.\n\ttext = text.replace( /\\n\\n+/g, '\\n\\n' );\n\n\t// Split up the contents into an array of strings, separated by double line breaks.\n\tconst texts = text.split( /\\n\\s*\\n/ ).filter( Boolean );\n\n\t// Reset text prior to rebuilding.\n\ttext = '';\n\n\t// Rebuild the content as a string, wrapping every bit with a <p>.\n\ttexts.forEach( ( textPiece ) => {\n\t\ttext += '<p>' + textPiece.replace( /^\\n*|\\n*$/g, '' ) + '</p>\\n';\n\t} );\n\n\t// Under certain strange conditions it could create a P of entirely whitespace.\n\ttext = text.replace( /<p>\\s*<\\/p>/g, '' );\n\n\t// Add a closing <p> inside <div>, <address>, or <form> tag if missing.\n\ttext = text.replace(\n\t\t/<p>([^<]+)<\\/(div|address|form)>/g,\n\t\t'<p>$1</p></$2>'\n\t);\n\n\t// If an opening or closing block element tag is wrapped in a <p>, unwrap it.\n\ttext = text.replace(\n\t\tnew RegExp( '<p>\\\\s*(</?' + allBlocks + '[^>]*>)\\\\s*</p>', 'g' ),\n\t\t'$1'\n\t);\n\n\t// In some cases <li> may get wrapped in <p>, fix them.\n\ttext = text.replace( /<p>(<li.+?)<\\/p>/g, '$1' );\n\n\t// If a <blockquote> is wrapped with a <p>, move it inside the <blockquote>.\n\ttext = text.replace( /<p><blockquote([^>]*)>/gi, '<blockquote$1><p>' );\n\ttext = text.replace( /<\\/blockquote><\\/p>/g, '</p></blockquote>' );\n\n\t// If an opening or closing block element tag is preceded by an opening <p> tag, remove it.\n\ttext = text.replace(\n\t\tnew RegExp( '<p>\\\\s*(</?' + allBlocks + '[^>]*>)', 'g' ),\n\t\t'$1'\n\t);\n\n\t// If an opening or closing block element tag is followed by a closing <p> tag, remove it.\n\ttext = text.replace(\n\t\tnew RegExp( '(</?' + allBlocks + '[^>]*>)\\\\s*</p>', 'g' ),\n\t\t'$1'\n\t);\n\n\t// Optionally insert line breaks.\n\tif ( br ) {\n\t\t// Replace newlines that shouldn't be touched with a placeholder.\n\t\ttext = text.replace( /<(script|style).*?<\\/\\\\1>/g, ( match ) =>\n\t\t\tmatch[ 0 ].replace( /\\n/g, '<WPPreserveNewline />' )\n\t\t);\n\n\t\t// Normalize <br>\n\t\ttext = text.replace( /<br>|<br\\/>/g, '<br />' );\n\n\t\t// Replace any new line characters that aren't preceded by a <br /> with a <br />.\n\t\ttext = text.replace( /(<br \\/>)?\\s*\\n/g, ( a, b ) =>\n\t\t\tb ? a : '<br />\\n'\n\t\t);\n\n\t\t// Replace newline placeholders with newlines.\n\t\ttext = text.replace( /<WPPreserveNewline \\/>/g, '\\n' );\n\t}\n\n\t// If a <br /> tag is after an opening or closing block tag, remove it.\n\ttext = text.replace(\n\t\tnew RegExp( '(</?' + allBlocks + '[^>]*>)\\\\s*<br />', 'g' ),\n\t\t'$1'\n\t);\n\n\t// If a <br /> tag is before a subset of opening or closing block tags, remove it.\n\ttext = text.replace(\n\t\t/<br \\/>(\\s*<\\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)/g,\n\t\t'$1'\n\t);\n\ttext = text.replace( /\\n<\\/p>$/g, '</p>' );\n\n\t// Replace placeholder <pre> tags with their original content.\n\tpreTags.forEach( ( preTag ) => {\n\t\tconst [ name, original ] = preTag;\n\t\ttext = text.replace( name, original );\n\t} );\n\n\t// Restore newlines in all elements.\n\tif ( -1 !== text.indexOf( '<!-- wpnl -->' ) ) {\n\t\ttext = text.replace( /\\s?<!-- wpnl -->\\s?/g, '\\n' );\n\t}\n\n\treturn text;\n}\n\n/**\n * Replaces `<p>` tags with two line breaks. \"Opposite\" of autop().\n *\n * Replaces `<p>` tags with two line breaks except where the `<p>` has attributes.\n * Unifies whitespace. Indents `<li>`, `<dt>` and `<dd>` for better readability.\n *\n * @param  {string} html The content from the editor.\n *\n * @example\n * ```js\n * import { removep } from '@wordpress/autop';\n * removep( '<p>my text</p>' ); // \"my text\"\n * ```\n *\n * @return {string}      The content with stripped paragraph tags.\n */\nexport function removep( html ) {\n\tconst blocklist =\n\t\t'blockquote|ul|ol|li|dl|dt|dd|table|thead|tbody|tfoot|tr|th|td|h[1-6]|fieldset|figure';\n\tconst blocklist1 = blocklist + '|div|p';\n\tconst blocklist2 = blocklist + '|pre';\n\t/** @type {string[]} */\n\tconst preserve = [];\n\tlet preserveLinebreaks = false;\n\tlet preserveBr = false;\n\n\tif ( ! html ) {\n\t\treturn '';\n\t}\n\n\t// Protect script and style tags.\n\tif ( html.indexOf( '<script' ) !== -1 || html.indexOf( '<style' ) !== -1 ) {\n\t\thtml = html.replace( /<(script|style)[^>]*>[\\s\\S]*?<\\/\\1>/g, function(\n\t\t\tmatch\n\t\t) {\n\t\t\tpreserve.push( match );\n\t\t\treturn '<wp-preserve>';\n\t\t} );\n\t}\n\n\t// Protect pre tags.\n\tif ( html.indexOf( '<pre' ) !== -1 ) {\n\t\tpreserveLinebreaks = true;\n\t\thtml = html.replace( /<pre[^>]*>[\\s\\S]+?<\\/pre>/g, function( a ) {\n\t\t\ta = a.replace( /<br ?\\/?>(\\r\\n|\\n)?/g, '<wp-line-break>' );\n\t\t\ta = a.replace( /<\\/?p( [^>]*)?>(\\r\\n|\\n)?/g, '<wp-line-break>' );\n\t\t\treturn a.replace( /\\r?\\n/g, '<wp-line-break>' );\n\t\t} );\n\t}\n\n\t// Remove line breaks but keep <br> tags inside image captions.\n\tif ( html.indexOf( '[caption' ) !== -1 ) {\n\t\tpreserveBr = true;\n\t\thtml = html.replace( /\\[caption[\\s\\S]+?\\[\\/caption\\]/g, function( a ) {\n\t\t\treturn a\n\t\t\t\t.replace( /<br([^>]*)>/g, '<wp-temp-br$1>' )\n\t\t\t\t.replace( /[\\r\\n\\t]+/, '' );\n\t\t} );\n\t}\n\n\t// Normalize white space characters before and after block tags.\n\thtml = html.replace(\n\t\tnew RegExp( '\\\\s*</(' + blocklist1 + ')>\\\\s*', 'g' ),\n\t\t'</$1>\\n'\n\t);\n\thtml = html.replace(\n\t\tnew RegExp( '\\\\s*<((?:' + blocklist1 + ')(?: [^>]*)?)>', 'g' ),\n\t\t'\\n<$1>'\n\t);\n\n\t// Mark </p> if it has any attributes.\n\thtml = html.replace( /(<p [^>]+>[\\s\\S]*?)<\\/p>/g, '$1</p#>' );\n\n\t// Preserve the first <p> inside a <div>.\n\thtml = html.replace( /<div( [^>]*)?>\\s*<p>/gi, '<div$1>\\n\\n' );\n\n\t// Remove paragraph tags.\n\thtml = html.replace( /\\s*<p>/gi, '' );\n\thtml = html.replace( /\\s*<\\/p>\\s*/gi, '\\n\\n' );\n\n\t// Normalize white space chars and remove multiple line breaks.\n\thtml = html.replace( /\\n[\\s\\u00a0]+\\n/g, '\\n\\n' );\n\n\t// Replace <br> tags with line breaks.\n\thtml = html.replace( /(\\s*)<br ?\\/?>\\s*/gi, function( _, space ) {\n\t\tif ( space && space.indexOf( '\\n' ) !== -1 ) {\n\t\t\treturn '\\n\\n';\n\t\t}\n\n\t\treturn '\\n';\n\t} );\n\n\t// Fix line breaks around <div>.\n\thtml = html.replace( /\\s*<div/g, '\\n<div' );\n\thtml = html.replace( /<\\/div>\\s*/g, '</div>\\n' );\n\n\t// Fix line breaks around caption shortcodes.\n\thtml = html.replace(\n\t\t/\\s*\\[caption([^\\[]+)\\[\\/caption\\]\\s*/gi,\n\t\t'\\n\\n[caption$1[/caption]\\n\\n'\n\t);\n\thtml = html.replace( /caption\\]\\n\\n+\\[caption/g, 'caption]\\n\\n[caption' );\n\n\t// Pad block elements tags with a line break.\n\thtml = html.replace(\n\t\tnew RegExp( '\\\\s*<((?:' + blocklist2 + ')(?: [^>]*)?)\\\\s*>', 'g' ),\n\t\t'\\n<$1>'\n\t);\n\thtml = html.replace(\n\t\tnew RegExp( '\\\\s*</(' + blocklist2 + ')>\\\\s*', 'g' ),\n\t\t'</$1>\\n'\n\t);\n\n\t// Indent <li>, <dt> and <dd> tags.\n\thtml = html.replace( /<((li|dt|dd)[^>]*)>/g, ' \\t<$1>' );\n\n\t// Fix line breaks around <select> and <option>.\n\tif ( html.indexOf( '<option' ) !== -1 ) {\n\t\thtml = html.replace( /\\s*<option/g, '\\n<option' );\n\t\thtml = html.replace( /\\s*<\\/select>/g, '\\n</select>' );\n\t}\n\n\t// Pad <hr> with two line breaks.\n\tif ( html.indexOf( '<hr' ) !== -1 ) {\n\t\thtml = html.replace( /\\s*<hr( [^>]*)?>\\s*/g, '\\n\\n<hr$1>\\n\\n' );\n\t}\n\n\t// Remove line breaks in <object> tags.\n\tif ( html.indexOf( '<object' ) !== -1 ) {\n\t\thtml = html.replace( /<object[\\s\\S]+?<\\/object>/g, function( a ) {\n\t\t\treturn a.replace( /[\\r\\n]+/g, '' );\n\t\t} );\n\t}\n\n\t// Unmark special paragraph closing tags.\n\thtml = html.replace( /<\\/p#>/g, '</p>\\n' );\n\n\t// Pad remaining <p> tags whit a line break.\n\thtml = html.replace( /\\s*(<p [^>]+>[\\s\\S]*?<\\/p>)/g, '\\n$1' );\n\n\t// Trim.\n\thtml = html.replace( /^\\s+/, '' );\n\thtml = html.replace( /[\\s\\u00a0]+$/, '' );\n\n\tif ( preserveLinebreaks ) {\n\t\thtml = html.replace( /<wp-line-break>/g, '\\n' );\n\t}\n\n\tif ( preserveBr ) {\n\t\thtml = html.replace( /<wp-temp-br([^>]*)>/g, '<br$1>' );\n\t}\n\n\t// Restore preserved tags.\n\tif ( preserve.length ) {\n\t\thtml = html.replace( /<wp-preserve>/g, function() {\n\t\t\treturn /** @type {string} */ ( preserve.shift() );\n\t\t} );\n\t}\n\n\treturn html;\n}\n","let document;\nlet offset;\nlet output;\nlet stack;\n\n/**\n * Matches block comment delimiters\n *\n * While most of this pattern is straightforward the attribute parsing\n * incorporates a tricks to make sure we don't choke on specific input\n *\n *  - since JavaScript has no possessive quantifier or atomic grouping\n *    we are emulating it with a trick\n *\n *    we want a possessive quantifier or atomic group to prevent backtracking\n *    on the `}`s should we fail to match the remainder of the pattern\n *\n *    we can emulate this with a positive lookahead and back reference\n *    (a++)*c === ((?=(a+))\\1)*c\n *\n *    let's examine an example:\n *      - /(a+)*c/.test('aaaaaaaaaaaaad') fails after over 49,000 steps\n *      - /(a++)*c/.test('aaaaaaaaaaaaad') fails after 85 steps\n *      - /(?>a+)*c/.test('aaaaaaaaaaaaad') fails after 126 steps\n *\n *    this is because the possessive `++` and the atomic group `(?>)`\n *    tell the engine that all those `a`s belong together as a single group\n *    and so it won't split it up when stepping backwards to try and match\n *\n *    if we use /((?=(a+))\\1)*c/ then we get the same behavior as the atomic group\n *    or possessive and prevent the backtracking because the `a+` is matched but\n *    not captured. thus, we find the long string of `a`s and remember it, then\n *    reference it as a whole unit inside our pattern\n *\n *    @see http://instanceof.me/post/52245507631/regex-emulate-atomic-grouping-with-lookahead\n *    @see http://blog.stevenlevithan.com/archives/mimic-atomic-groups\n *    @see https://javascript.info/regexp-infinite-backtracking-problem\n *\n *    once browsers reliably support atomic grouping or possessive\n *    quantifiers natively we should remove this trick and simplify\n *\n * @type {RegExp}\n *\n * @since 3.8.0\n * @since 4.6.1 added optimization to prevent backtracking on attribute parsing\n */\nconst tokenizer = /<!--\\s+(\\/)?wp:([a-z][a-z0-9_-]*\\/)?([a-z][a-z0-9_-]*)\\s+({(?:(?=([^}]+|}+(?=})|(?!}\\s+\\/?-->)[^])*)\\5|[^]*?)}\\s+)?(\\/)?-->/g;\n\nfunction Block( blockName, attrs, innerBlocks, innerHTML, innerContent ) {\n\treturn {\n\t\tblockName,\n\t\tattrs,\n\t\tinnerBlocks,\n\t\tinnerHTML,\n\t\tinnerContent,\n\t};\n}\n\nfunction Freeform( innerHTML ) {\n\treturn Block( null, {}, [], innerHTML, [ innerHTML ] );\n}\n\nfunction Frame( block, tokenStart, tokenLength, prevOffset, leadingHtmlStart ) {\n\treturn {\n\t\tblock,\n\t\ttokenStart,\n\t\ttokenLength,\n\t\tprevOffset: prevOffset || tokenStart + tokenLength,\n\t\tleadingHtmlStart,\n\t};\n}\n\n/**\n * Parser function, that converts input HTML into a block based structure.\n *\n * @param {string} doc The HTML document to parse.\n *\n * @example\n * Input post:\n * ```html\n * <!-- wp:columns {\"columns\":3} -->\n * <div class=\"wp-block-columns has-3-columns\"><!-- wp:column -->\n * <div class=\"wp-block-column\"><!-- wp:paragraph -->\n * <p>Left</p>\n * <!-- /wp:paragraph --></div>\n * <!-- /wp:column -->\n *\n * <!-- wp:column -->\n * <div class=\"wp-block-column\"><!-- wp:paragraph -->\n * <p><strong>Middle</strong></p>\n * <!-- /wp:paragraph --></div>\n * <!-- /wp:column -->\n *\n * <!-- wp:column -->\n * <div class=\"wp-block-column\"></div>\n * <!-- /wp:column --></div>\n * <!-- /wp:columns -->\n * ```\n *\n * Parsing code:\n * ```js\n * import { parse } from '@wordpress/block-serialization-default-parser';\n *\n * parse( post ) === [\n *     {\n *         blockName: \"core/columns\",\n *         attrs: {\n *             columns: 3\n *         },\n *         innerBlocks: [\n *             {\n *                 blockName: \"core/column\",\n *                 attrs: null,\n *                 innerBlocks: [\n *                     {\n *                         blockName: \"core/paragraph\",\n *                         attrs: null,\n *                         innerBlocks: [],\n *                         innerHTML: \"\\n<p>Left</p>\\n\"\n *                     }\n *                 ],\n *                 innerHTML: '\\n<div class=\"wp-block-column\"></div>\\n'\n *             },\n *             {\n *                 blockName: \"core/column\",\n *                 attrs: null,\n *                 innerBlocks: [\n *                     {\n *                         blockName: \"core/paragraph\",\n *                         attrs: null,\n *                         innerBlocks: [],\n *                         innerHTML: \"\\n<p><strong>Middle</strong></p>\\n\"\n *                     }\n *                 ],\n *                 innerHTML: '\\n<div class=\"wp-block-column\"></div>\\n'\n *             },\n *             {\n *                 blockName: \"core/column\",\n *                 attrs: null,\n *                 innerBlocks: [],\n *                 innerHTML: '\\n<div class=\"wp-block-column\"></div>\\n'\n *             }\n *         ],\n *         innerHTML: '\\n<div class=\"wp-block-columns has-3-columns\">\\n\\n\\n\\n</div>\\n'\n *     }\n * ];\n * ```\n * @return {Array} A block-based representation of the input HTML.\n */\nexport const parse = ( doc ) => {\n\tdocument = doc;\n\toffset = 0;\n\toutput = [];\n\tstack = [];\n\ttokenizer.lastIndex = 0;\n\n\tdo {\n\t\t// twiddle our thumbs\n\t} while ( proceed() );\n\n\treturn output;\n};\n\nfunction proceed() {\n\tconst next = nextToken();\n\tconst [ tokenType, blockName, attrs, startOffset, tokenLength ] = next;\n\tconst stackDepth = stack.length;\n\n\t// we may have some HTML soup before the next block\n\tconst leadingHtmlStart = startOffset > offset ? offset : null;\n\n\tswitch ( tokenType ) {\n\t\tcase 'no-more-tokens':\n\t\t\t// if not in a block then flush output\n\t\t\tif ( 0 === stackDepth ) {\n\t\t\t\taddFreeform();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Otherwise we have a problem\n\t\t\t// This is an error\n\t\t\t// we have options\n\t\t\t//  - treat it all as freeform text\n\t\t\t//  - assume an implicit closer (easiest when not nesting)\n\n\t\t\t// for the easy case we'll assume an implicit closer\n\t\t\tif ( 1 === stackDepth ) {\n\t\t\t\taddBlockFromStack();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// for the nested case where it's more difficult we'll\n\t\t\t// have to assume that multiple closers are missing\n\t\t\t// and so we'll collapse the whole stack piecewise\n\t\t\twhile ( 0 < stack.length ) {\n\t\t\t\taddBlockFromStack();\n\t\t\t}\n\t\t\treturn false;\n\n\t\tcase 'void-block':\n\t\t\t// easy case is if we stumbled upon a void block\n\t\t\t// in the top-level of the document\n\t\t\tif ( 0 === stackDepth ) {\n\t\t\t\tif ( null !== leadingHtmlStart ) {\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tFreeform(\n\t\t\t\t\t\t\tdocument.substr(\n\t\t\t\t\t\t\t\tleadingHtmlStart,\n\t\t\t\t\t\t\t\tstartOffset - leadingHtmlStart\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\toutput.push( Block( blockName, attrs, [], '', [] ) );\n\t\t\t\toffset = startOffset + tokenLength;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// otherwise we found an inner block\n\t\t\taddInnerBlock(\n\t\t\t\tBlock( blockName, attrs, [], '', [] ),\n\t\t\t\tstartOffset,\n\t\t\t\ttokenLength\n\t\t\t);\n\t\t\toffset = startOffset + tokenLength;\n\t\t\treturn true;\n\n\t\tcase 'block-opener':\n\t\t\t// track all newly-opened blocks on the stack\n\t\t\tstack.push(\n\t\t\t\tFrame(\n\t\t\t\t\tBlock( blockName, attrs, [], '', [] ),\n\t\t\t\t\tstartOffset,\n\t\t\t\t\ttokenLength,\n\t\t\t\t\tstartOffset + tokenLength,\n\t\t\t\t\tleadingHtmlStart\n\t\t\t\t)\n\t\t\t);\n\t\t\toffset = startOffset + tokenLength;\n\t\t\treturn true;\n\n\t\tcase 'block-closer':\n\t\t\t// if we're missing an opener we're in trouble\n\t\t\t// This is an error\n\t\t\tif ( 0 === stackDepth ) {\n\t\t\t\t// we have options\n\t\t\t\t//  - assume an implicit opener\n\t\t\t\t//  - assume _this_ is the opener\n\t\t\t\t//  - give up and close out the document\n\t\t\t\taddFreeform();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// if we're not nesting then this is easy - close the block\n\t\t\tif ( 1 === stackDepth ) {\n\t\t\t\taddBlockFromStack( startOffset );\n\t\t\t\toffset = startOffset + tokenLength;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// otherwise we're nested and we have to close out the current\n\t\t\t// block and add it as a innerBlock to the parent\n\t\t\tconst stackTop = stack.pop();\n\t\t\tconst html = document.substr(\n\t\t\t\tstackTop.prevOffset,\n\t\t\t\tstartOffset - stackTop.prevOffset\n\t\t\t);\n\t\t\tstackTop.block.innerHTML += html;\n\t\t\tstackTop.block.innerContent.push( html );\n\t\t\tstackTop.prevOffset = startOffset + tokenLength;\n\n\t\t\taddInnerBlock(\n\t\t\t\tstackTop.block,\n\t\t\t\tstackTop.tokenStart,\n\t\t\t\tstackTop.tokenLength,\n\t\t\t\tstartOffset + tokenLength\n\t\t\t);\n\t\t\toffset = startOffset + tokenLength;\n\t\t\treturn true;\n\n\t\tdefault:\n\t\t\t// This is an error\n\t\t\taddFreeform();\n\t\t\treturn false;\n\t}\n}\n\n/**\n * Parse JSON if valid, otherwise return null\n *\n * Note that JSON coming from the block comment\n * delimiters is constrained to be an object\n * and cannot be things like `true` or `null`\n *\n * @param {string} input JSON input string to parse\n * @return {Object|null} parsed JSON if valid\n */\nfunction parseJSON( input ) {\n\ttry {\n\t\treturn JSON.parse( input );\n\t} catch ( e ) {\n\t\treturn null;\n\t}\n}\n\nfunction nextToken() {\n\t// aye the magic\n\t// we're using a single RegExp to tokenize the block comment delimiters\n\t// we're also using a trick here because the only difference between a\n\t// block opener and a block closer is the leading `/` before `wp:` (and\n\t// a closer has no attributes). we can trap them both and process the\n\t// match back in Javascript to see which one it was.\n\tconst matches = tokenizer.exec( document );\n\n\t// we have no more tokens\n\tif ( null === matches ) {\n\t\treturn [ 'no-more-tokens' ];\n\t}\n\n\tconst startedAt = matches.index;\n\tconst [\n\t\tmatch,\n\t\tcloserMatch,\n\t\tnamespaceMatch,\n\t\tnameMatch,\n\t\tattrsMatch /* internal/unused */,\n\t\t,\n\t\tvoidMatch,\n\t] = matches;\n\n\tconst length = match.length;\n\tconst isCloser = !! closerMatch;\n\tconst isVoid = !! voidMatch;\n\tconst namespace = namespaceMatch || 'core/';\n\tconst name = namespace + nameMatch;\n\tconst hasAttrs = !! attrsMatch;\n\tconst attrs = hasAttrs ? parseJSON( attrsMatch ) : {};\n\n\t// This state isn't allowed\n\t// This is an error\n\tif ( isCloser && ( isVoid || hasAttrs ) ) {\n\t\t// we can ignore them since they don't hurt anything\n\t\t// we may warn against this at some point or reject it\n\t}\n\n\tif ( isVoid ) {\n\t\treturn [ 'void-block', name, attrs, startedAt, length ];\n\t}\n\n\tif ( isCloser ) {\n\t\treturn [ 'block-closer', name, null, startedAt, length ];\n\t}\n\n\treturn [ 'block-opener', name, attrs, startedAt, length ];\n}\n\nfunction addFreeform( rawLength ) {\n\tconst length = rawLength ? rawLength : document.length - offset;\n\n\tif ( 0 === length ) {\n\t\treturn;\n\t}\n\n\toutput.push( Freeform( document.substr( offset, length ) ) );\n}\n\nfunction addInnerBlock( block, tokenStart, tokenLength, lastOffset ) {\n\tconst parent = stack[ stack.length - 1 ];\n\tparent.block.innerBlocks.push( block );\n\tconst html = document.substr(\n\t\tparent.prevOffset,\n\t\ttokenStart - parent.prevOffset\n\t);\n\n\tif ( html ) {\n\t\tparent.block.innerHTML += html;\n\t\tparent.block.innerContent.push( html );\n\t}\n\n\tparent.block.innerContent.push( null );\n\tparent.prevOffset = lastOffset ? lastOffset : tokenStart + tokenLength;\n}\n\nfunction addBlockFromStack( endOffset ) {\n\tconst { block, leadingHtmlStart, prevOffset, tokenStart } = stack.pop();\n\n\tconst html = endOffset\n\t\t? document.substr( prevOffset, endOffset - prevOffset )\n\t\t: document.substr( prevOffset );\n\n\tif ( html ) {\n\t\tblock.innerHTML += html;\n\t\tblock.innerContent.push( html );\n\t}\n\n\tif ( null !== leadingHtmlStart ) {\n\t\toutput.push(\n\t\t\tFreeform(\n\t\t\t\tdocument.substr(\n\t\t\t\t\tleadingHtmlStart,\n\t\t\t\t\ttokenStart - leadingHtmlStart\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n\n\toutput.push( block );\n}\n","/**\n * generated from https://raw.githubusercontent.com/w3c/html/26b5126f96f736f796b9e29718138919dd513744/entities.json\n * do not edit\n */\nexport default {\nAacute:\"Á\",aacute:\"á\",Abreve:\"Ă\",abreve:\"ă\",ac:\"∾\",acd:\"∿\",acE:\"∾̳\",Acirc:\"Â\",acirc:\"â\",acute:\"´\",Acy:\"А\",acy:\"а\",AElig:\"Æ\",aelig:\"æ\",af:\"\\u2061\",Afr:\"𝔄\",afr:\"𝔞\",Agrave:\"À\",agrave:\"à\",alefsym:\"ℵ\",aleph:\"ℵ\",Alpha:\"Α\",alpha:\"α\",Amacr:\"Ā\",amacr:\"ā\",amalg:\"⨿\",amp:\"&\",AMP:\"&\",andand:\"⩕\",And:\"⩓\",and:\"∧\",andd:\"⩜\",andslope:\"⩘\",andv:\"⩚\",ang:\"∠\",ange:\"⦤\",angle:\"∠\",angmsdaa:\"⦨\",angmsdab:\"⦩\",angmsdac:\"⦪\",angmsdad:\"⦫\",angmsdae:\"⦬\",angmsdaf:\"⦭\",angmsdag:\"⦮\",angmsdah:\"⦯\",angmsd:\"∡\",angrt:\"∟\",angrtvb:\"⊾\",angrtvbd:\"⦝\",angsph:\"∢\",angst:\"Å\",angzarr:\"⍼\",Aogon:\"Ą\",aogon:\"ą\",Aopf:\"𝔸\",aopf:\"𝕒\",apacir:\"⩯\",ap:\"≈\",apE:\"⩰\",ape:\"≊\",apid:\"≋\",apos:\"'\",ApplyFunction:\"\\u2061\",approx:\"≈\",approxeq:\"≊\",Aring:\"Å\",aring:\"å\",Ascr:\"𝒜\",ascr:\"𝒶\",Assign:\"≔\",ast:\"*\",asymp:\"≈\",asympeq:\"≍\",Atilde:\"Ã\",atilde:\"ã\",Auml:\"Ä\",auml:\"ä\",awconint:\"∳\",awint:\"⨑\",backcong:\"≌\",backepsilon:\"϶\",backprime:\"‵\",backsim:\"∽\",backsimeq:\"⋍\",Backslash:\"∖\",Barv:\"⫧\",barvee:\"⊽\",barwed:\"⌅\",Barwed:\"⌆\",barwedge:\"⌅\",bbrk:\"⎵\",bbrktbrk:\"⎶\",bcong:\"≌\",Bcy:\"Б\",bcy:\"б\",bdquo:\"„\",becaus:\"∵\",because:\"∵\",Because:\"∵\",bemptyv:\"⦰\",bepsi:\"϶\",bernou:\"ℬ\",Bernoullis:\"ℬ\",Beta:\"Β\",beta:\"β\",beth:\"ℶ\",between:\"≬\",Bfr:\"𝔅\",bfr:\"𝔟\",bigcap:\"⋂\",bigcirc:\"◯\",bigcup:\"⋃\",bigodot:\"⨀\",bigoplus:\"⨁\",bigotimes:\"⨂\",bigsqcup:\"⨆\",bigstar:\"★\",bigtriangledown:\"▽\",bigtriangleup:\"△\",biguplus:\"⨄\",bigvee:\"⋁\",bigwedge:\"⋀\",bkarow:\"⤍\",blacklozenge:\"⧫\",blacksquare:\"▪\",blacktriangle:\"▴\",blacktriangledown:\"▾\",blacktriangleleft:\"◂\",blacktriangleright:\"▸\",blank:\"␣\",blk12:\"▒\",blk14:\"░\",blk34:\"▓\",block:\"█\",bne:\"=⃥\",bnequiv:\"≡⃥\",bNot:\"⫭\",bnot:\"⌐\",Bopf:\"𝔹\",bopf:\"𝕓\",bot:\"⊥\",bottom:\"⊥\",bowtie:\"⋈\",boxbox:\"⧉\",boxdl:\"┐\",boxdL:\"╕\",boxDl:\"╖\",boxDL:\"╗\",boxdr:\"┌\",boxdR:\"╒\",boxDr:\"╓\",boxDR:\"╔\",boxh:\"─\",boxH:\"═\",boxhd:\"┬\",boxHd:\"╤\",boxhD:\"╥\",boxHD:\"╦\",boxhu:\"┴\",boxHu:\"╧\",boxhU:\"╨\",boxHU:\"╩\",boxminus:\"⊟\",boxplus:\"⊞\",boxtimes:\"⊠\",boxul:\"┘\",boxuL:\"╛\",boxUl:\"╜\",boxUL:\"╝\",boxur:\"└\",boxuR:\"╘\",boxUr:\"╙\",boxUR:\"╚\",boxv:\"│\",boxV:\"║\",boxvh:\"┼\",boxvH:\"╪\",boxVh:\"╫\",boxVH:\"╬\",boxvl:\"┤\",boxvL:\"╡\",boxVl:\"╢\",boxVL:\"╣\",boxvr:\"├\",boxvR:\"╞\",boxVr:\"╟\",boxVR:\"╠\",bprime:\"‵\",breve:\"˘\",Breve:\"˘\",brvbar:\"¦\",bscr:\"𝒷\",Bscr:\"ℬ\",bsemi:\"⁏\",bsim:\"∽\",bsime:\"⋍\",bsolb:\"⧅\",bsol:\"\\\\\",bsolhsub:\"⟈\",bull:\"•\",bullet:\"•\",bump:\"≎\",bumpE:\"⪮\",bumpe:\"≏\",Bumpeq:\"≎\",bumpeq:\"≏\",Cacute:\"Ć\",cacute:\"ć\",capand:\"⩄\",capbrcup:\"⩉\",capcap:\"⩋\",cap:\"∩\",Cap:\"⋒\",capcup:\"⩇\",capdot:\"⩀\",CapitalDifferentialD:\"ⅅ\",caps:\"∩︀\",caret:\"⁁\",caron:\"ˇ\",Cayleys:\"ℭ\",ccaps:\"⩍\",Ccaron:\"Č\",ccaron:\"č\",Ccedil:\"Ç\",ccedil:\"ç\",Ccirc:\"Ĉ\",ccirc:\"ĉ\",Cconint:\"∰\",ccups:\"⩌\",ccupssm:\"⩐\",Cdot:\"Ċ\",cdot:\"ċ\",cedil:\"¸\",Cedilla:\"¸\",cemptyv:\"⦲\",cent:\"¢\",centerdot:\"·\",CenterDot:\"·\",cfr:\"𝔠\",Cfr:\"ℭ\",CHcy:\"Ч\",chcy:\"ч\",check:\"✓\",checkmark:\"✓\",Chi:\"Χ\",chi:\"χ\",circ:\"ˆ\",circeq:\"≗\",circlearrowleft:\"↺\",circlearrowright:\"↻\",circledast:\"⊛\",circledcirc:\"⊚\",circleddash:\"⊝\",CircleDot:\"⊙\",circledR:\"®\",circledS:\"Ⓢ\",CircleMinus:\"⊖\",CirclePlus:\"⊕\",CircleTimes:\"⊗\",cir:\"○\",cirE:\"⧃\",cire:\"≗\",cirfnint:\"⨐\",cirmid:\"⫯\",cirscir:\"⧂\",ClockwiseContourIntegral:\"∲\",CloseCurlyDoubleQuote:\"”\",CloseCurlyQuote:\"’\",clubs:\"♣\",clubsuit:\"♣\",colon:\":\",Colon:\"∷\",Colone:\"⩴\",colone:\"≔\",coloneq:\"≔\",comma:\",\",commat:\"@\",comp:\"∁\",compfn:\"∘\",complement:\"∁\",complexes:\"ℂ\",cong:\"≅\",congdot:\"⩭\",Congruent:\"≡\",conint:\"∮\",Conint:\"∯\",ContourIntegral:\"∮\",copf:\"𝕔\",Copf:\"ℂ\",coprod:\"∐\",Coproduct:\"∐\",copy:\"©\",COPY:\"©\",copysr:\"℗\",CounterClockwiseContourIntegral:\"∳\",crarr:\"↵\",cross:\"✗\",Cross:\"⨯\",Cscr:\"𝒞\",cscr:\"𝒸\",csub:\"⫏\",csube:\"⫑\",csup:\"⫐\",csupe:\"⫒\",ctdot:\"⋯\",cudarrl:\"⤸\",cudarrr:\"⤵\",cuepr:\"⋞\",cuesc:\"⋟\",cularr:\"↶\",cularrp:\"⤽\",cupbrcap:\"⩈\",cupcap:\"⩆\",CupCap:\"≍\",cup:\"∪\",Cup:\"⋓\",cupcup:\"⩊\",cupdot:\"⊍\",cupor:\"⩅\",cups:\"∪︀\",curarr:\"↷\",curarrm:\"⤼\",curlyeqprec:\"⋞\",curlyeqsucc:\"⋟\",curlyvee:\"⋎\",curlywedge:\"⋏\",curren:\"¤\",curvearrowleft:\"↶\",curvearrowright:\"↷\",cuvee:\"⋎\",cuwed:\"⋏\",cwconint:\"∲\",cwint:\"∱\",cylcty:\"⌭\",dagger:\"†\",Dagger:\"‡\",daleth:\"ℸ\",darr:\"↓\",Darr:\"↡\",dArr:\"⇓\",dash:\"‐\",Dashv:\"⫤\",dashv:\"⊣\",dbkarow:\"⤏\",dblac:\"˝\",Dcaron:\"Ď\",dcaron:\"ď\",Dcy:\"Д\",dcy:\"д\",ddagger:\"‡\",ddarr:\"⇊\",DD:\"ⅅ\",dd:\"ⅆ\",DDotrahd:\"⤑\",ddotseq:\"⩷\",deg:\"°\",Del:\"∇\",Delta:\"Δ\",delta:\"δ\",demptyv:\"⦱\",dfisht:\"⥿\",Dfr:\"𝔇\",dfr:\"𝔡\",dHar:\"⥥\",dharl:\"⇃\",dharr:\"⇂\",DiacriticalAcute:\"´\",DiacriticalDot:\"˙\",DiacriticalDoubleAcute:\"˝\",DiacriticalGrave:\"`\",DiacriticalTilde:\"˜\",diam:\"⋄\",diamond:\"⋄\",Diamond:\"⋄\",diamondsuit:\"♦\",diams:\"♦\",die:\"¨\",DifferentialD:\"ⅆ\",digamma:\"ϝ\",disin:\"⋲\",div:\"÷\",divide:\"÷\",divideontimes:\"⋇\",divonx:\"⋇\",DJcy:\"Ђ\",djcy:\"ђ\",dlcorn:\"⌞\",dlcrop:\"⌍\",dollar:\"$\",Dopf:\"𝔻\",dopf:\"𝕕\",Dot:\"¨\",dot:\"˙\",DotDot:\"⃜\",doteq:\"≐\",doteqdot:\"≑\",DotEqual:\"≐\",dotminus:\"∸\",dotplus:\"∔\",dotsquare:\"⊡\",doublebarwedge:\"⌆\",DoubleContourIntegral:\"∯\",DoubleDot:\"¨\",DoubleDownArrow:\"⇓\",DoubleLeftArrow:\"⇐\",DoubleLeftRightArrow:\"⇔\",DoubleLeftTee:\"⫤\",DoubleLongLeftArrow:\"⟸\",DoubleLongLeftRightArrow:\"⟺\",DoubleLongRightArrow:\"⟹\",DoubleRightArrow:\"⇒\",DoubleRightTee:\"⊨\",DoubleUpArrow:\"⇑\",DoubleUpDownArrow:\"⇕\",DoubleVerticalBar:\"∥\",DownArrowBar:\"⤓\",downarrow:\"↓\",DownArrow:\"↓\",Downarrow:\"⇓\",DownArrowUpArrow:\"⇵\",DownBreve:\"̑\",downdownarrows:\"⇊\",downharpoonleft:\"⇃\",downharpoonright:\"⇂\",DownLeftRightVector:\"⥐\",DownLeftTeeVector:\"⥞\",DownLeftVectorBar:\"⥖\",DownLeftVector:\"↽\",DownRightTeeVector:\"⥟\",DownRightVectorBar:\"⥗\",DownRightVector:\"⇁\",DownTeeArrow:\"↧\",DownTee:\"⊤\",drbkarow:\"⤐\",drcorn:\"⌟\",drcrop:\"⌌\",Dscr:\"𝒟\",dscr:\"𝒹\",DScy:\"Ѕ\",dscy:\"ѕ\",dsol:\"⧶\",Dstrok:\"Đ\",dstrok:\"đ\",dtdot:\"⋱\",dtri:\"▿\",dtrif:\"▾\",duarr:\"⇵\",duhar:\"⥯\",dwangle:\"⦦\",DZcy:\"Џ\",dzcy:\"џ\",dzigrarr:\"⟿\",Eacute:\"É\",eacute:\"é\",easter:\"⩮\",Ecaron:\"Ě\",ecaron:\"ě\",Ecirc:\"Ê\",ecirc:\"ê\",ecir:\"≖\",ecolon:\"≕\",Ecy:\"Э\",ecy:\"э\",eDDot:\"⩷\",Edot:\"Ė\",edot:\"ė\",eDot:\"≑\",ee:\"ⅇ\",efDot:\"≒\",Efr:\"𝔈\",efr:\"𝔢\",eg:\"⪚\",Egrave:\"È\",egrave:\"è\",egs:\"⪖\",egsdot:\"⪘\",el:\"⪙\",Element:\"∈\",elinters:\"⏧\",ell:\"ℓ\",els:\"⪕\",elsdot:\"⪗\",Emacr:\"Ē\",emacr:\"ē\",empty:\"∅\",emptyset:\"∅\",EmptySmallSquare:\"◻\",emptyv:\"∅\",EmptyVerySmallSquare:\"▫\",emsp13:\" \",emsp14:\" \",emsp:\" \",ENG:\"Ŋ\",eng:\"ŋ\",ensp:\" \",Eogon:\"Ę\",eogon:\"ę\",Eopf:\"𝔼\",eopf:\"𝕖\",epar:\"⋕\",eparsl:\"⧣\",eplus:\"⩱\",epsi:\"ε\",Epsilon:\"Ε\",epsilon:\"ε\",epsiv:\"ϵ\",eqcirc:\"≖\",eqcolon:\"≕\",eqsim:\"≂\",eqslantgtr:\"⪖\",eqslantless:\"⪕\",Equal:\"⩵\",equals:\"=\",EqualTilde:\"≂\",equest:\"≟\",Equilibrium:\"⇌\",equiv:\"≡\",equivDD:\"⩸\",eqvparsl:\"⧥\",erarr:\"⥱\",erDot:\"≓\",escr:\"ℯ\",Escr:\"ℰ\",esdot:\"≐\",Esim:\"⩳\",esim:\"≂\",Eta:\"Η\",eta:\"η\",ETH:\"Ð\",eth:\"ð\",Euml:\"Ë\",euml:\"ë\",euro:\"€\",excl:\"!\",exist:\"∃\",Exists:\"∃\",expectation:\"ℰ\",exponentiale:\"ⅇ\",ExponentialE:\"ⅇ\",fallingdotseq:\"≒\",Fcy:\"Ф\",fcy:\"ф\",female:\"♀\",ffilig:\"ﬃ\",fflig:\"ﬀ\",ffllig:\"ﬄ\",Ffr:\"𝔉\",ffr:\"𝔣\",filig:\"ﬁ\",FilledSmallSquare:\"◼\",FilledVerySmallSquare:\"▪\",fjlig:\"fj\",flat:\"♭\",fllig:\"ﬂ\",fltns:\"▱\",fnof:\"ƒ\",Fopf:\"𝔽\",fopf:\"𝕗\",forall:\"∀\",ForAll:\"∀\",fork:\"⋔\",forkv:\"⫙\",Fouriertrf:\"ℱ\",fpartint:\"⨍\",frac12:\"½\",frac13:\"⅓\",frac14:\"¼\",frac15:\"⅕\",frac16:\"⅙\",frac18:\"⅛\",frac23:\"⅔\",frac25:\"⅖\",frac34:\"¾\",frac35:\"⅗\",frac38:\"⅜\",frac45:\"⅘\",frac56:\"⅚\",frac58:\"⅝\",frac78:\"⅞\",frasl:\"⁄\",frown:\"⌢\",fscr:\"𝒻\",Fscr:\"ℱ\",gacute:\"ǵ\",Gamma:\"Γ\",gamma:\"γ\",Gammad:\"Ϝ\",gammad:\"ϝ\",gap:\"⪆\",Gbreve:\"Ğ\",gbreve:\"ğ\",Gcedil:\"Ģ\",Gcirc:\"Ĝ\",gcirc:\"ĝ\",Gcy:\"Г\",gcy:\"г\",Gdot:\"Ġ\",gdot:\"ġ\",ge:\"≥\",gE:\"≧\",gEl:\"⪌\",gel:\"⋛\",geq:\"≥\",geqq:\"≧\",geqslant:\"⩾\",gescc:\"⪩\",ges:\"⩾\",gesdot:\"⪀\",gesdoto:\"⪂\",gesdotol:\"⪄\",gesl:\"⋛︀\",gesles:\"⪔\",Gfr:\"𝔊\",gfr:\"𝔤\",gg:\"≫\",Gg:\"⋙\",ggg:\"⋙\",gimel:\"ℷ\",GJcy:\"Ѓ\",gjcy:\"ѓ\",gla:\"⪥\",gl:\"≷\",glE:\"⪒\",glj:\"⪤\",gnap:\"⪊\",gnapprox:\"⪊\",gne:\"⪈\",gnE:\"≩\",gneq:\"⪈\",gneqq:\"≩\",gnsim:\"⋧\",Gopf:\"𝔾\",gopf:\"𝕘\",grave:\"`\",GreaterEqual:\"≥\",GreaterEqualLess:\"⋛\",GreaterFullEqual:\"≧\",GreaterGreater:\"⪢\",GreaterLess:\"≷\",GreaterSlantEqual:\"⩾\",GreaterTilde:\"≳\",Gscr:\"𝒢\",gscr:\"ℊ\",gsim:\"≳\",gsime:\"⪎\",gsiml:\"⪐\",gtcc:\"⪧\",gtcir:\"⩺\",gt:\">\",GT:\">\",Gt:\"≫\",gtdot:\"⋗\",gtlPar:\"⦕\",gtquest:\"⩼\",gtrapprox:\"⪆\",gtrarr:\"⥸\",gtrdot:\"⋗\",gtreqless:\"⋛\",gtreqqless:\"⪌\",gtrless:\"≷\",gtrsim:\"≳\",gvertneqq:\"≩︀\",gvnE:\"≩︀\",Hacek:\"ˇ\",hairsp:\" \",half:\"½\",hamilt:\"ℋ\",HARDcy:\"Ъ\",hardcy:\"ъ\",harrcir:\"⥈\",harr:\"↔\",hArr:\"⇔\",harrw:\"↭\",Hat:\"^\",hbar:\"ℏ\",Hcirc:\"Ĥ\",hcirc:\"ĥ\",hearts:\"♥\",heartsuit:\"♥\",hellip:\"…\",hercon:\"⊹\",hfr:\"𝔥\",Hfr:\"ℌ\",HilbertSpace:\"ℋ\",hksearow:\"⤥\",hkswarow:\"⤦\",hoarr:\"⇿\",homtht:\"∻\",hookleftarrow:\"↩\",hookrightarrow:\"↪\",hopf:\"𝕙\",Hopf:\"ℍ\",horbar:\"―\",HorizontalLine:\"─\",hscr:\"𝒽\",Hscr:\"ℋ\",hslash:\"ℏ\",Hstrok:\"Ħ\",hstrok:\"ħ\",HumpDownHump:\"≎\",HumpEqual:\"≏\",hybull:\"⁃\",hyphen:\"‐\",Iacute:\"Í\",iacute:\"í\",ic:\"\\u2063\",Icirc:\"Î\",icirc:\"î\",Icy:\"И\",icy:\"и\",Idot:\"İ\",IEcy:\"Е\",iecy:\"е\",iexcl:\"¡\",iff:\"⇔\",ifr:\"𝔦\",Ifr:\"ℑ\",Igrave:\"Ì\",igrave:\"ì\",ii:\"ⅈ\",iiiint:\"⨌\",iiint:\"∭\",iinfin:\"⧜\",iiota:\"℩\",IJlig:\"Ĳ\",ijlig:\"ĳ\",Imacr:\"Ī\",imacr:\"ī\",image:\"ℑ\",ImaginaryI:\"ⅈ\",imagline:\"ℐ\",imagpart:\"ℑ\",imath:\"ı\",Im:\"ℑ\",imof:\"⊷\",imped:\"Ƶ\",Implies:\"⇒\",incare:\"℅\",in:\"∈\",infin:\"∞\",infintie:\"⧝\",inodot:\"ı\",intcal:\"⊺\",int:\"∫\",Int:\"∬\",integers:\"ℤ\",Integral:\"∫\",intercal:\"⊺\",Intersection:\"⋂\",intlarhk:\"⨗\",intprod:\"⨼\",InvisibleComma:\"\\u2063\",InvisibleTimes:\"\\u2062\",IOcy:\"Ё\",iocy:\"ё\",Iogon:\"Į\",iogon:\"į\",Iopf:\"𝕀\",iopf:\"𝕚\",Iota:\"Ι\",iota:\"ι\",iprod:\"⨼\",iquest:\"¿\",iscr:\"𝒾\",Iscr:\"ℐ\",isin:\"∈\",isindot:\"⋵\",isinE:\"⋹\",isins:\"⋴\",isinsv:\"⋳\",isinv:\"∈\",it:\"\\u2062\",Itilde:\"Ĩ\",itilde:\"ĩ\",Iukcy:\"І\",iukcy:\"і\",Iuml:\"Ï\",iuml:\"ï\",Jcirc:\"Ĵ\",jcirc:\"ĵ\",Jcy:\"Й\",jcy:\"й\",Jfr:\"𝔍\",jfr:\"𝔧\",jmath:\"ȷ\",Jopf:\"𝕁\",jopf:\"𝕛\",Jscr:\"𝒥\",jscr:\"𝒿\",Jsercy:\"Ј\",jsercy:\"ј\",Jukcy:\"Є\",jukcy:\"є\",Kappa:\"Κ\",kappa:\"κ\",kappav:\"ϰ\",Kcedil:\"Ķ\",kcedil:\"ķ\",Kcy:\"К\",kcy:\"к\",Kfr:\"𝔎\",kfr:\"𝔨\",kgreen:\"ĸ\",KHcy:\"Х\",khcy:\"х\",KJcy:\"Ќ\",kjcy:\"ќ\",Kopf:\"𝕂\",kopf:\"𝕜\",Kscr:\"𝒦\",kscr:\"𝓀\",lAarr:\"⇚\",Lacute:\"Ĺ\",lacute:\"ĺ\",laemptyv:\"⦴\",lagran:\"ℒ\",Lambda:\"Λ\",lambda:\"λ\",lang:\"⟨\",Lang:\"⟪\",langd:\"⦑\",langle:\"⟨\",lap:\"⪅\",Laplacetrf:\"ℒ\",laquo:\"«\",larrb:\"⇤\",larrbfs:\"⤟\",larr:\"←\",Larr:\"↞\",lArr:\"⇐\",larrfs:\"⤝\",larrhk:\"↩\",larrlp:\"↫\",larrpl:\"⤹\",larrsim:\"⥳\",larrtl:\"↢\",latail:\"⤙\",lAtail:\"⤛\",lat:\"⪫\",late:\"⪭\",lates:\"⪭︀\",lbarr:\"⤌\",lBarr:\"⤎\",lbbrk:\"❲\",lbrace:\"{\",lbrack:\"[\",lbrke:\"⦋\",lbrksld:\"⦏\",lbrkslu:\"⦍\",Lcaron:\"Ľ\",lcaron:\"ľ\",Lcedil:\"Ļ\",lcedil:\"ļ\",lceil:\"⌈\",lcub:\"{\",Lcy:\"Л\",lcy:\"л\",ldca:\"⤶\",ldquo:\"“\",ldquor:\"„\",ldrdhar:\"⥧\",ldrushar:\"⥋\",ldsh:\"↲\",le:\"≤\",lE:\"≦\",LeftAngleBracket:\"⟨\",LeftArrowBar:\"⇤\",leftarrow:\"←\",LeftArrow:\"←\",Leftarrow:\"⇐\",LeftArrowRightArrow:\"⇆\",leftarrowtail:\"↢\",LeftCeiling:\"⌈\",LeftDoubleBracket:\"⟦\",LeftDownTeeVector:\"⥡\",LeftDownVectorBar:\"⥙\",LeftDownVector:\"⇃\",LeftFloor:\"⌊\",leftharpoondown:\"↽\",leftharpoonup:\"↼\",leftleftarrows:\"⇇\",leftrightarrow:\"↔\",LeftRightArrow:\"↔\",Leftrightarrow:\"⇔\",leftrightarrows:\"⇆\",leftrightharpoons:\"⇋\",leftrightsquigarrow:\"↭\",LeftRightVector:\"⥎\",LeftTeeArrow:\"↤\",LeftTee:\"⊣\",LeftTeeVector:\"⥚\",leftthreetimes:\"⋋\",LeftTriangleBar:\"⧏\",LeftTriangle:\"⊲\",LeftTriangleEqual:\"⊴\",LeftUpDownVector:\"⥑\",LeftUpTeeVector:\"⥠\",LeftUpVectorBar:\"⥘\",LeftUpVector:\"↿\",LeftVectorBar:\"⥒\",LeftVector:\"↼\",lEg:\"⪋\",leg:\"⋚\",leq:\"≤\",leqq:\"≦\",leqslant:\"⩽\",lescc:\"⪨\",les:\"⩽\",lesdot:\"⩿\",lesdoto:\"⪁\",lesdotor:\"⪃\",lesg:\"⋚︀\",lesges:\"⪓\",lessapprox:\"⪅\",lessdot:\"⋖\",lesseqgtr:\"⋚\",lesseqqgtr:\"⪋\",LessEqualGreater:\"⋚\",LessFullEqual:\"≦\",LessGreater:\"≶\",lessgtr:\"≶\",LessLess:\"⪡\",lesssim:\"≲\",LessSlantEqual:\"⩽\",LessTilde:\"≲\",lfisht:\"⥼\",lfloor:\"⌊\",Lfr:\"𝔏\",lfr:\"𝔩\",lg:\"≶\",lgE:\"⪑\",lHar:\"⥢\",lhard:\"↽\",lharu:\"↼\",lharul:\"⥪\",lhblk:\"▄\",LJcy:\"Љ\",ljcy:\"љ\",llarr:\"⇇\",ll:\"≪\",Ll:\"⋘\",llcorner:\"⌞\",Lleftarrow:\"⇚\",llhard:\"⥫\",lltri:\"◺\",Lmidot:\"Ŀ\",lmidot:\"ŀ\",lmoustache:\"⎰\",lmoust:\"⎰\",lnap:\"⪉\",lnapprox:\"⪉\",lne:\"⪇\",lnE:\"≨\",lneq:\"⪇\",lneqq:\"≨\",lnsim:\"⋦\",loang:\"⟬\",loarr:\"⇽\",lobrk:\"⟦\",longleftarrow:\"⟵\",LongLeftArrow:\"⟵\",Longleftarrow:\"⟸\",longleftrightarrow:\"⟷\",LongLeftRightArrow:\"⟷\",Longleftrightarrow:\"⟺\",longmapsto:\"⟼\",longrightarrow:\"⟶\",LongRightArrow:\"⟶\",Longrightarrow:\"⟹\",looparrowleft:\"↫\",looparrowright:\"↬\",lopar:\"⦅\",Lopf:\"𝕃\",lopf:\"𝕝\",loplus:\"⨭\",lotimes:\"⨴\",lowast:\"∗\",lowbar:\"_\",LowerLeftArrow:\"↙\",LowerRightArrow:\"↘\",loz:\"◊\",lozenge:\"◊\",lozf:\"⧫\",lpar:\"(\",lparlt:\"⦓\",lrarr:\"⇆\",lrcorner:\"⌟\",lrhar:\"⇋\",lrhard:\"⥭\",lrm:\"\\u200e\",lrtri:\"⊿\",lsaquo:\"‹\",lscr:\"𝓁\",Lscr:\"ℒ\",lsh:\"↰\",Lsh:\"↰\",lsim:\"≲\",lsime:\"⪍\",lsimg:\"⪏\",lsqb:\"[\",lsquo:\"‘\",lsquor:\"‚\",Lstrok:\"Ł\",lstrok:\"ł\",ltcc:\"⪦\",ltcir:\"⩹\",lt:\"<\",LT:\"<\",Lt:\"≪\",ltdot:\"⋖\",lthree:\"⋋\",ltimes:\"⋉\",ltlarr:\"⥶\",ltquest:\"⩻\",ltri:\"◃\",ltrie:\"⊴\",ltrif:\"◂\",ltrPar:\"⦖\",lurdshar:\"⥊\",luruhar:\"⥦\",lvertneqq:\"≨︀\",lvnE:\"≨︀\",macr:\"¯\",male:\"♂\",malt:\"✠\",maltese:\"✠\",Map:\"⤅\",map:\"↦\",mapsto:\"↦\",mapstodown:\"↧\",mapstoleft:\"↤\",mapstoup:\"↥\",marker:\"▮\",mcomma:\"⨩\",Mcy:\"М\",mcy:\"м\",mdash:\"—\",mDDot:\"∺\",measuredangle:\"∡\",MediumSpace:\" \",Mellintrf:\"ℳ\",Mfr:\"𝔐\",mfr:\"𝔪\",mho:\"℧\",micro:\"µ\",midast:\"*\",midcir:\"⫰\",mid:\"∣\",middot:\"·\",minusb:\"⊟\",minus:\"−\",minusd:\"∸\",minusdu:\"⨪\",MinusPlus:\"∓\",mlcp:\"⫛\",mldr:\"…\",mnplus:\"∓\",models:\"⊧\",Mopf:\"𝕄\",mopf:\"𝕞\",mp:\"∓\",mscr:\"𝓂\",Mscr:\"ℳ\",mstpos:\"∾\",Mu:\"Μ\",mu:\"μ\",multimap:\"⊸\",mumap:\"⊸\",nabla:\"∇\",Nacute:\"Ń\",nacute:\"ń\",nang:\"∠⃒\",nap:\"≉\",napE:\"⩰̸\",napid:\"≋̸\",napos:\"ŉ\",napprox:\"≉\",natural:\"♮\",naturals:\"ℕ\",natur:\"♮\",nbsp:\" \",nbump:\"≎̸\",nbumpe:\"≏̸\",ncap:\"⩃\",Ncaron:\"Ň\",ncaron:\"ň\",Ncedil:\"Ņ\",ncedil:\"ņ\",ncong:\"≇\",ncongdot:\"⩭̸\",ncup:\"⩂\",Ncy:\"Н\",ncy:\"н\",ndash:\"–\",nearhk:\"⤤\",nearr:\"↗\",neArr:\"⇗\",nearrow:\"↗\",ne:\"≠\",nedot:\"≐̸\",NegativeMediumSpace:\"​\",NegativeThickSpace:\"​\",NegativeThinSpace:\"​\",NegativeVeryThinSpace:\"​\",nequiv:\"≢\",nesear:\"⤨\",nesim:\"≂̸\",NestedGreaterGreater:\"≫\",NestedLessLess:\"≪\",NewLine:\"\\u000a\",nexist:\"∄\",nexists:\"∄\",Nfr:\"𝔑\",nfr:\"𝔫\",ngE:\"≧̸\",nge:\"≱\",ngeq:\"≱\",ngeqq:\"≧̸\",ngeqslant:\"⩾̸\",nges:\"⩾̸\",nGg:\"⋙̸\",ngsim:\"≵\",nGt:\"≫⃒\",ngt:\"≯\",ngtr:\"≯\",nGtv:\"≫̸\",nharr:\"↮\",nhArr:\"⇎\",nhpar:\"⫲\",ni:\"∋\",nis:\"⋼\",nisd:\"⋺\",niv:\"∋\",NJcy:\"Њ\",njcy:\"њ\",nlarr:\"↚\",nlArr:\"⇍\",nldr:\"‥\",nlE:\"≦̸\",nle:\"≰\",nleftarrow:\"↚\",nLeftarrow:\"⇍\",nleftrightarrow:\"↮\",nLeftrightarrow:\"⇎\",nleq:\"≰\",nleqq:\"≦̸\",nleqslant:\"⩽̸\",nles:\"⩽̸\",nless:\"≮\",nLl:\"⋘̸\",nlsim:\"≴\",nLt:\"≪⃒\",nlt:\"≮\",nltri:\"⋪\",nltrie:\"⋬\",nLtv:\"≪̸\",nmid:\"∤\",NoBreak:\"\\u2060\",NonBreakingSpace:\" \",nopf:\"𝕟\",Nopf:\"ℕ\",Not:\"⫬\",not:\"¬\",NotCongruent:\"≢\",NotCupCap:\"≭\",NotDoubleVerticalBar:\"∦\",NotElement:\"∉\",NotEqual:\"≠\",NotEqualTilde:\"≂̸\",NotExists:\"∄\",NotGreater:\"≯\",NotGreaterEqual:\"≱\",NotGreaterFullEqual:\"≧̸\",NotGreaterGreater:\"≫̸\",NotGreaterLess:\"≹\",NotGreaterSlantEqual:\"⩾̸\",NotGreaterTilde:\"≵\",NotHumpDownHump:\"≎̸\",NotHumpEqual:\"≏̸\",notin:\"∉\",notindot:\"⋵̸\",notinE:\"⋹̸\",notinva:\"∉\",notinvb:\"⋷\",notinvc:\"⋶\",NotLeftTriangleBar:\"⧏̸\",NotLeftTriangle:\"⋪\",NotLeftTriangleEqual:\"⋬\",NotLess:\"≮\",NotLessEqual:\"≰\",NotLessGreater:\"≸\",NotLessLess:\"≪̸\",NotLessSlantEqual:\"⩽̸\",NotLessTilde:\"≴\",NotNestedGreaterGreater:\"⪢̸\",NotNestedLessLess:\"⪡̸\",notni:\"∌\",notniva:\"∌\",notnivb:\"⋾\",notnivc:\"⋽\",NotPrecedes:\"⊀\",NotPrecedesEqual:\"⪯̸\",NotPrecedesSlantEqual:\"⋠\",NotReverseElement:\"∌\",NotRightTriangleBar:\"⧐̸\",NotRightTriangle:\"⋫\",NotRightTriangleEqual:\"⋭\",NotSquareSubset:\"⊏̸\",NotSquareSubsetEqual:\"⋢\",NotSquareSuperset:\"⊐̸\",NotSquareSupersetEqual:\"⋣\",NotSubset:\"⊂⃒\",NotSubsetEqual:\"⊈\",NotSucceeds:\"⊁\",NotSucceedsEqual:\"⪰̸\",NotSucceedsSlantEqual:\"⋡\",NotSucceedsTilde:\"≿̸\",NotSuperset:\"⊃⃒\",NotSupersetEqual:\"⊉\",NotTilde:\"≁\",NotTildeEqual:\"≄\",NotTildeFullEqual:\"≇\",NotTildeTilde:\"≉\",NotVerticalBar:\"∤\",nparallel:\"∦\",npar:\"∦\",nparsl:\"⫽⃥\",npart:\"∂̸\",npolint:\"⨔\",npr:\"⊀\",nprcue:\"⋠\",nprec:\"⊀\",npreceq:\"⪯̸\",npre:\"⪯̸\",nrarrc:\"⤳̸\",nrarr:\"↛\",nrArr:\"⇏\",nrarrw:\"↝̸\",nrightarrow:\"↛\",nRightarrow:\"⇏\",nrtri:\"⋫\",nrtrie:\"⋭\",nsc:\"⊁\",nsccue:\"⋡\",nsce:\"⪰̸\",Nscr:\"𝒩\",nscr:\"𝓃\",nshortmid:\"∤\",nshortparallel:\"∦\",nsim:\"≁\",nsime:\"≄\",nsimeq:\"≄\",nsmid:\"∤\",nspar:\"∦\",nsqsube:\"⋢\",nsqsupe:\"⋣\",nsub:\"⊄\",nsubE:\"⫅̸\",nsube:\"⊈\",nsubset:\"⊂⃒\",nsubseteq:\"⊈\",nsubseteqq:\"⫅̸\",nsucc:\"⊁\",nsucceq:\"⪰̸\",nsup:\"⊅\",nsupE:\"⫆̸\",nsupe:\"⊉\",nsupset:\"⊃⃒\",nsupseteq:\"⊉\",nsupseteqq:\"⫆̸\",ntgl:\"≹\",Ntilde:\"Ñ\",ntilde:\"ñ\",ntlg:\"≸\",ntriangleleft:\"⋪\",ntrianglelefteq:\"⋬\",ntriangleright:\"⋫\",ntrianglerighteq:\"⋭\",Nu:\"Ν\",nu:\"ν\",num:\"#\",numero:\"№\",numsp:\" \",nvap:\"≍⃒\",nvdash:\"⊬\",nvDash:\"⊭\",nVdash:\"⊮\",nVDash:\"⊯\",nvge:\"≥⃒\",nvgt:\">⃒\",nvHarr:\"⤄\",nvinfin:\"⧞\",nvlArr:\"⤂\",nvle:\"≤⃒\",nvlt:\"<⃒\",nvltrie:\"⊴⃒\",nvrArr:\"⤃\",nvrtrie:\"⊵⃒\",nvsim:\"∼⃒\",nwarhk:\"⤣\",nwarr:\"↖\",nwArr:\"⇖\",nwarrow:\"↖\",nwnear:\"⤧\",Oacute:\"Ó\",oacute:\"ó\",oast:\"⊛\",Ocirc:\"Ô\",ocirc:\"ô\",ocir:\"⊚\",Ocy:\"О\",ocy:\"о\",odash:\"⊝\",Odblac:\"Ő\",odblac:\"ő\",odiv:\"⨸\",odot:\"⊙\",odsold:\"⦼\",OElig:\"Œ\",oelig:\"œ\",ofcir:\"⦿\",Ofr:\"𝔒\",ofr:\"𝔬\",ogon:\"˛\",Ograve:\"Ò\",ograve:\"ò\",ogt:\"⧁\",ohbar:\"⦵\",ohm:\"Ω\",oint:\"∮\",olarr:\"↺\",olcir:\"⦾\",olcross:\"⦻\",oline:\"‾\",olt:\"⧀\",Omacr:\"Ō\",omacr:\"ō\",Omega:\"Ω\",omega:\"ω\",Omicron:\"Ο\",omicron:\"ο\",omid:\"⦶\",ominus:\"⊖\",Oopf:\"𝕆\",oopf:\"𝕠\",opar:\"⦷\",OpenCurlyDoubleQuote:\"“\",OpenCurlyQuote:\"‘\",operp:\"⦹\",oplus:\"⊕\",orarr:\"↻\",Or:\"⩔\",or:\"∨\",ord:\"⩝\",order:\"ℴ\",orderof:\"ℴ\",ordf:\"ª\",ordm:\"º\",origof:\"⊶\",oror:\"⩖\",orslope:\"⩗\",orv:\"⩛\",oS:\"Ⓢ\",Oscr:\"𝒪\",oscr:\"ℴ\",Oslash:\"Ø\",oslash:\"ø\",osol:\"⊘\",Otilde:\"Õ\",otilde:\"õ\",otimesas:\"⨶\",Otimes:\"⨷\",otimes:\"⊗\",Ouml:\"Ö\",ouml:\"ö\",ovbar:\"⌽\",OverBar:\"‾\",OverBrace:\"⏞\",OverBracket:\"⎴\",OverParenthesis:\"⏜\",para:\"¶\",parallel:\"∥\",par:\"∥\",parsim:\"⫳\",parsl:\"⫽\",part:\"∂\",PartialD:\"∂\",Pcy:\"П\",pcy:\"п\",percnt:\"%\",period:\".\",permil:\"‰\",perp:\"⊥\",pertenk:\"‱\",Pfr:\"𝔓\",pfr:\"𝔭\",Phi:\"Φ\",phi:\"φ\",phiv:\"ϕ\",phmmat:\"ℳ\",phone:\"☎\",Pi:\"Π\",pi:\"π\",pitchfork:\"⋔\",piv:\"ϖ\",planck:\"ℏ\",planckh:\"ℎ\",plankv:\"ℏ\",plusacir:\"⨣\",plusb:\"⊞\",pluscir:\"⨢\",plus:\"+\",plusdo:\"∔\",plusdu:\"⨥\",pluse:\"⩲\",PlusMinus:\"±\",plusmn:\"±\",plussim:\"⨦\",plustwo:\"⨧\",pm:\"±\",Poincareplane:\"ℌ\",pointint:\"⨕\",popf:\"𝕡\",Popf:\"ℙ\",pound:\"£\",prap:\"⪷\",Pr:\"⪻\",pr:\"≺\",prcue:\"≼\",precapprox:\"⪷\",prec:\"≺\",preccurlyeq:\"≼\",Precedes:\"≺\",PrecedesEqual:\"⪯\",PrecedesSlantEqual:\"≼\",PrecedesTilde:\"≾\",preceq:\"⪯\",precnapprox:\"⪹\",precneqq:\"⪵\",precnsim:\"⋨\",pre:\"⪯\",prE:\"⪳\",precsim:\"≾\",prime:\"′\",Prime:\"″\",primes:\"ℙ\",prnap:\"⪹\",prnE:\"⪵\",prnsim:\"⋨\",prod:\"∏\",Product:\"∏\",profalar:\"⌮\",profline:\"⌒\",profsurf:\"⌓\",prop:\"∝\",Proportional:\"∝\",Proportion:\"∷\",propto:\"∝\",prsim:\"≾\",prurel:\"⊰\",Pscr:\"𝒫\",pscr:\"𝓅\",Psi:\"Ψ\",psi:\"ψ\",puncsp:\" \",Qfr:\"𝔔\",qfr:\"𝔮\",qint:\"⨌\",qopf:\"𝕢\",Qopf:\"ℚ\",qprime:\"⁗\",Qscr:\"𝒬\",qscr:\"𝓆\",quaternions:\"ℍ\",quatint:\"⨖\",quest:\"?\",questeq:\"≟\",quot:\"\\\"\",QUOT:\"\\\"\",rAarr:\"⇛\",race:\"∽̱\",Racute:\"Ŕ\",racute:\"ŕ\",radic:\"√\",raemptyv:\"⦳\",rang:\"⟩\",Rang:\"⟫\",rangd:\"⦒\",range:\"⦥\",rangle:\"⟩\",raquo:\"»\",rarrap:\"⥵\",rarrb:\"⇥\",rarrbfs:\"⤠\",rarrc:\"⤳\",rarr:\"→\",Rarr:\"↠\",rArr:\"⇒\",rarrfs:\"⤞\",rarrhk:\"↪\",rarrlp:\"↬\",rarrpl:\"⥅\",rarrsim:\"⥴\",Rarrtl:\"⤖\",rarrtl:\"↣\",rarrw:\"↝\",ratail:\"⤚\",rAtail:\"⤜\",ratio:\"∶\",rationals:\"ℚ\",rbarr:\"⤍\",rBarr:\"⤏\",RBarr:\"⤐\",rbbrk:\"❳\",rbrace:\"}\",rbrack:\"]\",rbrke:\"⦌\",rbrksld:\"⦎\",rbrkslu:\"⦐\",Rcaron:\"Ř\",rcaron:\"ř\",Rcedil:\"Ŗ\",rcedil:\"ŗ\",rceil:\"⌉\",rcub:\"}\",Rcy:\"Р\",rcy:\"р\",rdca:\"⤷\",rdldhar:\"⥩\",rdquo:\"”\",rdquor:\"”\",rdsh:\"↳\",real:\"ℜ\",realine:\"ℛ\",realpart:\"ℜ\",reals:\"ℝ\",Re:\"ℜ\",rect:\"▭\",reg:\"®\",REG:\"®\",ReverseElement:\"∋\",ReverseEquilibrium:\"⇋\",ReverseUpEquilibrium:\"⥯\",rfisht:\"⥽\",rfloor:\"⌋\",rfr:\"𝔯\",Rfr:\"ℜ\",rHar:\"⥤\",rhard:\"⇁\",rharu:\"⇀\",rharul:\"⥬\",Rho:\"Ρ\",rho:\"ρ\",rhov:\"ϱ\",RightAngleBracket:\"⟩\",RightArrowBar:\"⇥\",rightarrow:\"→\",RightArrow:\"→\",Rightarrow:\"⇒\",RightArrowLeftArrow:\"⇄\",rightarrowtail:\"↣\",RightCeiling:\"⌉\",RightDoubleBracket:\"⟧\",RightDownTeeVector:\"⥝\",RightDownVectorBar:\"⥕\",RightDownVector:\"⇂\",RightFloor:\"⌋\",rightharpoondown:\"⇁\",rightharpoonup:\"⇀\",rightleftarrows:\"⇄\",rightleftharpoons:\"⇌\",rightrightarrows:\"⇉\",rightsquigarrow:\"↝\",RightTeeArrow:\"↦\",RightTee:\"⊢\",RightTeeVector:\"⥛\",rightthreetimes:\"⋌\",RightTriangleBar:\"⧐\",RightTriangle:\"⊳\",RightTriangleEqual:\"⊵\",RightUpDownVector:\"⥏\",RightUpTeeVector:\"⥜\",RightUpVectorBar:\"⥔\",RightUpVector:\"↾\",RightVectorBar:\"⥓\",RightVector:\"⇀\",ring:\"˚\",risingdotseq:\"≓\",rlarr:\"⇄\",rlhar:\"⇌\",rlm:\"\\u200f\",rmoustache:\"⎱\",rmoust:\"⎱\",rnmid:\"⫮\",roang:\"⟭\",roarr:\"⇾\",robrk:\"⟧\",ropar:\"⦆\",ropf:\"𝕣\",Ropf:\"ℝ\",roplus:\"⨮\",rotimes:\"⨵\",RoundImplies:\"⥰\",rpar:\")\",rpargt:\"⦔\",rppolint:\"⨒\",rrarr:\"⇉\",Rrightarrow:\"⇛\",rsaquo:\"›\",rscr:\"𝓇\",Rscr:\"ℛ\",rsh:\"↱\",Rsh:\"↱\",rsqb:\"]\",rsquo:\"’\",rsquor:\"’\",rthree:\"⋌\",rtimes:\"⋊\",rtri:\"▹\",rtrie:\"⊵\",rtrif:\"▸\",rtriltri:\"⧎\",RuleDelayed:\"⧴\",ruluhar:\"⥨\",rx:\"℞\",Sacute:\"Ś\",sacute:\"ś\",sbquo:\"‚\",scap:\"⪸\",Scaron:\"Š\",scaron:\"š\",Sc:\"⪼\",sc:\"≻\",sccue:\"≽\",sce:\"⪰\",scE:\"⪴\",Scedil:\"Ş\",scedil:\"ş\",Scirc:\"Ŝ\",scirc:\"ŝ\",scnap:\"⪺\",scnE:\"⪶\",scnsim:\"⋩\",scpolint:\"⨓\",scsim:\"≿\",Scy:\"С\",scy:\"с\",sdotb:\"⊡\",sdot:\"⋅\",sdote:\"⩦\",searhk:\"⤥\",searr:\"↘\",seArr:\"⇘\",searrow:\"↘\",sect:\"§\",semi:\";\",seswar:\"⤩\",setminus:\"∖\",setmn:\"∖\",sext:\"✶\",Sfr:\"𝔖\",sfr:\"𝔰\",sfrown:\"⌢\",sharp:\"♯\",SHCHcy:\"Щ\",shchcy:\"щ\",SHcy:\"Ш\",shcy:\"ш\",ShortDownArrow:\"↓\",ShortLeftArrow:\"←\",shortmid:\"∣\",shortparallel:\"∥\",ShortRightArrow:\"→\",ShortUpArrow:\"↑\",shy:\"\\u00ad\",Sigma:\"Σ\",sigma:\"σ\",sigmaf:\"ς\",sigmav:\"ς\",sim:\"∼\",simdot:\"⩪\",sime:\"≃\",simeq:\"≃\",simg:\"⪞\",simgE:\"⪠\",siml:\"⪝\",simlE:\"⪟\",simne:\"≆\",simplus:\"⨤\",simrarr:\"⥲\",slarr:\"←\",SmallCircle:\"∘\",smallsetminus:\"∖\",smashp:\"⨳\",smeparsl:\"⧤\",smid:\"∣\",smile:\"⌣\",smt:\"⪪\",smte:\"⪬\",smtes:\"⪬︀\",SOFTcy:\"Ь\",softcy:\"ь\",solbar:\"⌿\",solb:\"⧄\",sol:\"/\",Sopf:\"𝕊\",sopf:\"𝕤\",spades:\"♠\",spadesuit:\"♠\",spar:\"∥\",sqcap:\"⊓\",sqcaps:\"⊓︀\",sqcup:\"⊔\",sqcups:\"⊔︀\",Sqrt:\"√\",sqsub:\"⊏\",sqsube:\"⊑\",sqsubset:\"⊏\",sqsubseteq:\"⊑\",sqsup:\"⊐\",sqsupe:\"⊒\",sqsupset:\"⊐\",sqsupseteq:\"⊒\",square:\"□\",Square:\"□\",SquareIntersection:\"⊓\",SquareSubset:\"⊏\",SquareSubsetEqual:\"⊑\",SquareSuperset:\"⊐\",SquareSupersetEqual:\"⊒\",SquareUnion:\"⊔\",squarf:\"▪\",squ:\"□\",squf:\"▪\",srarr:\"→\",Sscr:\"𝒮\",sscr:\"𝓈\",ssetmn:\"∖\",ssmile:\"⌣\",sstarf:\"⋆\",Star:\"⋆\",star:\"☆\",starf:\"★\",straightepsilon:\"ϵ\",straightphi:\"ϕ\",strns:\"¯\",sub:\"⊂\",Sub:\"⋐\",subdot:\"⪽\",subE:\"⫅\",sube:\"⊆\",subedot:\"⫃\",submult:\"⫁\",subnE:\"⫋\",subne:\"⊊\",subplus:\"⪿\",subrarr:\"⥹\",subset:\"⊂\",Subset:\"⋐\",subseteq:\"⊆\",subseteqq:\"⫅\",SubsetEqual:\"⊆\",subsetneq:\"⊊\",subsetneqq:\"⫋\",subsim:\"⫇\",subsub:\"⫕\",subsup:\"⫓\",succapprox:\"⪸\",succ:\"≻\",succcurlyeq:\"≽\",Succeeds:\"≻\",SucceedsEqual:\"⪰\",SucceedsSlantEqual:\"≽\",SucceedsTilde:\"≿\",succeq:\"⪰\",succnapprox:\"⪺\",succneqq:\"⪶\",succnsim:\"⋩\",succsim:\"≿\",SuchThat:\"∋\",sum:\"∑\",Sum:\"∑\",sung:\"♪\",sup1:\"¹\",sup2:\"²\",sup3:\"³\",sup:\"⊃\",Sup:\"⋑\",supdot:\"⪾\",supdsub:\"⫘\",supE:\"⫆\",supe:\"⊇\",supedot:\"⫄\",Superset:\"⊃\",SupersetEqual:\"⊇\",suphsol:\"⟉\",suphsub:\"⫗\",suplarr:\"⥻\",supmult:\"⫂\",supnE:\"⫌\",supne:\"⊋\",supplus:\"⫀\",supset:\"⊃\",Supset:\"⋑\",supseteq:\"⊇\",supseteqq:\"⫆\",supsetneq:\"⊋\",supsetneqq:\"⫌\",supsim:\"⫈\",supsub:\"⫔\",supsup:\"⫖\",swarhk:\"⤦\",swarr:\"↙\",swArr:\"⇙\",swarrow:\"↙\",swnwar:\"⤪\",szlig:\"ß\",Tab:\"\\u0009\",target:\"⌖\",Tau:\"Τ\",tau:\"τ\",tbrk:\"⎴\",Tcaron:\"Ť\",tcaron:\"ť\",Tcedil:\"Ţ\",tcedil:\"ţ\",Tcy:\"Т\",tcy:\"т\",tdot:\"⃛\",telrec:\"⌕\",Tfr:\"𝔗\",tfr:\"𝔱\",there4:\"∴\",therefore:\"∴\",Therefore:\"∴\",Theta:\"Θ\",theta:\"θ\",thetasym:\"ϑ\",thetav:\"ϑ\",thickapprox:\"≈\",thicksim:\"∼\",ThickSpace:\"  \",ThinSpace:\" \",thinsp:\" \",thkap:\"≈\",thksim:\"∼\",THORN:\"Þ\",thorn:\"þ\",tilde:\"˜\",Tilde:\"∼\",TildeEqual:\"≃\",TildeFullEqual:\"≅\",TildeTilde:\"≈\",timesbar:\"⨱\",timesb:\"⊠\",times:\"×\",timesd:\"⨰\",tint:\"∭\",toea:\"⤨\",topbot:\"⌶\",topcir:\"⫱\",top:\"⊤\",Topf:\"𝕋\",topf:\"𝕥\",topfork:\"⫚\",tosa:\"⤩\",tprime:\"‴\",trade:\"™\",TRADE:\"™\",triangle:\"▵\",triangledown:\"▿\",triangleleft:\"◃\",trianglelefteq:\"⊴\",triangleq:\"≜\",triangleright:\"▹\",trianglerighteq:\"⊵\",tridot:\"◬\",trie:\"≜\",triminus:\"⨺\",TripleDot:\"⃛\",triplus:\"⨹\",trisb:\"⧍\",tritime:\"⨻\",trpezium:\"⏢\",Tscr:\"𝒯\",tscr:\"𝓉\",TScy:\"Ц\",tscy:\"ц\",TSHcy:\"Ћ\",tshcy:\"ћ\",Tstrok:\"Ŧ\",tstrok:\"ŧ\",twixt:\"≬\",twoheadleftarrow:\"↞\",twoheadrightarrow:\"↠\",Uacute:\"Ú\",uacute:\"ú\",uarr:\"↑\",Uarr:\"↟\",uArr:\"⇑\",Uarrocir:\"⥉\",Ubrcy:\"Ў\",ubrcy:\"ў\",Ubreve:\"Ŭ\",ubreve:\"ŭ\",Ucirc:\"Û\",ucirc:\"û\",Ucy:\"У\",ucy:\"у\",udarr:\"⇅\",Udblac:\"Ű\",udblac:\"ű\",udhar:\"⥮\",ufisht:\"⥾\",Ufr:\"𝔘\",ufr:\"𝔲\",Ugrave:\"Ù\",ugrave:\"ù\",uHar:\"⥣\",uharl:\"↿\",uharr:\"↾\",uhblk:\"▀\",ulcorn:\"⌜\",ulcorner:\"⌜\",ulcrop:\"⌏\",ultri:\"◸\",Umacr:\"Ū\",umacr:\"ū\",uml:\"¨\",UnderBar:\"_\",UnderBrace:\"⏟\",UnderBracket:\"⎵\",UnderParenthesis:\"⏝\",Union:\"⋃\",UnionPlus:\"⊎\",Uogon:\"Ų\",uogon:\"ų\",Uopf:\"𝕌\",uopf:\"𝕦\",UpArrowBar:\"⤒\",uparrow:\"↑\",UpArrow:\"↑\",Uparrow:\"⇑\",UpArrowDownArrow:\"⇅\",updownarrow:\"↕\",UpDownArrow:\"↕\",Updownarrow:\"⇕\",UpEquilibrium:\"⥮\",upharpoonleft:\"↿\",upharpoonright:\"↾\",uplus:\"⊎\",UpperLeftArrow:\"↖\",UpperRightArrow:\"↗\",upsi:\"υ\",Upsi:\"ϒ\",upsih:\"ϒ\",Upsilon:\"Υ\",upsilon:\"υ\",UpTeeArrow:\"↥\",UpTee:\"⊥\",upuparrows:\"⇈\",urcorn:\"⌝\",urcorner:\"⌝\",urcrop:\"⌎\",Uring:\"Ů\",uring:\"ů\",urtri:\"◹\",Uscr:\"𝒰\",uscr:\"𝓊\",utdot:\"⋰\",Utilde:\"Ũ\",utilde:\"ũ\",utri:\"▵\",utrif:\"▴\",uuarr:\"⇈\",Uuml:\"Ü\",uuml:\"ü\",uwangle:\"⦧\",vangrt:\"⦜\",varepsilon:\"ϵ\",varkappa:\"ϰ\",varnothing:\"∅\",varphi:\"ϕ\",varpi:\"ϖ\",varpropto:\"∝\",varr:\"↕\",vArr:\"⇕\",varrho:\"ϱ\",varsigma:\"ς\",varsubsetneq:\"⊊︀\",varsubsetneqq:\"⫋︀\",varsupsetneq:\"⊋︀\",varsupsetneqq:\"⫌︀\",vartheta:\"ϑ\",vartriangleleft:\"⊲\",vartriangleright:\"⊳\",vBar:\"⫨\",Vbar:\"⫫\",vBarv:\"⫩\",Vcy:\"В\",vcy:\"в\",vdash:\"⊢\",vDash:\"⊨\",Vdash:\"⊩\",VDash:\"⊫\",Vdashl:\"⫦\",veebar:\"⊻\",vee:\"∨\",Vee:\"⋁\",veeeq:\"≚\",vellip:\"⋮\",verbar:\"|\",Verbar:\"‖\",vert:\"|\",Vert:\"‖\",VerticalBar:\"∣\",VerticalLine:\"|\",VerticalSeparator:\"❘\",VerticalTilde:\"≀\",VeryThinSpace:\" \",Vfr:\"𝔙\",vfr:\"𝔳\",vltri:\"⊲\",vnsub:\"⊂⃒\",vnsup:\"⊃⃒\",Vopf:\"𝕍\",vopf:\"𝕧\",vprop:\"∝\",vrtri:\"⊳\",Vscr:\"𝒱\",vscr:\"𝓋\",vsubnE:\"⫋︀\",vsubne:\"⊊︀\",vsupnE:\"⫌︀\",vsupne:\"⊋︀\",Vvdash:\"⊪\",vzigzag:\"⦚\",Wcirc:\"Ŵ\",wcirc:\"ŵ\",wedbar:\"⩟\",wedge:\"∧\",Wedge:\"⋀\",wedgeq:\"≙\",weierp:\"℘\",Wfr:\"𝔚\",wfr:\"𝔴\",Wopf:\"𝕎\",wopf:\"𝕨\",wp:\"℘\",wr:\"≀\",wreath:\"≀\",Wscr:\"𝒲\",wscr:\"𝓌\",xcap:\"⋂\",xcirc:\"◯\",xcup:\"⋃\",xdtri:\"▽\",Xfr:\"𝔛\",xfr:\"𝔵\",xharr:\"⟷\",xhArr:\"⟺\",Xi:\"Ξ\",xi:\"ξ\",xlarr:\"⟵\",xlArr:\"⟸\",xmap:\"⟼\",xnis:\"⋻\",xodot:\"⨀\",Xopf:\"𝕏\",xopf:\"𝕩\",xoplus:\"⨁\",xotime:\"⨂\",xrarr:\"⟶\",xrArr:\"⟹\",Xscr:\"𝒳\",xscr:\"𝓍\",xsqcup:\"⨆\",xuplus:\"⨄\",xutri:\"△\",xvee:\"⋁\",xwedge:\"⋀\",Yacute:\"Ý\",yacute:\"ý\",YAcy:\"Я\",yacy:\"я\",Ycirc:\"Ŷ\",ycirc:\"ŷ\",Ycy:\"Ы\",ycy:\"ы\",yen:\"¥\",Yfr:\"𝔜\",yfr:\"𝔶\",YIcy:\"Ї\",yicy:\"ї\",Yopf:\"𝕐\",yopf:\"𝕪\",Yscr:\"𝒴\",yscr:\"𝓎\",YUcy:\"Ю\",yucy:\"ю\",yuml:\"ÿ\",Yuml:\"Ÿ\",Zacute:\"Ź\",zacute:\"ź\",Zcaron:\"Ž\",zcaron:\"ž\",Zcy:\"З\",zcy:\"з\",Zdot:\"Ż\",zdot:\"ż\",zeetrf:\"ℨ\",ZeroWidthSpace:\"​\",Zeta:\"Ζ\",zeta:\"ζ\",zfr:\"𝔷\",Zfr:\"ℨ\",ZHcy:\"Ж\",zhcy:\"ж\",zigrarr:\"⇝\",zopf:\"𝕫\",Zopf:\"ℤ\",Zscr:\"𝒵\",zscr:\"𝓏\",zwj:\"\\u200d\",zwnj:\"\\u200c\"\n};\n","import { NamedEntityMap } from './types';\n\nconst HEXCHARCODE = /^#[xX]([A-Fa-f0-9]+)$/;\nconst CHARCODE = /^#([0-9]+)$/;\nconst NAMED = /^([A-Za-z0-9]+)$/;\n\nexport default class EntityParser {\n  constructor(private named: NamedEntityMap) {}\n\n  parse(entity: string): string | undefined {\n    if (!entity) {\n      return;\n    }\n    let matches = entity.match(HEXCHARCODE);\n    if (matches) {\n      return String.fromCharCode(parseInt(matches[1], 16));\n    }\n    matches = entity.match(CHARCODE);\n    if (matches) {\n      return String.fromCharCode(parseInt(matches[1], 10));\n    }\n    matches = entity.match(NAMED);\n    if (matches) {\n      return this.named[matches[1]];\n    }\n  }\n}\n","const WSP = /[\\t\\n\\f ]/;\nconst ALPHA = /[A-Za-z]/;\nconst CRLF = /\\r\\n?/g;\n\nexport function isSpace(char: string): boolean {\n  return WSP.test(char);\n}\n\nexport function isAlpha(char: string): boolean {\n  return ALPHA.test(char);\n}\n\nexport function preprocessInput(input: string): string {\n  return input.replace(CRLF, '\\n');\n}\n","import { preprocessInput, isAlpha, isSpace } from './utils';\nimport { EntityParser, TokenizerDelegate, TokenizerState } from './types';\n\nexport default class EventedTokenizer {\n  public state: TokenizerState = TokenizerState.beforeData;\n\n  public line = -1;\n  public column = -1;\n\n  private input = '';\n  private index = -1;\n\n  private tagNameBuffer = '';\n\n  constructor(\n    private delegate: TokenizerDelegate,\n    private entityParser: EntityParser\n  ) {\n    this.reset();\n  }\n\n  reset() {\n    this.transitionTo(TokenizerState.beforeData);\n    this.input = '';\n    this.tagNameBuffer = '';\n\n    this.index = 0;\n    this.line = 1;\n    this.column = 0;\n\n    this.delegate.reset();\n  }\n\n  transitionTo(state: TokenizerState) {\n    this.state = state;\n  }\n\n  tokenize(input: string) {\n    this.reset();\n    this.tokenizePart(input);\n    this.tokenizeEOF();\n  }\n\n  tokenizePart(input: string) {\n    this.input += preprocessInput(input);\n\n    while (this.index < this.input.length) {\n      let handler = this.states[this.state];\n      if (handler !== undefined) {\n        handler.call(this);\n      } else {\n        throw new Error(`unhandled state ${this.state}`);\n      }\n    }\n  }\n\n  tokenizeEOF() {\n    this.flushData();\n  }\n\n  flushData() {\n    if (this.state === 'data') {\n      this.delegate.finishData();\n      this.transitionTo(TokenizerState.beforeData);\n    }\n  }\n\n  peek() {\n    return this.input.charAt(this.index);\n  }\n\n  consume() {\n    let char = this.peek();\n\n    this.index++;\n\n    if (char === '\\n') {\n      this.line++;\n      this.column = 0;\n    } else {\n      this.column++;\n    }\n\n    return char;\n  }\n\n  consumeCharRef() {\n    let endIndex = this.input.indexOf(';', this.index);\n    if (endIndex === -1) {\n      return;\n    }\n    let entity = this.input.slice(this.index, endIndex);\n    let chars = this.entityParser.parse(entity);\n    if (chars) {\n      let count = entity.length;\n      // consume the entity chars\n      while (count) {\n        this.consume();\n        count--;\n      }\n      // consume the `;`\n      this.consume();\n\n      return chars;\n    }\n  }\n\n  markTagStart() {\n    this.delegate.tagOpen();\n  }\n\n  private appendToTagName(char: string) : void {\n    this.tagNameBuffer += char;\n    this.delegate.appendToTagName(char);\n  }\n\n  private isIgnoredEndTag(): boolean {\n    let tag = this.tagNameBuffer;\n\n    return (tag === 'title' && this.input.substring(this.index, this.index + 8) !== '</title>') ||\n      (tag === 'style' && this.input.substring(this.index, this.index + 8) !== '</style>') ||\n      (tag === 'script' && this.input.substring(this.index, this.index + 9) !== '</script>');\n  }\n\n  states: { [k in TokenizerState]?: (this: EventedTokenizer) => void } = {\n    beforeData() {\n      let char = this.peek();\n\n      if (char === '<' && !this.isIgnoredEndTag()) {\n        this.transitionTo(TokenizerState.tagOpen);\n        this.markTagStart();\n        this.consume();\n      } else {\n        if (char === '\\n') {\n          let tag = this.tagNameBuffer.toLowerCase();\n\n          if (tag === 'pre' || tag === 'textarea') {\n            this.consume();\n          }\n        }\n\n        this.transitionTo(TokenizerState.data);\n        this.delegate.beginData();\n      }\n    },\n\n    data() {\n      let char = this.peek();\n      let tag = this.tagNameBuffer;\n\n      if (char === '<' && !this.isIgnoredEndTag()) {\n        this.delegate.finishData();\n        this.transitionTo(TokenizerState.tagOpen);\n        this.markTagStart();\n        this.consume();\n      } else if (char === '&' && tag !== 'script' && tag !== 'style') {\n        this.consume();\n        this.delegate.appendToData(this.consumeCharRef() || '&');\n      } else {\n        this.consume();\n        this.delegate.appendToData(char);\n      }\n    },\n\n    tagOpen() {\n      let char = this.consume();\n\n      if (char === '!') {\n        this.transitionTo(TokenizerState.markupDeclarationOpen);\n      } else if (char === '/') {\n        this.transitionTo(TokenizerState.endTagOpen);\n      } else if (char === '@' || char === ':' || isAlpha(char)) {\n        this.transitionTo(TokenizerState.tagName);\n        this.tagNameBuffer = '';\n        this.delegate.beginStartTag();\n        this.appendToTagName(char);\n      }\n    },\n\n    markupDeclarationOpen() {\n      let char = this.consume();\n\n      if (char === '-' && this.peek() === '-') {\n        this.consume();\n        this.transitionTo(TokenizerState.commentStart);\n        this.delegate.beginComment();\n      }\n    },\n\n    commentStart() {\n      let char = this.consume();\n\n      if (char === '-') {\n        this.transitionTo(TokenizerState.commentStartDash);\n      } else if (char === '>') {\n        this.delegate.finishComment();\n        this.transitionTo(TokenizerState.beforeData);\n      } else {\n        this.delegate.appendToCommentData(char);\n        this.transitionTo(TokenizerState.comment);\n      }\n    },\n\n    commentStartDash() {\n      let char = this.consume();\n\n      if (char === '-') {\n        this.transitionTo(TokenizerState.commentEnd);\n      } else if (char === '>') {\n        this.delegate.finishComment();\n        this.transitionTo(TokenizerState.beforeData);\n      } else {\n        this.delegate.appendToCommentData('-');\n        this.transitionTo(TokenizerState.comment);\n      }\n    },\n\n    comment() {\n      let char = this.consume();\n\n      if (char === '-') {\n        this.transitionTo(TokenizerState.commentEndDash);\n      } else {\n        this.delegate.appendToCommentData(char);\n      }\n    },\n\n    commentEndDash() {\n      let char = this.consume();\n\n      if (char === '-') {\n        this.transitionTo(TokenizerState.commentEnd);\n      } else {\n        this.delegate.appendToCommentData('-' + char);\n        this.transitionTo(TokenizerState.comment);\n      }\n    },\n\n    commentEnd() {\n      let char = this.consume();\n\n      if (char === '>') {\n        this.delegate.finishComment();\n        this.transitionTo(TokenizerState.beforeData);\n      } else {\n        this.delegate.appendToCommentData('--' + char);\n        this.transitionTo(TokenizerState.comment);\n      }\n    },\n\n    tagName() {\n      let char = this.consume();\n\n      if (isSpace(char)) {\n        this.transitionTo(TokenizerState.beforeAttributeName);\n      } else if (char === '/') {\n        this.transitionTo(TokenizerState.selfClosingStartTag);\n      } else if (char === '>') {\n        this.delegate.finishTag();\n        this.transitionTo(TokenizerState.beforeData);\n      } else {\n        this.appendToTagName(char);\n      }\n    },\n\n    endTagName() {\n      let char = this.consume();\n\n      if (isSpace(char)) {\n        this.transitionTo(TokenizerState.beforeAttributeName);\n        this.tagNameBuffer = '';\n      } else if (char === '/') {\n        this.transitionTo(TokenizerState.selfClosingStartTag);\n        this.tagNameBuffer = '';\n      } else if (char === '>') {\n        this.delegate.finishTag();\n        this.transitionTo(TokenizerState.beforeData);\n        this.tagNameBuffer = '';\n      } else {\n        this.appendToTagName(char);\n      }\n    },\n\n    beforeAttributeName() {\n      let char = this.peek();\n\n      if (isSpace(char)) {\n        this.consume();\n        return;\n      } else if (char === '/') {\n        this.transitionTo(TokenizerState.selfClosingStartTag);\n        this.consume();\n      } else if (char === '>') {\n        this.consume();\n        this.delegate.finishTag();\n        this.transitionTo(TokenizerState.beforeData);\n      } else if (char === '=') {\n        this.delegate.reportSyntaxError(\n          'attribute name cannot start with equals sign'\n        );\n        this.transitionTo(TokenizerState.attributeName);\n        this.delegate.beginAttribute();\n        this.consume();\n        this.delegate.appendToAttributeName(char);\n      } else {\n        this.transitionTo(TokenizerState.attributeName);\n        this.delegate.beginAttribute();\n      }\n    },\n\n    attributeName() {\n      let char = this.peek();\n\n      if (isSpace(char)) {\n        this.transitionTo(TokenizerState.afterAttributeName);\n        this.consume();\n      } else if (char === '/') {\n        this.delegate.beginAttributeValue(false);\n        this.delegate.finishAttributeValue();\n        this.consume();\n        this.transitionTo(TokenizerState.selfClosingStartTag);\n      } else if (char === '=') {\n        this.transitionTo(TokenizerState.beforeAttributeValue);\n        this.consume();\n      } else if (char === '>') {\n        this.delegate.beginAttributeValue(false);\n        this.delegate.finishAttributeValue();\n        this.consume();\n        this.delegate.finishTag();\n        this.transitionTo(TokenizerState.beforeData);\n      } else if (char === '\"' || char === \"'\" || char === '<') {\n        this.delegate.reportSyntaxError(\n          char + ' is not a valid character within attribute names'\n        );\n        this.consume();\n        this.delegate.appendToAttributeName(char);\n      } else {\n        this.consume();\n        this.delegate.appendToAttributeName(char);\n      }\n    },\n\n    afterAttributeName() {\n      let char = this.peek();\n\n      if (isSpace(char)) {\n        this.consume();\n        return;\n      } else if (char === '/') {\n        this.delegate.beginAttributeValue(false);\n        this.delegate.finishAttributeValue();\n        this.consume();\n        this.transitionTo(TokenizerState.selfClosingStartTag);\n      } else if (char === '=') {\n        this.consume();\n        this.transitionTo(TokenizerState.beforeAttributeValue);\n      } else if (char === '>') {\n        this.delegate.beginAttributeValue(false);\n        this.delegate.finishAttributeValue();\n        this.consume();\n        this.delegate.finishTag();\n        this.transitionTo(TokenizerState.beforeData);\n      } else {\n        this.delegate.beginAttributeValue(false);\n        this.delegate.finishAttributeValue();\n        this.transitionTo(TokenizerState.attributeName);\n        this.delegate.beginAttribute();\n        this.consume();\n        this.delegate.appendToAttributeName(char);\n      }\n    },\n\n    beforeAttributeValue() {\n      let char = this.peek();\n\n      if (isSpace(char)) {\n        this.consume();\n      } else if (char === '\"') {\n        this.transitionTo(TokenizerState.attributeValueDoubleQuoted);\n        this.delegate.beginAttributeValue(true);\n        this.consume();\n      } else if (char === \"'\") {\n        this.transitionTo(TokenizerState.attributeValueSingleQuoted);\n        this.delegate.beginAttributeValue(true);\n        this.consume();\n      } else if (char === '>') {\n        this.delegate.beginAttributeValue(false);\n        this.delegate.finishAttributeValue();\n        this.consume();\n        this.delegate.finishTag();\n        this.transitionTo(TokenizerState.beforeData);\n      } else {\n        this.transitionTo(TokenizerState.attributeValueUnquoted);\n        this.delegate.beginAttributeValue(false);\n        this.consume();\n        this.delegate.appendToAttributeValue(char);\n      }\n    },\n\n    attributeValueDoubleQuoted() {\n      let char = this.consume();\n\n      if (char === '\"') {\n        this.delegate.finishAttributeValue();\n        this.transitionTo(TokenizerState.afterAttributeValueQuoted);\n      } else if (char === '&') {\n        this.delegate.appendToAttributeValue(this.consumeCharRef() || '&');\n      } else {\n        this.delegate.appendToAttributeValue(char);\n      }\n    },\n\n    attributeValueSingleQuoted() {\n      let char = this.consume();\n\n      if (char === \"'\") {\n        this.delegate.finishAttributeValue();\n        this.transitionTo(TokenizerState.afterAttributeValueQuoted);\n      } else if (char === '&') {\n        this.delegate.appendToAttributeValue(this.consumeCharRef() || '&');\n      } else {\n        this.delegate.appendToAttributeValue(char);\n      }\n    },\n\n    attributeValueUnquoted() {\n      let char = this.peek();\n\n      if (isSpace(char)) {\n        this.delegate.finishAttributeValue();\n        this.consume();\n        this.transitionTo(TokenizerState.beforeAttributeName);\n      } else if (char === '/') {\n        this.delegate.finishAttributeValue();\n        this.consume();\n        this.transitionTo(TokenizerState.selfClosingStartTag);\n      } else if (char === '&') {\n        this.consume();\n        this.delegate.appendToAttributeValue(this.consumeCharRef() || '&');\n      } else if (char === '>') {\n        this.delegate.finishAttributeValue();\n        this.consume();\n        this.delegate.finishTag();\n        this.transitionTo(TokenizerState.beforeData);\n      } else {\n        this.consume();\n        this.delegate.appendToAttributeValue(char);\n      }\n    },\n\n    afterAttributeValueQuoted() {\n      let char = this.peek();\n\n      if (isSpace(char)) {\n        this.consume();\n        this.transitionTo(TokenizerState.beforeAttributeName);\n      } else if (char === '/') {\n        this.consume();\n        this.transitionTo(TokenizerState.selfClosingStartTag);\n      } else if (char === '>') {\n        this.consume();\n        this.delegate.finishTag();\n        this.transitionTo(TokenizerState.beforeData);\n      } else {\n        this.transitionTo(TokenizerState.beforeAttributeName);\n      }\n    },\n\n    selfClosingStartTag() {\n      let char = this.peek();\n\n      if (char === '>') {\n        this.consume();\n        this.delegate.markTagAsSelfClosing();\n        this.delegate.finishTag();\n        this.transitionTo(TokenizerState.beforeData);\n      } else {\n        this.transitionTo(TokenizerState.beforeAttributeName);\n      }\n    },\n\n    endTagOpen() {\n      let char = this.consume();\n\n      if (char === '@' || char === ':' || isAlpha(char)) {\n        this.transitionTo(TokenizerState.endTagName);\n        this.tagNameBuffer = '';\n        this.delegate.beginEndTag();\n        this.appendToTagName(char);\n      }\n    }\n  };\n}\n","/** @type {HTMLTextAreaElement} */\nlet _decodeTextArea;\n\n/**\n * Decodes the HTML entities from a given string.\n *\n * @param {string} html String that contain HTML entities.\n *\n * @example\n * ```js\n * const result = decodeEntities( '&aacute;' );\n * console.log( result ); // result will be \"á\"\n * ```\n *\n * @return {string} The decoded string.\n */\nexport function decodeEntities( html ) {\n\t// not a string, or no entities to decode\n\tif ( 'string' !== typeof html || -1 === html.indexOf( '&' ) ) {\n\t\treturn html;\n\t}\n\n\t// create a textarea for decoding entities, that we can reuse\n\tif ( undefined === _decodeTextArea ) {\n\t\tif (\n\t\t\tdocument.implementation &&\n\t\t\tdocument.implementation.createHTMLDocument\n\t\t) {\n\t\t\t_decodeTextArea = document.implementation\n\t\t\t\t.createHTMLDocument( '' )\n\t\t\t\t.createElement( 'textarea' );\n\t\t} else {\n\t\t\t_decodeTextArea = document.createElement( 'textarea' );\n\t\t}\n\t}\n\n\t_decodeTextArea.innerHTML = html;\n\tconst decoded = _decodeTextArea.textContent;\n\t_decodeTextArea.innerHTML = '';\n\n\t/**\n\t * Cast to string, HTMLTextAreaElement should always have `string` textContent.\n\t *\n\t * > The `textContent` property of the `Node` interface represents the text content of the\n\t * > node and its descendants.\n\t * >\n\t * > Value: A string or `null`\n\t * >\n\t * > * If the node is a `document` or a Doctype, `textContent` returns `null`.\n\t * > * If the node is a CDATA section, comment, processing instruction, or text node,\n\t * >   textContent returns the text inside the node, i.e., the `Node.nodeValue`.\n\t * > * For other node types, `textContent returns the concatenation of the textContent of\n\t * >   every child node, excluding comments and processing instructions. (This is an empty\n\t * >   string if the node has no children.)\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent\n\t */\n\treturn /** @type {string} */ ( decoded );\n}\n","import EventedTokenizer from './evented-tokenizer';\nimport {\n  Attribute,\n  EntityParser,\n  Token,\n  TokenizerDelegate,\n  TokenMap,\n  TokenType,\n  TokenizerOptions\n} from './types';\n\nexport default class Tokenizer implements TokenizerDelegate {\n  private token: Token | null = null;\n  private startLine = 1;\n  private startColumn = 0;\n  private tokenizer: EventedTokenizer;\n  private tokens: Token[] = [];\n  private _currentAttribute?: Attribute;\n\n  constructor(\n    entityParser: EntityParser,\n    private options: TokenizerOptions = {}\n  ) {\n    this.tokenizer = new EventedTokenizer(this, entityParser);\n    this._currentAttribute = undefined;\n  }\n\n  tokenize(input: string) {\n    this.tokens = [];\n    this.tokenizer.tokenize(input);\n    return this.tokens;\n  }\n\n  tokenizePart(input: string) {\n    this.tokens = [];\n    this.tokenizer.tokenizePart(input);\n    return this.tokens;\n  }\n\n  tokenizeEOF() {\n    this.tokens = [];\n    this.tokenizer.tokenizeEOF();\n    return this.tokens[0];\n  }\n\n  reset() {\n    this.token = null;\n    this.startLine = 1;\n    this.startColumn = 0;\n  }\n\n  current<T extends TokenType, U extends TokenType>(\n    type1: T,\n    type2: U\n  ): TokenMap[T] | TokenMap[U];\n  current<T extends TokenType>(type: T): TokenMap[T];\n  current(): Token;\n  current(): Token {\n    const token = this.token;\n    if (token === null) {\n      throw new Error('token was unexpectedly null');\n    }\n    if (arguments.length === 0) {\n      return token;\n    }\n    for (let i = 0; i < arguments.length; i++) {\n      if (token.type === arguments[i]) {\n        return token;\n      }\n    }\n    throw new Error(`token type was unexpectedly ${token.type}`);\n  }\n\n  push(token: Token) {\n    this.token = token;\n    this.tokens.push(token);\n  }\n\n  currentAttribute() {\n    return this._currentAttribute;\n  }\n\n  addLocInfo() {\n    if (this.options.loc) {\n      this.current().loc = {\n        start: {\n          line: this.startLine,\n          column: this.startColumn\n        },\n        end: {\n          line: this.tokenizer.line,\n          column: this.tokenizer.column\n        }\n      };\n    }\n    this.startLine = this.tokenizer.line;\n    this.startColumn = this.tokenizer.column;\n  }\n\n  // Data\n\n  beginData() {\n    this.push({\n      type: TokenType.Chars,\n      chars: ''\n    });\n  }\n\n  appendToData(char: string) {\n    this.current(TokenType.Chars).chars += char;\n  }\n\n  finishData() {\n    this.addLocInfo();\n  }\n\n  // Comment\n\n  beginComment() {\n    this.push({\n      type: TokenType.Comment,\n      chars: ''\n    });\n  }\n\n  appendToCommentData(char: string) {\n    this.current(TokenType.Comment).chars += char;\n  }\n\n  finishComment() {\n    this.addLocInfo();\n  }\n\n  // Tags - basic\n\n  tagOpen() {}\n\n  beginStartTag() {\n    this.push({\n      type: TokenType.StartTag,\n      tagName: '',\n      attributes: [],\n      selfClosing: false\n    });\n  }\n\n  beginEndTag() {\n    this.push({\n      type: TokenType.EndTag,\n      tagName: ''\n    });\n  }\n\n  finishTag() {\n    this.addLocInfo();\n  }\n\n  markTagAsSelfClosing() {\n    this.current(TokenType.StartTag).selfClosing = true;\n  }\n\n  // Tags - name\n  appendToTagName(char: string) {\n    this.current(TokenType.StartTag, TokenType.EndTag).tagName += char;\n  }\n\n  // Tags - attributes\n\n  beginAttribute() {\n    this._currentAttribute = ['', '', false];\n  }\n\n  appendToAttributeName(char: string) {\n    this.currentAttribute()![0] += char;\n  }\n\n  beginAttributeValue(isQuoted: boolean) {\n    this.currentAttribute()![2] = isQuoted;\n  }\n\n  appendToAttributeValue(char: string) {\n    this.currentAttribute()![1] += char;\n  }\n\n  finishAttributeValue() {\n    this.current(TokenType.StartTag).attributes.push(this._currentAttribute!);\n  }\n\n  reportSyntaxError(message: string) {\n    this.current().syntaxError = message;\n  }\n}\n","export function createLogger() {\n\t/**\n\t * Creates a log handler with block validation prefix.\n\t *\n\t * @param {Function} logger Original logger function.\n\t *\n\t * @return {Function} Augmented logger function.\n\t */\n\tfunction createLogHandler( logger ) {\n\t\tlet log = ( message, ...args ) =>\n\t\t\tlogger( 'Block validation: ' + message, ...args );\n\n\t\t// In test environments, pre-process the sprintf message to improve\n\t\t// readability of error messages. We'd prefer to avoid pulling in this\n\t\t// dependency in runtime environments, and it can be dropped by a combo\n\t\t// of Webpack env substitution + UglifyJS dead code elimination.\n\t\tif ( process.env.NODE_ENV === 'test' ) {\n\t\t\tlog = ( ...args ) =>\n\t\t\t\t// eslint-disable-next-line import/no-extraneous-dependencies\n\t\t\t\tlogger( require( 'sprintf-js' ).sprintf( ...args ) );\n\t\t}\n\n\t\treturn log;\n\t}\n\n\treturn {\n\t\t// eslint-disable-next-line no-console\n\t\terror: createLogHandler( console.error ),\n\t\t// eslint-disable-next-line no-console\n\t\twarning: createLogHandler( console.warn ),\n\t\tgetItems() {\n\t\t\treturn [];\n\t\t},\n\t};\n}\n\nexport function createQueuedLogger() {\n\t/**\n\t * The list of enqueued log actions to print.\n\t *\n\t * @type {Array}\n\t */\n\tconst queue = [];\n\n\tconst logger = createLogger();\n\n\treturn {\n\t\terror( ...args ) {\n\t\t\tqueue.push( { log: logger.error, args } );\n\t\t},\n\t\twarning( ...args ) {\n\t\t\tqueue.push( { log: logger.warning, args } );\n\t\t},\n\t\tgetItems() {\n\t\t\treturn queue;\n\t\t},\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { createContext, RawHTML } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { serialize } from '../api';\n\nconst { Consumer, Provider } = createContext( () => {} );\n\n/**\n * An internal block component used in block content serialization to inject\n * nested block content within the `save` implementation of the ancestor\n * component in which it is nested. The component provides a pre-bound\n * `BlockContent` component via context, which is used by the developer-facing\n * `InnerBlocks.Content` component to render block content.\n *\n * @example\n *\n * ```jsx\n * <BlockContentProvider innerBlocks={ innerBlocks }>\n * \t{ blockSaveElement }\n * </BlockContentProvider>\n * ```\n *\n * @return {WPComponent} Element with BlockContent injected via context.\n */\nconst BlockContentProvider = ( { children, innerBlocks } ) => {\n\tconst BlockContent = () => {\n\t\t// Value is an array of blocks, so defer to block serializer\n\t\tconst html = serialize( innerBlocks, { isInnerBlocks: true } );\n\n\t\t// Use special-cased raw HTML tag to avoid default escaping\n\t\treturn <RawHTML>{ html }</RawHTML>;\n\t};\n\n\treturn <Provider value={ BlockContent }>{ children }</Provider>;\n};\n\n/**\n * A Higher Order Component used to inject BlockContent using context to the\n * wrapped component.\n *\n * @return {WPComponent} Enhanced component with injected BlockContent as prop.\n */\nexport const withBlockContentContext = createHigherOrderComponent(\n\t( OriginalComponent ) => {\n\t\treturn ( props ) => (\n\t\t\t<Consumer>\n\t\t\t\t{ ( context ) => (\n\t\t\t\t\t<OriginalComponent { ...props } BlockContent={ context } />\n\t\t\t\t) }\n\t\t\t</Consumer>\n\t\t);\n\t},\n\t'withBlockContentContext'\n);\n\nexport default BlockContentProvider;\n","/**\n * External dependencies\n */\nimport { isEmpty, reduce, isObject, castArray, startsWith } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, cloneElement, renderToString } from '@wordpress/element';\nimport { hasFilter, applyFilters } from '@wordpress/hooks';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetBlockType,\n\tgetFreeformContentHandlerName,\n\tgetUnregisteredTypeHandlerName,\n} from './registration';\nimport { normalizeBlockType } from './utils';\nimport BlockContentProvider from '../block-content-provider';\n\n/**\n * @typedef {Object} WPBlockSerializationOptions Serialization Options.\n *\n * @property {boolean} isInnerBlocks Whether we are serializing inner blocks.\n */\n\n/**\n * Returns the block's default classname from its name.\n *\n * @param {string} blockName The block name.\n *\n * @return {string} The block's default class.\n */\nexport function getBlockDefaultClassName( blockName ) {\n\t// Generated HTML classes for blocks follow the `wp-block-{name}` nomenclature.\n\t// Blocks provided by WordPress drop the prefixes 'core/' or 'core-' (used in 'core-embed/').\n\tconst className =\n\t\t'wp-block-' + blockName.replace( /\\//, '-' ).replace( /^core-/, '' );\n\n\treturn applyFilters(\n\t\t'blocks.getBlockDefaultClassName',\n\t\tclassName,\n\t\tblockName\n\t);\n}\n\n/**\n * Returns the block's default menu item classname from its name.\n *\n * @param {string} blockName The block name.\n *\n * @return {string} The block's default menu item class.\n */\nexport function getBlockMenuDefaultClassName( blockName ) {\n\t// Generated HTML classes for blocks follow the `editor-block-list-item-{name}` nomenclature.\n\t// Blocks provided by WordPress drop the prefixes 'core/' or 'core-' (used in 'core-embed/').\n\tconst className =\n\t\t'editor-block-list-item-' +\n\t\tblockName.replace( /\\//, '-' ).replace( /^core-/, '' );\n\n\treturn applyFilters(\n\t\t'blocks.getBlockMenuDefaultClassName',\n\t\tclassName,\n\t\tblockName\n\t);\n}\n\n/**\n * Given a block type containing a save render implementation and attributes, returns the\n * enhanced element to be saved or string when raw HTML expected.\n *\n * @param {string|Object} blockTypeOrName   Block type or name.\n * @param {Object}        attributes        Block attributes.\n * @param {?Array}        innerBlocks       Nested blocks.\n *\n * @return {Object|string} Save element or raw HTML string.\n */\nexport function getSaveElement(\n\tblockTypeOrName,\n\tattributes,\n\tinnerBlocks = []\n) {\n\tconst blockType = normalizeBlockType( blockTypeOrName );\n\tlet { save } = blockType;\n\n\t// Component classes are unsupported for save since serialization must\n\t// occur synchronously. For improved interoperability with higher-order\n\t// components which often return component class, emulate basic support.\n\tif ( save.prototype instanceof Component ) {\n\t\tconst instance = new save( { attributes } );\n\t\tsave = instance.render.bind( instance );\n\t}\n\n\tlet element = save( { attributes, innerBlocks } );\n\n\tif (\n\t\tisObject( element ) &&\n\t\thasFilter( 'blocks.getSaveContent.extraProps' )\n\t) {\n\t\t/**\n\t\t * Filters the props applied to the block save result element.\n\t\t *\n\t\t * @param {Object}  props      Props applied to save element.\n\t\t * @param {WPBlock} blockType  Block type definition.\n\t\t * @param {Object}  attributes Block attributes.\n\t\t */\n\t\tconst props = applyFilters(\n\t\t\t'blocks.getSaveContent.extraProps',\n\t\t\t{ ...element.props },\n\t\t\tblockType,\n\t\t\tattributes\n\t\t);\n\n\t\tif ( ! isShallowEqual( props, element.props ) ) {\n\t\t\telement = cloneElement( element, props );\n\t\t}\n\t}\n\n\t/**\n\t * Filters the save result of a block during serialization.\n\t *\n\t * @param {WPElement} element    Block save result.\n\t * @param {WPBlock}   blockType  Block type definition.\n\t * @param {Object}    attributes Block attributes.\n\t */\n\telement = applyFilters(\n\t\t'blocks.getSaveElement',\n\t\telement,\n\t\tblockType,\n\t\tattributes\n\t);\n\n\treturn (\n\t\t<BlockContentProvider innerBlocks={ innerBlocks }>\n\t\t\t{ element }\n\t\t</BlockContentProvider>\n\t);\n}\n\n/**\n * Given a block type containing a save render implementation and attributes, returns the\n * static markup to be saved.\n *\n * @param {string|Object} blockTypeOrName Block type or name.\n * @param {Object}        attributes      Block attributes.\n * @param {?Array}        innerBlocks     Nested blocks.\n *\n * @return {string} Save content.\n */\nexport function getSaveContent( blockTypeOrName, attributes, innerBlocks ) {\n\tconst blockType = normalizeBlockType( blockTypeOrName );\n\n\treturn renderToString(\n\t\tgetSaveElement( blockType, attributes, innerBlocks )\n\t);\n}\n\n/**\n * Returns attributes which are to be saved and serialized into the block\n * comment delimiter.\n *\n * When a block exists in memory it contains as its attributes both those\n * parsed the block comment delimiter _and_ those which matched from the\n * contents of the block.\n *\n * This function returns only those attributes which are needed to persist and\n * which cannot be matched from the block content.\n *\n * @param {Object<string,*>} blockType     Block type.\n * @param {Object<string,*>} attributes Attributes from in-memory block data.\n *\n * @return {Object<string,*>} Subset of attributes for comment serialization.\n */\nexport function getCommentAttributes( blockType, attributes ) {\n\treturn reduce(\n\t\tblockType.attributes,\n\t\t( accumulator, attributeSchema, key ) => {\n\t\t\tconst value = attributes[ key ];\n\t\t\t// Ignore undefined values.\n\t\t\tif ( undefined === value ) {\n\t\t\t\treturn accumulator;\n\t\t\t}\n\n\t\t\t// Ignore all attributes but the ones with an \"undefined\" source\n\t\t\t// \"undefined\" source refers to attributes saved in the block comment.\n\t\t\tif ( attributeSchema.source !== undefined ) {\n\t\t\t\treturn accumulator;\n\t\t\t}\n\n\t\t\t// Ignore default value.\n\t\t\tif (\n\t\t\t\t'default' in attributeSchema &&\n\t\t\t\tattributeSchema.default === value\n\t\t\t) {\n\t\t\t\treturn accumulator;\n\t\t\t}\n\n\t\t\t// Otherwise, include in comment set.\n\t\t\taccumulator[ key ] = value;\n\t\t\treturn accumulator;\n\t\t},\n\t\t{}\n\t);\n}\n\n/**\n * Given an attributes object, returns a string in the serialized attributes\n * format prepared for post content.\n *\n * @param {Object} attributes Attributes object.\n *\n * @return {string} Serialized attributes.\n */\nexport function serializeAttributes( attributes ) {\n\treturn (\n\t\tJSON.stringify( attributes )\n\t\t\t// Don't break HTML comments.\n\t\t\t.replace( /--/g, '\\\\u002d\\\\u002d' )\n\n\t\t\t// Don't break non-standard-compliant tools.\n\t\t\t.replace( /</g, '\\\\u003c' )\n\t\t\t.replace( />/g, '\\\\u003e' )\n\t\t\t.replace( /&/g, '\\\\u0026' )\n\n\t\t\t// Bypass server stripslashes behavior which would unescape stringify's\n\t\t\t// escaping of quotation mark.\n\t\t\t//\n\t\t\t// See: https://developer.wordpress.org/reference/functions/wp_kses_stripslashes/\n\t\t\t.replace( /\\\\\"/g, '\\\\u0022' )\n\t);\n}\n\n/**\n * Given a block object, returns the Block's Inner HTML markup.\n *\n * @param {Object} block Block instance.\n *\n * @return {string} HTML.\n */\nexport function getBlockContent( block ) {\n\t// @todo why not getBlockInnerHtml?\n\n\t// If block was parsed as invalid or encounters an error while generating\n\t// save content, use original content instead to avoid content loss. If a\n\t// block contains nested content, exempt it from this condition because we\n\t// otherwise have no access to its original content and content loss would\n\t// still occur.\n\tlet saveContent = block.originalContent;\n\tif ( block.isValid || block.innerBlocks.length ) {\n\t\ttry {\n\t\t\tsaveContent = getSaveContent(\n\t\t\t\tblock.name,\n\t\t\t\tblock.attributes,\n\t\t\t\tblock.innerBlocks\n\t\t\t);\n\t\t} catch ( error ) {}\n\t}\n\n\treturn saveContent;\n}\n\n/**\n * Returns the content of a block, including comment delimiters.\n *\n * @param {string} rawBlockName Block name.\n * @param {Object} attributes   Block attributes.\n * @param {string} content      Block save content.\n *\n * @return {string} Comment-delimited block content.\n */\nexport function getCommentDelimitedContent(\n\trawBlockName,\n\tattributes,\n\tcontent\n) {\n\tconst serializedAttributes = ! isEmpty( attributes )\n\t\t? serializeAttributes( attributes ) + ' '\n\t\t: '';\n\n\t// Strip core blocks of their namespace prefix.\n\tconst blockName = startsWith( rawBlockName, 'core/' )\n\t\t? rawBlockName.slice( 5 )\n\t\t: rawBlockName;\n\n\t// @todo make the `wp:` prefix potentially configurable.\n\n\tif ( ! content ) {\n\t\treturn `<!-- wp:${ blockName } ${ serializedAttributes }/-->`;\n\t}\n\n\treturn (\n\t\t`<!-- wp:${ blockName } ${ serializedAttributes }-->\\n` +\n\t\tcontent +\n\t\t`\\n<!-- /wp:${ blockName } -->`\n\t);\n}\n\n/**\n * Returns the content of a block, including comment delimiters, determining\n * serialized attributes and content form from the current state of the block.\n *\n * @param {Object}                      block   Block instance.\n * @param {WPBlockSerializationOptions} options Serialization options.\n *\n * @return {string} Serialized block.\n */\nexport function serializeBlock( block, { isInnerBlocks = false } = {} ) {\n\tconst blockName = block.name;\n\tconst saveContent = getBlockContent( block );\n\n\tif (\n\t\tblockName === getUnregisteredTypeHandlerName() ||\n\t\t( ! isInnerBlocks && blockName === getFreeformContentHandlerName() )\n\t) {\n\t\treturn saveContent;\n\t}\n\n\tconst blockType = getBlockType( blockName );\n\tconst saveAttributes = getCommentAttributes( blockType, block.attributes );\n\treturn getCommentDelimitedContent( blockName, saveAttributes, saveContent );\n}\n\n/**\n * Takes a block or set of blocks and returns the serialized post content.\n *\n * @param {Array}                       blocks  Block(s) to serialize.\n * @param {WPBlockSerializationOptions} options Serialization options.\n *\n * @return {string} The post content.\n */\nexport default function serialize( blocks, options ) {\n\treturn castArray( blocks )\n\t\t.map( ( block ) => serializeBlock( block, options ) )\n\t\t.join( '\\n\\n' );\n}\n","/**\n * External dependencies\n */\nimport { Tokenizer } from 'simple-html-tokenizer';\nimport { identity, xor, fromPairs, isEqual, includes, stubTrue } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { createLogger, createQueuedLogger } from './logger';\nimport { getSaveContent } from '../serializer';\nimport { normalizeBlockType } from '../utils';\n\n/**\n * Globally matches any consecutive whitespace\n *\n * @type {RegExp}\n */\nconst REGEXP_WHITESPACE = /[\\t\\n\\r\\v\\f ]+/g;\n\n/**\n * Matches a string containing only whitespace\n *\n * @type {RegExp}\n */\nconst REGEXP_ONLY_WHITESPACE = /^[\\t\\n\\r\\v\\f ]*$/;\n\n/**\n * Matches a CSS URL type value\n *\n * @type {RegExp}\n */\nconst REGEXP_STYLE_URL_TYPE = /^url\\s*\\(['\"\\s]*(.*?)['\"\\s]*\\)$/;\n\n/**\n * Boolean attributes are attributes whose presence as being assigned is\n * meaningful, even if only empty.\n *\n * See: https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributes\n * Extracted from: https://html.spec.whatwg.org/multipage/indices.html#attributes-3\n *\n * Object.keys( Array.from( document.querySelectorAll( '#attributes-1 > tbody > tr' ) )\n *     .filter( ( tr ) => tr.lastChild.textContent.indexOf( 'Boolean attribute' ) !== -1 )\n *     .reduce( ( result, tr ) => Object.assign( result, {\n *         [ tr.firstChild.textContent.trim() ]: true\n *     } ), {} ) ).sort();\n *\n * @type {Array}\n */\nconst BOOLEAN_ATTRIBUTES = [\n\t'allowfullscreen',\n\t'allowpaymentrequest',\n\t'allowusermedia',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'download',\n\t'formnovalidate',\n\t'hidden',\n\t'ismap',\n\t'itemscope',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'selected',\n\t'typemustmatch',\n];\n\n/**\n * Enumerated attributes are attributes which must be of a specific value form.\n * Like boolean attributes, these are meaningful if specified, even if not of a\n * valid enumerated value.\n *\n * See: https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#enumerated-attribute\n * Extracted from: https://html.spec.whatwg.org/multipage/indices.html#attributes-3\n *\n * Object.keys( Array.from( document.querySelectorAll( '#attributes-1 > tbody > tr' ) )\n *     .filter( ( tr ) => /^(\"(.+?)\";?\\s*)+/.test( tr.lastChild.textContent.trim() ) )\n *     .reduce( ( result, tr ) => Object.assign( result, {\n *         [ tr.firstChild.textContent.trim() ]: true\n *     } ), {} ) ).sort();\n *\n * @type {Array}\n */\nconst ENUMERATED_ATTRIBUTES = [\n\t'autocapitalize',\n\t'autocomplete',\n\t'charset',\n\t'contenteditable',\n\t'crossorigin',\n\t'decoding',\n\t'dir',\n\t'draggable',\n\t'enctype',\n\t'formenctype',\n\t'formmethod',\n\t'http-equiv',\n\t'inputmode',\n\t'kind',\n\t'method',\n\t'preload',\n\t'scope',\n\t'shape',\n\t'spellcheck',\n\t'translate',\n\t'type',\n\t'wrap',\n];\n\n/**\n * Meaningful attributes are those who cannot be safely ignored when omitted in\n * one HTML markup string and not another.\n *\n * @type {Array}\n */\nconst MEANINGFUL_ATTRIBUTES = [\n\t...BOOLEAN_ATTRIBUTES,\n\t...ENUMERATED_ATTRIBUTES,\n];\n\n/**\n * Array of functions which receive a text string on which to apply normalizing\n * behavior for consideration in text token equivalence, carefully ordered from\n * least-to-most expensive operations.\n *\n * @type {Array}\n */\nconst TEXT_NORMALIZATIONS = [ identity, getTextWithCollapsedWhitespace ];\n\n/**\n * Regular expression matching a named character reference. In lieu of bundling\n * a full set of references, the pattern covers the minimal necessary to test\n * positively against the full set.\n *\n * \"The ampersand must be followed by one of the names given in the named\n * character references section, using the same case.\"\n *\n * Tested aginst \"12.5 Named character references\":\n *\n * ```\n * const references = Array.from( document.querySelectorAll(\n *     '#named-character-references-table tr[id^=entity-] td:first-child'\n * ) ).map( ( code ) => code.textContent )\n * references.every( ( reference ) => /^[\\da-z]+$/i.test( reference ) )\n * ```\n *\n * @see https://html.spec.whatwg.org/multipage/syntax.html#character-references\n * @see https://html.spec.whatwg.org/multipage/named-characters.html#named-character-references\n *\n * @type {RegExp}\n */\nconst REGEXP_NAMED_CHARACTER_REFERENCE = /^[\\da-z]+$/i;\n\n/**\n * Regular expression matching a decimal character reference.\n *\n * \"The ampersand must be followed by a U+0023 NUMBER SIGN character (#),\n * followed by one or more ASCII digits, representing a base-ten integer\"\n *\n * @see https://html.spec.whatwg.org/multipage/syntax.html#character-references\n *\n * @type {RegExp}\n */\nconst REGEXP_DECIMAL_CHARACTER_REFERENCE = /^#\\d+$/;\n\n/**\n * Regular expression matching a hexadecimal character reference.\n *\n * \"The ampersand must be followed by a U+0023 NUMBER SIGN character (#), which\n * must be followed by either a U+0078 LATIN SMALL LETTER X character (x) or a\n * U+0058 LATIN CAPITAL LETTER X character (X), which must then be followed by\n * one or more ASCII hex digits, representing a hexadecimal integer\"\n *\n * @see https://html.spec.whatwg.org/multipage/syntax.html#character-references\n *\n * @type {RegExp}\n */\nconst REGEXP_HEXADECIMAL_CHARACTER_REFERENCE = /^#x[\\da-f]+$/i;\n\n/**\n * Returns true if the given string is a valid character reference segment, or\n * false otherwise. The text should be stripped of `&` and `;` demarcations.\n *\n * @param {string} text Text to test.\n *\n * @return {boolean} Whether text is valid character reference.\n */\nexport function isValidCharacterReference( text ) {\n\treturn (\n\t\tREGEXP_NAMED_CHARACTER_REFERENCE.test( text ) ||\n\t\tREGEXP_DECIMAL_CHARACTER_REFERENCE.test( text ) ||\n\t\tREGEXP_HEXADECIMAL_CHARACTER_REFERENCE.test( text )\n\t);\n}\n\n/**\n * Subsitute EntityParser class for `simple-html-tokenizer` which uses the\n * implementation of `decodeEntities` from `html-entities`, in order to avoid\n * bundling a massive named character reference.\n *\n * @see https://github.com/tildeio/simple-html-tokenizer/tree/master/src/entity-parser.ts\n */\nexport class DecodeEntityParser {\n\t/**\n\t * Returns a substitute string for an entity string sequence between `&`\n\t * and `;`, or undefined if no substitution should occur.\n\t *\n\t * @param {string} entity Entity fragment discovered in HTML.\n\t *\n\t * @return {?string} Entity substitute value.\n\t */\n\tparse( entity ) {\n\t\tif ( isValidCharacterReference( entity ) ) {\n\t\t\treturn decodeEntities( '&' + entity + ';' );\n\t\t}\n\t}\n}\n\n/**\n * Given a specified string, returns an array of strings split by consecutive\n * whitespace, ignoring leading or trailing whitespace.\n *\n * @param {string} text Original text.\n *\n * @return {string[]} Text pieces split on whitespace.\n */\nexport function getTextPiecesSplitOnWhitespace( text ) {\n\treturn text.trim().split( REGEXP_WHITESPACE );\n}\n\n/**\n * Given a specified string, returns a new trimmed string where all consecutive\n * whitespace is collapsed to a single space.\n *\n * @param {string} text Original text.\n *\n * @return {string} Trimmed text with consecutive whitespace collapsed.\n */\nexport function getTextWithCollapsedWhitespace( text ) {\n\t// This is an overly simplified whitespace comparison. The specification is\n\t// more prescriptive of whitespace behavior in inline and block contexts.\n\t//\n\t// See: https://medium.com/@patrickbrosset/when-does-white-space-matter-in-html-b90e8a7cdd33\n\treturn getTextPiecesSplitOnWhitespace( text ).join( ' ' );\n}\n\n/**\n * Returns attribute pairs of the given StartTag token, including only pairs\n * where the value is non-empty or the attribute is a boolean attribute, an\n * enumerated attribute, or a custom data- attribute.\n *\n * @see MEANINGFUL_ATTRIBUTES\n *\n * @param {Object} token StartTag token.\n *\n * @return {Array[]} Attribute pairs.\n */\nexport function getMeaningfulAttributePairs( token ) {\n\treturn token.attributes.filter( ( pair ) => {\n\t\tconst [ key, value ] = pair;\n\t\treturn (\n\t\t\tvalue ||\n\t\t\tkey.indexOf( 'data-' ) === 0 ||\n\t\t\tincludes( MEANINGFUL_ATTRIBUTES, key )\n\t\t);\n\t} );\n}\n\n/**\n * Returns true if two text tokens (with `chars` property) are equivalent, or\n * false otherwise.\n *\n * @param {Object} actual   Actual token.\n * @param {Object} expected Expected token.\n * @param {Object} logger   Validation logger object.\n *\n * @return {boolean} Whether two text tokens are equivalent.\n */\nexport function isEquivalentTextTokens(\n\tactual,\n\texpected,\n\tlogger = createLogger()\n) {\n\t// This function is intentionally written as syntactically \"ugly\" as a hot\n\t// path optimization. Text is progressively normalized in order from least-\n\t// to-most operationally expensive, until the earliest point at which text\n\t// can be confidently inferred as being equal.\n\tlet actualChars = actual.chars;\n\tlet expectedChars = expected.chars;\n\n\tfor ( let i = 0; i < TEXT_NORMALIZATIONS.length; i++ ) {\n\t\tconst normalize = TEXT_NORMALIZATIONS[ i ];\n\n\t\tactualChars = normalize( actualChars );\n\t\texpectedChars = normalize( expectedChars );\n\n\t\tif ( actualChars === expectedChars ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tlogger.warning(\n\t\t'Expected text `%s`, saw `%s`.',\n\t\texpected.chars,\n\t\tactual.chars\n\t);\n\n\treturn false;\n}\n\n/**\n * Given a style value, returns a normalized style value for strict equality\n * comparison.\n *\n * @param {string} value Style value.\n *\n * @return {string} Normalized style value.\n */\nexport function getNormalizedStyleValue( value ) {\n\treturn (\n\t\tvalue\n\t\t\t// Normalize URL type to omit whitespace or quotes\n\t\t\t.replace( REGEXP_STYLE_URL_TYPE, 'url($1)' )\n\t);\n}\n\n/**\n * Given a style attribute string, returns an object of style properties.\n *\n * @param {string} text Style attribute.\n *\n * @return {Object} Style properties.\n */\nexport function getStyleProperties( text ) {\n\tconst pairs = text\n\t\t// Trim ending semicolon (avoid including in split)\n\t\t.replace( /;?\\s*$/, '' )\n\t\t// Split on property assignment\n\t\t.split( ';' )\n\t\t// For each property assignment...\n\t\t.map( ( style ) => {\n\t\t\t// ...split further into key-value pairs\n\t\t\tconst [ key, ...valueParts ] = style.split( ':' );\n\t\t\tconst value = valueParts.join( ':' );\n\n\t\t\treturn [ key.trim(), getNormalizedStyleValue( value.trim() ) ];\n\t\t} );\n\n\treturn fromPairs( pairs );\n}\n\n/**\n * Attribute-specific equality handlers\n *\n * @type {Object}\n */\nexport const isEqualAttributesOfName = {\n\tclass: ( actual, expected ) => {\n\t\t// Class matches if members are the same, even if out of order or\n\t\t// superfluous whitespace between.\n\t\treturn ! xor(\n\t\t\t...[ actual, expected ].map( getTextPiecesSplitOnWhitespace )\n\t\t).length;\n\t},\n\tstyle: ( actual, expected ) => {\n\t\treturn isEqual( ...[ actual, expected ].map( getStyleProperties ) );\n\t},\n\t// For each boolean attribute, mere presence of attribute in both is enough\n\t// to assume equivalence.\n\t...fromPairs(\n\t\tBOOLEAN_ATTRIBUTES.map( ( attribute ) => [ attribute, stubTrue ] )\n\t),\n};\n\n/**\n * Given two sets of attribute tuples, returns true if the attribute sets are\n * equivalent.\n *\n * @param {Array[]} actual   Actual attributes tuples.\n * @param {Array[]} expected Expected attributes tuples.\n * @param {Object}  logger   Validation logger object.\n *\n * @return {boolean} Whether attributes are equivalent.\n */\nexport function isEqualTagAttributePairs(\n\tactual,\n\texpected,\n\tlogger = createLogger()\n) {\n\t// Attributes is tokenized as tuples. Their lengths should match. This also\n\t// avoids us needing to check both attributes sets, since if A has any keys\n\t// which do not exist in B, we know the sets to be different.\n\tif ( actual.length !== expected.length ) {\n\t\tlogger.warning(\n\t\t\t'Expected attributes %o, instead saw %o.',\n\t\t\texpected,\n\t\t\tactual\n\t\t);\n\t\treturn false;\n\t}\n\n\t// Attributes are not guaranteed to occur in the same order. For validating\n\t// actual attributes, first convert the set of expected attribute values to\n\t// an object, for lookup by key.\n\tconst expectedAttributes = {};\n\tfor ( let i = 0; i < expected.length; i++ ) {\n\t\texpectedAttributes[ expected[ i ][ 0 ].toLowerCase() ] =\n\t\t\texpected[ i ][ 1 ];\n\t}\n\n\tfor ( let i = 0; i < actual.length; i++ ) {\n\t\tconst [ name, actualValue ] = actual[ i ];\n\t\tconst nameLower = name.toLowerCase();\n\n\t\t// As noted above, if missing member in B, assume different\n\t\tif ( ! expectedAttributes.hasOwnProperty( nameLower ) ) {\n\t\t\tlogger.warning( 'Encountered unexpected attribute `%s`.', name );\n\t\t\treturn false;\n\t\t}\n\n\t\tconst expectedValue = expectedAttributes[ nameLower ];\n\t\tconst isEqualAttributes = isEqualAttributesOfName[ nameLower ];\n\n\t\tif ( isEqualAttributes ) {\n\t\t\t// Defer custom attribute equality handling\n\t\t\tif ( ! isEqualAttributes( actualValue, expectedValue ) ) {\n\t\t\t\tlogger.warning(\n\t\t\t\t\t'Expected attribute `%s` of value `%s`, saw `%s`.',\n\t\t\t\t\tname,\n\t\t\t\t\texpectedValue,\n\t\t\t\t\tactualValue\n\t\t\t\t);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if ( actualValue !== expectedValue ) {\n\t\t\t// Otherwise strict inequality should bail\n\t\t\tlogger.warning(\n\t\t\t\t'Expected attribute `%s` of value `%s`, saw `%s`.',\n\t\t\t\tname,\n\t\t\t\texpectedValue,\n\t\t\t\tactualValue\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/**\n * Token-type-specific equality handlers\n *\n * @type {Object}\n */\nexport const isEqualTokensOfType = {\n\tStartTag: ( actual, expected, logger = createLogger() ) => {\n\t\tif (\n\t\t\tactual.tagName !== expected.tagName &&\n\t\t\t// Optimization: Use short-circuit evaluation to defer case-\n\t\t\t// insensitive check on the assumption that the majority case will\n\t\t\t// have exactly equal tag names.\n\t\t\tactual.tagName.toLowerCase() !== expected.tagName.toLowerCase()\n\t\t) {\n\t\t\tlogger.warning(\n\t\t\t\t'Expected tag name `%s`, instead saw `%s`.',\n\t\t\t\texpected.tagName,\n\t\t\t\tactual.tagName\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn isEqualTagAttributePairs(\n\t\t\t...[ actual, expected ].map( getMeaningfulAttributePairs ),\n\t\t\tlogger\n\t\t);\n\t},\n\tChars: isEquivalentTextTokens,\n\tComment: isEquivalentTextTokens,\n};\n\n/**\n * Given an array of tokens, returns the first token which is not purely\n * whitespace.\n *\n * Mutates the tokens array.\n *\n * @param {Object[]} tokens Set of tokens to search.\n *\n * @return {Object} Next non-whitespace token.\n */\nexport function getNextNonWhitespaceToken( tokens ) {\n\tlet token;\n\twhile ( ( token = tokens.shift() ) ) {\n\t\tif ( token.type !== 'Chars' ) {\n\t\t\treturn token;\n\t\t}\n\n\t\tif ( ! REGEXP_ONLY_WHITESPACE.test( token.chars ) ) {\n\t\t\treturn token;\n\t\t}\n\t}\n}\n\n/**\n * Tokenize an HTML string, gracefully handling any errors thrown during\n * underlying tokenization.\n *\n * @param {string} html   HTML string to tokenize.\n * @param {Object} logger Validation logger object.\n *\n * @return {Object[]|null} Array of valid tokenized HTML elements, or null on error\n */\nfunction getHTMLTokens( html, logger = createLogger() ) {\n\ttry {\n\t\treturn new Tokenizer( new DecodeEntityParser() ).tokenize( html );\n\t} catch ( e ) {\n\t\tlogger.warning( 'Malformed HTML detected: %s', html );\n\t}\n\n\treturn null;\n}\n\n/**\n * Returns true if the next HTML token closes the current token.\n *\n * @param {Object} currentToken Current token to compare with.\n * @param {Object|undefined} nextToken Next token to compare against.\n *\n * @return {boolean} true if `nextToken` closes `currentToken`, false otherwise\n */\nexport function isClosedByToken( currentToken, nextToken ) {\n\t// Ensure this is a self closed token\n\tif ( ! currentToken.selfClosing ) {\n\t\treturn false;\n\t}\n\n\t// Check token names and determine if nextToken is the closing tag for currentToken\n\tif (\n\t\tnextToken &&\n\t\tnextToken.tagName === currentToken.tagName &&\n\t\tnextToken.type === 'EndTag'\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\n/**\n * Returns true if the given HTML strings are effectively equivalent, or\n * false otherwise. Invalid HTML is not considered equivalent, even if the\n * strings directly match.\n *\n * @param {string} actual   Actual HTML string.\n * @param {string} expected Expected HTML string.\n * @param {Object} logger   Validation logger object.\n *\n * @return {boolean} Whether HTML strings are equivalent.\n */\nexport function isEquivalentHTML( actual, expected, logger = createLogger() ) {\n\t// Tokenize input content and reserialized save content\n\tconst [ actualTokens, expectedTokens ] = [\n\t\tactual,\n\t\texpected,\n\t].map( ( html ) => getHTMLTokens( html, logger ) );\n\n\t// If either is malformed then stop comparing - the strings are not equivalent\n\tif ( ! actualTokens || ! expectedTokens ) {\n\t\treturn false;\n\t}\n\n\tlet actualToken, expectedToken;\n\twhile ( ( actualToken = getNextNonWhitespaceToken( actualTokens ) ) ) {\n\t\texpectedToken = getNextNonWhitespaceToken( expectedTokens );\n\n\t\t// Inequal if exhausted all expected tokens\n\t\tif ( ! expectedToken ) {\n\t\t\tlogger.warning(\n\t\t\t\t'Expected end of content, instead saw %o.',\n\t\t\t\tactualToken\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\t// Inequal if next non-whitespace token of each set are not same type\n\t\tif ( actualToken.type !== expectedToken.type ) {\n\t\t\tlogger.warning(\n\t\t\t\t'Expected token of type `%s` (%o), instead saw `%s` (%o).',\n\t\t\t\texpectedToken.type,\n\t\t\t\texpectedToken,\n\t\t\t\tactualToken.type,\n\t\t\t\tactualToken\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\t// Defer custom token type equality handling, otherwise continue and\n\t\t// assume as equal\n\t\tconst isEqualTokens = isEqualTokensOfType[ actualToken.type ];\n\t\tif (\n\t\t\tisEqualTokens &&\n\t\t\t! isEqualTokens( actualToken, expectedToken, logger )\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Peek at the next tokens (actual and expected) to see if they close\n\t\t// a self-closing tag\n\t\tif ( isClosedByToken( actualToken, expectedTokens[ 0 ] ) ) {\n\t\t\t// Consume the next expected token that closes the current actual\n\t\t\t// self-closing token\n\t\t\tgetNextNonWhitespaceToken( expectedTokens );\n\t\t} else if ( isClosedByToken( expectedToken, actualTokens[ 0 ] ) ) {\n\t\t\t// Consume the next actual token that closes the current expected\n\t\t\t// self-closing token\n\t\t\tgetNextNonWhitespaceToken( actualTokens );\n\t\t}\n\t}\n\n\tif ( ( expectedToken = getNextNonWhitespaceToken( expectedTokens ) ) ) {\n\t\t// If any non-whitespace tokens remain in expected token set, this\n\t\t// indicates inequality\n\t\tlogger.warning(\n\t\t\t'Expected %o, instead saw end of content.',\n\t\t\texpectedToken\n\t\t);\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns an object with `isValid` property set to `true` if the parsed block\n * is valid given the input content. A block is considered valid if, when serialized\n * with assumed attributes, the content matches the original value. If block is\n * invalid, this function returns all validations issues as well.\n *\n * @param {string|Object} blockTypeOrName      Block type.\n * @param {Object}        attributes           Parsed block attributes.\n * @param {string}        originalBlockContent Original block content.\n * @param {Object}        logger           \t   Validation logger object.\n *\n * @return {Object} Whether block is valid and contains validation messages.\n */\nexport function getBlockContentValidationResult(\n\tblockTypeOrName,\n\tattributes,\n\toriginalBlockContent,\n\tlogger = createQueuedLogger()\n) {\n\tconst blockType = normalizeBlockType( blockTypeOrName );\n\tlet generatedBlockContent;\n\ttry {\n\t\tgeneratedBlockContent = getSaveContent( blockType, attributes );\n\t} catch ( error ) {\n\t\tlogger.error(\n\t\t\t'Block validation failed because an error occurred while generating block content:\\n\\n%s',\n\t\t\terror.toString()\n\t\t);\n\n\t\treturn {\n\t\t\tisValid: false,\n\t\t\tvalidationIssues: logger.getItems(),\n\t\t};\n\t}\n\n\tconst isValid = isEquivalentHTML(\n\t\toriginalBlockContent,\n\t\tgeneratedBlockContent,\n\t\tlogger\n\t);\n\tif ( ! isValid ) {\n\t\tlogger.error(\n\t\t\t'Block validation failed for `%s` (%o).\\n\\nContent generated by `save` function:\\n\\n%s\\n\\nContent retrieved from post body:\\n\\n%s',\n\t\t\tblockType.name,\n\t\t\tblockType,\n\t\t\tgeneratedBlockContent,\n\t\t\toriginalBlockContent\n\t\t);\n\t}\n\n\treturn {\n\t\tisValid,\n\t\tvalidationIssues: logger.getItems(),\n\t};\n}\n\n/**\n * Returns true if the parsed block is valid given the input content. A block\n * is considered valid if, when serialized with assumed attributes, the content\n * matches the original value.\n *\n * Logs to console in development environments when invalid.\n *\n * @param {string|Object} blockTypeOrName      Block type.\n * @param {Object}        attributes           Parsed block attributes.\n * @param {string}        originalBlockContent Original block content.\n *\n * @return {boolean} Whether block is valid.\n */\nexport function isValidBlockContent(\n\tblockTypeOrName,\n\tattributes,\n\toriginalBlockContent\n) {\n\tconst { isValid } = getBlockContentValidationResult(\n\t\tblockTypeOrName,\n\t\tattributes,\n\t\toriginalBlockContent,\n\t\tcreateLogger()\n\t);\n\n\treturn isValid;\n}\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { renderToString } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport * as node from './node';\n\n/**\n * A representation of a block's rich text value.\n *\n * @typedef {WPBlockNode[]} WPBlockChildren\n */\n\n/**\n * Given block children, returns a serialize-capable WordPress element.\n *\n * @param {WPBlockChildren} children Block children object to convert.\n *\n * @return {WPElement} A serialize-capable element.\n */\nexport function getSerializeCapableElement( children ) {\n\t// The fact that block children are compatible with the element serializer is\n\t// merely an implementation detail that currently serves to be true, but\n\t// should not be mistaken as being a guarantee on the external API. The\n\t// public API only offers guarantees to work with strings (toHTML) and DOM\n\t// elements (fromDOM), and should provide utilities to manipulate the value\n\t// rather than expect consumers to inspect or construct its shape (concat).\n\treturn children;\n}\n\n/**\n * Given block children, returns an array of block nodes.\n *\n * @param {WPBlockChildren} children Block children object to convert.\n *\n * @return {Array<WPBlockNode>} An array of individual block nodes.\n */\nfunction getChildrenArray( children ) {\n\t// The fact that block children are compatible with the element serializer\n\t// is merely an implementation detail that currently serves to be true, but\n\t// should not be mistaken as being a guarantee on the external API.\n\treturn children;\n}\n\n/**\n * Given two or more block nodes, returns a new block node representing a\n * concatenation of its values.\n *\n * @param {...WPBlockChildren} blockNodes Block nodes to concatenate.\n *\n * @return {WPBlockChildren} Concatenated block node.\n */\nexport function concat( ...blockNodes ) {\n\tconst result = [];\n\tfor ( let i = 0; i < blockNodes.length; i++ ) {\n\t\tconst blockNode = castArray( blockNodes[ i ] );\n\t\tfor ( let j = 0; j < blockNode.length; j++ ) {\n\t\t\tconst child = blockNode[ j ];\n\t\t\tconst canConcatToPreviousString =\n\t\t\t\ttypeof child === 'string' &&\n\t\t\t\ttypeof result[ result.length - 1 ] === 'string';\n\n\t\t\tif ( canConcatToPreviousString ) {\n\t\t\t\tresult[ result.length - 1 ] += child;\n\t\t\t} else {\n\t\t\t\tresult.push( child );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n\n/**\n * Given an iterable set of DOM nodes, returns equivalent block children.\n * Ignores any non-element/text nodes included in set.\n *\n * @param {Iterable.<Node>} domNodes Iterable set of DOM nodes to convert.\n *\n * @return {WPBlockChildren} Block children equivalent to DOM nodes.\n */\nexport function fromDOM( domNodes ) {\n\tconst result = [];\n\tfor ( let i = 0; i < domNodes.length; i++ ) {\n\t\ttry {\n\t\t\tresult.push( node.fromDOM( domNodes[ i ] ) );\n\t\t} catch ( error ) {\n\t\t\t// Simply ignore if DOM node could not be converted.\n\t\t}\n\t}\n\n\treturn result;\n}\n\n/**\n * Given a block node, returns its HTML string representation.\n *\n * @param {WPBlockChildren} children Block node(s) to convert to string.\n *\n * @return {string} String HTML representation of block node.\n */\nexport function toHTML( children ) {\n\tconst element = getSerializeCapableElement( children );\n\n\treturn renderToString( element );\n}\n\n/**\n * Given a selector, returns an hpq matcher generating a WPBlockChildren value\n * matching the selector result.\n *\n * @param {string} selector DOM selector.\n *\n * @return {Function} hpq matcher.\n */\nexport function matcher( selector ) {\n\treturn ( domNode ) => {\n\t\tlet match = domNode;\n\n\t\tif ( selector ) {\n\t\t\tmatch = domNode.querySelector( selector );\n\t\t}\n\n\t\tif ( match ) {\n\t\t\treturn fromDOM( match.childNodes );\n\t\t}\n\n\t\treturn [];\n\t};\n}\n\n/**\n * Object of utility functions used in managing block attribute values of\n * source `children`.\n *\n * @see https://github.com/WordPress/gutenberg/pull/10439\n *\n * @deprecated since 4.0. The `children` source should not be used, and can be\n *             replaced by the `html` source.\n *\n * @private\n */\nexport default {\n\tconcat,\n\tgetChildrenArray,\n\tfromDOM,\n\ttoHTML,\n\tmatcher,\n};\n","/**\n * Internal dependencies\n */\nimport * as children from './children';\n\n/**\n * Browser dependencies\n */\nconst { TEXT_NODE, ELEMENT_NODE } = window.Node;\n\n/**\n * A representation of a single node within a block's rich text value. If\n * representing a text node, the value is simply a string of the node value.\n * As representing an element node, it is an object of:\n *\n * 1. `type` (string): Tag name.\n * 2. `props` (object): Attributes and children array of WPBlockNode.\n *\n * @typedef {string|Object} WPBlockNode\n */\n\n/**\n * Given a single node and a node type (e.g. `'br'`), returns true if the node\n * corresponds to that type, false otherwise.\n *\n * @param {WPBlockNode} node Block node to test\n * @param {string} type      Node to type to test against.\n *\n * @return {boolean} Whether node is of intended type.\n */\nfunction isNodeOfType( node, type ) {\n\treturn node && node.type === type;\n}\n\n/**\n * Given an object implementing the NamedNodeMap interface, returns a plain\n * object equivalent value of name, value key-value pairs.\n *\n * @see https://dom.spec.whatwg.org/#interface-namednodemap\n *\n * @param {NamedNodeMap} nodeMap NamedNodeMap to convert to object.\n *\n * @return {Object} Object equivalent value of NamedNodeMap.\n */\nexport function getNamedNodeMapAsObject( nodeMap ) {\n\tconst result = {};\n\tfor ( let i = 0; i < nodeMap.length; i++ ) {\n\t\tconst { name, value } = nodeMap[ i ];\n\t\tresult[ name ] = value;\n\t}\n\n\treturn result;\n}\n\n/**\n * Given a DOM Element or Text node, returns an equivalent block node. Throws\n * if passed any node type other than element or text.\n *\n * @throws {TypeError} If non-element/text node is passed.\n *\n * @param {Node} domNode DOM node to convert.\n *\n * @return {WPBlockNode} Block node equivalent to DOM node.\n */\nexport function fromDOM( domNode ) {\n\tif ( domNode.nodeType === TEXT_NODE ) {\n\t\treturn domNode.nodeValue;\n\t}\n\n\tif ( domNode.nodeType !== ELEMENT_NODE ) {\n\t\tthrow new TypeError(\n\t\t\t'A block node can only be created from a node of type text or ' +\n\t\t\t\t'element.'\n\t\t);\n\t}\n\n\treturn {\n\t\ttype: domNode.nodeName.toLowerCase(),\n\t\tprops: {\n\t\t\t...getNamedNodeMapAsObject( domNode.attributes ),\n\t\t\tchildren: children.fromDOM( domNode.childNodes ),\n\t\t},\n\t};\n}\n\n/**\n * Given a block node, returns its HTML string representation.\n *\n * @param {WPBlockNode} node Block node to convert to string.\n *\n * @return {string} String HTML representation of block node.\n */\nexport function toHTML( node ) {\n\treturn children.toHTML( [ node ] );\n}\n\n/**\n * Given a selector, returns an hpq matcher generating a WPBlockNode value\n * matching the selector result.\n *\n * @param {string} selector DOM selector.\n *\n * @return {Function} hpq matcher.\n */\nexport function matcher( selector ) {\n\treturn ( domNode ) => {\n\t\tlet match = domNode;\n\n\t\tif ( selector ) {\n\t\t\tmatch = domNode.querySelector( selector );\n\t\t}\n\n\t\ttry {\n\t\t\treturn fromDOM( match );\n\t\t} catch ( error ) {\n\t\t\treturn null;\n\t\t}\n\t};\n}\n\n/**\n * Object of utility functions used in managing block attribute values of\n * source `node`.\n *\n * @see https://github.com/WordPress/gutenberg/pull/10439\n *\n * @deprecated since 4.0. The `node` source should not be used, and can be\n *             replaced by the `html` source.\n *\n * @private\n */\nexport default {\n\tisNodeOfType,\n\tfromDOM,\n\ttoHTML,\n\tmatcher,\n};\n","/**\n * External dependencies\n */\nimport { parse as hpqParse } from 'hpq';\nimport { flow, get, castArray, mapValues, omit, stubFalse } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { autop } from '@wordpress/autop';\nimport { applyFilters } from '@wordpress/hooks';\nimport { parse as defaultParse } from '@wordpress/block-serialization-default-parser';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetBlockType,\n\tgetFreeformContentHandlerName,\n\tgetUnregisteredTypeHandlerName,\n} from './registration';\nimport { createBlock } from './factory';\nimport { getBlockContentValidationResult } from './validation';\nimport { getCommentDelimitedContent, getSaveContent } from './serializer';\nimport { attr, html, text, query, node, children, prop } from './matchers';\nimport { normalizeBlockType } from './utils';\nimport { DEPRECATED_ENTRY_KEYS } from './constants';\n\n/**\n * Sources which are guaranteed to return a string value.\n *\n * @type {Set}\n */\nconst STRING_SOURCES = new Set( [ 'attribute', 'html', 'text', 'tag' ] );\n\n/**\n * Higher-order hpq matcher which enhances an attribute matcher to return true\n * or false depending on whether the original matcher returns undefined. This\n * is useful for boolean attributes (e.g. disabled) whose attribute values may\n * be technically falsey (empty string), though their mere presence should be\n * enough to infer as true.\n *\n * @param {Function} matcher Original hpq matcher.\n *\n * @return {Function} Enhanced hpq matcher.\n */\nexport const toBooleanAttributeMatcher = ( matcher ) =>\n\tflow( [\n\t\tmatcher,\n\t\t// Expected values from `attr( 'disabled' )`:\n\t\t//\n\t\t// <input>\n\t\t// - Value:       `undefined`\n\t\t// - Transformed: `false`\n\t\t//\n\t\t// <input disabled>\n\t\t// - Value:       `''`\n\t\t// - Transformed: `true`\n\t\t//\n\t\t// <input disabled=\"disabled\">\n\t\t// - Value:       `'disabled'`\n\t\t// - Transformed: `true`\n\t\t( value ) => value !== undefined,\n\t] );\n\n/**\n * Returns true if value is of the given JSON schema type, or false otherwise.\n *\n * @see http://json-schema.org/latest/json-schema-validation.html#rfc.section.6.25\n *\n * @param {*}      value Value to test.\n * @param {string} type  Type to test.\n *\n * @return {boolean} Whether value is of type.\n */\nexport function isOfType( value, type ) {\n\tswitch ( type ) {\n\t\tcase 'string':\n\t\t\treturn typeof value === 'string';\n\n\t\tcase 'boolean':\n\t\t\treturn typeof value === 'boolean';\n\n\t\tcase 'object':\n\t\t\treturn !! value && value.constructor === Object;\n\n\t\tcase 'null':\n\t\t\treturn value === null;\n\n\t\tcase 'array':\n\t\t\treturn Array.isArray( value );\n\n\t\tcase 'integer':\n\t\tcase 'number':\n\t\t\treturn typeof value === 'number';\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns true if value is of an array of given JSON schema types, or false\n * otherwise.\n *\n * @see http://json-schema.org/latest/json-schema-validation.html#rfc.section.6.25\n *\n * @param {*}        value Value to test.\n * @param {string[]} types Types to test.\n *\n * @return {boolean} Whether value is of types.\n */\nexport function isOfTypes( value, types ) {\n\treturn types.some( ( type ) => isOfType( value, type ) );\n}\n\n/**\n * Returns true if value is valid per the given block attribute schema type\n * definition, or false otherwise.\n *\n * @see https://json-schema.org/latest/json-schema-validation.html#rfc.section.6.1.1\n *\n * @param {*}                       value Value to test.\n * @param {?(Array<string>|string)} type  Block attribute schema type.\n *\n * @return {boolean} Whether value is valid.\n */\nexport function isValidByType( value, type ) {\n\treturn type === undefined || isOfTypes( value, castArray( type ) );\n}\n\n/**\n * Returns true if value is valid per the given block attribute schema enum\n * definition, or false otherwise.\n *\n * @see https://json-schema.org/latest/json-schema-validation.html#rfc.section.6.1.2\n *\n * @param {*}      value   Value to test.\n * @param {?Array} enumSet Block attribute schema enum.\n *\n * @return {boolean} Whether value is valid.\n */\nexport function isValidByEnum( value, enumSet ) {\n\treturn ! Array.isArray( enumSet ) || enumSet.includes( value );\n}\n\n/**\n * Returns true if the given attribute schema describes a value which may be\n * an ambiguous string.\n *\n * Some sources are ambiguously serialized as strings, for which value casting\n * is enabled. This is only possible when a singular type is assigned to the\n * attribute schema, since the string ambiguity makes it impossible to know the\n * correct type of multiple to which to cast.\n *\n * @param {Object} attributeSchema Attribute's schema.\n *\n * @return {boolean} Whether attribute schema defines an ambiguous string\n *                   source.\n */\nexport function isAmbiguousStringSource( attributeSchema ) {\n\tconst { source, type } = attributeSchema;\n\n\tconst isStringSource = STRING_SOURCES.has( source );\n\tconst isSingleType = typeof type === 'string';\n\n\treturn isStringSource && isSingleType;\n}\n\n/**\n * Returns an hpq matcher given a source object.\n *\n * @param {Object} sourceConfig Attribute Source object.\n *\n * @return {Function} A hpq Matcher.\n */\nexport function matcherFromSource( sourceConfig ) {\n\tswitch ( sourceConfig.source ) {\n\t\tcase 'attribute':\n\t\t\tlet matcher = attr( sourceConfig.selector, sourceConfig.attribute );\n\t\t\tif ( sourceConfig.type === 'boolean' ) {\n\t\t\t\tmatcher = toBooleanAttributeMatcher( matcher );\n\t\t\t}\n\n\t\t\treturn matcher;\n\t\tcase 'html':\n\t\t\treturn html( sourceConfig.selector, sourceConfig.multiline );\n\t\tcase 'text':\n\t\t\treturn text( sourceConfig.selector );\n\t\tcase 'children':\n\t\t\treturn children( sourceConfig.selector );\n\t\tcase 'node':\n\t\t\treturn node( sourceConfig.selector );\n\t\tcase 'query':\n\t\t\tconst subMatchers = mapValues(\n\t\t\t\tsourceConfig.query,\n\t\t\t\tmatcherFromSource\n\t\t\t);\n\t\t\treturn query( sourceConfig.selector, subMatchers );\n\t\tcase 'tag':\n\t\t\treturn flow( [\n\t\t\t\tprop( sourceConfig.selector, 'nodeName' ),\n\t\t\t\t( nodeName ) =>\n\t\t\t\t\tnodeName ? nodeName.toLowerCase() : undefined,\n\t\t\t] );\n\t\tdefault:\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error( `Unknown source type \"${ sourceConfig.source }\"` );\n\t}\n}\n\n/**\n * Given a block's raw content and an attribute's schema returns the attribute's\n * value depending on its source.\n *\n * @param {string} innerHTML         Block's raw content.\n * @param {Object} attributeSchema   Attribute's schema.\n *\n * @return {*} Attribute value.\n */\nexport function parseWithAttributeSchema( innerHTML, attributeSchema ) {\n\treturn hpqParse( innerHTML, matcherFromSource( attributeSchema ) );\n}\n\n/**\n * Given an attribute key, an attribute's schema, a block's raw content and the\n * commentAttributes returns the attribute value depending on its source\n * definition of the given attribute key.\n *\n * @param {string} attributeKey      Attribute key.\n * @param {Object} attributeSchema   Attribute's schema.\n * @param {string} innerHTML         Block's raw content.\n * @param {Object} commentAttributes Block's comment attributes.\n *\n * @return {*} Attribute value.\n */\nexport function getBlockAttribute(\n\tattributeKey,\n\tattributeSchema,\n\tinnerHTML,\n\tcommentAttributes\n) {\n\tconst { type, enum: enumSet } = attributeSchema;\n\tlet value;\n\n\tswitch ( attributeSchema.source ) {\n\t\t// undefined source means that it's an attribute serialized to the block's \"comment\"\n\t\tcase undefined:\n\t\t\tvalue = commentAttributes\n\t\t\t\t? commentAttributes[ attributeKey ]\n\t\t\t\t: undefined;\n\t\t\tbreak;\n\t\tcase 'attribute':\n\t\tcase 'property':\n\t\tcase 'html':\n\t\tcase 'text':\n\t\tcase 'children':\n\t\tcase 'node':\n\t\tcase 'query':\n\t\tcase 'tag':\n\t\t\tvalue = parseWithAttributeSchema( innerHTML, attributeSchema );\n\t\t\tbreak;\n\t}\n\n\tif ( ! isValidByType( value, type ) || ! isValidByEnum( value, enumSet ) ) {\n\t\t// Reject the value if it is not valid. Reverting to the undefined\n\t\t// value ensures the default is respected, if applicable.\n\t\tvalue = undefined;\n\t}\n\n\tif ( value === undefined ) {\n\t\treturn attributeSchema.default;\n\t}\n\n\treturn value;\n}\n\n/**\n * Returns the block attributes of a registered block node given its type.\n *\n * @param {string|Object} blockTypeOrName Block type or name.\n * @param {string}        innerHTML       Raw block content.\n * @param {?Object}       attributes      Known block attributes (from delimiters).\n *\n * @return {Object} All block attributes.\n */\nexport function getBlockAttributes(\n\tblockTypeOrName,\n\tinnerHTML,\n\tattributes = {}\n) {\n\tconst blockType = normalizeBlockType( blockTypeOrName );\n\tconst blockAttributes = mapValues(\n\t\tblockType.attributes,\n\t\t( attributeSchema, attributeKey ) => {\n\t\t\treturn getBlockAttribute(\n\t\t\t\tattributeKey,\n\t\t\t\tattributeSchema,\n\t\t\t\tinnerHTML,\n\t\t\t\tattributes\n\t\t\t);\n\t\t}\n\t);\n\n\treturn applyFilters(\n\t\t'blocks.getBlockAttributes',\n\t\tblockAttributes,\n\t\tblockType,\n\t\tinnerHTML,\n\t\tattributes\n\t);\n}\n\n/**\n * Given a block object, returns a new copy of the block with any applicable\n * deprecated migrations applied, or the original block if it was both valid\n * and no eligible migrations exist.\n *\n * @param {WPBlock} block            Original block object.\n * @param {Object}  parsedAttributes Attributes as parsed from the initial\n *                                   block markup.\n *\n * @return {WPBlock} Migrated block object.\n */\nexport function getMigratedBlock( block, parsedAttributes ) {\n\tconst blockType = getBlockType( block.name );\n\n\tconst { deprecated: deprecatedDefinitions } = blockType;\n\tif ( ! deprecatedDefinitions || ! deprecatedDefinitions.length ) {\n\t\treturn block;\n\t}\n\n\tconst { originalContent, innerBlocks } = block;\n\n\tfor ( let i = 0; i < deprecatedDefinitions.length; i++ ) {\n\t\t// A block can opt into a migration even if the block is valid by\n\t\t// defining isEligible on its deprecation. If the block is both valid\n\t\t// and does not opt to migrate, skip.\n\t\tconst { isEligible = stubFalse } = deprecatedDefinitions[ i ];\n\t\tif ( block.isValid && ! isEligible( parsedAttributes, innerBlocks ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Block type properties which could impact either serialization or\n\t\t// parsing are not considered in the deprecated block type by default,\n\t\t// and must be explicitly provided.\n\t\tconst deprecatedBlockType = Object.assign(\n\t\t\tomit( blockType, DEPRECATED_ENTRY_KEYS ),\n\t\t\tdeprecatedDefinitions[ i ]\n\t\t);\n\n\t\tlet migratedAttributes = getBlockAttributes(\n\t\t\tdeprecatedBlockType,\n\t\t\toriginalContent,\n\t\t\tparsedAttributes\n\t\t);\n\n\t\t// Ignore the deprecation if it produces a block which is not valid.\n\t\tconst { isValid, validationIssues } = getBlockContentValidationResult(\n\t\t\tdeprecatedBlockType,\n\t\t\tmigratedAttributes,\n\t\t\toriginalContent\n\t\t);\n\n\t\tif ( ! isValid ) {\n\t\t\tblock = {\n\t\t\t\t...block,\n\t\t\t\tvalidationIssues: [\n\t\t\t\t\t...get( block, 'validationIssues', [] ),\n\t\t\t\t\t...validationIssues,\n\t\t\t\t],\n\t\t\t};\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet migratedInnerBlocks = innerBlocks;\n\n\t\t// A block may provide custom behavior to assign new attributes and/or\n\t\t// inner blocks.\n\t\tconst { migrate } = deprecatedBlockType;\n\t\tif ( migrate ) {\n\t\t\t[\n\t\t\t\tmigratedAttributes = parsedAttributes,\n\t\t\t\tmigratedInnerBlocks = innerBlocks,\n\t\t\t] = castArray( migrate( migratedAttributes, innerBlocks ) );\n\t\t}\n\n\t\tblock = {\n\t\t\t...block,\n\t\t\tattributes: migratedAttributes,\n\t\t\tinnerBlocks: migratedInnerBlocks,\n\t\t\tisValid: true,\n\t\t};\n\t}\n\n\treturn block;\n}\n\n/**\n * Creates a block with fallback to the unknown type handler.\n *\n * @param {Object} blockNode Parsed block node.\n *\n * @return {?Object} An initialized block object (if possible).\n */\nexport function createBlockWithFallback( blockNode ) {\n\tconst { blockName: originalName } = blockNode;\n\tlet { attrs: attributes, innerBlocks = [], innerHTML } = blockNode;\n\tconst { innerContent } = blockNode;\n\tconst freeformContentFallbackBlock = getFreeformContentHandlerName();\n\tconst unregisteredFallbackBlock =\n\t\tgetUnregisteredTypeHandlerName() || freeformContentFallbackBlock;\n\n\tattributes = attributes || {};\n\n\t// Trim content to avoid creation of intermediary freeform segments.\n\tinnerHTML = innerHTML.trim();\n\n\t// Use type from block content if available. Otherwise, default to the\n\t// freeform content fallback.\n\tlet name = originalName || freeformContentFallbackBlock;\n\n\t// Convert 'core/cover-image' block in existing content to 'core/cover'.\n\tif ( 'core/cover-image' === name ) {\n\t\tname = 'core/cover';\n\t}\n\n\t// Convert 'core/text' blocks in existing content to 'core/paragraph'.\n\tif ( 'core/text' === name || 'core/cover-text' === name ) {\n\t\tname = 'core/paragraph';\n\t}\n\n\t// Convert derivative blocks such as 'core/social-link-wordpress' to the\n\t// canonical form 'core/social-link'.\n\tif ( name && name.indexOf( 'core/social-link-' ) === 0 ) {\n\t\t// Capture `social-link-wordpress` into `{\"service\":\"wordpress\"}`\n\t\tattributes.service = name.substring( 17 );\n\t\tname = 'core/social-link';\n\t}\n\n\t// Fallback content may be upgraded from classic editor expecting implicit\n\t// automatic paragraphs, so preserve them. Assumes wpautop is idempotent,\n\t// meaning there are no negative consequences to repeated autop calls.\n\tif ( name === freeformContentFallbackBlock ) {\n\t\tinnerHTML = autop( innerHTML ).trim();\n\t}\n\n\t// Try finding the type for known block name, else fall back again.\n\tlet blockType = getBlockType( name );\n\n\tif ( ! blockType ) {\n\t\t// Since the constituents of the block node are extracted at the start\n\t\t// of the present function, construct a new object rather than reuse\n\t\t// `blockNode`.\n\t\tconst reconstitutedBlockNode = {\n\t\t\tattrs: attributes,\n\t\t\tblockName: originalName,\n\t\t\tinnerBlocks,\n\t\t\tinnerContent,\n\t\t};\n\n\t\t// Preserve undelimited content for use by the unregistered type\n\t\t// handler. A block node's `innerHTML` isn't enough, as that field only\n\t\t// carries the block's own HTML and not its nested blocks'.\n\t\tconst originalUndelimitedContent = serializeBlockNode(\n\t\t\treconstitutedBlockNode,\n\t\t\t{\n\t\t\t\tisCommentDelimited: false,\n\t\t\t}\n\t\t);\n\n\t\t// Preserve full block content for use by the unregistered type\n\t\t// handler, block boundaries included.\n\t\tconst originalContent = serializeBlockNode( reconstitutedBlockNode, {\n\t\t\tisCommentDelimited: true,\n\t\t} );\n\n\t\t// If detected as a block which is not registered, preserve comment\n\t\t// delimiters in content of unregistered type handler.\n\t\tif ( name ) {\n\t\t\tinnerHTML = originalContent;\n\t\t}\n\n\t\tname = unregisteredFallbackBlock;\n\t\tattributes = {\n\t\t\toriginalName,\n\t\t\toriginalContent,\n\t\t\toriginalUndelimitedContent,\n\t\t};\n\t\tblockType = getBlockType( name );\n\t}\n\n\t// Coerce inner blocks from parsed form to canonical form.\n\tinnerBlocks = innerBlocks.map( createBlockWithFallback );\n\n\t// Remove `undefined` innerBlocks.\n\t//\n\t// This is a temporary fix to prevent unrecoverable TypeErrors when handling unexpectedly\n\t// empty freeform block nodes. See https://github.com/WordPress/gutenberg/pull/17164.\n\tinnerBlocks = innerBlocks.filter( ( innerBlock ) => innerBlock );\n\n\tconst isFallbackBlock =\n\t\tname === freeformContentFallbackBlock ||\n\t\tname === unregisteredFallbackBlock;\n\n\t// Include in set only if type was determined.\n\tif ( ! blockType || ( ! innerHTML && isFallbackBlock ) ) {\n\t\treturn;\n\t}\n\n\tlet block = createBlock(\n\t\tname,\n\t\tgetBlockAttributes( blockType, innerHTML, attributes ),\n\t\tinnerBlocks\n\t);\n\n\t// Block validation assumes an idempotent operation from source block to serialized block\n\t// provided there are no changes in attributes. The validation procedure thus compares the\n\t// provided source value with the serialized output before there are any modifications to\n\t// the block. When both match, the block is marked as valid.\n\tif ( ! isFallbackBlock ) {\n\t\tconst { isValid, validationIssues } = getBlockContentValidationResult(\n\t\t\tblockType,\n\t\t\tblock.attributes,\n\t\t\tinnerHTML\n\t\t);\n\t\tblock.isValid = isValid;\n\t\tblock.validationIssues = validationIssues;\n\t}\n\n\t// Preserve original content for future use in case the block is parsed\n\t// as invalid, or future serialization attempt results in an error.\n\tblock.originalContent = block.originalContent || innerHTML;\n\n\tblock = getMigratedBlock( block, attributes );\n\n\tif ( block.validationIssues && block.validationIssues.length > 0 ) {\n\t\tif ( block.isValid ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.info(\n\t\t\t\t'Block successfully updated for `%s` (%o).\\n\\nNew content generated by `save` function:\\n\\n%s\\n\\nContent retrieved from post body:\\n\\n%s',\n\t\t\t\tblockType.name,\n\t\t\t\tblockType,\n\t\t\t\tgetSaveContent( blockType, block.attributes ),\n\t\t\t\tblock.originalContent\n\t\t\t);\n\t\t} else {\n\t\t\tblock.validationIssues.forEach( ( { log, args } ) =>\n\t\t\t\tlog( ...args )\n\t\t\t);\n\t\t}\n\t}\n\n\treturn block;\n}\n\n/**\n * Serializes a block node into the native HTML-comment-powered block format.\n * CAVEAT: This function is intended for reserializing blocks as parsed by\n * valid parsers and skips any validation steps. This is NOT a generic\n * serialization function for in-memory blocks. For most purposes, see the\n * following functions available in the `@wordpress/blocks` package:\n *\n * @see serializeBlock\n * @see serialize\n *\n * For more on the format of block nodes as returned by valid parsers:\n *\n * @see `@wordpress/block-serialization-default-parser` package\n * @see `@wordpress/block-serialization-spec-parser` package\n *\n * @param {Object}   blockNode                  A block node as returned by a valid parser.\n * @param {?Object}  options                    Serialization options.\n * @param {?boolean} options.isCommentDelimited Whether to output HTML comments around blocks.\n *\n * @return {string} An HTML string representing a block.\n */\nexport function serializeBlockNode( blockNode, options = {} ) {\n\tconst { isCommentDelimited = true } = options;\n\tconst {\n\t\tblockName,\n\t\tattrs = {},\n\t\tinnerBlocks = [],\n\t\tinnerContent = [],\n\t} = blockNode;\n\n\tlet childIndex = 0;\n\tconst content = innerContent\n\t\t.map( ( item ) =>\n\t\t\t// `null` denotes a nested block, otherwise we have an HTML fragment\n\t\t\titem !== null\n\t\t\t\t? item\n\t\t\t\t: serializeBlockNode( innerBlocks[ childIndex++ ], options )\n\t\t)\n\t\t.join( '\\n' )\n\t\t.replace( /\\n+/g, '\\n' )\n\t\t.trim();\n\n\treturn isCommentDelimited\n\t\t? getCommentDelimitedContent( blockName, attrs, content )\n\t\t: content;\n}\n\n/**\n * Creates a parse implementation for the post content which returns a list of blocks.\n *\n * @param {Function} parseImplementation Parse implementation.\n *\n * @return {Function} An implementation which parses the post content.\n */\nconst createParse = ( parseImplementation ) => ( content ) =>\n\tparseImplementation( content ).reduce( ( accumulator, blockNode ) => {\n\t\tconst block = createBlockWithFallback( blockNode );\n\t\tif ( block ) {\n\t\t\taccumulator.push( block );\n\t\t}\n\t\treturn accumulator;\n\t}, [] );\n\n/**\n * Parses the post content with a PegJS grammar and returns a list of blocks.\n *\n * @param {string} content The post content.\n *\n * @return {Array} Block list.\n */\nexport const parseWithGrammar = createParse( defaultParse );\n\nexport default parseWithGrammar;\n","/**\n * External dependencies\n */\nexport { attr, prop, text, query } from 'hpq';\n\n/**\n * Internal dependencies\n */\nexport { matcher as node } from './node';\nexport { matcher as children } from './children';\n\nexport function html( selector, multilineTag ) {\n\treturn ( domNode ) => {\n\t\tlet match = domNode;\n\n\t\tif ( selector ) {\n\t\t\tmatch = domNode.querySelector( selector );\n\t\t}\n\n\t\tif ( ! match ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( multilineTag ) {\n\t\t\tlet value = '';\n\t\t\tconst length = match.children.length;\n\n\t\t\tfor ( let index = 0; index < length; index++ ) {\n\t\t\t\tconst child = match.children[ index ];\n\n\t\t\t\tif ( child.nodeName.toLowerCase() !== multilineTag ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvalue += child.outerHTML;\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\n\t\treturn match.innerHTML;\n\t};\n}\n","/**\n * External dependencies\n */\nimport { omit, without } from 'lodash';\n\n/**\n * All phrasing content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content-0\n */\n\n/**\n * All text-level semantic elements.\n *\n * @see https://html.spec.whatwg.org/multipage/text-level-semantics.html\n */\nconst textContentSchema = {\n\tstrong: {},\n\tem: {},\n\ts: {},\n\tdel: {},\n\tins: {},\n\ta: { attributes: [ 'href', 'target', 'rel' ] },\n\tcode: {},\n\tabbr: { attributes: [ 'title' ] },\n\tsub: {},\n\tsup: {},\n\tbr: {},\n\tsmall: {},\n\t// To do: fix blockquote.\n\t// cite: {},\n\tq: { attributes: [ 'cite' ] },\n\tdfn: { attributes: [ 'title' ] },\n\tdata: { attributes: [ 'value' ] },\n\ttime: { attributes: [ 'datetime' ] },\n\tvar: {},\n\tsamp: {},\n\tkbd: {},\n\ti: {},\n\tb: {},\n\tu: {},\n\tmark: {},\n\truby: {},\n\trt: {},\n\trp: {},\n\tbdi: { attributes: [ 'dir' ] },\n\tbdo: { attributes: [ 'dir' ] },\n\twbr: {},\n\t'#text': {},\n};\n\n// Recursion is needed.\n// Possible: strong > em > strong.\n// Impossible: strong > strong.\nwithout( Object.keys( textContentSchema ), '#text', 'br' ).forEach( ( tag ) => {\n\ttextContentSchema[ tag ].children = omit( textContentSchema, tag );\n} );\n\n/**\n * Embedded content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#embedded-content-0\n */\nconst embeddedContentSchema = {\n\taudio: {\n\t\tattributes: [\n\t\t\t'src',\n\t\t\t'preload',\n\t\t\t'autoplay',\n\t\t\t'mediagroup',\n\t\t\t'loop',\n\t\t\t'muted',\n\t\t],\n\t},\n\tcanvas: { attributes: [ 'width', 'height' ] },\n\tembed: { attributes: [ 'src', 'type', 'width', 'height' ] },\n\timg: {\n\t\tattributes: [\n\t\t\t'alt',\n\t\t\t'src',\n\t\t\t'srcset',\n\t\t\t'usemap',\n\t\t\t'ismap',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n\tobject: {\n\t\tattributes: [\n\t\t\t'data',\n\t\t\t'type',\n\t\t\t'name',\n\t\t\t'usemap',\n\t\t\t'form',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n\tvideo: {\n\t\tattributes: [\n\t\t\t'src',\n\t\t\t'poster',\n\t\t\t'preload',\n\t\t\t'autoplay',\n\t\t\t'mediagroup',\n\t\t\t'loop',\n\t\t\t'muted',\n\t\t\t'controls',\n\t\t\t'width',\n\t\t\t'height',\n\t\t],\n\t},\n};\n\n/**\n * Phrasing content elements.\n *\n * @see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content-0\n */\nconst phrasingContentSchema = {\n\t...textContentSchema,\n\t...embeddedContentSchema,\n};\n\n/**\n * Get schema of possible paths for phrasing content.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n *\n * @param {string} context Set to \"paste\" to exclude invisible elements and\n *                         sensitive data.\n *\n * @return {Object} Schema.\n */\nexport function getPhrasingContentSchema( context ) {\n\tif ( context !== 'paste' ) {\n\t\treturn phrasingContentSchema;\n\t}\n\n\treturn omit(\n\t\t{\n\t\t\t...phrasingContentSchema,\n\t\t\t// We shouldn't paste potentially sensitive information which is not\n\t\t\t// visible to the user when pasted, so strip the attributes.\n\t\t\tins: { children: phrasingContentSchema.ins.children },\n\t\t\tdel: { children: phrasingContentSchema.del.children },\n\t\t},\n\t\t[\n\t\t\t'u', // Used to mark misspelling. Shouldn't be pasted.\n\t\t\t'abbr', // Invisible.\n\t\t\t'data', // Invisible.\n\t\t\t'time', // Invisible.\n\t\t\t'wbr', // Invisible.\n\t\t\t'bdi', // Invisible.\n\t\t\t'bdo', // Invisible.\n\t\t]\n\t);\n}\n\n/**\n * Find out whether or not the given node is phrasing content.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n *\n * @param {Element} node The node to test.\n *\n * @return {boolean} True if phrasing content, false if not.\n */\nexport function isPhrasingContent( node ) {\n\tconst tag = node.nodeName.toLowerCase();\n\treturn getPhrasingContentSchema().hasOwnProperty( tag ) || tag === 'span';\n}\n\nexport function isTextContent( node ) {\n\tconst tag = node.nodeName.toLowerCase();\n\treturn textContentSchema.hasOwnProperty( tag ) || tag === 'span';\n}\n","/**\n * External dependencies\n */\nimport { mapValues, mergeWith, includes, noop, isFunction } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { unwrap, insertAfter, remove } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { hasBlockSupport } from '..';\nimport { isPhrasingContent } from './phrasing-content';\n\n/**\n * Browser dependencies\n */\nconst { ELEMENT_NODE, TEXT_NODE } = window.Node;\n\n/**\n * Given raw transforms from blocks, merges all schemas into one.\n *\n * @param {Array}  transforms            Block transforms, of the `raw` type.\n * @param {Object} phrasingContentSchema The phrasing content schema.\n * @param {Object} isPaste               Whether the context is pasting or not.\n *\n * @return {Object} A complete block content schema.\n */\nexport function getBlockContentSchema(\n\ttransforms,\n\tphrasingContentSchema,\n\tisPaste\n) {\n\tconst schemas = transforms.map( ( { isMatch, blockName, schema } ) => {\n\t\tconst hasAnchorSupport = hasBlockSupport( blockName, 'anchor' );\n\n\t\tschema = isFunction( schema )\n\t\t\t? schema( { phrasingContentSchema, isPaste } )\n\t\t\t: schema;\n\n\t\t// If the block does not has anchor support and the transform does not\n\t\t// provides an isMatch we can return the schema right away.\n\t\tif ( ! hasAnchorSupport && ! isMatch ) {\n\t\t\treturn schema;\n\t\t}\n\n\t\treturn mapValues( schema, ( value ) => {\n\t\t\tlet attributes = value.attributes || [];\n\t\t\t// If the block supports the \"anchor\" functionality, it needs to keep its ID attribute.\n\t\t\tif ( hasAnchorSupport ) {\n\t\t\t\tattributes = [ ...attributes, 'id' ];\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...value,\n\t\t\t\tattributes,\n\t\t\t\tisMatch: isMatch ? isMatch : undefined,\n\t\t\t};\n\t\t} );\n\t} );\n\n\treturn mergeWith( {}, ...schemas, ( objValue, srcValue, key ) => {\n\t\tswitch ( key ) {\n\t\t\tcase 'children': {\n\t\t\t\tif ( objValue === '*' || srcValue === '*' ) {\n\t\t\t\t\treturn '*';\n\t\t\t\t}\n\n\t\t\t\treturn { ...objValue, ...srcValue };\n\t\t\t}\n\t\t\tcase 'attributes':\n\t\t\tcase 'require': {\n\t\t\t\treturn [ ...( objValue || [] ), ...( srcValue || [] ) ];\n\t\t\t}\n\t\t\tcase 'isMatch': {\n\t\t\t\t// If one of the values being merge is undefined (matches everything),\n\t\t\t\t// the result of the merge will be undefined.\n\t\t\t\tif ( ! objValue || ! srcValue ) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\t// When merging two isMatch functions, the result is a new function\n\t\t\t\t// that returns if one of the source functions returns true.\n\t\t\t\treturn ( ...args ) => {\n\t\t\t\t\treturn objValue( ...args ) || srcValue( ...args );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t} );\n}\n\n/**\n * Recursively checks if an element is empty. An element is not empty if it\n * contains text or contains elements with attributes such as images.\n *\n * @param {Element} element The element to check.\n *\n * @return {boolean} Wether or not the element is empty.\n */\nexport function isEmpty( element ) {\n\tif ( ! element.hasChildNodes() ) {\n\t\treturn true;\n\t}\n\n\treturn Array.from( element.childNodes ).every( ( node ) => {\n\t\tif ( node.nodeType === TEXT_NODE ) {\n\t\t\treturn ! node.nodeValue.trim();\n\t\t}\n\n\t\tif ( node.nodeType === ELEMENT_NODE ) {\n\t\t\tif ( node.nodeName === 'BR' ) {\n\t\t\t\treturn true;\n\t\t\t} else if ( node.hasAttributes() ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn isEmpty( node );\n\t\t}\n\n\t\treturn true;\n\t} );\n}\n\n/**\n * Checks wether HTML can be considered plain text. That is, it does not contain\n * any elements that are not line breaks.\n *\n * @param {string} HTML The HTML to check.\n *\n * @return {boolean} Wether the HTML can be considered plain text.\n */\nexport function isPlain( HTML ) {\n\treturn ! /<(?!br[ />])/i.test( HTML );\n}\n\n/**\n * Given node filters, deeply filters and mutates a NodeList.\n *\n * @param {NodeList} nodeList The nodeList to filter.\n * @param {Array}    filters  An array of functions that can mutate with the provided node.\n * @param {Document} doc      The document of the nodeList.\n * @param {Object}   schema   The schema to use.\n */\nexport function deepFilterNodeList( nodeList, filters, doc, schema ) {\n\tArray.from( nodeList ).forEach( ( node ) => {\n\t\tdeepFilterNodeList( node.childNodes, filters, doc, schema );\n\n\t\tfilters.forEach( ( item ) => {\n\t\t\t// Make sure the node is still attached to the document.\n\t\t\tif ( ! doc.contains( node ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\titem( node, doc, schema );\n\t\t} );\n\t} );\n}\n\n/**\n * Given node filters, deeply filters HTML tags.\n * Filters from the deepest nodes to the top.\n *\n * @param {string} HTML    The HTML to filter.\n * @param {Array}  filters An array of functions that can mutate with the provided node.\n * @param {Object} schema  The schema to use.\n *\n * @return {string} The filtered HTML.\n */\nexport function deepFilterHTML( HTML, filters = [], schema ) {\n\tconst doc = document.implementation.createHTMLDocument( '' );\n\n\tdoc.body.innerHTML = HTML;\n\n\tdeepFilterNodeList( doc.body.childNodes, filters, doc, schema );\n\n\treturn doc.body.innerHTML;\n}\n\n/**\n * Given a schema, unwraps or removes nodes, attributes and classes on a node\n * list.\n *\n * @param {NodeList} nodeList The nodeList to filter.\n * @param {Document} doc      The document of the nodeList.\n * @param {Object}   schema   An array of functions that can mutate with the provided node.\n * @param {Object}   inline   Whether to clean for inline mode.\n */\nfunction cleanNodeList( nodeList, doc, schema, inline ) {\n\tArray.from( nodeList ).forEach( ( node ) => {\n\t\tconst tag = node.nodeName.toLowerCase();\n\n\t\t// It's a valid child, if the tag exists in the schema without an isMatch\n\t\t// function, or with an isMatch function that matches the node.\n\t\tif (\n\t\t\tschema.hasOwnProperty( tag ) &&\n\t\t\t( ! schema[ tag ].isMatch || schema[ tag ].isMatch( node ) )\n\t\t) {\n\t\t\tif ( node.nodeType === ELEMENT_NODE ) {\n\t\t\t\tconst {\n\t\t\t\t\tattributes = [],\n\t\t\t\t\tclasses = [],\n\t\t\t\t\tchildren,\n\t\t\t\t\trequire = [],\n\t\t\t\t\tallowEmpty,\n\t\t\t\t} = schema[ tag ];\n\n\t\t\t\t// If the node is empty and it's supposed to have children,\n\t\t\t\t// remove the node.\n\t\t\t\tif ( children && ! allowEmpty && isEmpty( node ) ) {\n\t\t\t\t\tremove( node );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( node.hasAttributes() ) {\n\t\t\t\t\t// Strip invalid attributes.\n\t\t\t\t\tArray.from( node.attributes ).forEach( ( { name } ) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tname !== 'class' &&\n\t\t\t\t\t\t\t! includes( attributes, name )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tnode.removeAttribute( name );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Strip invalid classes.\n\t\t\t\t\t// In jsdom-jscore, 'node.classList' can be undefined.\n\t\t\t\t\t// TODO: Explore patching this in jsdom-jscore.\n\t\t\t\t\tif ( node.classList && node.classList.length ) {\n\t\t\t\t\t\tconst mattchers = classes.map( ( item ) => {\n\t\t\t\t\t\t\tif ( typeof item === 'string' ) {\n\t\t\t\t\t\t\t\treturn ( className ) => className === item;\n\t\t\t\t\t\t\t} else if ( item instanceof RegExp ) {\n\t\t\t\t\t\t\t\treturn ( className ) => item.test( className );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn noop;\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tArray.from( node.classList ).forEach( ( name ) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t! mattchers.some( ( isMatch ) =>\n\t\t\t\t\t\t\t\t\tisMatch( name )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tnode.classList.remove( name );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tif ( ! node.classList.length ) {\n\t\t\t\t\t\t\tnode.removeAttribute( 'class' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( node.hasChildNodes() ) {\n\t\t\t\t\t// Do not filter any content.\n\t\t\t\t\tif ( children === '*' ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Continue if the node is supposed to have children.\n\t\t\t\t\tif ( children ) {\n\t\t\t\t\t\t// If a parent requires certain children, but it does\n\t\t\t\t\t\t// not have them, drop the parent and continue.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\trequire.length &&\n\t\t\t\t\t\t\t! node.querySelector( require.join( ',' ) )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcleanNodeList(\n\t\t\t\t\t\t\t\tnode.childNodes,\n\t\t\t\t\t\t\t\tdoc,\n\t\t\t\t\t\t\t\tschema,\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tunwrap( node );\n\t\t\t\t\t\t\t// If the node is at the top, phrasing content, and\n\t\t\t\t\t\t\t// contains children that are block content, unwrap\n\t\t\t\t\t\t\t// the node because it is invalid.\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tnode.parentNode.nodeName === 'BODY' &&\n\t\t\t\t\t\t\tisPhrasingContent( node )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcleanNodeList(\n\t\t\t\t\t\t\t\tnode.childNodes,\n\t\t\t\t\t\t\t\tdoc,\n\t\t\t\t\t\t\t\tschema,\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tArray.from( node.childNodes ).some(\n\t\t\t\t\t\t\t\t\t( child ) => ! isPhrasingContent( child )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tunwrap( node );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcleanNodeList(\n\t\t\t\t\t\t\t\tnode.childNodes,\n\t\t\t\t\t\t\t\tdoc,\n\t\t\t\t\t\t\t\tchildren,\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Remove children if the node is not supposed to have any.\n\t\t\t\t\t} else {\n\t\t\t\t\t\twhile ( node.firstChild ) {\n\t\t\t\t\t\t\tremove( node.firstChild );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Invalid child. Continue with schema at the same place and unwrap.\n\t\t} else {\n\t\t\tcleanNodeList( node.childNodes, doc, schema, inline );\n\n\t\t\t// For inline mode, insert a line break when unwrapping nodes that\n\t\t\t// are not phrasing content.\n\t\t\tif (\n\t\t\t\tinline &&\n\t\t\t\t! isPhrasingContent( node ) &&\n\t\t\t\tnode.nextElementSibling\n\t\t\t) {\n\t\t\t\tinsertAfter( doc.createElement( 'br' ), node );\n\t\t\t}\n\n\t\t\tunwrap( node );\n\t\t}\n\t} );\n}\n\n/**\n * Given a schema, unwraps or removes nodes, attributes and classes on HTML.\n *\n * @param {string} HTML   The HTML to clean up.\n * @param {Object} schema Schema for the HTML.\n * @param {Object} inline Whether to clean for inline mode.\n *\n * @return {string} The cleaned up HTML.\n */\nexport function removeInvalidHTML( HTML, schema, inline ) {\n\tconst doc = document.implementation.createHTMLDocument( '' );\n\n\tdoc.body.innerHTML = HTML;\n\n\tcleanNodeList( doc.body.childNodes, doc, schema, inline );\n\n\treturn doc.body.innerHTML;\n}\n\n/**\n * Gets a sibling within text-level context.\n *\n * @param {Element} node  The subject node.\n * @param {string}  which \"next\" or \"previous\".\n */\nexport function getSibling( node, which ) {\n\tconst sibling = node[ `${ which }Sibling` ];\n\n\tif ( sibling && isPhrasingContent( sibling ) ) {\n\t\treturn sibling;\n\t}\n\n\tconst { parentNode } = node;\n\n\tif ( ! parentNode || ! isPhrasingContent( parentNode ) ) {\n\t\treturn;\n\t}\n\n\treturn getSibling( parentNode, which );\n}\n","/**\n * Internal dependencies\n */\nimport { isEmpty } from './utils';\nimport { isPhrasingContent } from './phrasing-content';\n\n/**\n * Browser dependencies\n */\nconst { ELEMENT_NODE, TEXT_NODE } = window.Node;\n\nexport default function( HTML ) {\n\tconst decuDoc = document.implementation.createHTMLDocument( '' );\n\tconst accuDoc = document.implementation.createHTMLDocument( '' );\n\n\tconst decu = decuDoc.body;\n\tconst accu = accuDoc.body;\n\n\tdecu.innerHTML = HTML;\n\n\twhile ( decu.firstChild ) {\n\t\tconst node = decu.firstChild;\n\n\t\t// Text nodes: wrap in a paragraph, or append to previous.\n\t\tif ( node.nodeType === TEXT_NODE ) {\n\t\t\tif ( ! node.nodeValue.trim() ) {\n\t\t\t\tdecu.removeChild( node );\n\t\t\t} else {\n\t\t\t\tif ( ! accu.lastChild || accu.lastChild.nodeName !== 'P' ) {\n\t\t\t\t\taccu.appendChild( accuDoc.createElement( 'P' ) );\n\t\t\t\t}\n\n\t\t\t\taccu.lastChild.appendChild( node );\n\t\t\t}\n\t\t\t// Element nodes.\n\t\t} else if ( node.nodeType === ELEMENT_NODE ) {\n\t\t\t// BR nodes: create a new paragraph on double, or append to previous.\n\t\t\tif ( node.nodeName === 'BR' ) {\n\t\t\t\tif ( node.nextSibling && node.nextSibling.nodeName === 'BR' ) {\n\t\t\t\t\taccu.appendChild( accuDoc.createElement( 'P' ) );\n\t\t\t\t\tdecu.removeChild( node.nextSibling );\n\t\t\t\t}\n\n\t\t\t\t// Don't append to an empty paragraph.\n\t\t\t\tif (\n\t\t\t\t\taccu.lastChild &&\n\t\t\t\t\taccu.lastChild.nodeName === 'P' &&\n\t\t\t\t\taccu.lastChild.hasChildNodes()\n\t\t\t\t) {\n\t\t\t\t\taccu.lastChild.appendChild( node );\n\t\t\t\t} else {\n\t\t\t\t\tdecu.removeChild( node );\n\t\t\t\t}\n\t\t\t} else if ( node.nodeName === 'P' ) {\n\t\t\t\t// Only append non-empty paragraph nodes.\n\t\t\t\tif ( isEmpty( node ) ) {\n\t\t\t\t\tdecu.removeChild( node );\n\t\t\t\t} else {\n\t\t\t\t\taccu.appendChild( node );\n\t\t\t\t}\n\t\t\t} else if ( isPhrasingContent( node ) ) {\n\t\t\t\tif ( ! accu.lastChild || accu.lastChild.nodeName !== 'P' ) {\n\t\t\t\t\taccu.appendChild( accuDoc.createElement( 'P' ) );\n\t\t\t\t}\n\t\t\t\taccu.lastChild.appendChild( node );\n\t\t\t} else {\n\t\t\t\taccu.appendChild( node );\n\t\t\t}\n\t\t} else {\n\t\t\tdecu.removeChild( node );\n\t\t}\n\t}\n\n\treturn accu.innerHTML;\n}\n","/**\n * WordPress dependencies\n */\nimport { remove, replace } from '@wordpress/dom';\n\n/**\n * Browser dependencies\n */\nconst { COMMENT_NODE } = window.Node;\n\n/**\n * Looks for `<!--nextpage-->` and `<!--more-->` comments, as well as the\n * `<!--more Some text-->` variant and its `<!--noteaser-->` companion,\n * and replaces them with a custom element representing a future block.\n *\n * The custom element is a way to bypass the rest of the `raw-handling`\n * transforms, which would eliminate other kinds of node with which to carry\n * `<!--more-->`'s data: nodes with `data` attributes, empty paragraphs, etc.\n *\n * The custom element is then expected to be recognized by any registered\n * block's `raw` transform.\n *\n * @param {Node}     node The node to be processed.\n * @param {Document} doc  The document of the node.\n * @return {void}\n */\nexport default function( node, doc ) {\n\tif ( node.nodeType !== COMMENT_NODE ) {\n\t\treturn;\n\t}\n\n\tif ( node.nodeValue === 'nextpage' ) {\n\t\treplace( node, createNextpage( doc ) );\n\t\treturn;\n\t}\n\n\tif ( node.nodeValue.indexOf( 'more' ) === 0 ) {\n\t\t// Grab any custom text in the comment.\n\t\tconst customText = node.nodeValue.slice( 4 ).trim();\n\n\t\t/*\n\t\t * When a `<!--more-->` comment is found, we need to look for any\n\t\t * `<!--noteaser-->` sibling, but it may not be a direct sibling\n\t\t * (whitespace typically lies in between)\n\t\t */\n\t\tlet sibling = node;\n\t\tlet noTeaser = false;\n\t\twhile ( ( sibling = sibling.nextSibling ) ) {\n\t\t\tif (\n\t\t\t\tsibling.nodeType === COMMENT_NODE &&\n\t\t\t\tsibling.nodeValue === 'noteaser'\n\t\t\t) {\n\t\t\t\tnoTeaser = true;\n\t\t\t\tremove( sibling );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treplace( node, createMore( customText, noTeaser, doc ) );\n\t}\n}\n\nfunction createMore( customText, noTeaser, doc ) {\n\tconst node = doc.createElement( 'wp-block' );\n\tnode.dataset.block = 'core/more';\n\tif ( customText ) {\n\t\tnode.dataset.customText = customText;\n\t}\n\tif ( noTeaser ) {\n\t\t// \"Boolean\" data attribute\n\t\tnode.dataset.noTeaser = '';\n\t}\n\treturn node;\n}\n\nfunction createNextpage( doc ) {\n\tconst node = doc.createElement( 'wp-block' );\n\tnode.dataset.block = 'core/nextpage';\n\n\treturn node;\n}\n","/**\n * WordPress dependencies\n */\nimport { unwrap } from '@wordpress/dom';\n\nfunction isList( node ) {\n\treturn node.nodeName === 'OL' || node.nodeName === 'UL';\n}\n\nfunction shallowTextContent( element ) {\n\treturn Array.from( element.childNodes )\n\t\t.map( ( { nodeValue = '' } ) => nodeValue )\n\t\t.join( '' );\n}\n\nexport default function( node ) {\n\tif ( ! isList( node ) ) {\n\t\treturn;\n\t}\n\n\tconst list = node;\n\tconst prevElement = node.previousElementSibling;\n\n\t// Merge with previous list if:\n\t// * There is a previous list of the same type.\n\t// * There is only one list item.\n\tif (\n\t\tprevElement &&\n\t\tprevElement.nodeName === node.nodeName &&\n\t\tlist.children.length === 1\n\t) {\n\t\t// Move all child nodes, including any text nodes, if any.\n\t\twhile ( list.firstChild ) {\n\t\t\tprevElement.appendChild( list.firstChild );\n\t\t}\n\n\t\tlist.parentNode.removeChild( list );\n\t}\n\n\tconst parentElement = node.parentNode;\n\n\t// Nested list with empty parent item.\n\tif (\n\t\tparentElement &&\n\t\tparentElement.nodeName === 'LI' &&\n\t\tparentElement.children.length === 1 &&\n\t\t! /\\S/.test( shallowTextContent( parentElement ) )\n\t) {\n\t\tconst parentListItem = parentElement;\n\t\tconst prevListItem = parentListItem.previousElementSibling;\n\t\tconst parentList = parentListItem.parentNode;\n\n\t\tif ( prevListItem ) {\n\t\t\tprevListItem.appendChild( list );\n\t\t\tparentList.removeChild( parentListItem );\n\t\t} else {\n\t\t\tparentList.parentNode.insertBefore( list, parentList );\n\t\t\tparentList.parentNode.removeChild( parentList );\n\t\t}\n\t}\n\n\t// Invalid: OL/UL > OL/UL.\n\tif ( parentElement && isList( parentElement ) ) {\n\t\tconst prevListItem = node.previousElementSibling;\n\n\t\tif ( prevListItem ) {\n\t\t\tprevListItem.appendChild( node );\n\t\t} else {\n\t\t\tunwrap( node );\n\t\t}\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport normaliseBlocks from './normalise-blocks';\n\nexport default function( node ) {\n\tif ( node.nodeName !== 'BLOCKQUOTE' ) {\n\t\treturn;\n\t}\n\n\tnode.innerHTML = normaliseBlocks( node.innerHTML );\n}\n","/**\n * External dependencies\n */\nimport { has } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { isTextContent } from './phrasing-content';\n\n/**\n * Whether or not the given node is figure content.\n *\n * @param {Node}   node   The node to check.\n * @param {Object} schema The schema to use.\n *\n * @return {boolean} True if figure content, false if not.\n */\nfunction isFigureContent( node, schema ) {\n\tconst tag = node.nodeName.toLowerCase();\n\n\t// We are looking for tags that can be a child of the figure tag, excluding\n\t// `figcaption` and any phrasing content.\n\tif ( tag === 'figcaption' || isTextContent( node ) ) {\n\t\treturn false;\n\t}\n\n\treturn has( schema, [ 'figure', 'children', tag ] );\n}\n\n/**\n * Whether or not the given node can have an anchor.\n *\n * @param {Node}   node   The node to check.\n * @param {Object} schema The schema to use.\n *\n * @return {boolean} True if it can, false if not.\n */\nfunction canHaveAnchor( node, schema ) {\n\tconst tag = node.nodeName.toLowerCase();\n\n\treturn has( schema, [ 'figure', 'children', 'a', 'children', tag ] );\n}\n\n/**\n * Wraps the given element in a figure element.\n *\n * @param {Element} element       The element to wrap.\n * @param {Element} beforeElement The element before which to place the figure.\n */\nfunction wrapFigureContent( element, beforeElement = element ) {\n\tconst figure = element.ownerDocument.createElement( 'figure' );\n\tbeforeElement.parentNode.insertBefore( figure, beforeElement );\n\tfigure.appendChild( element );\n}\n\n/**\n * This filter takes figure content out of paragraphs, wraps it in a figure\n * element, and moves any anchors with it if needed.\n *\n * @param {Node}     node   The node to filter.\n * @param {Document} doc    The document of the node.\n * @param {Object}   schema The schema to use.\n *\n * @return {void}\n */\nexport default function( node, doc, schema ) {\n\tif ( ! isFigureContent( node, schema ) ) {\n\t\treturn;\n\t}\n\n\tlet nodeToInsert = node;\n\tconst parentNode = node.parentNode;\n\n\t// If the figure content can have an anchor and its parent is an anchor with\n\t// only the figure content, take the anchor out instead of just the content.\n\tif (\n\t\tcanHaveAnchor( node, schema ) &&\n\t\tparentNode.nodeName === 'A' &&\n\t\tparentNode.childNodes.length === 1\n\t) {\n\t\tnodeToInsert = node.parentNode;\n\t}\n\n\tconst wrapper = nodeToInsert.closest( 'p,div' );\n\n\t// If wrapped in a paragraph or div, only extract if it's aligned or if\n\t// there is no text content.\n\t// Otherwise, if directly at the root, wrap in a figure element.\n\tif ( wrapper ) {\n\t\t// In jsdom-jscore, 'node.classList' can be undefined.\n\t\t// In this case, default to extract as it offers a better UI experience on mobile.\n\t\tif ( ! node.classList ) {\n\t\t\twrapFigureContent( nodeToInsert, wrapper );\n\t\t} else if (\n\t\t\tnode.classList.contains( 'alignright' ) ||\n\t\t\tnode.classList.contains( 'alignleft' ) ||\n\t\t\tnode.classList.contains( 'aligncenter' ) ||\n\t\t\t! wrapper.textContent.trim()\n\t\t) {\n\t\t\twrapFigureContent( nodeToInsert, wrapper );\n\t\t}\n\t} else if ( nodeToInsert.parentNode.nodeName === 'BODY' ) {\n\t\twrapFigureContent( nodeToInsert );\n\t}\n}\n","/**\n * External dependencies\n */\nimport { extend, pick, isString, isEqual, forEach, isNumber } from 'lodash';\nimport memize from 'memize';\n\n/**\n * Shortcode attributes object.\n *\n * @typedef {Object} WPShortcodeAttrs\n *\n * @property {Object} named   Object with named attributes.\n * @property {Array}  numeric Array with numeric attributes.\n */\n\n/**\n * Shortcode object.\n *\n * @typedef {Object} WPShortcode\n *\n * @property {string}           tag     Shortcode tag.\n * @property {WPShortcodeAttrs} attrs   Shortcode attributes.\n * @property {string}           content Shortcode content.\n * @property {string}           type    Shortcode type: `self-closing`,\n *                                      `closed`, or `single`.\n */\n\n/**\n * @typedef {Object} WPShortcodeMatch\n *\n * @property {number}      index     Index the shortcode is found at.\n * @property {string}      content   Matched content.\n * @property {WPShortcode} shortcode Shortcode instance of the match.\n */\n\n/**\n * Find the next matching shortcode.\n *\n * @param {string} tag   Shortcode tag.\n * @param {string} text  Text to search.\n * @param {number} index Index to start search from.\n *\n * @return {?WPShortcodeMatch} Matched information.\n */\nexport function next( tag, text, index = 0 ) {\n\tconst re = regexp( tag );\n\n\tre.lastIndex = index;\n\n\tconst match = re.exec( text );\n\n\tif ( ! match ) {\n\t\treturn;\n\t}\n\n\t// If we matched an escaped shortcode, try again.\n\tif ( '[' === match[ 1 ] && ']' === match[ 7 ] ) {\n\t\treturn next( tag, text, re.lastIndex );\n\t}\n\n\tconst result = {\n\t\tindex: match.index,\n\t\tcontent: match[ 0 ],\n\t\tshortcode: fromMatch( match ),\n\t};\n\n\t// If we matched a leading `[`, strip it from the match and increment the\n\t// index accordingly.\n\tif ( match[ 1 ] ) {\n\t\tresult.content = result.content.slice( 1 );\n\t\tresult.index++;\n\t}\n\n\t// If we matched a trailing `]`, strip it from the match.\n\tif ( match[ 7 ] ) {\n\t\tresult.content = result.content.slice( 0, -1 );\n\t}\n\n\treturn result;\n}\n\n/**\n * Replace matching shortcodes in a block of text.\n *\n * @param {string}   tag      Shortcode tag.\n * @param {string}   text     Text to search.\n * @param {Function} callback Function to process the match and return\n *                            replacement string.\n *\n * @return {string} Text with shortcodes replaced.\n */\nexport function replace( tag, text, callback ) {\n\treturn text.replace( regexp( tag ), function(\n\t\tmatch,\n\t\tleft,\n\t\t$3,\n\t\tattrs,\n\t\tslash,\n\t\tcontent,\n\t\tclosing,\n\t\tright\n\t) {\n\t\t// If both extra brackets exist, the shortcode has been properly\n\t\t// escaped.\n\t\tif ( left === '[' && right === ']' ) {\n\t\t\treturn match;\n\t\t}\n\n\t\t// Create the match object and pass it through the callback.\n\t\tconst result = callback( fromMatch( arguments ) );\n\n\t\t// Make sure to return any of the extra brackets if they weren't used to\n\t\t// escape the shortcode.\n\t\treturn result ? left + result + right : match;\n\t} );\n}\n\n/**\n * Generate a string from shortcode parameters.\n *\n * Creates a shortcode instance and returns a string.\n *\n * Accepts the same `options` as the `shortcode()` constructor, containing a\n * `tag` string, a string or object of `attrs`, a boolean indicating whether to\n * format the shortcode using a `single` tag, and a `content` string.\n *\n * @param {Object} options\n *\n * @return {string} String representation of the shortcode.\n */\nexport function string( options ) {\n\treturn new shortcode( options ).string();\n}\n\n/**\n * Generate a RegExp to identify a shortcode.\n *\n * The base regex is functionally equivalent to the one found in\n * `get_shortcode_regex()` in `wp-includes/shortcodes.php`.\n *\n * Capture groups:\n *\n * 1. An extra `[` to allow for escaping shortcodes with double `[[]]`\n * 2. The shortcode name\n * 3. The shortcode argument list\n * 4. The self closing `/`\n * 5. The content of a shortcode when it wraps some content.\n * 6. The closing tag.\n * 7. An extra `]` to allow for escaping shortcodes with double `[[]]`\n *\n * @param {string} tag Shortcode tag.\n *\n * @return {RegExp} Shortcode RegExp.\n */\nexport function regexp( tag ) {\n\treturn new RegExp(\n\t\t'\\\\[(\\\\[?)(' +\n\t\t\ttag +\n\t\t\t')(?![\\\\w-])([^\\\\]\\\\/]*(?:\\\\/(?!\\\\])[^\\\\]\\\\/]*)*?)(?:(\\\\/)\\\\]|\\\\](?:([^\\\\[]*(?:\\\\[(?!\\\\/\\\\2\\\\])[^\\\\[]*)*)(\\\\[\\\\/\\\\2\\\\]))?)(\\\\]?)',\n\t\t'g'\n\t);\n}\n\n/**\n * Parse shortcode attributes.\n *\n * Shortcodes accept many types of attributes. These can chiefly be divided into\n * named and numeric attributes:\n *\n * Named attributes are assigned on a key/value basis, while numeric attributes\n * are treated as an array.\n *\n * Named attributes can be formatted as either `name=\"value\"`, `name='value'`,\n * or `name=value`. Numeric attributes can be formatted as `\"value\"` or just\n * `value`.\n *\n * @param {string} text Serialised shortcode attributes.\n *\n * @return {WPShortcodeAttrs} Parsed shortcode attributes.\n */\nexport const attrs = memize( ( text ) => {\n\tconst named = {};\n\tconst numeric = [];\n\n\t// This regular expression is reused from `shortcode_parse_atts()` in\n\t// `wp-includes/shortcodes.php`.\n\t//\n\t// Capture groups:\n\t//\n\t// 1. An attribute name, that corresponds to...\n\t// 2. a value in double quotes.\n\t// 3. An attribute name, that corresponds to...\n\t// 4. a value in single quotes.\n\t// 5. An attribute name, that corresponds to...\n\t// 6. an unquoted value.\n\t// 7. A numeric attribute in double quotes.\n\t// 8. A numeric attribute in single quotes.\n\t// 9. An unquoted numeric attribute.\n\tconst pattern = /([\\w-]+)\\s*=\\s*\"([^\"]*)\"(?:\\s|$)|([\\w-]+)\\s*=\\s*'([^']*)'(?:\\s|$)|([\\w-]+)\\s*=\\s*([^\\s'\"]+)(?:\\s|$)|\"([^\"]*)\"(?:\\s|$)|'([^']*)'(?:\\s|$)|(\\S+)(?:\\s|$)/g;\n\n\t// Map zero-width spaces to actual spaces.\n\ttext = text.replace( /[\\u00a0\\u200b]/g, ' ' );\n\n\tlet match;\n\n\t// Match and normalize attributes.\n\twhile ( ( match = pattern.exec( text ) ) ) {\n\t\tif ( match[ 1 ] ) {\n\t\t\tnamed[ match[ 1 ].toLowerCase() ] = match[ 2 ];\n\t\t} else if ( match[ 3 ] ) {\n\t\t\tnamed[ match[ 3 ].toLowerCase() ] = match[ 4 ];\n\t\t} else if ( match[ 5 ] ) {\n\t\t\tnamed[ match[ 5 ].toLowerCase() ] = match[ 6 ];\n\t\t} else if ( match[ 7 ] ) {\n\t\t\tnumeric.push( match[ 7 ] );\n\t\t} else if ( match[ 8 ] ) {\n\t\t\tnumeric.push( match[ 8 ] );\n\t\t} else if ( match[ 9 ] ) {\n\t\t\tnumeric.push( match[ 9 ] );\n\t\t}\n\t}\n\n\treturn { named, numeric };\n} );\n\n/**\n * Generate a Shortcode Object from a RegExp match.\n *\n * Accepts a `match` object from calling `regexp.exec()` on a `RegExp` generated\n * by `regexp()`. `match` can also be set to the `arguments` from a callback\n * passed to `regexp.replace()`.\n *\n * @param {Array} match Match array.\n *\n * @return {WPShortcode} Shortcode instance.\n */\nexport function fromMatch( match ) {\n\tlet type;\n\n\tif ( match[ 4 ] ) {\n\t\ttype = 'self-closing';\n\t} else if ( match[ 6 ] ) {\n\t\ttype = 'closed';\n\t} else {\n\t\ttype = 'single';\n\t}\n\n\treturn new shortcode( {\n\t\ttag: match[ 2 ],\n\t\tattrs: match[ 3 ],\n\t\ttype,\n\t\tcontent: match[ 5 ],\n\t} );\n}\n\n/**\n * Creates a shortcode instance.\n *\n * To access a raw representation of a shortcode, pass an `options` object,\n * containing a `tag` string, a string or object of `attrs`, a string indicating\n * the `type` of the shortcode ('single', 'self-closing', or 'closed'), and a\n * `content` string.\n *\n * @param {Object} options Options as described.\n *\n * @return {WPShortcode} Shortcode instance.\n */\nconst shortcode = extend(\n\tfunction( options ) {\n\t\textend(\n\t\t\tthis,\n\t\t\tpick( options || {}, 'tag', 'attrs', 'type', 'content' )\n\t\t);\n\n\t\tconst attributes = this.attrs;\n\n\t\t// Ensure we have a correctly formatted `attrs` object.\n\t\tthis.attrs = {\n\t\t\tnamed: {},\n\t\t\tnumeric: [],\n\t\t};\n\n\t\tif ( ! attributes ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Parse a string of attributes.\n\t\tif ( isString( attributes ) ) {\n\t\t\tthis.attrs = attrs( attributes );\n\t\t\t// Identify a correctly formatted `attrs` object.\n\t\t} else if (\n\t\t\tisEqual( Object.keys( attributes ), [ 'named', 'numeric' ] )\n\t\t) {\n\t\t\tthis.attrs = attributes;\n\t\t\t// Handle a flat object of attributes.\n\t\t} else {\n\t\t\tforEach( attributes, ( value, key ) => {\n\t\t\t\tthis.set( key, value );\n\t\t\t} );\n\t\t}\n\t},\n\t{\n\t\tnext,\n\t\treplace,\n\t\tstring,\n\t\tregexp,\n\t\tattrs,\n\t\tfromMatch,\n\t}\n);\n\nextend( shortcode.prototype, {\n\t/**\n\t * Get a shortcode attribute.\n\t *\n\t * Automatically detects whether `attr` is named or numeric and routes it\n\t * accordingly.\n\t *\n\t * @param {(number|string)} attr Attribute key.\n\t *\n\t * @return {string} Attribute value.\n\t */\n\tget( attr ) {\n\t\treturn this.attrs[ isNumber( attr ) ? 'numeric' : 'named' ][ attr ];\n\t},\n\n\t/**\n\t * Set a shortcode attribute.\n\t *\n\t * Automatically detects whether `attr` is named or numeric and routes it\n\t * accordingly.\n\t *\n\t * @param {(number|string)} attr  Attribute key.\n\t * @param {string}          value Attribute value.\n\t *\n\t * @return {WPShortcode} Shortcode instance.\n\t */\n\tset( attr, value ) {\n\t\tthis.attrs[ isNumber( attr ) ? 'numeric' : 'named' ][ attr ] = value;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Transform the shortcode into a string.\n\t *\n\t * @return {string} String representation of the shortcode.\n\t */\n\tstring() {\n\t\tlet text = '[' + this.tag;\n\n\t\tforEach( this.attrs.numeric, ( value ) => {\n\t\t\tif ( /\\s/.test( value ) ) {\n\t\t\t\ttext += ' \"' + value + '\"';\n\t\t\t} else {\n\t\t\t\ttext += ' ' + value;\n\t\t\t}\n\t\t} );\n\n\t\tforEach( this.attrs.named, ( value, name ) => {\n\t\t\ttext += ' ' + name + '=\"' + value + '\"';\n\t\t} );\n\n\t\t// If the tag is marked as `single` or `self-closing`, close the tag and\n\t\t// ignore any additional content.\n\t\tif ( 'single' === this.type ) {\n\t\t\treturn text + ']';\n\t\t} else if ( 'self-closing' === this.type ) {\n\t\t\treturn text + ' /]';\n\t\t}\n\n\t\t// Complete the opening tag.\n\t\ttext += ']';\n\n\t\tif ( this.content ) {\n\t\t\ttext += this.content;\n\t\t}\n\n\t\t// Add the closing tag.\n\t\treturn text + '[/' + this.tag + ']';\n\t},\n} );\n\nexport default shortcode;\n","/**\n * External dependencies\n */\nimport { some, castArray, find, mapValues, pickBy, includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { regexp, next } from '@wordpress/shortcode';\n\n/**\n * Internal dependencies\n */\nimport { createBlock, getBlockTransforms, findTransform } from '../factory';\nimport { getBlockType } from '../registration';\nimport { getBlockAttributes } from '../parser';\n\nfunction segmentHTMLToShortcodeBlock(\n\tHTML,\n\tlastIndex = 0,\n\texcludedBlockNames = []\n) {\n\t// Get all matches.\n\tconst transformsFrom = getBlockTransforms( 'from' );\n\n\tconst transformation = findTransform(\n\t\ttransformsFrom,\n\t\t( transform ) =>\n\t\t\texcludedBlockNames.indexOf( transform.blockName ) === -1 &&\n\t\t\ttransform.type === 'shortcode' &&\n\t\t\tsome( castArray( transform.tag ), ( tag ) =>\n\t\t\t\tregexp( tag ).test( HTML )\n\t\t\t)\n\t);\n\n\tif ( ! transformation ) {\n\t\treturn [ HTML ];\n\t}\n\n\tconst transformTags = castArray( transformation.tag );\n\tconst transformTag = find( transformTags, ( tag ) =>\n\t\tregexp( tag ).test( HTML )\n\t);\n\n\tlet match;\n\tconst previousIndex = lastIndex;\n\n\tif ( ( match = next( transformTag, HTML, lastIndex ) ) ) {\n\t\tlastIndex = match.index + match.content.length;\n\t\tconst beforeHTML = HTML.substr( 0, match.index );\n\t\tconst afterHTML = HTML.substr( lastIndex );\n\n\t\t// If the shortcode content does not contain HTML and the shortcode is\n\t\t// not on a new line (or in paragraph from Markdown converter),\n\t\t// consider the shortcode as inline text, and thus skip conversion for\n\t\t// this segment.\n\t\tif (\n\t\t\t! includes( match.shortcode.content || '', '<' ) &&\n\t\t\t! (\n\t\t\t\t/(\\n|<p>)\\s*$/.test( beforeHTML ) &&\n\t\t\t\t/^\\s*(\\n|<\\/p>)/.test( afterHTML )\n\t\t\t)\n\t\t) {\n\t\t\treturn segmentHTMLToShortcodeBlock( HTML, lastIndex );\n\t\t}\n\n\t\t// If a transformation's `isMatch` predicate fails for the inbound\n\t\t// shortcode, try again by excluding the current block type.\n\t\t//\n\t\t// This is the only call to `segmentHTMLToShortcodeBlock` that should\n\t\t// ever carry over `excludedBlockNames`. Other calls in the module\n\t\t// should skip that argument as a way to reset the exclusion state, so\n\t\t// that one `isMatch` fail in an HTML fragment doesn't prevent any\n\t\t// valid matches in subsequent fragments.\n\t\tif (\n\t\t\ttransformation.isMatch &&\n\t\t\t! transformation.isMatch( match.shortcode.attrs )\n\t\t) {\n\t\t\treturn segmentHTMLToShortcodeBlock( HTML, previousIndex, [\n\t\t\t\t...excludedBlockNames,\n\t\t\t\ttransformation.blockName,\n\t\t\t] );\n\t\t}\n\n\t\tconst attributes = mapValues(\n\t\t\tpickBy( transformation.attributes, ( schema ) => schema.shortcode ),\n\t\t\t// Passing all of `match` as second argument is intentionally broad\n\t\t\t// but shouldn't be too relied upon.\n\t\t\t//\n\t\t\t// See: https://github.com/WordPress/gutenberg/pull/3610#discussion_r152546926\n\t\t\t( schema ) => schema.shortcode( match.shortcode.attrs, match )\n\t\t);\n\n\t\tconst block = createBlock(\n\t\t\ttransformation.blockName,\n\t\t\tgetBlockAttributes(\n\t\t\t\t{\n\t\t\t\t\t...getBlockType( transformation.blockName ),\n\t\t\t\t\tattributes: transformation.attributes,\n\t\t\t\t},\n\t\t\t\tmatch.shortcode.content,\n\t\t\t\tattributes\n\t\t\t)\n\t\t);\n\n\t\treturn [\n\t\t\tbeforeHTML,\n\t\t\tblock,\n\t\t\t...segmentHTMLToShortcodeBlock( HTML.substr( lastIndex ) ),\n\t\t];\n\t}\n\n\treturn [ HTML ];\n}\n\nexport default segmentHTMLToShortcodeBlock;\n","/**\n * WordPress dependencies\n */\nimport { remove } from '@wordpress/dom';\n\n/**\n * Browser dependencies\n */\nconst { COMMENT_NODE } = window.Node;\n\n/**\n * Looks for comments, and removes them.\n *\n * @param {Node} node The node to be processed.\n * @return {void}\n */\nexport default function( node ) {\n\tif ( node.nodeType === COMMENT_NODE ) {\n\t\tremove( node );\n\t}\n}\n","/**\n * External dependencies\n */\nimport { difference } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { isTextContent } from './phrasing-content';\n\n/**\n * Checks if the given node should be considered inline content, optionally\n * depending on a context tag.\n *\n * @param {Node}   node       Node name.\n * @param {string} contextTag Tag name.\n *\n * @return {boolean} True if the node is inline content, false if nohe.\n */\nfunction isInline( node, contextTag ) {\n\tif ( isTextContent( node ) ) {\n\t\treturn true;\n\t}\n\n\tif ( ! contextTag ) {\n\t\treturn false;\n\t}\n\n\tconst tag = node.nodeName.toLowerCase();\n\tconst inlineWhitelistTagGroups = [\n\t\t[ 'ul', 'li', 'ol' ],\n\t\t[ 'h1', 'h2', 'h3', 'h4', 'h5', 'h6' ],\n\t];\n\n\treturn inlineWhitelistTagGroups.some(\n\t\t( tagGroup ) => difference( [ tag, contextTag ], tagGroup ).length === 0\n\t);\n}\n\nfunction deepCheck( nodes, contextTag ) {\n\treturn nodes.every(\n\t\t( node ) =>\n\t\t\tisInline( node, contextTag ) &&\n\t\t\tdeepCheck( Array.from( node.children ), contextTag )\n\t);\n}\n\nfunction isDoubleBR( node ) {\n\treturn (\n\t\tnode.nodeName === 'BR' &&\n\t\tnode.previousSibling &&\n\t\tnode.previousSibling.nodeName === 'BR'\n\t);\n}\n\nexport default function( HTML, contextTag ) {\n\tconst doc = document.implementation.createHTMLDocument( '' );\n\n\tdoc.body.innerHTML = HTML;\n\n\tconst nodes = Array.from( doc.body.children );\n\n\treturn ! nodes.some( isDoubleBR ) && deepCheck( nodes, contextTag );\n}\n","/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { wrap, replaceTag } from '@wordpress/dom';\n\nexport default function( node, doc ) {\n\t// In jsdom-jscore, 'node.style' can be null.\n\t// TODO: Explore fixing this by patching jsdom-jscore.\n\tif ( node.nodeName === 'SPAN' && node.style ) {\n\t\tconst {\n\t\t\tfontWeight,\n\t\t\tfontStyle,\n\t\t\ttextDecorationLine,\n\t\t\ttextDecoration,\n\t\t\tverticalAlign,\n\t\t} = node.style;\n\n\t\tif ( fontWeight === 'bold' || fontWeight === '700' ) {\n\t\t\twrap( doc.createElement( 'strong' ), node );\n\t\t}\n\n\t\tif ( fontStyle === 'italic' ) {\n\t\t\twrap( doc.createElement( 'em' ), node );\n\t\t}\n\n\t\t// Some DOM implementations (Safari, JSDom) don't support\n\t\t// style.textDecorationLine, so we check style.textDecoration as a\n\t\t// fallback.\n\t\tif (\n\t\t\ttextDecorationLine === 'line-through' ||\n\t\t\tincludes( textDecoration, 'line-through' )\n\t\t) {\n\t\t\twrap( doc.createElement( 's' ), node );\n\t\t}\n\n\t\tif ( verticalAlign === 'super' ) {\n\t\t\twrap( doc.createElement( 'sup' ), node );\n\t\t} else if ( verticalAlign === 'sub' ) {\n\t\t\twrap( doc.createElement( 'sub' ), node );\n\t\t}\n\t} else if ( node.nodeName === 'B' ) {\n\t\tnode = replaceTag( node, 'strong' );\n\t} else if ( node.nodeName === 'I' ) {\n\t\tnode = replaceTag( node, 'em' );\n\t} else if ( node.nodeName === 'A' ) {\n\t\t// In jsdom-jscore, 'node.target' can be null.\n\t\t// TODO: Explore fixing this by patching jsdom-jscore.\n\t\tif ( node.target && node.target.toLowerCase() === '_blank' ) {\n\t\t\tnode.rel = 'noreferrer noopener';\n\t\t} else {\n\t\t\tnode.removeAttribute( 'target' );\n\t\t\tnode.removeAttribute( 'rel' );\n\t\t}\n\t}\n}\n","export default function( node ) {\n\tif (\n\t\tnode.nodeName !== 'SCRIPT' &&\n\t\tnode.nodeName !== 'NOSCRIPT' &&\n\t\tnode.nodeName !== 'TEMPLATE' &&\n\t\tnode.nodeName !== 'STYLE'\n\t) {\n\t\treturn;\n\t}\n\n\tnode.parentNode.removeChild( node );\n}\n","/**\n * Browser dependencies\n */\nconst { parseInt } = window;\n\nfunction isList( node ) {\n\treturn node.nodeName === 'OL' || node.nodeName === 'UL';\n}\n\nexport default function( node, doc ) {\n\tif ( node.nodeName !== 'P' ) {\n\t\treturn;\n\t}\n\n\tconst style = node.getAttribute( 'style' );\n\n\tif ( ! style ) {\n\t\treturn;\n\t}\n\n\t// Quick check.\n\tif ( style.indexOf( 'mso-list' ) === -1 ) {\n\t\treturn;\n\t}\n\n\tconst matches = /mso-list\\s*:[^;]+level([0-9]+)/i.exec( style );\n\n\tif ( ! matches ) {\n\t\treturn;\n\t}\n\n\tlet level = parseInt( matches[ 1 ], 10 ) - 1 || 0;\n\n\tconst prevNode = node.previousElementSibling;\n\n\t// Add new list if no previous.\n\tif ( ! prevNode || ! isList( prevNode ) ) {\n\t\t// See https://html.spec.whatwg.org/multipage/grouping-content.html#attr-ol-type.\n\t\tconst type = node.textContent.trim().slice( 0, 1 );\n\t\tconst isNumeric = /[1iIaA]/.test( type );\n\t\tconst newListNode = doc.createElement( isNumeric ? 'ol' : 'ul' );\n\n\t\tif ( isNumeric ) {\n\t\t\tnewListNode.setAttribute( 'type', type );\n\t\t}\n\n\t\tnode.parentNode.insertBefore( newListNode, node );\n\t}\n\n\tconst listNode = node.previousElementSibling;\n\tconst listType = listNode.nodeName;\n\tconst listItem = doc.createElement( 'li' );\n\n\tlet receivingNode = listNode;\n\n\t// Remove the first span with list info.\n\tnode.removeChild( node.firstElementChild );\n\n\t// Add content.\n\twhile ( node.firstChild ) {\n\t\tlistItem.appendChild( node.firstChild );\n\t}\n\n\t// Change pointer depending on indentation level.\n\twhile ( level-- ) {\n\t\treceivingNode = receivingNode.lastElementChild || receivingNode;\n\n\t\t// If it's a list, move pointer to the last item.\n\t\tif ( isList( receivingNode ) ) {\n\t\t\treceivingNode = receivingNode.lastElementChild || receivingNode;\n\t\t}\n\t}\n\n\t// Make sure we append to a list.\n\tif ( ! isList( receivingNode ) ) {\n\t\treceivingNode = receivingNode.appendChild(\n\t\t\tdoc.createElement( listType )\n\t\t);\n\t}\n\n\t// Append the list item to the list.\n\treceivingNode.appendChild( listItem );\n\n\t// Remove the wrapper paragraph.\n\tnode.parentNode.removeChild( node );\n}\n","/**\n * Browser dependencies\n */\nconst { createObjectURL, revokeObjectURL } = window.URL;\n\n/**\n * @type {Record<string, File|undefined>}\n */\nconst cache = {};\n\n/**\n * Create a blob URL from a file.\n *\n * @param {File} file The file to create a blob URL for.\n *\n * @return {string} The blob URL.\n */\nexport function createBlobURL( file ) {\n\tconst url = createObjectURL( file );\n\n\tcache[ url ] = file;\n\n\treturn url;\n}\n\n/**\n * Retrieve a file based on a blob URL. The file must have been created by\n * `createBlobURL` and not removed by `revokeBlobURL`, otherwise it will return\n * `undefined`.\n *\n * @param {string} url The blob URL.\n *\n * @return {File|undefined} The file for the blob URL.\n */\nexport function getBlobByURL( url ) {\n\treturn cache[ url ];\n}\n\n/**\n * Remove the resource and file cache from memory.\n *\n * @param {string} url The blob URL.\n */\nexport function revokeBlobURL( url ) {\n\tif ( cache[ url ] ) {\n\t\trevokeObjectURL( url );\n\t}\n\n\tdelete cache[ url ];\n}\n\n/**\n * Check whether a url is a blob url.\n *\n * @param {string} url The URL.\n *\n * @return {boolean} Is the url a blob url?\n */\nexport function isBlobURL( url ) {\n\tif ( ! url || ! url.indexOf ) {\n\t\treturn false;\n\t}\n\treturn url.indexOf( 'blob:' ) === 0;\n}\n","/**\n * WordPress dependencies\n */\nimport { createBlobURL } from '@wordpress/blob';\n\n/**\n * Browser dependencies\n */\nconst { atob, File } = window;\n\nexport default function( node ) {\n\tif ( node.nodeName !== 'IMG' ) {\n\t\treturn;\n\t}\n\n\tif ( node.src.indexOf( 'file:' ) === 0 ) {\n\t\tnode.src = '';\n\t}\n\n\t// This piece cannot be tested outside a browser env.\n\tif ( node.src.indexOf( 'data:' ) === 0 ) {\n\t\tconst [ properties, data ] = node.src.split( ',' );\n\t\tconst [ type ] = properties.slice( 5 ).split( ';' );\n\n\t\tif ( ! data || ! type ) {\n\t\t\tnode.src = '';\n\t\t\treturn;\n\t\t}\n\n\t\tlet decoded;\n\n\t\t// Can throw DOMException!\n\t\ttry {\n\t\t\tdecoded = atob( data );\n\t\t} catch ( e ) {\n\t\t\tnode.src = '';\n\t\t\treturn;\n\t\t}\n\n\t\tconst uint8Array = new Uint8Array( decoded.length );\n\n\t\tfor ( let i = 0; i < uint8Array.length; i++ ) {\n\t\t\tuint8Array[ i ] = decoded.charCodeAt( i );\n\t\t}\n\n\t\tconst name = type.replace( '/', '.' );\n\t\tconst file = new File( [ uint8Array ], name, { type } );\n\n\t\tnode.src = createBlobURL( file );\n\t}\n\n\t// Remove trackers and hardly visible images.\n\tif ( node.height === 1 || node.width === 1 ) {\n\t\tnode.parentNode.removeChild( node );\n\t}\n}\n","/**\n * External dependencies\n */\nimport showdown from 'showdown';\n\n// Reuse the same showdown converter.\nconst converter = new showdown.Converter( {\n\tnoHeaderId: true,\n\ttables: true,\n\tliteralMidWordUnderscores: true,\n\tomitExtraWLInCodeBlocks: true,\n\tsimpleLineBreaks: true,\n\tstrikethrough: true,\n} );\n\n/**\n * Corrects the Slack Markdown variant of the code block.\n * If uncorrected, it will be converted to inline code.\n *\n * @see https://get.slack.help/hc/en-us/articles/202288908-how-can-i-add-formatting-to-my-messages-#code-blocks\n *\n * @param {string} text The potential Markdown text to correct.\n *\n * @return {string} The corrected Markdown.\n */\nfunction slackMarkdownVariantCorrector( text ) {\n\treturn text.replace(\n\t\t/((?:^|\\n)```)([^\\n`]+)(```(?:$|\\n))/,\n\t\t( match, p1, p2, p3 ) => `${ p1 }\\n${ p2 }\\n${ p3 }`\n\t);\n}\n\n/**\n * Converts a piece of text into HTML based on any Markdown present.\n * Also decodes any encoded HTML.\n *\n * @param {string} text The plain text to convert.\n *\n * @return {string} HTML.\n */\nexport default function( text ) {\n\treturn converter.makeHtml( slackMarkdownVariantCorrector( text ) );\n}\n","/**\n * Removes iframes.\n *\n * @param {Node} node The node to check.\n *\n * @return {void}\n */\nexport default function( node ) {\n\tif ( node.nodeName === 'IFRAME' ) {\n\t\tconst text = node.ownerDocument.createTextNode( node.src );\n\t\tnode.parentNode.replaceChild( text, node );\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { unwrap } from '@wordpress/dom';\n\nexport default function( node ) {\n\tif ( ! node.id || node.id.indexOf( 'docs-internal-guid-' ) !== 0 ) {\n\t\treturn;\n\t}\n\n\tunwrap( node );\n}\n","/**\n * Internal dependencies\n */\nimport { getSibling } from './utils';\n\nfunction isFormattingSpace( character ) {\n\treturn (\n\t\tcharacter === ' ' ||\n\t\tcharacter === '\\r' ||\n\t\tcharacter === '\\n' ||\n\t\tcharacter === '\\t'\n\t);\n}\n\n/**\n * Removes spacing that formats HTML.\n *\n * @see https://www.w3.org/TR/css-text-3/#white-space-processing\n *\n * @param {Node} node The node to be processed.\n * @return {void}\n */\nexport default function( node ) {\n\tif ( node.nodeType !== node.TEXT_NODE ) {\n\t\treturn;\n\t}\n\n\t// Ignore pre content. Note that this does not use Element#closest due to\n\t// a combination of (a) node may not be Element and (b) node.parentElement\n\t// does not have full support in all browsers (Internet Exporer).\n\t//\n\t// See: https://developer.mozilla.org/en-US/docs/Web/API/Node/parentElement#Browser_compatibility\n\n\t/** @type {Node?} */\n\tlet parent = node;\n\twhile ( ( parent = parent.parentNode ) ) {\n\t\tif (\n\t\t\tparent.nodeType === window.Node.ELEMENT_NODE &&\n\t\t\tparent.nodeName === 'PRE'\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// First, replace any sequence of HTML formatting space with a single space.\n\tlet newData = node.data.replace( /[ \\r\\n\\t]+/g, ' ' );\n\n\t// Remove the leading space if the text element is at the start of a block,\n\t// is preceded by a line break element, or has a space in the previous\n\t// node.\n\tif ( newData[ 0 ] === ' ' ) {\n\t\tconst previousSibling = getSibling( node, 'previous' );\n\n\t\tif (\n\t\t\t! previousSibling ||\n\t\t\tpreviousSibling.nodeName === 'BR' ||\n\t\t\tpreviousSibling.textContent.slice( -1 ) === ' '\n\t\t) {\n\t\t\tnewData = newData.slice( 1 );\n\t\t}\n\t}\n\n\t// Remove the trailing space if the text element is at the end of a block,\n\t// is succeded by a line break element, or has a space in the next text\n\t// node.\n\tif ( newData[ newData.length - 1 ] === ' ' ) {\n\t\tconst nextSibling = getSibling( node, 'next' );\n\n\t\tif (\n\t\t\t! nextSibling ||\n\t\t\tnextSibling.nodeName === 'BR' ||\n\t\t\t( nextSibling.nodeType === nextSibling.TEXT_NODE &&\n\t\t\t\tisFormattingSpace( nextSibling.textContent[ 0 ] ) )\n\t\t) {\n\t\t\tnewData = newData.slice( 0, -1 );\n\t\t}\n\t}\n\n\t// If there's no data left, remove the node, so `previousSibling` stays\n\t// accurate. Otherwise, update the node data.\n\tif ( ! newData ) {\n\t\tnode.parentNode.removeChild( node );\n\t} else {\n\t\tnode.data = newData;\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport { getSibling } from './utils';\n\n/**\n * Removes trailing br elements from text-level content.\n *\n * @param {Element} node Node to check.\n */\nexport default function( node ) {\n\tif ( node.nodeName !== 'BR' ) {\n\t\treturn;\n\t}\n\n\tif ( getSibling( node, 'next' ) ) {\n\t\treturn;\n\t}\n\n\tnode.parentNode.removeChild( node );\n}\n","/**\n * Removes empty paragraph elements.\n *\n * @param {Element} node Node to check.\n */\nexport default function( node ) {\n\tif ( node.nodeName !== 'P' ) {\n\t\treturn;\n\t}\n\n\tif ( node.hasChildNodes() ) {\n\t\treturn;\n\t}\n\n\tnode.parentNode.removeChild( node );\n}\n","/**\n * External dependencies\n */\nimport { flatMap, filter, compact } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { createBlock, getBlockTransforms, findTransform } from '../factory';\nimport { hasBlockSupport } from '../registration';\nimport { getBlockContent } from '../serializer';\nimport { getBlockAttributes, parseWithGrammar } from '../parser';\nimport normaliseBlocks from './normalise-blocks';\nimport specialCommentConverter from './special-comment-converter';\nimport commentRemover from './comment-remover';\nimport isInlineContent from './is-inline-content';\nimport phrasingContentReducer from './phrasing-content-reducer';\nimport headRemover from './head-remover';\nimport msListConverter from './ms-list-converter';\nimport listReducer from './list-reducer';\nimport imageCorrector from './image-corrector';\nimport blockquoteNormaliser from './blockquote-normaliser';\nimport figureContentReducer from './figure-content-reducer';\nimport shortcodeConverter from './shortcode-converter';\nimport markdownConverter from './markdown-converter';\nimport iframeRemover from './iframe-remover';\nimport googleDocsUIDRemover from './google-docs-uid-remover';\nimport htmlFormattingRemover from './html-formatting-remover';\nimport brRemover from './br-remover';\nimport { getPhrasingContentSchema } from './phrasing-content';\nimport {\n\tdeepFilterHTML,\n\tisPlain,\n\tremoveInvalidHTML,\n\tgetBlockContentSchema,\n} from './utils';\nimport emptyParagraphRemover from './empty-paragraph-remover';\n\n/**\n * Browser dependencies\n */\nconst { console } = window;\n\n/**\n * Filters HTML to only contain phrasing content.\n *\n * @param {string} HTML The HTML to filter.\n *\n * @return {string} HTML only containing phrasing content.\n */\nfunction filterInlineHTML( HTML ) {\n\tHTML = deepFilterHTML( HTML, [\n\t\tgoogleDocsUIDRemover,\n\t\tphrasingContentReducer,\n\t\tcommentRemover,\n\t] );\n\tHTML = removeInvalidHTML( HTML, getPhrasingContentSchema( 'paste' ), {\n\t\tinline: true,\n\t} );\n\tHTML = deepFilterHTML( HTML, [ htmlFormattingRemover, brRemover ] );\n\n\t// Allows us to ask for this information when we get a report.\n\tconsole.log( 'Processed inline HTML:\\n\\n', HTML );\n\n\treturn HTML;\n}\n\nfunction getRawTransformations() {\n\treturn filter( getBlockTransforms( 'from' ), { type: 'raw' } ).map(\n\t\t( transform ) => {\n\t\t\treturn transform.isMatch\n\t\t\t\t? transform\n\t\t\t\t: {\n\t\t\t\t\t\t...transform,\n\t\t\t\t\t\tisMatch: ( node ) =>\n\t\t\t\t\t\t\ttransform.selector &&\n\t\t\t\t\t\t\tnode.matches( transform.selector ),\n\t\t\t\t  };\n\t\t}\n\t);\n}\n\n/**\n * Converts HTML directly to blocks. Looks for a matching transform for each\n * top-level tag. The HTML should be filtered to not have any text between\n * top-level tags and formatted in a way that blocks can handle the HTML.\n *\n * @param  {Object} $1               Named parameters.\n * @param  {string} $1.html          HTML to convert.\n * @param  {Array}  $1.rawTransforms Transforms that can be used.\n *\n * @return {Array} An array of blocks.\n */\nfunction htmlToBlocks( { html, rawTransforms } ) {\n\tconst doc = document.implementation.createHTMLDocument( '' );\n\n\tdoc.body.innerHTML = html;\n\n\treturn Array.from( doc.body.children ).map( ( node ) => {\n\t\tconst rawTransform = findTransform( rawTransforms, ( { isMatch } ) =>\n\t\t\tisMatch( node )\n\t\t);\n\n\t\tif ( ! rawTransform ) {\n\t\t\treturn createBlock(\n\t\t\t\t// Should not be hardcoded.\n\t\t\t\t'core/html',\n\t\t\t\tgetBlockAttributes( 'core/html', node.outerHTML )\n\t\t\t);\n\t\t}\n\n\t\tconst { transform, blockName } = rawTransform;\n\n\t\tif ( transform ) {\n\t\t\treturn transform( node );\n\t\t}\n\n\t\treturn createBlock(\n\t\t\tblockName,\n\t\t\tgetBlockAttributes( blockName, node.outerHTML )\n\t\t);\n\t} );\n}\n\n/**\n * Converts an HTML string to known blocks. Strips everything else.\n *\n * @param {Object}  options\n * @param {string}  [options.HTML]      The HTML to convert.\n * @param {string}  [options.plainText] Plain text version.\n * @param {string}  [options.mode]      Handle content as blocks or inline content.\n *                                      * 'AUTO': Decide based on the content passed.\n *                                      * 'INLINE': Always handle as inline content, and return string.\n *                                      * 'BLOCKS': Always handle as blocks, and return array of blocks.\n * @param {Array}   [options.tagName]   The tag into which content will be inserted.\n *\n * @return {Array|string} A list of blocks or a string, depending on `handlerMode`.\n */\nexport function pasteHandler( {\n\tHTML = '',\n\tplainText = '',\n\tmode = 'AUTO',\n\ttagName,\n} ) {\n\t// First of all, strip any meta tags.\n\tHTML = HTML.replace( /<meta[^>]+>/g, '' );\n\t// Strip Windows markers.\n\tHTML = HTML.replace(\n\t\t/^\\s*<html[^>]*>\\s*<body[^>]*>(?:\\s*<!--\\s*StartFragment\\s*-->)?/i,\n\t\t''\n\t);\n\tHTML = HTML.replace(\n\t\t/(?:<!--\\s*EndFragment\\s*-->\\s*)?<\\/body>\\s*<\\/html>\\s*$/i,\n\t\t''\n\t);\n\n\t// If we detect block delimiters in HTML, parse entirely as blocks.\n\tif ( mode !== 'INLINE' ) {\n\t\t// Check plain text if there is no HTML.\n\t\tconst content = HTML ? HTML : plainText;\n\n\t\tif ( content.indexOf( '<!-- wp:' ) !== -1 ) {\n\t\t\treturn parseWithGrammar( content );\n\t\t}\n\t}\n\n\t// Normalize unicode to use composed characters.\n\t// This is unsupported in IE 11 but it's a nice-to-have feature, not mandatory.\n\t// Not normalizing the content will only affect older browsers and won't\n\t// entirely break the app.\n\t// See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\n\t// See: https://core.trac.wordpress.org/ticket/30130\n\t// See: https://github.com/WordPress/gutenberg/pull/6983#pullrequestreview-125151075\n\tif ( String.prototype.normalize ) {\n\t\tHTML = HTML.normalize();\n\t}\n\n\t// Parse Markdown (and encoded HTML) if:\n\t// * There is a plain text version.\n\t// * There is no HTML version, or it has no formatting.\n\tif ( plainText && ( ! HTML || isPlain( HTML ) ) ) {\n\t\tHTML = markdownConverter( plainText );\n\n\t\t// Switch to inline mode if:\n\t\t// * The current mode is AUTO.\n\t\t// * The original plain text had no line breaks.\n\t\t// * The original plain text was not an HTML paragraph.\n\t\t// * The converted text is just a paragraph.\n\t\tif (\n\t\t\tmode === 'AUTO' &&\n\t\t\tplainText.indexOf( '\\n' ) === -1 &&\n\t\t\tplainText.indexOf( '<p>' ) !== 0 &&\n\t\t\tHTML.indexOf( '<p>' ) === 0\n\t\t) {\n\t\t\tmode = 'INLINE';\n\t\t}\n\t}\n\n\tif ( mode === 'INLINE' ) {\n\t\treturn filterInlineHTML( HTML );\n\t}\n\n\t// An array of HTML strings and block objects. The blocks replace matched\n\t// shortcodes.\n\tconst pieces = shortcodeConverter( HTML );\n\n\t// The call to shortcodeConverter will always return more than one element\n\t// if shortcodes are matched. The reason is when shortcodes are matched\n\t// empty HTML strings are included.\n\tconst hasShortcodes = pieces.length > 1;\n\n\tif (\n\t\tmode === 'AUTO' &&\n\t\t! hasShortcodes &&\n\t\tisInlineContent( HTML, tagName )\n\t) {\n\t\treturn filterInlineHTML( HTML );\n\t}\n\n\tconst rawTransforms = getRawTransformations();\n\tconst phrasingContentSchema = getPhrasingContentSchema( 'paste' );\n\tconst blockContentSchema = getBlockContentSchema(\n\t\trawTransforms,\n\t\tphrasingContentSchema,\n\t\ttrue\n\t);\n\n\tconst blocks = compact(\n\t\tflatMap( pieces, ( piece ) => {\n\t\t\t// Already a block from shortcode.\n\t\t\tif ( typeof piece !== 'string' ) {\n\t\t\t\treturn piece;\n\t\t\t}\n\n\t\t\tconst filters = [\n\t\t\t\tgoogleDocsUIDRemover,\n\t\t\t\tmsListConverter,\n\t\t\t\theadRemover,\n\t\t\t\tlistReducer,\n\t\t\t\timageCorrector,\n\t\t\t\tphrasingContentReducer,\n\t\t\t\tspecialCommentConverter,\n\t\t\t\tcommentRemover,\n\t\t\t\tiframeRemover,\n\t\t\t\tfigureContentReducer,\n\t\t\t\tblockquoteNormaliser,\n\t\t\t];\n\n\t\t\tconst schema = {\n\t\t\t\t...blockContentSchema,\n\t\t\t\t// Keep top-level phrasing content, normalised by `normaliseBlocks`.\n\t\t\t\t...phrasingContentSchema,\n\t\t\t};\n\n\t\t\tpiece = deepFilterHTML( piece, filters, blockContentSchema );\n\t\t\tpiece = removeInvalidHTML( piece, schema );\n\t\t\tpiece = normaliseBlocks( piece );\n\t\t\tpiece = deepFilterHTML(\n\t\t\t\tpiece,\n\t\t\t\t[ htmlFormattingRemover, brRemover, emptyParagraphRemover ],\n\t\t\t\tblockContentSchema\n\t\t\t);\n\n\t\t\t// Allows us to ask for this information when we get a report.\n\t\t\tconsole.log( 'Processed HTML piece:\\n\\n', piece );\n\n\t\t\treturn htmlToBlocks( { html: piece, rawTransforms } );\n\t\t} )\n\t);\n\n\t// If we're allowed to return inline content, and there is only one inlineable block,\n\t// and the original plain text content does not have any line breaks, then\n\t// treat it as inline paste.\n\tif (\n\t\tmode === 'AUTO' &&\n\t\tblocks.length === 1 &&\n\t\thasBlockSupport( blocks[ 0 ].name, '__unstablePasteTextInline', false )\n\t) {\n\t\tconst trimmedPlainText = plainText.trim();\n\n\t\tif (\n\t\t\ttrimmedPlainText !== '' &&\n\t\t\ttrimmedPlainText.indexOf( '\\n' ) === -1\n\t\t) {\n\t\t\treturn removeInvalidHTML(\n\t\t\t\tgetBlockContent( blocks[ 0 ] ),\n\t\t\t\tphrasingContentSchema\n\t\t\t);\n\t\t}\n\t}\n\n\treturn blocks;\n}\n","/**\n * External dependencies\n */\nimport { flatMap, filter, compact } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { createBlock, getBlockTransforms, findTransform } from '../factory';\nimport { getBlockAttributes, parseWithGrammar } from '../parser';\nimport normaliseBlocks from './normalise-blocks';\nimport specialCommentConverter from './special-comment-converter';\nimport listReducer from './list-reducer';\nimport blockquoteNormaliser from './blockquote-normaliser';\nimport figureContentReducer from './figure-content-reducer';\nimport shortcodeConverter from './shortcode-converter';\nimport { deepFilterHTML, getBlockContentSchema } from './utils';\n\nimport { getPhrasingContentSchema } from './phrasing-content';\n\nexport { pasteHandler } from './paste-handler';\nexport { getPhrasingContentSchema };\n\nfunction getRawTransformations() {\n\treturn filter( getBlockTransforms( 'from' ), { type: 'raw' } ).map(\n\t\t( transform ) => {\n\t\t\treturn transform.isMatch\n\t\t\t\t? transform\n\t\t\t\t: {\n\t\t\t\t\t\t...transform,\n\t\t\t\t\t\tisMatch: ( node ) =>\n\t\t\t\t\t\t\ttransform.selector &&\n\t\t\t\t\t\t\tnode.matches( transform.selector ),\n\t\t\t\t  };\n\t\t}\n\t);\n}\n\n/**\n * Converts HTML directly to blocks. Looks for a matching transform for each\n * top-level tag. The HTML should be filtered to not have any text between\n * top-level tags and formatted in a way that blocks can handle the HTML.\n *\n * @param  {Object} $1               Named parameters.\n * @param  {string} $1.html          HTML to convert.\n * @param  {Array}  $1.rawTransforms Transforms that can be used.\n *\n * @return {Array} An array of blocks.\n */\nfunction htmlToBlocks( { html, rawTransforms } ) {\n\tconst doc = document.implementation.createHTMLDocument( '' );\n\n\tdoc.body.innerHTML = html;\n\n\treturn Array.from( doc.body.children ).map( ( node ) => {\n\t\tconst rawTransform = findTransform( rawTransforms, ( { isMatch } ) =>\n\t\t\tisMatch( node )\n\t\t);\n\n\t\tif ( ! rawTransform ) {\n\t\t\treturn createBlock(\n\t\t\t\t// Should not be hardcoded.\n\t\t\t\t'core/html',\n\t\t\t\tgetBlockAttributes( 'core/html', node.outerHTML )\n\t\t\t);\n\t\t}\n\n\t\tconst { transform, blockName } = rawTransform;\n\n\t\tif ( transform ) {\n\t\t\treturn transform( node );\n\t\t}\n\n\t\treturn createBlock(\n\t\t\tblockName,\n\t\t\tgetBlockAttributes( blockName, node.outerHTML )\n\t\t);\n\t} );\n}\n\n/**\n * Converts an HTML string to known blocks.\n *\n * @param {Object} $1\n * @param {string} $1.HTML The HTML to convert.\n *\n * @return {Array} A list of blocks.\n */\nexport function rawHandler( { HTML = '' } ) {\n\t// If we detect block delimiters, parse entirely as blocks.\n\tif ( HTML.indexOf( '<!-- wp:' ) !== -1 ) {\n\t\treturn parseWithGrammar( HTML );\n\t}\n\n\t// An array of HTML strings and block objects. The blocks replace matched\n\t// shortcodes.\n\tconst pieces = shortcodeConverter( HTML );\n\tconst rawTransforms = getRawTransformations();\n\tconst phrasingContentSchema = getPhrasingContentSchema();\n\tconst blockContentSchema = getBlockContentSchema(\n\t\trawTransforms,\n\t\tphrasingContentSchema\n\t);\n\n\treturn compact(\n\t\tflatMap( pieces, ( piece ) => {\n\t\t\t// Already a block from shortcode.\n\t\t\tif ( typeof piece !== 'string' ) {\n\t\t\t\treturn piece;\n\t\t\t}\n\n\t\t\t// These filters are essential for some blocks to be able to transform\n\t\t\t// from raw HTML. These filters move around some content or add\n\t\t\t// additional tags, they do not remove any content.\n\t\t\tconst filters = [\n\t\t\t\t// Needed to adjust invalid lists.\n\t\t\t\tlistReducer,\n\t\t\t\t// Needed to create more and nextpage blocks.\n\t\t\t\tspecialCommentConverter,\n\t\t\t\t// Needed to create media blocks.\n\t\t\t\tfigureContentReducer,\n\t\t\t\t// Needed to create the quote block, which cannot handle text\n\t\t\t\t// without wrapper paragraphs.\n\t\t\t\tblockquoteNormaliser,\n\t\t\t];\n\n\t\t\tpiece = deepFilterHTML( piece, filters, blockContentSchema );\n\t\t\tpiece = normaliseBlocks( piece );\n\n\t\t\treturn htmlToBlocks( { html: piece, rawTransforms } );\n\t\t} )\n\t);\n}\n","/**\n * External dependencies\n */\nimport { every, map, get, mapValues, isArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { renderToString } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { createBlock } from './factory';\nimport { getBlockType } from './registration';\n\n/**\n * Checks whether a list of blocks matches a template by comparing the block names.\n *\n * @param {Array} blocks    Block list.\n * @param {Array} template  Block template.\n *\n * @return {boolean}        Whether the list of blocks matches a templates\n */\nexport function doBlocksMatchTemplate( blocks = [], template = [] ) {\n\treturn (\n\t\tblocks.length === template.length &&\n\t\tevery( template, ( [ name, , innerBlocksTemplate ], index ) => {\n\t\t\tconst block = blocks[ index ];\n\t\t\treturn (\n\t\t\t\tname === block.name &&\n\t\t\t\tdoBlocksMatchTemplate( block.innerBlocks, innerBlocksTemplate )\n\t\t\t);\n\t\t} )\n\t);\n}\n\n/**\n * Synchronize a block list with a block template.\n *\n * Synchronizing a block list with a block template means that we loop over the blocks\n * keep the block as is if it matches the block at the same position in the template\n * (If it has the same name) and if doesn't match, we create a new block based on the template.\n * Extra blocks not present in the template are removed.\n *\n * @param {Array} blocks    Block list.\n * @param {Array} template  Block template.\n *\n * @return {Array}          Updated Block list.\n */\nexport function synchronizeBlocksWithTemplate( blocks = [], template ) {\n\t// If no template is provided, return blocks unmodified.\n\tif ( ! template ) {\n\t\treturn blocks;\n\t}\n\n\treturn map(\n\t\ttemplate,\n\t\t( [ name, attributes, innerBlocksTemplate ], index ) => {\n\t\t\tconst block = blocks[ index ];\n\n\t\t\tif ( block && block.name === name ) {\n\t\t\t\tconst innerBlocks = synchronizeBlocksWithTemplate(\n\t\t\t\t\tblock.innerBlocks,\n\t\t\t\t\tinnerBlocksTemplate\n\t\t\t\t);\n\t\t\t\treturn { ...block, innerBlocks };\n\t\t\t}\n\n\t\t\t// To support old templates that were using the \"children\" format\n\t\t\t// for the attributes using \"html\" strings now, we normalize the template attributes\n\t\t\t// before creating the blocks.\n\n\t\t\tconst blockType = getBlockType( name );\n\t\t\tconst isHTMLAttribute = ( attributeDefinition ) =>\n\t\t\t\tget( attributeDefinition, [ 'source' ] ) === 'html';\n\t\t\tconst isQueryAttribute = ( attributeDefinition ) =>\n\t\t\t\tget( attributeDefinition, [ 'source' ] ) === 'query';\n\n\t\t\tconst normalizeAttributes = ( schema, values ) => {\n\t\t\t\treturn mapValues( values, ( value, key ) => {\n\t\t\t\t\treturn normalizeAttribute( schema[ key ], value );\n\t\t\t\t} );\n\t\t\t};\n\t\t\tconst normalizeAttribute = ( definition, value ) => {\n\t\t\t\tif ( isHTMLAttribute( definition ) && isArray( value ) ) {\n\t\t\t\t\t// Introduce a deprecated call at this point\n\t\t\t\t\t// When we're confident that \"children\" format should be removed from the templates.\n\n\t\t\t\t\treturn renderToString( value );\n\t\t\t\t}\n\n\t\t\t\tif ( isQueryAttribute( definition ) && value ) {\n\t\t\t\t\treturn value.map( ( subValues ) => {\n\t\t\t\t\t\treturn normalizeAttributes(\n\t\t\t\t\t\t\tdefinition.query,\n\t\t\t\t\t\t\tsubValues\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\treturn value;\n\t\t\t};\n\n\t\t\tconst normalizedAttributes = normalizeAttributes(\n\t\t\t\tget( blockType, [ 'attributes' ], {} ),\n\t\t\t\tattributes\n\t\t\t);\n\n\t\t\treturn createBlock(\n\t\t\t\tname,\n\t\t\t\tnormalizedAttributes,\n\t\t\t\tsynchronizeBlocksWithTemplate( [], innerBlocksTemplate )\n\t\t\t);\n\t\t}\n\t);\n}\n","/**\n * External dependencies\n */\nimport { keyBy, omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer managing the format types\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function formatTypes( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ADD_FORMAT_TYPES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...keyBy( action.formatTypes, 'name' ),\n\t\t\t};\n\t\tcase 'REMOVE_FORMAT_TYPES':\n\t\t\treturn omit( state, action.names );\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( { formatTypes } );\n","/**\n * External dependencies\n */\nimport createSelector from 'rememo';\nimport { find } from 'lodash';\n\n/**\n * Returns all the available format types.\n *\n * @param {Object} state Data state.\n *\n * @return {Array} Format types.\n */\nexport const getFormatTypes = createSelector(\n\t( state ) => Object.values( state.formatTypes ),\n\t( state ) => [ state.formatTypes ]\n);\n\n/**\n * Returns a format type by name.\n *\n * @param {Object} state Data state.\n * @param {string} name Format type name.\n *\n * @return {Object?} Format type.\n */\nexport function getFormatType( state, name ) {\n\treturn state.formatTypes[ name ];\n}\n\n/**\n * Gets the format type, if any, that can handle a bare element (without a\n * data-format-type attribute), given the tag name of this element.\n *\n * @param {Object} state              Data state.\n * @param {string} bareElementTagName The tag name of the element to find a\n *                                    format type for.\n * @return {?Object} Format type.\n */\nexport function getFormatTypeForBareElement( state, bareElementTagName ) {\n\treturn find( getFormatTypes( state ), ( { className, tagName } ) => {\n\t\treturn className === null && bareElementTagName === tagName;\n\t} );\n}\n\n/**\n * Gets the format type, if any, that can handle an element, given its classes.\n *\n * @param {Object} state            Data state.\n * @param {string} elementClassName The classes of the element to find a format\n *                                  type for.\n * @return {?Object} Format type.\n */\nexport function getFormatTypeForClassName( state, elementClassName ) {\n\treturn find( getFormatTypes( state ), ( { className } ) => {\n\t\tif ( className === null ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ` ${ elementClassName } `.indexOf( ` ${ className } ` ) >= 0;\n\t} );\n}\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/**\n * Returns an action object used in signalling that format types have been\n * added.\n *\n * @param {Array|Object} formatTypes Format types received.\n *\n * @return {Object} Action object.\n */\nexport function addFormatTypes( formatTypes ) {\n\treturn {\n\t\ttype: 'ADD_FORMAT_TYPES',\n\t\tformatTypes: castArray( formatTypes ),\n\t};\n}\n\n/**\n * Returns an action object used to remove a registered format type.\n *\n * @param {string|Array} names Format name.\n *\n * @return {Object} Action object.\n */\nexport function removeFormatTypes( names ) {\n\treturn {\n\t\ttype: 'REMOVE_FORMAT_TYPES',\n\t\tnames: castArray( names ),\n\t};\n}\n","/**\n * Optimised equality check for format objects.\n *\n * @param {?Object} format1 Format to compare.\n * @param {?Object} format2 Format to compare.\n *\n * @return {boolean} True if formats are equal, false if not.\n */\nexport function isFormatEqual( format1, format2 ) {\n\t// Both not defined.\n\tif ( format1 === format2 ) {\n\t\treturn true;\n\t}\n\n\t// Either not defined.\n\tif ( ! format1 || ! format2 ) {\n\t\treturn false;\n\t}\n\n\tif ( format1.type !== format2.type ) {\n\t\treturn false;\n\t}\n\n\tconst attributes1 = format1.attributes;\n\tconst attributes2 = format2.attributes;\n\n\t// Both not defined.\n\tif ( attributes1 === attributes2 ) {\n\t\treturn true;\n\t}\n\n\t// Either not defined.\n\tif ( ! attributes1 || ! attributes2 ) {\n\t\treturn false;\n\t}\n\n\tconst keys1 = Object.keys( attributes1 );\n\tconst keys2 = Object.keys( attributes2 );\n\n\tif ( keys1.length !== keys2.length ) {\n\t\treturn false;\n\t}\n\n\tconst length = keys1.length;\n\n\t// Optimise for speed.\n\tfor ( let i = 0; i < length; i++ ) {\n\t\tconst name = keys1[ i ];\n\n\t\tif ( attributes1[ name ] !== attributes2[ name ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n","/**\n * Internal dependencies\n */\n\nimport { isFormatEqual } from './is-format-equal';\n\n/**\n * Normalises formats: ensures subsequent adjacent equal formats have the same\n * reference.\n *\n * @param {Object} value Value to normalise formats of.\n *\n * @return {Object} New value with normalised formats.\n */\nexport function normaliseFormats( value ) {\n\tconst newFormats = value.formats.slice();\n\n\tnewFormats.forEach( ( formatsAtIndex, index ) => {\n\t\tconst formatsAtPreviousIndex = newFormats[ index - 1 ];\n\n\t\tif ( formatsAtPreviousIndex ) {\n\t\t\tconst newFormatsAtIndex = formatsAtIndex.slice();\n\n\t\t\tnewFormatsAtIndex.forEach( ( format, formatIndex ) => {\n\t\t\t\tconst previousFormat = formatsAtPreviousIndex[ formatIndex ];\n\n\t\t\t\tif ( isFormatEqual( format, previousFormat ) ) {\n\t\t\t\t\tnewFormatsAtIndex[ formatIndex ] = previousFormat;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tnewFormats[ index ] = newFormatsAtIndex;\n\t\t}\n\t} );\n\n\treturn {\n\t\t...value,\n\t\tformats: newFormats,\n\t};\n}\n","/**\n * Parse the given HTML into a body element.\n *\n * Note: The current implementation will return a shared reference, reset on\n * each call to `createElement`. Therefore, you should not hold a reference to\n * the value to operate upon asynchronously, as it may have unexpected results.\n *\n * @param {HTMLDocument} document The HTML document to use to parse.\n * @param {string}       html     The HTML to parse.\n *\n * @return {HTMLBodyElement} Body element with parsed HTML.\n */\nexport function createElement( { implementation }, html ) {\n\t// Because `createHTMLDocument` is an expensive operation, and with this\n\t// function being internal to `rich-text` (full control in avoiding a risk\n\t// of asynchronous operations on the shared reference), a single document\n\t// is reused and reset for each call to the function.\n\tif ( ! createElement.body ) {\n\t\tcreateElement.body = implementation.createHTMLDocument( '' ).body;\n\t}\n\n\tcreateElement.body.innerHTML = html;\n\n\treturn createElement.body;\n}\n","/**\n * WordPress dependencies\n */\nimport { registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\n\nregisterStore( 'core/rich-text', { reducer, selectors, actions } );\n","/**\n * WordPress dependencies\n */\nimport { select } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\n\nimport { isFormatEqual } from './is-format-equal';\nimport { createElement } from './create-element';\nimport { mergePair } from './concat';\nimport {\n\tLINE_SEPARATOR,\n\tOBJECT_REPLACEMENT_CHARACTER,\n\tZWNBSP,\n} from './special-characters';\n\nfunction createEmptyValue() {\n\treturn {\n\t\tformats: [],\n\t\treplacements: [],\n\t\ttext: '',\n\t};\n}\n\nfunction simpleFindKey( object, value ) {\n\tfor ( const key in object ) {\n\t\tif ( object[ key ] === value ) {\n\t\t\treturn key;\n\t\t}\n\t}\n}\n\nfunction toFormat( { type, attributes } ) {\n\tlet formatType;\n\n\tif ( attributes && attributes.class ) {\n\t\tformatType = select( 'core/rich-text' ).getFormatTypeForClassName(\n\t\t\tattributes.class\n\t\t);\n\n\t\tif ( formatType ) {\n\t\t\t// Preserve any additional classes.\n\t\t\tattributes.class = ` ${ attributes.class } `\n\t\t\t\t.replace( ` ${ formatType.className } `, ' ' )\n\t\t\t\t.trim();\n\n\t\t\tif ( ! attributes.class ) {\n\t\t\t\tdelete attributes.class;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( ! formatType ) {\n\t\tformatType = select( 'core/rich-text' ).getFormatTypeForBareElement(\n\t\t\ttype\n\t\t);\n\t}\n\n\tif ( ! formatType ) {\n\t\treturn attributes ? { type, attributes } : { type };\n\t}\n\n\tif (\n\t\tformatType.__experimentalCreatePrepareEditableTree &&\n\t\t! formatType.__experimentalCreateOnChangeEditableValue\n\t) {\n\t\treturn null;\n\t}\n\n\tif ( ! attributes ) {\n\t\treturn { type: formatType.name };\n\t}\n\n\tconst registeredAttributes = {};\n\tconst unregisteredAttributes = {};\n\n\tfor ( const name in attributes ) {\n\t\tconst key = simpleFindKey( formatType.attributes, name );\n\n\t\tif ( key ) {\n\t\t\tregisteredAttributes[ key ] = attributes[ name ];\n\t\t} else {\n\t\t\tunregisteredAttributes[ name ] = attributes[ name ];\n\t\t}\n\t}\n\n\treturn {\n\t\ttype: formatType.name,\n\t\tattributes: registeredAttributes,\n\t\tunregisteredAttributes,\n\t};\n}\n\n/**\n * Create a RichText value from an `Element` tree (DOM), an HTML string or a\n * plain text string, with optionally a `Range` object to set the selection. If\n * called without any input, an empty value will be created. If\n * `multilineTag` is provided, any content of direct children whose type matches\n * `multilineTag` will be separated by two newlines. The optional functions can\n * be used to filter out content.\n *\n * A value will have the following shape, which you are strongly encouraged not\n * to modify without the use of helper functions:\n *\n * ```js\n * {\n *   text: string,\n *   formats: Array,\n *   replacements: Array,\n *   ?start: number,\n *   ?end: number,\n * }\n * ```\n *\n * As you can see, text and formatting are separated. `text` holds the text,\n * including any replacement characters for objects and lines. `formats`,\n * `objects` and `lines` are all sparse arrays of the same length as `text`. It\n * holds information about the formatting at the relevant text indices. Finally\n * `start` and `end` state which text indices are selected. They are only\n * provided if a `Range` was given.\n *\n * @param {Object}  [$1]                      Optional named arguments.\n * @param {Element} [$1.element]              Element to create value from.\n * @param {string}  [$1.text]                 Text to create value from.\n * @param {string}  [$1.html]                 HTML to create value from.\n * @param {Range}   [$1.range]                Range to create value from.\n * @param {string}  [$1.multilineTag]         Multiline tag if the structure is\n *                                            multiline.\n * @param {Array}   [$1.multilineWrapperTags] Tags where lines can be found if\n *                                            nesting is possible.\n * @param {?boolean} [$1.preserveWhiteSpace]  Whether or not to collapse white\n *                                            space characters.\n *\n * @return {Object} A rich text value.\n */\nexport function create( {\n\telement,\n\ttext,\n\thtml,\n\trange,\n\tmultilineTag,\n\tmultilineWrapperTags,\n\t__unstableIsEditableTree: isEditableTree,\n\tpreserveWhiteSpace,\n} = {} ) {\n\tif ( typeof text === 'string' && text.length > 0 ) {\n\t\treturn {\n\t\t\tformats: Array( text.length ),\n\t\t\treplacements: Array( text.length ),\n\t\t\ttext,\n\t\t};\n\t}\n\n\tif ( typeof html === 'string' && html.length > 0 ) {\n\t\t// It does not matter which document this is, we're just using it to\n\t\t// parse.\n\t\telement = createElement( document, html );\n\t}\n\n\tif ( typeof element !== 'object' ) {\n\t\treturn createEmptyValue();\n\t}\n\n\tif ( ! multilineTag ) {\n\t\treturn createFromElement( {\n\t\t\telement,\n\t\t\trange,\n\t\t\tisEditableTree,\n\t\t\tpreserveWhiteSpace,\n\t\t} );\n\t}\n\n\treturn createFromMultilineElement( {\n\t\telement,\n\t\trange,\n\t\tmultilineTag,\n\t\tmultilineWrapperTags,\n\t\tisEditableTree,\n\t\tpreserveWhiteSpace,\n\t} );\n}\n\n/**\n * Helper to accumulate the value's selection start and end from the current\n * node and range.\n *\n * @param {Object} accumulator Object to accumulate into.\n * @param {Node}   node        Node to create value with.\n * @param {Range}  range       Range to create value with.\n * @param {Object} value       Value that is being accumulated.\n */\nfunction accumulateSelection( accumulator, node, range, value ) {\n\tif ( ! range ) {\n\t\treturn;\n\t}\n\n\tconst { parentNode } = node;\n\tconst { startContainer, startOffset, endContainer, endOffset } = range;\n\tconst currentLength = accumulator.text.length;\n\n\t// Selection can be extracted from value.\n\tif ( value.start !== undefined ) {\n\t\taccumulator.start = currentLength + value.start;\n\t\t// Range indicates that the current node has selection.\n\t} else if ( node === startContainer && node.nodeType === node.TEXT_NODE ) {\n\t\taccumulator.start = currentLength + startOffset;\n\t\t// Range indicates that the current node is selected.\n\t} else if (\n\t\tparentNode === startContainer &&\n\t\tnode === startContainer.childNodes[ startOffset ]\n\t) {\n\t\taccumulator.start = currentLength;\n\t\t// Range indicates that the selection is after the current node.\n\t} else if (\n\t\tparentNode === startContainer &&\n\t\tnode === startContainer.childNodes[ startOffset - 1 ]\n\t) {\n\t\taccumulator.start = currentLength + value.text.length;\n\t\t// Fallback if no child inside handled the selection.\n\t} else if ( node === startContainer ) {\n\t\taccumulator.start = currentLength;\n\t}\n\n\t// Selection can be extracted from value.\n\tif ( value.end !== undefined ) {\n\t\taccumulator.end = currentLength + value.end;\n\t\t// Range indicates that the current node has selection.\n\t} else if ( node === endContainer && node.nodeType === node.TEXT_NODE ) {\n\t\taccumulator.end = currentLength + endOffset;\n\t\t// Range indicates that the current node is selected.\n\t} else if (\n\t\tparentNode === endContainer &&\n\t\tnode === endContainer.childNodes[ endOffset - 1 ]\n\t) {\n\t\taccumulator.end = currentLength + value.text.length;\n\t\t// Range indicates that the selection is before the current node.\n\t} else if (\n\t\tparentNode === endContainer &&\n\t\tnode === endContainer.childNodes[ endOffset ]\n\t) {\n\t\taccumulator.end = currentLength;\n\t\t// Fallback if no child inside handled the selection.\n\t} else if ( node === endContainer ) {\n\t\taccumulator.end = currentLength + endOffset;\n\t}\n}\n\n/**\n * Adjusts the start and end offsets from a range based on a text filter.\n *\n * @param {Node}     node   Node of which the text should be filtered.\n * @param {Range}    range  The range to filter.\n * @param {Function} filter Function to use to filter the text.\n *\n * @return {?Object} Object containing range properties.\n */\nfunction filterRange( node, range, filter ) {\n\tif ( ! range ) {\n\t\treturn;\n\t}\n\n\tconst { startContainer, endContainer } = range;\n\tlet { startOffset, endOffset } = range;\n\n\tif ( node === startContainer ) {\n\t\tstartOffset = filter( node.nodeValue.slice( 0, startOffset ) ).length;\n\t}\n\n\tif ( node === endContainer ) {\n\t\tendOffset = filter( node.nodeValue.slice( 0, endOffset ) ).length;\n\t}\n\n\treturn { startContainer, startOffset, endContainer, endOffset };\n}\n\n/**\n * Collapse any whitespace used for HTML formatting to one space character,\n * because it will also be displayed as such by the browser.\n *\n * @param {string} string\n */\nfunction collapseWhiteSpace( string ) {\n\treturn string.replace( /[\\n\\r\\t]+/g, ' ' );\n}\n\nconst ZWNBSPRegExp = new RegExp( ZWNBSP, 'g' );\n\n/**\n * Removes padding (zero width non breaking spaces) added by `toTree`.\n *\n * @param {string} string\n */\nfunction removePadding( string ) {\n\treturn string.replace( ZWNBSPRegExp, '' );\n}\n\n/**\n * Creates a Rich Text value from a DOM element and range.\n *\n * @param {Object}    $1                      Named argements.\n * @param {?Element}  $1.element              Element to create value from.\n * @param {?Range}    $1.range                Range to create value from.\n * @param {?string}   $1.multilineTag         Multiline tag if the structure is\n *                                            multiline.\n * @param {?Array}    $1.multilineWrapperTags Tags where lines can be found if\n *                                            nesting is possible.\n * @param {?boolean} $1.preserveWhiteSpace    Whether or not to collapse white\n *                                            space characters.\n *\n * @return {Object} A rich text value.\n */\nfunction createFromElement( {\n\telement,\n\trange,\n\tmultilineTag,\n\tmultilineWrapperTags,\n\tcurrentWrapperTags = [],\n\tisEditableTree,\n\tpreserveWhiteSpace,\n} ) {\n\tconst accumulator = createEmptyValue();\n\n\tif ( ! element ) {\n\t\treturn accumulator;\n\t}\n\n\tif ( ! element.hasChildNodes() ) {\n\t\taccumulateSelection( accumulator, element, range, createEmptyValue() );\n\t\treturn accumulator;\n\t}\n\n\tconst length = element.childNodes.length;\n\n\t// Optimise for speed.\n\tfor ( let index = 0; index < length; index++ ) {\n\t\tconst node = element.childNodes[ index ];\n\t\tconst type = node.nodeName.toLowerCase();\n\n\t\tif ( node.nodeType === node.TEXT_NODE ) {\n\t\t\tlet filter = removePadding;\n\n\t\t\tif ( ! preserveWhiteSpace ) {\n\t\t\t\tfilter = ( string ) =>\n\t\t\t\t\tremovePadding( collapseWhiteSpace( string ) );\n\t\t\t}\n\n\t\t\tconst text = filter( node.nodeValue );\n\t\t\trange = filterRange( node, range, filter );\n\t\t\taccumulateSelection( accumulator, node, range, { text } );\n\t\t\t// Create a sparse array of the same length as `text`, in which\n\t\t\t// formats can be added.\n\t\t\taccumulator.formats.length += text.length;\n\t\t\taccumulator.replacements.length += text.length;\n\t\t\taccumulator.text += text;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( node.nodeType !== node.ELEMENT_NODE ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (\n\t\t\tisEditableTree &&\n\t\t\t// Ignore any placeholders.\n\t\t\t( node.getAttribute( 'data-rich-text-placeholder' ) ||\n\t\t\t\t// Ignore any line breaks that are not inserted by us.\n\t\t\t\t( type === 'br' &&\n\t\t\t\t\t! node.getAttribute( 'data-rich-text-line-break' ) ) )\n\t\t) {\n\t\t\taccumulateSelection( accumulator, node, range, createEmptyValue() );\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( type === 'br' ) {\n\t\t\taccumulateSelection( accumulator, node, range, createEmptyValue() );\n\t\t\tmergePair( accumulator, create( { text: '\\n' } ) );\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst lastFormats =\n\t\t\taccumulator.formats[ accumulator.formats.length - 1 ];\n\t\tconst lastFormat = lastFormats && lastFormats[ lastFormats.length - 1 ];\n\t\tconst newFormat = toFormat( {\n\t\t\ttype,\n\t\t\tattributes: getAttributes( { element: node } ),\n\t\t} );\n\t\tconst format = isFormatEqual( newFormat, lastFormat )\n\t\t\t? lastFormat\n\t\t\t: newFormat;\n\n\t\tif (\n\t\t\tmultilineWrapperTags &&\n\t\t\tmultilineWrapperTags.indexOf( type ) !== -1\n\t\t) {\n\t\t\tconst value = createFromMultilineElement( {\n\t\t\t\telement: node,\n\t\t\t\trange,\n\t\t\t\tmultilineTag,\n\t\t\t\tmultilineWrapperTags,\n\t\t\t\tcurrentWrapperTags: [ ...currentWrapperTags, format ],\n\t\t\t\tisEditableTree,\n\t\t\t\tpreserveWhiteSpace,\n\t\t\t} );\n\n\t\t\taccumulateSelection( accumulator, node, range, value );\n\t\t\tmergePair( accumulator, value );\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst value = createFromElement( {\n\t\t\telement: node,\n\t\t\trange,\n\t\t\tmultilineTag,\n\t\t\tmultilineWrapperTags,\n\t\t\tisEditableTree,\n\t\t\tpreserveWhiteSpace,\n\t\t} );\n\n\t\taccumulateSelection( accumulator, node, range, value );\n\n\t\tif ( ! format ) {\n\t\t\tmergePair( accumulator, value );\n\t\t} else if ( value.text.length === 0 ) {\n\t\t\tif ( format.attributes ) {\n\t\t\t\tmergePair( accumulator, {\n\t\t\t\t\tformats: [ , ],\n\t\t\t\t\treplacements: [ format ],\n\t\t\t\t\ttext: OBJECT_REPLACEMENT_CHARACTER,\n\t\t\t\t} );\n\t\t\t}\n\t\t} else {\n\t\t\t// Indices should share a reference to the same formats array.\n\t\t\t// Only create a new reference if `formats` changes.\n\t\t\tfunction mergeFormats( formats ) {\n\t\t\t\tif ( mergeFormats.formats === formats ) {\n\t\t\t\t\treturn mergeFormats.newFormats;\n\t\t\t\t}\n\n\t\t\t\tconst newFormats = formats\n\t\t\t\t\t? [ format, ...formats ]\n\t\t\t\t\t: [ format ];\n\n\t\t\t\tmergeFormats.formats = formats;\n\t\t\t\tmergeFormats.newFormats = newFormats;\n\n\t\t\t\treturn newFormats;\n\t\t\t}\n\n\t\t\t// Since the formats parameter can be `undefined`, preset\n\t\t\t// `mergeFormats` with a new reference.\n\t\t\tmergeFormats.newFormats = [ format ];\n\n\t\t\tmergePair( accumulator, {\n\t\t\t\t...value,\n\t\t\t\tformats: Array.from( value.formats, mergeFormats ),\n\t\t\t} );\n\t\t}\n\t}\n\n\treturn accumulator;\n}\n\n/**\n * Creates a rich text value from a DOM element and range that should be\n * multiline.\n *\n * @param {Object}   $1                      Named argements.\n * @param {?Element} $1.element              Element to create value from.\n * @param {?Range}   $1.range                Range to create value from.\n * @param {?string}  $1.multilineTag         Multiline tag if the structure is\n *                                           multiline.\n * @param {?Array}   $1.multilineWrapperTags Tags where lines can be found if\n *                                           nesting is possible.\n * @param {boolean}  $1.currentWrapperTags   Whether to prepend a line\n *                                           separator.\n * @param {?boolean} $1.preserveWhiteSpace   Whether or not to collapse white\n *                                           space characters.\n *\n * @return {Object} A rich text value.\n */\nfunction createFromMultilineElement( {\n\telement,\n\trange,\n\tmultilineTag,\n\tmultilineWrapperTags,\n\tcurrentWrapperTags = [],\n\tisEditableTree,\n\tpreserveWhiteSpace,\n} ) {\n\tconst accumulator = createEmptyValue();\n\n\tif ( ! element || ! element.hasChildNodes() ) {\n\t\treturn accumulator;\n\t}\n\n\tconst length = element.children.length;\n\n\t// Optimise for speed.\n\tfor ( let index = 0; index < length; index++ ) {\n\t\tconst node = element.children[ index ];\n\n\t\tif ( node.nodeName.toLowerCase() !== multilineTag ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst value = createFromElement( {\n\t\t\telement: node,\n\t\t\trange,\n\t\t\tmultilineTag,\n\t\t\tmultilineWrapperTags,\n\t\t\tcurrentWrapperTags,\n\t\t\tisEditableTree,\n\t\t\tpreserveWhiteSpace,\n\t\t} );\n\n\t\t// Multiline value text should be separated by a line separator.\n\t\tif ( index !== 0 || currentWrapperTags.length > 0 ) {\n\t\t\tmergePair( accumulator, {\n\t\t\t\tformats: [ , ],\n\t\t\t\treplacements:\n\t\t\t\t\tcurrentWrapperTags.length > 0\n\t\t\t\t\t\t? [ currentWrapperTags ]\n\t\t\t\t\t\t: [ , ],\n\t\t\t\ttext: LINE_SEPARATOR,\n\t\t\t} );\n\t\t}\n\n\t\taccumulateSelection( accumulator, node, range, value );\n\t\tmergePair( accumulator, value );\n\t}\n\n\treturn accumulator;\n}\n\n/**\n * Gets the attributes of an element in object shape.\n *\n * @param {Object}    $1                 Named argements.\n * @param {Element}   $1.element         Element to get attributes from.\n *\n * @return {?Object} Attribute object or `undefined` if the element has no\n *                   attributes.\n */\nfunction getAttributes( { element } ) {\n\tif ( ! element.hasAttributes() ) {\n\t\treturn;\n\t}\n\n\tconst length = element.attributes.length;\n\tlet accumulator;\n\n\t// Optimise for speed.\n\tfor ( let i = 0; i < length; i++ ) {\n\t\tconst { name, value } = element.attributes[ i ];\n\n\t\tif ( name.indexOf( 'data-rich-text-' ) === 0 ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\taccumulator = accumulator || {};\n\t\taccumulator[ name ] = value;\n\t}\n\n\treturn accumulator;\n}\n","/**\n * Line separator character, used for multiline text.\n */\nexport const LINE_SEPARATOR = '\\u2028';\n\n/**\n * Object replacement character, used as a placeholder for objects.\n */\nexport const OBJECT_REPLACEMENT_CHARACTER = '\\ufffc';\n\n/**\n * Zero width non-breaking space, used as padding in the editable DOM tree when\n * it is empty otherwise.\n */\nexport const ZWNBSP = '\\ufeff';\n","/**\n * Internal dependencies\n */\n\nimport { normaliseFormats } from './normalise-formats';\nimport { create } from './create';\n\n/**\n * Concats a pair of rich text values. Not that this mutates `a` and does NOT\n * normalise formats!\n *\n * @param  {Object} a Value to mutate.\n * @param  {Object} b Value to add read from.\n *\n * @return {Object} `a`, mutated.\n */\nexport function mergePair( a, b ) {\n\ta.formats = a.formats.concat( b.formats );\n\ta.replacements = a.replacements.concat( b.replacements );\n\ta.text += b.text;\n\n\treturn a;\n}\n\n/**\n * Combine all Rich Text values into one. This is similar to\n * `String.prototype.concat`.\n *\n * @param {...Object} values Objects to combine.\n *\n * @return {Object} A new value combining all given records.\n */\nexport function concat( ...values ) {\n\treturn normaliseFormats( values.reduce( mergePair, create() ) );\n}\n","/**\n * Gets the all format objects at the start of the selection.\n *\n * @param {Object} value                Value to inspect.\n * @param {Array}  EMPTY_ACTIVE_FORMATS Array to return if there are no active\n *                                      formats.\n *\n * @return {?Object} Active format objects.\n */\nexport function getActiveFormats(\n\t{ formats, start, end, activeFormats },\n\tEMPTY_ACTIVE_FORMATS = []\n) {\n\tif ( start === undefined ) {\n\t\treturn EMPTY_ACTIVE_FORMATS;\n\t}\n\n\tif ( start === end ) {\n\t\t// For a collapsed caret, it is possible to override the active formats.\n\t\tif ( activeFormats ) {\n\t\t\treturn activeFormats;\n\t\t}\n\n\t\tconst formatsBefore = formats[ start - 1 ] || EMPTY_ACTIVE_FORMATS;\n\t\tconst formatsAfter = formats[ start ] || EMPTY_ACTIVE_FORMATS;\n\n\t\t// By default, select the lowest amount of formats possible (which means\n\t\t// the caret is positioned outside the format boundary). The user can\n\t\t// then use arrow keys to define `activeFormats`.\n\t\tif ( formatsBefore.length < formatsAfter.length ) {\n\t\t\treturn formatsBefore;\n\t\t}\n\n\t\treturn formatsAfter;\n\t}\n\n\treturn formats[ start ] || EMPTY_ACTIVE_FORMATS;\n}\n","/**\n * External dependencies\n */\n\nimport { find } from 'lodash';\n\n/**\n * Internal dependencies\n */\n\nimport { getActiveFormats } from './get-active-formats';\n\n/**\n * Gets the format object by type at the start of the selection. This can be\n * used to get e.g. the URL of a link format at the current selection, but also\n * to check if a format is active at the selection. Returns undefined if there\n * is no format at the selection.\n *\n * @param {Object} value      Value to inspect.\n * @param {string} formatType Format type to look for.\n *\n * @return {Object|undefined} Active format object of the specified type, or undefined.\n */\nexport function getActiveFormat( value, formatType ) {\n\treturn find( getActiveFormats( value ), { type: formatType } );\n}\n","/**\n * Get the textual content of a Rich Text value. This is similar to\n * `Element.textContent`.\n *\n * @param {Object} value Value to use.\n *\n * @return {string} The text content.\n */\nexport function getTextContent( { text } ) {\n\treturn text;\n}\n","/**\n * Internal dependencies\n */\n\nimport { LINE_SEPARATOR } from './special-characters';\n\n/**\n * Gets the currently selected line index, or the first line index if the\n * selection spans over multiple items.\n *\n * @param {Object}  value      Value to get the line index from.\n * @param {boolean} startIndex Optional index that should be contained by the\n *                             line. Defaults to the selection start of the\n *                             value.\n *\n * @return {?boolean} The line index. Undefined if not found.\n */\nexport function getLineIndex( { start, text }, startIndex = start ) {\n\tlet index = startIndex;\n\n\twhile ( index-- ) {\n\t\tif ( text[ index ] === LINE_SEPARATOR ) {\n\t\t\treturn index;\n\t\t}\n\t}\n}\n","/**\n * Check if the selection of a Rich Text value is collapsed or not. Collapsed\n * means that no characters are selected, but there is a caret present. If there\n * is no selection, `undefined` will be returned. This is similar to\n * `window.getSelection().isCollapsed()`.\n *\n * @param {Object} value The rich text value to check.\n *\n * @return {boolean|undefined} True if the selection is collapsed, false if not,\n *                             undefined if there is no selection.\n */\nexport function isCollapsed( { start, end } ) {\n\tif ( start === undefined || end === undefined ) {\n\t\treturn;\n\t}\n\n\treturn start === end;\n}\n","/**\n * Internal dependencies\n */\nimport { LINE_SEPARATOR } from './special-characters';\n\n/**\n * Check if a Rich Text value is Empty, meaning it contains no text or any\n * objects (such as images).\n *\n * @param {Object} value Value to use.\n *\n * @return {boolean} True if the value is empty, false if not.\n */\nexport function isEmpty( { text } ) {\n\treturn text.length === 0;\n}\n\n/**\n * Check if the current collapsed selection is on an empty line in case of a\n * multiline value.\n *\n * @param  {Object} value Value te check.\n *\n * @return {boolean} True if the line is empty, false if not.\n */\nexport function isEmptyLine( { text, start, end } ) {\n\tif ( start !== end ) {\n\t\treturn false;\n\t}\n\n\tif ( text.length === 0 ) {\n\t\treturn true;\n\t}\n\n\tif ( start === 0 && text.slice( 0, 1 ) === LINE_SEPARATOR ) {\n\t\treturn true;\n\t}\n\n\tif ( start === text.length && text.slice( -1 ) === LINE_SEPARATOR ) {\n\t\treturn true;\n\t}\n\n\treturn (\n\t\ttext.slice( start - 1, end + 1 ) ===\n\t\t`${ LINE_SEPARATOR }${ LINE_SEPARATOR }`\n\t);\n}\n","/**\n * External dependencies\n */\n\nimport { find, reject } from 'lodash';\n\n/**\n * Internal dependencies\n */\n\nimport { normaliseFormats } from './normalise-formats';\n\n/**\n * Remove any format object from a Rich Text value by type from the given\n * `startIndex` to the given `endIndex`. Indices are retrieved from the\n * selection if none are provided.\n *\n * @param {Object} value        Value to modify.\n * @param {string} formatType   Format type to remove.\n * @param {number} [startIndex] Start index.\n * @param {number} [endIndex]   End index.\n *\n * @return {Object} A new value with the format applied.\n */\nexport function removeFormat(\n\tvalue,\n\tformatType,\n\tstartIndex = value.start,\n\tendIndex = value.end\n) {\n\tconst { formats, activeFormats } = value;\n\tconst newFormats = formats.slice();\n\n\t// If the selection is collapsed, expand start and end to the edges of the\n\t// format.\n\tif ( startIndex === endIndex ) {\n\t\tconst format = find( newFormats[ startIndex ], { type: formatType } );\n\n\t\tif ( format ) {\n\t\t\twhile ( find( newFormats[ startIndex ], format ) ) {\n\t\t\t\tfilterFormats( newFormats, startIndex, formatType );\n\t\t\t\tstartIndex--;\n\t\t\t}\n\n\t\t\tendIndex++;\n\n\t\t\twhile ( find( newFormats[ endIndex ], format ) ) {\n\t\t\t\tfilterFormats( newFormats, endIndex, formatType );\n\t\t\t\tendIndex++;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor ( let i = startIndex; i < endIndex; i++ ) {\n\t\t\tif ( newFormats[ i ] ) {\n\t\t\t\tfilterFormats( newFormats, i, formatType );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn normaliseFormats( {\n\t\t...value,\n\t\tformats: newFormats,\n\t\tactiveFormats: reject( activeFormats, { type: formatType } ),\n\t} );\n}\n\nfunction filterFormats( formats, index, formatType ) {\n\tconst newFormats = formats[ index ].filter(\n\t\t( { type } ) => type !== formatType\n\t);\n\n\tif ( newFormats.length ) {\n\t\tformats[ index ] = newFormats;\n\t} else {\n\t\tdelete formats[ index ];\n\t}\n}\n","/**\n * Internal dependencies\n */\n\nimport { create } from './create';\nimport { normaliseFormats } from './normalise-formats';\n\n/**\n * Insert a Rich Text value, an HTML string, or a plain text string, into a\n * Rich Text value at the given `startIndex`. Any content between `startIndex`\n * and `endIndex` will be removed. Indices are retrieved from the selection if\n * none are provided.\n *\n * @param {Object}        value         Value to modify.\n * @param {Object|string} valueToInsert Value to insert.\n * @param {number}        [startIndex]  Start index.\n * @param {number}        [endIndex]    End index.\n *\n * @return {Object} A new value with the value inserted.\n */\nexport function insert(\n\tvalue,\n\tvalueToInsert,\n\tstartIndex = value.start,\n\tendIndex = value.end\n) {\n\tconst { formats, replacements, text } = value;\n\n\tif ( typeof valueToInsert === 'string' ) {\n\t\tvalueToInsert = create( { text: valueToInsert } );\n\t}\n\n\tconst index = startIndex + valueToInsert.text.length;\n\n\treturn normaliseFormats( {\n\t\tformats: formats\n\t\t\t.slice( 0, startIndex )\n\t\t\t.concat( valueToInsert.formats, formats.slice( endIndex ) ),\n\t\treplacements: replacements\n\t\t\t.slice( 0, startIndex )\n\t\t\t.concat(\n\t\t\t\tvalueToInsert.replacements,\n\t\t\t\treplacements.slice( endIndex )\n\t\t\t),\n\t\ttext:\n\t\t\ttext.slice( 0, startIndex ) +\n\t\t\tvalueToInsert.text +\n\t\t\ttext.slice( endIndex ),\n\t\tstart: index,\n\t\tend: index,\n\t} );\n}\n","/**\n * Internal dependencies\n */\n\nimport { insert } from './insert';\nimport { create } from './create';\n\n/**\n * Remove content from a Rich Text value between the given `startIndex` and\n * `endIndex`. Indices are retrieved from the selection if none are provided.\n *\n * @param {Object} value        Value to modify.\n * @param {number} [startIndex] Start index.\n * @param {number} [endIndex]   End index.\n *\n * @return {Object} A new value with the content removed.\n */\nexport function remove( value, startIndex, endIndex ) {\n\treturn insert( value, create(), startIndex, endIndex );\n}\n","/**\n * Internal dependencies\n */\n\nimport { normaliseFormats } from './normalise-formats';\n\n/**\n * Search a Rich Text value and replace the match(es) with `replacement`. This\n * is similar to `String.prototype.replace`.\n *\n * @param {Object}         value        The value to modify.\n * @param {RegExp|string}  pattern      A RegExp object or literal. Can also be\n *                                      a string. It is treated as a verbatim\n *                                      string and is not interpreted as a\n *                                      regular expression. Only the first\n *                                      occurrence will be replaced.\n * @param {Function|string} replacement The match or matches are replaced with\n *                                      the specified or the value returned by\n *                                      the specified function.\n *\n * @return {Object} A new value with replacements applied.\n */\nexport function replace(\n\t{ formats, replacements, text, start, end },\n\tpattern,\n\treplacement\n) {\n\ttext = text.replace( pattern, ( match, ...rest ) => {\n\t\tconst offset = rest[ rest.length - 2 ];\n\t\tlet newText = replacement;\n\t\tlet newFormats;\n\t\tlet newReplacements;\n\n\t\tif ( typeof newText === 'function' ) {\n\t\t\tnewText = replacement( match, ...rest );\n\t\t}\n\n\t\tif ( typeof newText === 'object' ) {\n\t\t\tnewFormats = newText.formats;\n\t\t\tnewReplacements = newText.replacements;\n\t\t\tnewText = newText.text;\n\t\t} else {\n\t\t\tnewFormats = Array( newText.length );\n\t\t\tnewReplacements = Array( newText.length );\n\n\t\t\tif ( formats[ offset ] ) {\n\t\t\t\tnewFormats = newFormats.fill( formats[ offset ] );\n\t\t\t}\n\t\t}\n\n\t\tformats = formats\n\t\t\t.slice( 0, offset )\n\t\t\t.concat( newFormats, formats.slice( offset + match.length ) );\n\t\treplacements = replacements\n\t\t\t.slice( 0, offset )\n\t\t\t.concat(\n\t\t\t\tnewReplacements,\n\t\t\t\treplacements.slice( offset + match.length )\n\t\t\t);\n\n\t\tif ( start ) {\n\t\t\tstart = end = offset + newText.length;\n\t\t}\n\n\t\treturn newText;\n\t} );\n\n\treturn normaliseFormats( { formats, replacements, text, start, end } );\n}\n","/**\n * Internal dependencies\n */\n\nimport { LINE_SEPARATOR } from './special-characters';\nimport { isCollapsed } from './is-collapsed';\nimport { remove } from './remove';\n\n/**\n * Removes a line separator character, if existing, from a Rich Text value at the current\n * indices. If no line separator exists on the indices it will return undefined.\n *\n * @param {Object} value Value to modify.\n * @param {boolean} backward indicates if are removing from the start index or the end index.\n *\n * @return {Object|undefined} A new value with the line separator removed. Or undefined if no line separator is found on the position.\n */\nexport function removeLineSeparator( value, backward = true ) {\n\tconst { replacements, text, start, end } = value;\n\tconst collapsed = isCollapsed( value );\n\tlet index = start - 1;\n\tlet removeStart = collapsed ? start - 1 : start;\n\tlet removeEnd = end;\n\tif ( ! backward ) {\n\t\tindex = end;\n\t\tremoveStart = start;\n\t\tremoveEnd = collapsed ? end + 1 : end;\n\t}\n\n\tif ( text[ index ] !== LINE_SEPARATOR ) {\n\t\treturn;\n\t}\n\n\tlet newValue;\n\t// If the line separator that is about te be removed\n\t// contains wrappers, remove the wrappers first.\n\tif ( collapsed && replacements[ index ] && replacements[ index ].length ) {\n\t\tconst newReplacements = replacements.slice();\n\n\t\tnewReplacements[ index ] = replacements[ index ].slice( 0, -1 );\n\t\tnewValue = {\n\t\t\t...value,\n\t\t\treplacements: newReplacements,\n\t\t};\n\t} else {\n\t\tnewValue = remove( value, removeStart, removeEnd );\n\t}\n\treturn newValue;\n}\n","/**\n * Slice a Rich Text value from `startIndex` to `endIndex`. Indices are\n * retrieved from the selection if none are provided. This is similar to\n * `String.prototype.slice`.\n *\n * @param {Object} value        Value to modify.\n * @param {number} [startIndex] Start index.\n * @param {number} [endIndex]   End index.\n *\n * @return {Object} A new extracted value.\n */\nexport function slice( value, startIndex = value.start, endIndex = value.end ) {\n\tconst { formats, replacements, text } = value;\n\n\tif ( startIndex === undefined || endIndex === undefined ) {\n\t\treturn { ...value };\n\t}\n\n\treturn {\n\t\tformats: formats.slice( startIndex, endIndex ),\n\t\treplacements: replacements.slice( startIndex, endIndex ),\n\t\ttext: text.slice( startIndex, endIndex ),\n\t};\n}\n","/**\n * Internal dependencies\n */\n\nimport { replace } from './replace';\n\n/**\n * Split a Rich Text value in two at the given `startIndex` and `endIndex`, or\n * split at the given separator. This is similar to `String.prototype.split`.\n * Indices are retrieved from the selection if none are provided.\n *\n * @param {Object}        value\n * @param {Object[]}      value.formats\n * @param {Object[]}      value.replacements\n * @param {string}        value.text\n * @param {number}        value.start\n * @param {number}        value.end\n * @param {number|string} [string] Start index, or string at which to split.\n *\n * @return {Array} An array of new values.\n */\nexport function split( { formats, replacements, text, start, end }, string ) {\n\tif ( typeof string !== 'string' ) {\n\t\treturn splitAtSelection( ...arguments );\n\t}\n\n\tlet nextStart = 0;\n\n\treturn text.split( string ).map( ( substring ) => {\n\t\tconst startIndex = nextStart;\n\t\tconst value = {\n\t\t\tformats: formats.slice( startIndex, startIndex + substring.length ),\n\t\t\treplacements: replacements.slice(\n\t\t\t\tstartIndex,\n\t\t\t\tstartIndex + substring.length\n\t\t\t),\n\t\t\ttext: substring,\n\t\t};\n\n\t\tnextStart += string.length + substring.length;\n\n\t\tif ( start !== undefined && end !== undefined ) {\n\t\t\tif ( start >= startIndex && start < nextStart ) {\n\t\t\t\tvalue.start = start - startIndex;\n\t\t\t} else if ( start < startIndex && end > startIndex ) {\n\t\t\t\tvalue.start = 0;\n\t\t\t}\n\n\t\t\tif ( end >= startIndex && end < nextStart ) {\n\t\t\t\tvalue.end = end - startIndex;\n\t\t\t} else if ( start < nextStart && end > nextStart ) {\n\t\t\t\tvalue.end = substring.length;\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t} );\n}\n\nfunction splitAtSelection(\n\t{ formats, replacements, text, start, end },\n\tstartIndex = start,\n\tendIndex = end\n) {\n\tconst before = {\n\t\tformats: formats.slice( 0, startIndex ),\n\t\treplacements: replacements.slice( 0, startIndex ),\n\t\ttext: text.slice( 0, startIndex ),\n\t};\n\tconst after = {\n\t\tformats: formats.slice( endIndex ),\n\t\treplacements: replacements.slice( endIndex ),\n\t\ttext: text.slice( endIndex ),\n\t\tstart: 0,\n\t\tend: 0,\n\t};\n\n\treturn [\n\t\t// Ensure newlines are trimmed.\n\t\treplace( before, /\\u2028+$/, '' ),\n\t\treplace( after, /^\\u2028+/, '' ),\n\t];\n}\n","/**\n * Internal dependencies\n */\n\nimport { getActiveFormats } from './get-active-formats';\nimport { getFormatType } from './get-format-type';\nimport {\n\tLINE_SEPARATOR,\n\tOBJECT_REPLACEMENT_CHARACTER,\n\tZWNBSP,\n} from './special-characters';\n\n/**\n * Converts a format object to information that can be used to create an element\n * from (type, attributes and object).\n *\n * @param  {Object}  $1                        Named parameters.\n * @param  {string}  $1.type                   The format type.\n * @param  {Object}  $1.attributes             The format attributes.\n * @param  {Object}  $1.unregisteredAttributes The unregistered format\n *                                             attributes.\n * @param  {boolean} $1.object                 Wether or not it is an object\n *                                             format.\n * @param  {boolean} $1.boundaryClass          Wether or not to apply a boundary\n *                                             class.\n * @return {Object}                            Information to be used for\n *                                             element creation.\n */\nfunction fromFormat( {\n\ttype,\n\tattributes,\n\tunregisteredAttributes,\n\tobject,\n\tboundaryClass,\n} ) {\n\tconst formatType = getFormatType( type );\n\n\tlet elementAttributes = {};\n\n\tif ( boundaryClass ) {\n\t\telementAttributes[ 'data-rich-text-format-boundary' ] = 'true';\n\t}\n\n\tif ( ! formatType ) {\n\t\tif ( attributes ) {\n\t\t\telementAttributes = { ...attributes, ...elementAttributes };\n\t\t}\n\n\t\treturn { type, attributes: elementAttributes, object };\n\t}\n\n\telementAttributes = { ...unregisteredAttributes, ...elementAttributes };\n\n\tfor ( const name in attributes ) {\n\t\tconst key = formatType.attributes\n\t\t\t? formatType.attributes[ name ]\n\t\t\t: false;\n\n\t\tif ( key ) {\n\t\t\telementAttributes[ key ] = attributes[ name ];\n\t\t} else {\n\t\t\telementAttributes[ name ] = attributes[ name ];\n\t\t}\n\t}\n\n\tif ( formatType.className ) {\n\t\tif ( elementAttributes.class ) {\n\t\t\telementAttributes.class = `${ formatType.className } ${ elementAttributes.class }`;\n\t\t} else {\n\t\t\telementAttributes.class = formatType.className;\n\t\t}\n\t}\n\n\treturn {\n\t\ttype: formatType.tagName,\n\t\tobject: formatType.object,\n\t\tattributes: elementAttributes,\n\t};\n}\n\n/**\n * Checks if both arrays of formats up until a certain index are equal.\n *\n * @param {Array}  a     Array of formats to compare.\n * @param {Array}  b     Array of formats to compare.\n * @param {number} index Index to check until.\n */\nfunction isEqualUntil( a, b, index ) {\n\tdo {\n\t\tif ( a[ index ] !== b[ index ] ) {\n\t\t\treturn false;\n\t\t}\n\t} while ( index-- );\n\n\treturn true;\n}\n\nexport function toTree( {\n\tvalue,\n\tmultilineTag,\n\tpreserveWhiteSpace,\n\tcreateEmpty,\n\tappend,\n\tgetLastChild,\n\tgetParent,\n\tisText,\n\tgetText,\n\tremove,\n\tappendText,\n\tonStartIndex,\n\tonEndIndex,\n\tisEditableTree,\n\tplaceholder,\n} ) {\n\tconst { formats, replacements, text, start, end } = value;\n\tconst formatsLength = formats.length + 1;\n\tconst tree = createEmpty();\n\tconst multilineFormat = { type: multilineTag };\n\tconst activeFormats = getActiveFormats( value );\n\tconst deepestActiveFormat = activeFormats[ activeFormats.length - 1 ];\n\n\tlet lastSeparatorFormats;\n\tlet lastCharacterFormats;\n\tlet lastCharacter;\n\n\t// If we're building a multiline tree, start off with a multiline element.\n\tif ( multilineTag ) {\n\t\tappend( append( tree, { type: multilineTag } ), '' );\n\t\tlastCharacterFormats = lastSeparatorFormats = [ multilineFormat ];\n\t} else {\n\t\tappend( tree, '' );\n\t}\n\n\tfor ( let i = 0; i < formatsLength; i++ ) {\n\t\tconst character = text.charAt( i );\n\t\tconst shouldInsertPadding =\n\t\t\tisEditableTree &&\n\t\t\t// Pad the line if the line is empty.\n\t\t\t( ! lastCharacter ||\n\t\t\t\tlastCharacter === LINE_SEPARATOR ||\n\t\t\t\t// Pad the line if the previous character is a line break, otherwise\n\t\t\t\t// the line break won't be visible.\n\t\t\t\tlastCharacter === '\\n' );\n\n\t\tlet characterFormats = formats[ i ];\n\n\t\t// Set multiline tags in queue for building the tree.\n\t\tif ( multilineTag ) {\n\t\t\tif ( character === LINE_SEPARATOR ) {\n\t\t\t\tcharacterFormats = lastSeparatorFormats = (\n\t\t\t\t\treplacements[ i ] || []\n\t\t\t\t).reduce(\n\t\t\t\t\t( accumulator, format ) => {\n\t\t\t\t\t\taccumulator.push( format, multilineFormat );\n\t\t\t\t\t\treturn accumulator;\n\t\t\t\t\t},\n\t\t\t\t\t[ multilineFormat ]\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcharacterFormats = [\n\t\t\t\t\t...lastSeparatorFormats,\n\t\t\t\t\t...( characterFormats || [] ),\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\n\t\tlet pointer = getLastChild( tree );\n\n\t\tif ( shouldInsertPadding && character === LINE_SEPARATOR ) {\n\t\t\tlet node = pointer;\n\n\t\t\twhile ( ! isText( node ) ) {\n\t\t\t\tnode = getLastChild( node );\n\t\t\t}\n\n\t\t\tappend( getParent( node ), ZWNBSP );\n\t\t}\n\n\t\t// Set selection for the start of line.\n\t\tif ( lastCharacter === LINE_SEPARATOR ) {\n\t\t\tlet node = pointer;\n\n\t\t\twhile ( ! isText( node ) ) {\n\t\t\t\tnode = getLastChild( node );\n\t\t\t}\n\n\t\t\tif ( onStartIndex && start === i ) {\n\t\t\t\tonStartIndex( tree, node );\n\t\t\t}\n\n\t\t\tif ( onEndIndex && end === i ) {\n\t\t\t\tonEndIndex( tree, node );\n\t\t\t}\n\t\t}\n\n\t\tif ( characterFormats ) {\n\t\t\tcharacterFormats.forEach( ( format, formatIndex ) => {\n\t\t\t\tif (\n\t\t\t\t\tpointer &&\n\t\t\t\t\tlastCharacterFormats &&\n\t\t\t\t\t// Reuse the last element if all formats remain the same.\n\t\t\t\t\tisEqualUntil(\n\t\t\t\t\t\tcharacterFormats,\n\t\t\t\t\t\tlastCharacterFormats,\n\t\t\t\t\t\tformatIndex\n\t\t\t\t\t) &&\n\t\t\t\t\t// Do not reuse the last element if the character is a\n\t\t\t\t\t// line separator.\n\t\t\t\t\t( character !== LINE_SEPARATOR ||\n\t\t\t\t\t\tcharacterFormats.length - 1 !== formatIndex )\n\t\t\t\t) {\n\t\t\t\t\tpointer = getLastChild( pointer );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst { type, attributes, unregisteredAttributes } = format;\n\n\t\t\t\tconst boundaryClass =\n\t\t\t\t\tisEditableTree &&\n\t\t\t\t\tcharacter !== LINE_SEPARATOR &&\n\t\t\t\t\tformat === deepestActiveFormat;\n\n\t\t\t\tconst parent = getParent( pointer );\n\t\t\t\tconst newNode = append(\n\t\t\t\t\tparent,\n\t\t\t\t\tfromFormat( {\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tattributes,\n\t\t\t\t\t\tunregisteredAttributes,\n\t\t\t\t\t\tboundaryClass,\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tif ( isText( pointer ) && getText( pointer ).length === 0 ) {\n\t\t\t\t\tremove( pointer );\n\t\t\t\t}\n\n\t\t\t\tpointer = append( newNode, '' );\n\t\t\t} );\n\t\t}\n\n\t\t// No need for further processing if the character is a line separator.\n\t\tif ( character === LINE_SEPARATOR ) {\n\t\t\tlastCharacterFormats = characterFormats;\n\t\t\tlastCharacter = character;\n\t\t\tcontinue;\n\t\t}\n\n\t\t// If there is selection at 0, handle it before characters are inserted.\n\t\tif ( i === 0 ) {\n\t\t\tif ( onStartIndex && start === 0 ) {\n\t\t\t\tonStartIndex( tree, pointer );\n\t\t\t}\n\n\t\t\tif ( onEndIndex && end === 0 ) {\n\t\t\t\tonEndIndex( tree, pointer );\n\t\t\t}\n\t\t}\n\n\t\tif ( character === OBJECT_REPLACEMENT_CHARACTER ) {\n\t\t\tpointer = append(\n\t\t\t\tgetParent( pointer ),\n\t\t\t\tfromFormat( {\n\t\t\t\t\t...replacements[ i ],\n\t\t\t\t\tobject: true,\n\t\t\t\t} )\n\t\t\t);\n\t\t\t// Ensure pointer is text node.\n\t\t\tpointer = append( getParent( pointer ), '' );\n\t\t} else if ( ! preserveWhiteSpace && character === '\\n' ) {\n\t\t\tpointer = append( getParent( pointer ), {\n\t\t\t\ttype: 'br',\n\t\t\t\tattributes: isEditableTree\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t'data-rich-text-line-break': 'true',\n\t\t\t\t\t  }\n\t\t\t\t\t: undefined,\n\t\t\t\tobject: true,\n\t\t\t} );\n\t\t\t// Ensure pointer is text node.\n\t\t\tpointer = append( getParent( pointer ), '' );\n\t\t} else if ( ! isText( pointer ) ) {\n\t\t\tpointer = append( getParent( pointer ), character );\n\t\t} else {\n\t\t\tappendText( pointer, character );\n\t\t}\n\n\t\tif ( onStartIndex && start === i + 1 ) {\n\t\t\tonStartIndex( tree, pointer );\n\t\t}\n\n\t\tif ( onEndIndex && end === i + 1 ) {\n\t\t\tonEndIndex( tree, pointer );\n\t\t}\n\n\t\tif ( shouldInsertPadding && i === text.length ) {\n\t\t\tappend( getParent( pointer ), ZWNBSP );\n\n\t\t\tif ( placeholder && text.length === 0 ) {\n\t\t\t\tappend( getParent( pointer ), {\n\t\t\t\t\ttype: 'span',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\t'data-rich-text-placeholder': placeholder,\n\t\t\t\t\t\t// Necessary to prevent the placeholder from catching\n\t\t\t\t\t\t// selection. The placeholder is also not editable after\n\t\t\t\t\t\t// all.\n\t\t\t\t\t\tcontenteditable: 'false',\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\tlastCharacterFormats = characterFormats;\n\t\tlastCharacter = character;\n\t}\n\n\treturn tree;\n}\n","/**\n * WordPress dependencies\n */\nimport { select } from '@wordpress/data';\n\n/**\n * Returns a registered format type.\n *\n * @param {string} name Format name.\n *\n * @return {?Object} Format type.\n */\nexport function getFormatType( name ) {\n\treturn select( 'core/rich-text' ).getFormatType( name );\n}\n","/**\n * Internal dependencies\n */\n\nimport { toTree } from './to-tree';\nimport { createElement } from './create-element';\n\n/**\n * Creates a path as an array of indices from the given root node to the given\n * node.\n *\n * @param {Node}        node     Node to find the path of.\n * @param {HTMLElement} rootNode Root node to find the path from.\n * @param {Array}       path     Initial path to build on.\n *\n * @return {Array} The path from the root node to the node.\n */\nfunction createPathToNode( node, rootNode, path ) {\n\tconst parentNode = node.parentNode;\n\tlet i = 0;\n\n\twhile ( ( node = node.previousSibling ) ) {\n\t\ti++;\n\t}\n\n\tpath = [ i, ...path ];\n\n\tif ( parentNode !== rootNode ) {\n\t\tpath = createPathToNode( parentNode, rootNode, path );\n\t}\n\n\treturn path;\n}\n\n/**\n * Gets a node given a path (array of indices) from the given node.\n *\n * @param {HTMLElement} node Root node to find the wanted node in.\n * @param {Array}       path Path (indices) to the wanted node.\n *\n * @return {Object} Object with the found node and the remaining offset (if any).\n */\nfunction getNodeByPath( node, path ) {\n\tpath = [ ...path ];\n\n\twhile ( node && path.length > 1 ) {\n\t\tnode = node.childNodes[ path.shift() ];\n\t}\n\n\treturn {\n\t\tnode,\n\t\toffset: path[ 0 ],\n\t};\n}\n\nfunction append( element, child ) {\n\tif ( typeof child === 'string' ) {\n\t\tchild = element.ownerDocument.createTextNode( child );\n\t}\n\n\tconst { type, attributes } = child;\n\n\tif ( type ) {\n\t\tchild = element.ownerDocument.createElement( type );\n\n\t\tfor ( const key in attributes ) {\n\t\t\tchild.setAttribute( key, attributes[ key ] );\n\t\t}\n\t}\n\n\treturn element.appendChild( child );\n}\n\nfunction appendText( node, text ) {\n\tnode.appendData( text );\n}\n\nfunction getLastChild( { lastChild } ) {\n\treturn lastChild;\n}\n\nfunction getParent( { parentNode } ) {\n\treturn parentNode;\n}\n\nfunction isText( node ) {\n\treturn node.nodeType === node.TEXT_NODE;\n}\n\nfunction getText( { nodeValue } ) {\n\treturn nodeValue;\n}\n\nfunction remove( node ) {\n\treturn node.parentNode.removeChild( node );\n}\n\nexport function toDom( {\n\tvalue,\n\tmultilineTag,\n\tprepareEditableTree,\n\tisEditableTree = true,\n\tplaceholder,\n\tdoc = document,\n} ) {\n\tlet startPath = [];\n\tlet endPath = [];\n\n\tif ( prepareEditableTree ) {\n\t\tvalue = {\n\t\t\t...value,\n\t\t\tformats: prepareEditableTree( value ),\n\t\t};\n\t}\n\n\t/**\n\t * Returns a new instance of a DOM tree upon which RichText operations can be\n\t * applied.\n\t *\n\t * Note: The current implementation will return a shared reference, reset on\n\t * each call to `createEmpty`. Therefore, you should not hold a reference to\n\t * the value to operate upon asynchronously, as it may have unexpected results.\n\t *\n\t * @return {Object} RichText tree.\n\t */\n\tconst createEmpty = () => createElement( doc, '' );\n\n\tconst tree = toTree( {\n\t\tvalue,\n\t\tmultilineTag,\n\t\tcreateEmpty,\n\t\tappend,\n\t\tgetLastChild,\n\t\tgetParent,\n\t\tisText,\n\t\tgetText,\n\t\tremove,\n\t\tappendText,\n\t\tonStartIndex( body, pointer ) {\n\t\t\tstartPath = createPathToNode( pointer, body, [\n\t\t\t\tpointer.nodeValue.length,\n\t\t\t] );\n\t\t},\n\t\tonEndIndex( body, pointer ) {\n\t\t\tendPath = createPathToNode( pointer, body, [\n\t\t\t\tpointer.nodeValue.length,\n\t\t\t] );\n\t\t},\n\t\tisEditableTree,\n\t\tplaceholder,\n\t} );\n\n\treturn {\n\t\tbody: tree,\n\t\tselection: { startPath, endPath },\n\t};\n}\n\n/**\n * Create an `Element` tree from a Rich Text value and applies the difference to\n * the `Element` tree contained by `current`. If a `multilineTag` is provided,\n * text separated by two new lines will be wrapped in an `Element` of that type.\n *\n * @param {Object}      $1                        Named arguments.\n * @param {Object}      $1.value                  Value to apply.\n * @param {HTMLElement} $1.current                The live root node to apply the element tree to.\n * @param {string}      [$1.multilineTag]         Multiline tag.\n * @param {Array}       [$1.multilineWrapperTags] Tags where lines can be found if nesting is possible.\n */\nexport function apply( {\n\tvalue,\n\tcurrent,\n\tmultilineTag,\n\tprepareEditableTree,\n\t__unstableDomOnly,\n\tplaceholder,\n} ) {\n\t// Construct a new element tree in memory.\n\tconst { body, selection } = toDom( {\n\t\tvalue,\n\t\tmultilineTag,\n\t\tprepareEditableTree,\n\t\tplaceholder,\n\t\tdoc: current.ownerDocument,\n\t} );\n\n\tapplyValue( body, current );\n\n\tif ( value.start !== undefined && ! __unstableDomOnly ) {\n\t\tapplySelection( selection, current );\n\t}\n}\n\nexport function applyValue( future, current ) {\n\tlet i = 0;\n\tlet futureChild;\n\n\twhile ( ( futureChild = future.firstChild ) ) {\n\t\tconst currentChild = current.childNodes[ i ];\n\n\t\tif ( ! currentChild ) {\n\t\t\tcurrent.appendChild( futureChild );\n\t\t} else if ( ! currentChild.isEqualNode( futureChild ) ) {\n\t\t\tif (\n\t\t\t\tcurrentChild.nodeName !== futureChild.nodeName ||\n\t\t\t\t( currentChild.nodeType === currentChild.TEXT_NODE &&\n\t\t\t\t\tcurrentChild.data !== futureChild.data )\n\t\t\t) {\n\t\t\t\tcurrent.replaceChild( futureChild, currentChild );\n\t\t\t} else {\n\t\t\t\tconst currentAttributes = currentChild.attributes;\n\t\t\t\tconst futureAttributes = futureChild.attributes;\n\n\t\t\t\tif ( currentAttributes ) {\n\t\t\t\t\tlet ii = currentAttributes.length;\n\n\t\t\t\t\t// Reverse loop because `removeAttribute` on `currentChild`\n\t\t\t\t\t// changes `currentAttributes`.\n\t\t\t\t\twhile ( ii-- ) {\n\t\t\t\t\t\tconst { name } = currentAttributes[ ii ];\n\n\t\t\t\t\t\tif ( ! futureChild.getAttribute( name ) ) {\n\t\t\t\t\t\t\tcurrentChild.removeAttribute( name );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( futureAttributes ) {\n\t\t\t\t\tfor ( let ii = 0; ii < futureAttributes.length; ii++ ) {\n\t\t\t\t\t\tconst { name, value } = futureAttributes[ ii ];\n\n\t\t\t\t\t\tif ( currentChild.getAttribute( name ) !== value ) {\n\t\t\t\t\t\t\tcurrentChild.setAttribute( name, value );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tapplyValue( futureChild, currentChild );\n\t\t\t\tfuture.removeChild( futureChild );\n\t\t\t}\n\t\t} else {\n\t\t\tfuture.removeChild( futureChild );\n\t\t}\n\n\t\ti++;\n\t}\n\n\twhile ( current.childNodes[ i ] ) {\n\t\tcurrent.removeChild( current.childNodes[ i ] );\n\t}\n}\n\n/**\n * Returns true if two ranges are equal, or false otherwise. Ranges are\n * considered equal if their start and end occur in the same container and\n * offset.\n *\n * @param {Range} a First range object to test.\n * @param {Range} b First range object to test.\n *\n * @return {boolean} Whether the two ranges are equal.\n */\nfunction isRangeEqual( a, b ) {\n\treturn (\n\t\ta.startContainer === b.startContainer &&\n\t\ta.startOffset === b.startOffset &&\n\t\ta.endContainer === b.endContainer &&\n\t\ta.endOffset === b.endOffset\n\t);\n}\n\nexport function applySelection( { startPath, endPath }, current ) {\n\tconst { node: startContainer, offset: startOffset } = getNodeByPath(\n\t\tcurrent,\n\t\tstartPath\n\t);\n\tconst { node: endContainer, offset: endOffset } = getNodeByPath(\n\t\tcurrent,\n\t\tendPath\n\t);\n\tconst { ownerDocument } = current;\n\tconst { defaultView } = ownerDocument;\n\tconst selection = defaultView.getSelection();\n\tconst range = ownerDocument.createRange();\n\n\trange.setStart( startContainer, startOffset );\n\trange.setEnd( endContainer, endOffset );\n\n\tconst { activeElement } = ownerDocument;\n\n\tif ( selection.rangeCount > 0 ) {\n\t\t// If the to be added range and the live range are the same, there's no\n\t\t// need to remove the live range and add the equivalent range.\n\t\tif ( isRangeEqual( range, selection.getRangeAt( 0 ) ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tselection.removeAllRanges();\n\t}\n\n\tselection.addRange( range );\n\n\t// This function is not intended to cause a shift in focus. Since the above\n\t// selection manipulations may shift focus, ensure that focus is restored to\n\t// its previous state.\n\tif ( activeElement !== ownerDocument.activeElement ) {\n\t\t// The `instanceof` checks protect against edge cases where the focused\n\t\t// element is not of the interface HTMLElement (does not have a `focus`\n\t\t// or `blur` property).\n\t\t//\n\t\t// See: https://github.com/Microsoft/TypeScript/issues/5901#issuecomment-431649653\n\t\tif ( activeElement instanceof defaultView.HTMLElement ) {\n\t\t\tactiveElement.focus();\n\t\t}\n\t}\n}\n","/**\n * WordPress dependencies\n */\n\nimport {\n\tescapeEditableHTML,\n\tescapeAttribute,\n\tisValidAttributeName,\n} from '@wordpress/escape-html';\n\n/**\n * Internal dependencies\n */\n\nimport { toTree } from './to-tree';\n\n/**\n * Create an HTML string from a Rich Text value. If a `multilineTag` is\n * provided, text separated by a line separator will be wrapped in it.\n *\n * @param {Object}   $1                      Named argements.\n * @param {Object}   $1.value                Rich text value.\n * @param {string}   [$1.multilineTag]       Multiline tag.\n * @param {?boolean} [$1.preserveWhiteSpace] Whether or not to use newline\n *                                           characters for line breaks.\n *\n * @return {string} HTML string.\n */\nexport function toHTMLString( { value, multilineTag, preserveWhiteSpace } ) {\n\tconst tree = toTree( {\n\t\tvalue,\n\t\tmultilineTag,\n\t\tpreserveWhiteSpace,\n\t\tcreateEmpty,\n\t\tappend,\n\t\tgetLastChild,\n\t\tgetParent,\n\t\tisText,\n\t\tgetText,\n\t\tremove,\n\t\tappendText,\n\t} );\n\n\treturn createChildrenHTML( tree.children );\n}\n\nfunction createEmpty() {\n\treturn {};\n}\n\nfunction getLastChild( { children } ) {\n\treturn children && children[ children.length - 1 ];\n}\n\nfunction append( parent, object ) {\n\tif ( typeof object === 'string' ) {\n\t\tobject = { text: object };\n\t}\n\n\tobject.parent = parent;\n\tparent.children = parent.children || [];\n\tparent.children.push( object );\n\treturn object;\n}\n\nfunction appendText( object, text ) {\n\tobject.text += text;\n}\n\nfunction getParent( { parent } ) {\n\treturn parent;\n}\n\nfunction isText( { text } ) {\n\treturn typeof text === 'string';\n}\n\nfunction getText( { text } ) {\n\treturn text;\n}\n\nfunction remove( object ) {\n\tconst index = object.parent.children.indexOf( object );\n\n\tif ( index !== -1 ) {\n\t\tobject.parent.children.splice( index, 1 );\n\t}\n\n\treturn object;\n}\n\nfunction createElementHTML( { type, attributes, object, children } ) {\n\tlet attributeString = '';\n\n\tfor ( const key in attributes ) {\n\t\tif ( ! isValidAttributeName( key ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tattributeString += ` ${ key }=\"${ escapeAttribute(\n\t\t\tattributes[ key ]\n\t\t) }\"`;\n\t}\n\n\tif ( object ) {\n\t\treturn `<${ type }${ attributeString }>`;\n\t}\n\n\treturn `<${ type }${ attributeString }>${ createChildrenHTML(\n\t\tchildren\n\t) }</${ type }>`;\n}\n\nfunction createChildrenHTML( children = [] ) {\n\treturn children\n\t\t.map( ( child ) => {\n\t\t\treturn child.text === undefined\n\t\t\t\t? createElementHTML( child )\n\t\t\t\t: escapeEditableHTML( child.text );\n\t\t} )\n\t\t.join( '' );\n}\n","/**\n * Internal dependencies\n */\n\nimport { LINE_SEPARATOR } from './special-characters';\nimport { getLineIndex } from './get-line-index';\nimport { canIndentListItems } from './can-indent-list-items';\n\n/**\n * Gets the line index of the first previous list item with higher indentation.\n *\n * @param {Object} value      Value to search.\n * @param {number} lineIndex  Line index of the list item to compare with.\n *\n * @return {boolean} The line index.\n */\nfunction getTargetLevelLineIndex( { text, replacements }, lineIndex ) {\n\tconst startFormats = replacements[ lineIndex ] || [];\n\n\tlet index = lineIndex;\n\n\twhile ( index-- >= 0 ) {\n\t\tif ( text[ index ] !== LINE_SEPARATOR ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst formatsAtIndex = replacements[ index ] || [];\n\n\t\t// Return the first line index that is one level higher. If the level is\n\t\t// lower or equal, there is no result.\n\t\tif ( formatsAtIndex.length === startFormats.length + 1 ) {\n\t\t\treturn index;\n\t\t} else if ( formatsAtIndex.length <= startFormats.length ) {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\n/**\n * Indents any selected list items if possible.\n *\n * @param {Object} value      Value to change.\n * @param {Object} rootFormat Root format.\n *\n * @return {Object} The changed value.\n */\nexport function indentListItems( value, rootFormat ) {\n\tif ( ! canIndentListItems( value ) ) {\n\t\treturn value;\n\t}\n\n\tconst lineIndex = getLineIndex( value );\n\tconst previousLineIndex = getLineIndex( value, lineIndex );\n\tconst { text, replacements, end } = value;\n\tconst newFormats = replacements.slice();\n\tconst targetLevelLineIndex = getTargetLevelLineIndex( value, lineIndex );\n\n\tfor ( let index = lineIndex; index < end; index++ ) {\n\t\tif ( text[ index ] !== LINE_SEPARATOR ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Get the previous list, and if there's a child list, take over the\n\t\t// formats. If not, duplicate the last level and create a new level.\n\t\tif ( targetLevelLineIndex ) {\n\t\t\tconst targetFormats = replacements[ targetLevelLineIndex ] || [];\n\t\t\tnewFormats[ index ] = targetFormats.concat(\n\t\t\t\t( newFormats[ index ] || [] ).slice( targetFormats.length - 1 )\n\t\t\t);\n\t\t} else {\n\t\t\tconst targetFormats = replacements[ previousLineIndex ] || [];\n\t\t\tconst lastformat =\n\t\t\t\ttargetFormats[ targetFormats.length - 1 ] || rootFormat;\n\n\t\t\tnewFormats[ index ] = targetFormats.concat(\n\t\t\t\t[ lastformat ],\n\t\t\t\t( newFormats[ index ] || [] ).slice( targetFormats.length )\n\t\t\t);\n\t\t}\n\t}\n\n\treturn {\n\t\t...value,\n\t\treplacements: newFormats,\n\t};\n}\n","/**\n * Internal dependencies\n */\nimport { getLineIndex } from './get-line-index';\n\n/**\n * Checks if the selected list item can be indented.\n *\n * @param {Object} value Value to check.\n *\n * @return {boolean} Whether or not the selected list item can be indented.\n */\nexport function canIndentListItems( value ) {\n\tconst lineIndex = getLineIndex( value );\n\n\t// There is only one line, so the line cannot be indented.\n\tif ( lineIndex === undefined ) {\n\t\treturn false;\n\t}\n\n\tconst { replacements } = value;\n\tconst previousLineIndex = getLineIndex( value, lineIndex );\n\tconst formatsAtLineIndex = replacements[ lineIndex ] || [];\n\tconst formatsAtPreviousLineIndex = replacements[ previousLineIndex ] || [];\n\n\t// If the indentation of the current line is greater than previous line,\n\t// then the line cannot be furter indented.\n\treturn formatsAtLineIndex.length <= formatsAtPreviousLineIndex.length;\n}\n","/**\n * External dependencies\n */\nimport { without } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport createHigherOrderComponent from '../../utils/create-higher-order-component';\n\n/**\n * A higher-order component used to provide and manage delayed function calls\n * that ought to be bound to a component's lifecycle.\n *\n * @param {WPComponent} OriginalComponent Component requiring setTimeout\n *\n * @return {WPComponent} Wrapped component.\n */\nconst withSafeTimeout = createHigherOrderComponent( ( OriginalComponent ) => {\n\treturn class WrappedComponent extends Component {\n\t\tconstructor() {\n\t\t\tsuper( ...arguments );\n\t\t\tthis.timeouts = [];\n\t\t\tthis.setTimeout = this.setTimeout.bind( this );\n\t\t\tthis.clearTimeout = this.clearTimeout.bind( this );\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tthis.timeouts.forEach( clearTimeout );\n\t\t}\n\n\t\tsetTimeout( fn, delay ) {\n\t\t\tconst id = setTimeout( () => {\n\t\t\t\tfn();\n\t\t\t\tthis.clearTimeout( id );\n\t\t\t}, delay );\n\t\t\tthis.timeouts.push( id );\n\t\t\treturn id;\n\t\t}\n\n\t\tclearTimeout( id ) {\n\t\t\tclearTimeout( id );\n\t\t\tthis.timeouts = without( this.timeouts, id );\n\t\t}\n\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<OriginalComponent\n\t\t\t\t\t{ ...this.props }\n\t\t\t\t\tsetTimeout={ this.setTimeout }\n\t\t\t\t\tclearTimeout={ this.clearTimeout }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n}, 'withSafeTimeout' );\n\nexport default withSafeTimeout;\n","/**\n * Internal dependencies\n */\nimport { getActiveFormat } from '../get-active-format';\nimport { getActiveObject } from '../get-active-object';\n\n/**\n * Set of all interactive content tags.\n *\n * @see https://html.spec.whatwg.org/multipage/dom.html#interactive-content\n */\nconst interactiveContentTags = new Set( [\n\t'a',\n\t'audio',\n\t'button',\n\t'details',\n\t'embed',\n\t'iframe',\n\t'input',\n\t'label',\n\t'select',\n\t'textarea',\n\t'video',\n] );\n\nexport default function FormatEdit( {\n\tformatTypes,\n\tonChange,\n\tonFocus,\n\tvalue,\n\tallowedFormats,\n\twithoutInteractiveFormatting,\n} ) {\n\treturn formatTypes.map( ( { name, edit: Edit, tagName } ) => {\n\t\tif ( ! Edit ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif ( allowedFormats && allowedFormats.indexOf( name ) === -1 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (\n\t\t\twithoutInteractiveFormatting &&\n\t\t\tinteractiveContentTags.has( tagName )\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst activeFormat = getActiveFormat( value, name );\n\t\tconst isActive = activeFormat !== undefined;\n\t\tconst activeObject = getActiveObject( value );\n\t\tconst isObjectActive =\n\t\t\tactiveObject !== undefined && activeObject.type === name;\n\n\t\treturn (\n\t\t\t<Edit\n\t\t\t\tkey={ name }\n\t\t\t\tisActive={ isActive }\n\t\t\t\tactiveAttributes={\n\t\t\t\t\tisActive ? activeFormat.attributes || {} : {}\n\t\t\t\t}\n\t\t\t\tisObjectActive={ isObjectActive }\n\t\t\t\tactiveObjectAttributes={\n\t\t\t\t\tisObjectActive ? activeObject.attributes || {} : {}\n\t\t\t\t}\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tonFocus={ onFocus }\n\t\t\t/>\n\t\t);\n\t} );\n}\n","/**\n * Internal dependencies\n */\n\nimport { OBJECT_REPLACEMENT_CHARACTER } from './special-characters';\n\n/**\n * Gets the active object, if there is any.\n *\n * @param {Object} value Value to inspect.\n *\n * @return {?Object} Active object, or undefined.\n */\nexport function getActiveObject( { start, end, replacements, text } ) {\n\tif ( start + 1 !== end || text[ start ] !== OBJECT_REPLACEMENT_CHARACTER ) {\n\t\treturn;\n\t}\n\n\treturn replacements[ start ];\n}\n","/**\n * External dependencies\n */\nimport { mapKeys } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, __unstableUseDispatchWithMap } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\n\nfunction formatTypesSelector( select ) {\n\treturn select( 'core/rich-text' ).getFormatTypes();\n}\n\n/**\n * This higher-order component provides RichText with the `formatTypes` prop\n * and its derived props from experimental format type settings.\n *\n * @param {WPComponent} RichText The rich text component to add props for.\n *\n * @return {WPComponent} New enhanced component.\n */\nexport default function withFormatTypes( RichText ) {\n\treturn function WithFormatTypes( props ) {\n\t\tconst { clientId, identifier } = props;\n\t\tconst formatTypes = useSelect( formatTypesSelector, [] );\n\t\tconst selectProps = useSelect(\n\t\t\t( select ) => {\n\t\t\t\treturn formatTypes.reduce( ( acc, settings ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t! settings.__experimentalGetPropsForEditableTreePreparation\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst selectPrefix = `format_prepare_props_(${ settings.name })_`;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t...mapKeys(\n\t\t\t\t\t\t\tsettings.__experimentalGetPropsForEditableTreePreparation(\n\t\t\t\t\t\t\t\tselect,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trichTextIdentifier: identifier,\n\t\t\t\t\t\t\t\t\tblockClientId: clientId,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t( value, key ) => selectPrefix + key\n\t\t\t\t\t\t),\n\t\t\t\t\t};\n\t\t\t\t}, {} );\n\t\t\t},\n\t\t\t[ formatTypes, clientId, identifier ]\n\t\t);\n\t\tconst dispatchProps = __unstableUseDispatchWithMap(\n\t\t\t( dispatch ) => {\n\t\t\t\treturn formatTypes.reduce( ( acc, settings ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t! settings.__experimentalGetPropsForEditableTreeChangeHandler\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst dispatchPrefix = `format_on_change_props_(${ settings.name })_`;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t...mapKeys(\n\t\t\t\t\t\t\tsettings.__experimentalGetPropsForEditableTreeChangeHandler(\n\t\t\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trichTextIdentifier: identifier,\n\t\t\t\t\t\t\t\t\tblockClientId: clientId,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t( value, key ) => dispatchPrefix + key\n\t\t\t\t\t\t),\n\t\t\t\t\t};\n\t\t\t\t}, {} );\n\t\t\t},\n\t\t\t[ formatTypes, clientId, identifier ]\n\t\t);\n\t\tconst newProps = useMemo( () => {\n\t\t\treturn formatTypes.reduce( ( acc, settings ) => {\n\t\t\t\tif ( ! settings.__experimentalCreatePrepareEditableTree ) {\n\t\t\t\t\treturn acc;\n\t\t\t\t}\n\n\t\t\t\tconst args = {\n\t\t\t\t\trichTextIdentifier: identifier,\n\t\t\t\t\tblockClientId: clientId,\n\t\t\t\t};\n\t\t\t\tconst combined = {\n\t\t\t\t\t...selectProps,\n\t\t\t\t\t...dispatchProps,\n\t\t\t\t};\n\n\t\t\t\tconst { name } = settings;\n\t\t\t\tconst selectPrefix = `format_prepare_props_(${ name })_`;\n\t\t\t\tconst dispatchPrefix = `format_on_change_props_(${ name })_`;\n\t\t\t\tconst propsByPrefix = Object.keys( combined ).reduce(\n\t\t\t\t\t( accumulator, key ) => {\n\t\t\t\t\t\tif ( key.startsWith( selectPrefix ) ) {\n\t\t\t\t\t\t\taccumulator[ key.slice( selectPrefix.length ) ] =\n\t\t\t\t\t\t\t\tcombined[ key ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( key.startsWith( dispatchPrefix ) ) {\n\t\t\t\t\t\t\taccumulator[ key.slice( dispatchPrefix.length ) ] =\n\t\t\t\t\t\t\t\tcombined[ key ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn accumulator;\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t);\n\n\t\t\t\tif ( settings.__experimentalCreateOnChangeEditableValue ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t[ `format_value_functions_(${ name })` ]: settings.__experimentalCreatePrepareEditableTree(\n\t\t\t\t\t\t\tpropsByPrefix,\n\t\t\t\t\t\t\targs\n\t\t\t\t\t\t),\n\t\t\t\t\t\t[ `format_on_change_functions_(${ name })` ]: settings.__experimentalCreateOnChangeEditableValue(\n\t\t\t\t\t\t\tpropsByPrefix,\n\t\t\t\t\t\t\targs\n\t\t\t\t\t\t),\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...acc,\n\t\t\t\t\t[ `format_prepare_functions_(${ name })` ]: settings.__experimentalCreatePrepareEditableTree(\n\t\t\t\t\t\tpropsByPrefix,\n\t\t\t\t\t\targs\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}, {} );\n\t\t}, [ formatTypes, clientId, identifier, selectProps, dispatchProps ] );\n\n\t\treturn (\n\t\t\t<RichText\n\t\t\t\t{ ...props }\n\t\t\t\t{ ...selectProps }\n\t\t\t\t{ ...newProps }\n\t\t\t\tformatTypes={ formatTypes }\n\t\t\t/>\n\t\t);\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Calculates and renders the format boundary style when the active formats\n * change.\n */\nexport function BoundaryStyle( { activeFormats, forwardedRef } ) {\n\tuseEffect( () => {\n\t\t// There's no need to recalculate the boundary styles if no formats are\n\t\t// active, because no boundary styles will be visible.\n\t\tif ( ! activeFormats || ! activeFormats.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst boundarySelector = '*[data-rich-text-format-boundary]';\n\t\tconst element = forwardedRef.current.querySelector( boundarySelector );\n\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { ownerDocument } = element;\n\t\tconst { defaultView } = ownerDocument;\n\t\tconst computedStyle = defaultView.getComputedStyle( element );\n\t\tconst newColor = computedStyle.color\n\t\t\t.replace( ')', ', 0.2)' )\n\t\t\t.replace( 'rgb', 'rgba' );\n\t\tconst selector = `.rich-text:focus ${ boundarySelector }`;\n\t\tconst rule = `background-color: ${ newColor }`;\n\t\tconst style = `${ selector } {${ rule }}`;\n\t\tconst globalStyleId = 'rich-text-boundary-style';\n\n\t\tlet globalStyle = ownerDocument.getElementById( globalStyleId );\n\n\t\tif ( ! globalStyle ) {\n\t\t\tglobalStyle = ownerDocument.createElement( 'style' );\n\t\t\tglobalStyle.id = globalStyleId;\n\t\t\townerDocument.head.appendChild( globalStyle );\n\t\t}\n\n\t\tif ( globalStyle.innerHTML !== style ) {\n\t\t\tglobalStyle.innerHTML = style;\n\t\t}\n\t}, [ activeFormats ] );\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\nexport function InlineWarning( { forwardedRef } ) {\n\tuseEffect( () => {\n\t\tif ( process.env.NODE_ENV === 'development' ) {\n\t\t\tconst target = forwardedRef.current;\n\t\t\tconst { defaultView } = target.ownerDocument;\n\t\t\tconst computedStyle = defaultView.getComputedStyle( target );\n\n\t\t\tif ( computedStyle.display === 'inline' ) {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.warn(\n\t\t\t\t\t'RichText cannot be used with an inline container. Please use a different tagName.'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}, [] );\n\treturn null;\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { find, isNil, pickBy, startsWith } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, forwardRef } from '@wordpress/element';\nimport {\n\tBACKSPACE,\n\tDELETE,\n\tENTER,\n\tLEFT,\n\tRIGHT,\n\tSPACE,\n\tESCAPE,\n} from '@wordpress/keycodes';\nimport { withSafeTimeout, compose } from '@wordpress/compose';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport FormatEdit from './format-edit';\nimport { create } from '../create';\nimport { apply } from '../to-dom';\nimport { toHTMLString } from '../to-html-string';\nimport { remove } from '../remove';\nimport { removeFormat } from '../remove-format';\nimport { isCollapsed } from '../is-collapsed';\nimport { LINE_SEPARATOR } from '../special-characters';\nimport { indentListItems } from '../indent-list-items';\nimport { getActiveFormats } from '../get-active-formats';\nimport { updateFormats } from '../update-formats';\nimport { removeLineSeparator } from '../remove-line-separator';\nimport { isEmptyLine } from '../is-empty';\nimport withFormatTypes from './with-format-types';\nimport { BoundaryStyle } from './boundary-style';\nimport { InlineWarning } from './inline-warning';\nimport { insert } from '../insert';\n\n/** @typedef {import('@wordpress/element').WPSyntheticEvent} WPSyntheticEvent */\n\n/**\n * All inserting input types that would insert HTML into the DOM.\n *\n * @see https://www.w3.org/TR/input-events-2/#interface-InputEvent-Attributes\n *\n * @type {Set}\n */\nconst INSERTION_INPUT_TYPES_TO_IGNORE = new Set( [\n\t'insertParagraph',\n\t'insertOrderedList',\n\t'insertUnorderedList',\n\t'insertHorizontalRule',\n\t'insertLink',\n] );\n\n/**\n * In HTML, leading and trailing spaces are not visible, and multiple spaces\n * elsewhere are visually reduced to one space. This rule prevents spaces from\n * collapsing so all space is visible in the editor and can be removed. It also\n * prevents some browsers from inserting non-breaking spaces at the end of a\n * line to prevent the space from visually disappearing. Sometimes these non\n * breaking spaces can linger in the editor causing unwanted non breaking spaces\n * in between words. If also prevent Firefox from inserting a trailing `br` node\n * to visualise any trailing space, causing the element to be saved.\n *\n * > Authors are encouraged to set the 'white-space' property on editing hosts\n * > and on markup that was originally created through these editing mechanisms\n * > to the value 'pre-wrap'. Default HTML whitespace handling is not well\n * > suited to WYSIWYG editing, and line wrapping will not work correctly in\n * > some corner cases if 'white-space' is left at its default value.\n *\n * https://html.spec.whatwg.org/multipage/interaction.html#best-practices-for-in-page-editors\n *\n * @type {string}\n */\nconst whiteSpace = 'pre-wrap';\n\n/**\n * Default style object for the editable element.\n *\n * @type {Object<string,string>}\n */\nconst defaultStyle = { whiteSpace };\n\nconst EMPTY_ACTIVE_FORMATS = [];\n\nfunction createPrepareEditableTree( props, prefix ) {\n\tconst fns = Object.keys( props ).reduce( ( accumulator, key ) => {\n\t\tif ( key.startsWith( prefix ) ) {\n\t\t\taccumulator.push( props[ key ] );\n\t\t}\n\n\t\treturn accumulator;\n\t}, [] );\n\n\treturn ( value ) =>\n\t\tfns.reduce( ( accumulator, fn ) => {\n\t\t\treturn fn( accumulator, value.text );\n\t\t}, value.formats );\n}\n\n/**\n * If the selection is set on the placeholder element, collapse the selection to\n * the start (before the placeholder).\n *\n * @param {Window} defaultView\n */\nfunction fixPlaceholderSelection( defaultView ) {\n\tconst selection = defaultView.getSelection();\n\tconst { anchorNode, anchorOffset } = selection;\n\n\tif ( anchorNode.nodeType !== anchorNode.ELEMENT_NODE ) {\n\t\treturn;\n\t}\n\n\tconst targetNode = anchorNode.childNodes[ anchorOffset ];\n\n\tif (\n\t\t! targetNode ||\n\t\ttargetNode.nodeType !== targetNode.ELEMENT_NODE ||\n\t\t! targetNode.getAttribute( 'data-rich-text-placeholder' )\n\t) {\n\t\treturn;\n\t}\n\n\tselection.collapseToStart();\n}\n\n/**\n * See export statement below.\n */\nclass RichText extends Component {\n\tconstructor( { value, selectionStart, selectionEnd } ) {\n\t\tsuper( ...arguments );\n\n\t\tthis.getDocument = this.getDocument.bind( this );\n\t\tthis.getWindow = this.getWindow.bind( this );\n\t\tthis.onFocus = this.onFocus.bind( this );\n\t\tthis.onBlur = this.onBlur.bind( this );\n\t\tthis.onChange = this.onChange.bind( this );\n\t\tthis.handleDelete = this.handleDelete.bind( this );\n\t\tthis.handleEnter = this.handleEnter.bind( this );\n\t\tthis.handleSpace = this.handleSpace.bind( this );\n\t\tthis.handleHorizontalNavigation = this.handleHorizontalNavigation.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.onPaste = this.onPaste.bind( this );\n\t\tthis.onCreateUndoLevel = this.onCreateUndoLevel.bind( this );\n\t\tthis.onInput = this.onInput.bind( this );\n\t\tthis.onCompositionStart = this.onCompositionStart.bind( this );\n\t\tthis.onCompositionEnd = this.onCompositionEnd.bind( this );\n\t\tthis.onSelectionChange = this.onSelectionChange.bind( this );\n\t\tthis.createRecord = this.createRecord.bind( this );\n\t\tthis.applyRecord = this.applyRecord.bind( this );\n\t\tthis.valueToFormat = this.valueToFormat.bind( this );\n\t\tthis.onPointerDown = this.onPointerDown.bind( this );\n\t\tthis.formatToValue = this.formatToValue.bind( this );\n\t\tthis.Editable = this.Editable.bind( this );\n\n\t\tthis.onKeyDown = ( event ) => {\n\t\t\tif ( event.defaultPrevented ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.handleDelete( event );\n\t\t\tthis.handleEnter( event );\n\t\t\tthis.handleSpace( event );\n\t\t\tthis.handleHorizontalNavigation( event );\n\t\t};\n\n\t\tthis.state = {};\n\t\tthis.lastHistoryValue = value;\n\n\t\t// Internal values are updated synchronously, unlike props and state.\n\t\tthis.value = value;\n\t\tthis.record = this.formatToValue( value );\n\t\tthis.record.start = selectionStart;\n\t\tthis.record.end = selectionEnd;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.getDocument().removeEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.onSelectionChange\n\t\t);\n\t\tthis.getWindow().cancelAnimationFrame( this.rafId );\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.applyRecord( this.record, { domOnly: true } );\n\t}\n\n\tgetDocument() {\n\t\treturn this.props.forwardedRef.current.ownerDocument;\n\t}\n\n\tgetWindow() {\n\t\treturn this.getDocument().defaultView;\n\t}\n\n\tcreateRecord() {\n\t\tconst {\n\t\t\t__unstableMultilineTag: multilineTag,\n\t\t\tforwardedRef,\n\t\t\tpreserveWhiteSpace,\n\t\t} = this.props;\n\t\tconst selection = this.getWindow().getSelection();\n\t\tconst range =\n\t\t\tselection.rangeCount > 0 ? selection.getRangeAt( 0 ) : null;\n\n\t\treturn create( {\n\t\t\telement: forwardedRef.current,\n\t\t\trange,\n\t\t\tmultilineTag,\n\t\t\tmultilineWrapperTags:\n\t\t\t\tmultilineTag === 'li' ? [ 'ul', 'ol' ] : undefined,\n\t\t\t__unstableIsEditableTree: true,\n\t\t\tpreserveWhiteSpace,\n\t\t} );\n\t}\n\n\tapplyRecord( record, { domOnly } = {} ) {\n\t\tconst {\n\t\t\t__unstableMultilineTag: multilineTag,\n\t\t\tforwardedRef,\n\t\t} = this.props;\n\n\t\tapply( {\n\t\t\tvalue: record,\n\t\t\tcurrent: forwardedRef.current,\n\t\t\tmultilineTag,\n\t\t\tmultilineWrapperTags:\n\t\t\t\tmultilineTag === 'li' ? [ 'ul', 'ol' ] : undefined,\n\t\t\tprepareEditableTree: createPrepareEditableTree(\n\t\t\t\tthis.props,\n\t\t\t\t'format_prepare_functions'\n\t\t\t),\n\t\t\t__unstableDomOnly: domOnly,\n\t\t\tplaceholder: this.props.placeholder,\n\t\t} );\n\t}\n\n\t/**\n\t * Handles a paste event.\n\t *\n\t * Saves the pasted data as plain text in `pastedPlainText`.\n\t *\n\t * @param {ClipboardEvent} event The paste event.\n\t */\n\tonPaste( event ) {\n\t\tconst {\n\t\t\tformatTypes,\n\t\t\tonPaste,\n\t\t\t__unstableIsSelected: isSelected,\n\t\t\t__unstableDisableFormats,\n\t\t} = this.props;\n\t\tconst { activeFormats = [] } = this.state;\n\n\t\tif ( ! isSelected ) {\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tconst clipboardData = event.clipboardData;\n\t\tlet { items, files } = clipboardData;\n\n\t\t// In Edge these properties can be null instead of undefined, so a more\n\t\t// rigorous test is required over using default values.\n\t\titems = isNil( items ) ? [] : items;\n\t\tfiles = isNil( files ) ? [] : files;\n\n\t\tlet plainText = '';\n\t\tlet html = '';\n\n\t\t// IE11 only supports `Text` as an argument for `getData` and will\n\t\t// otherwise throw an invalid argument error, so we try the standard\n\t\t// arguments first, then fallback to `Text` if they fail.\n\t\ttry {\n\t\t\tplainText = clipboardData.getData( 'text/plain' );\n\t\t\thtml = clipboardData.getData( 'text/html' );\n\t\t} catch ( error1 ) {\n\t\t\ttry {\n\t\t\t\thtml = clipboardData.getData( 'Text' );\n\t\t\t} catch ( error2 ) {\n\t\t\t\t// Some browsers like UC Browser paste plain text by default and\n\t\t\t\t// don't support clipboardData at all, so allow default\n\t\t\t\t// behaviour.\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\t// Allows us to ask for this information when we get a report.\n\t\twindow.console.log( 'Received HTML:\\n\\n', html );\n\t\twindow.console.log( 'Received plain text:\\n\\n', plainText );\n\n\t\tif ( __unstableDisableFormats ) {\n\t\t\tthis.onChange( insert( this.record, plainText ) );\n\t\t\treturn;\n\t\t}\n\n\t\tconst record = this.record;\n\t\tconst transformed = formatTypes.reduce(\n\t\t\t( accumlator, { __unstablePasteRule } ) => {\n\t\t\t\t// Only allow one transform.\n\t\t\t\tif ( __unstablePasteRule && accumlator === record ) {\n\t\t\t\t\taccumlator = __unstablePasteRule( record, {\n\t\t\t\t\t\thtml,\n\t\t\t\t\t\tplainText,\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\treturn accumlator;\n\t\t\t},\n\t\t\trecord\n\t\t);\n\n\t\tif ( transformed !== record ) {\n\t\t\tthis.onChange( transformed );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( onPaste ) {\n\t\t\tfiles = Array.from( files );\n\n\t\t\tArray.from( items ).forEach( ( item ) => {\n\t\t\t\tif ( ! item.getAsFile ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst file = item.getAsFile();\n\n\t\t\t\tif ( ! file ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst { name, type, size } = file;\n\n\t\t\t\tif ( ! find( files, { name, type, size } ) ) {\n\t\t\t\t\tfiles.push( file );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tonPaste( {\n\t\t\t\tvalue: this.removeEditorOnlyFormats( record ),\n\t\t\t\tonChange: this.onChange,\n\t\t\t\thtml,\n\t\t\t\tplainText,\n\t\t\t\tfiles,\n\t\t\t\tactiveFormats,\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Handles a focus event on the contenteditable field, calling the\n\t * `unstableOnFocus` prop callback if one is defined. The callback does not\n\t * receive any arguments.\n\t *\n\t * This is marked as a private API and the `unstableOnFocus` prop is not\n\t * documented, as the current requirements where it is used are subject to\n\t * future refactoring following `isSelected` handling.\n\t *\n\t * In contrast with `setFocusedElement`, this is only triggered in response\n\t * to focus within the contenteditable field, whereas `setFocusedElement`\n\t * is triggered on focus within any `RichText` descendent element.\n\t *\n\t * @see setFocusedElement\n\t *\n\t * @private\n\t */\n\tonFocus() {\n\t\tconst { unstableOnFocus } = this.props;\n\n\t\tif ( unstableOnFocus ) {\n\t\t\tunstableOnFocus();\n\t\t}\n\n\t\tif ( ! this.props.__unstableIsSelected ) {\n\t\t\t// We know for certain that on focus, the old selection is invalid. It\n\t\t\t// will be recalculated on the next mouseup, keyup, or touchend event.\n\t\t\tconst index = undefined;\n\t\t\tconst activeFormats = EMPTY_ACTIVE_FORMATS;\n\n\t\t\tthis.record = {\n\t\t\t\t...this.record,\n\t\t\t\tstart: index,\n\t\t\t\tend: index,\n\t\t\t\tactiveFormats,\n\t\t\t};\n\t\t\tthis.props.onSelectionChange( index, index );\n\t\t\tthis.setState( { activeFormats } );\n\t\t} else {\n\t\t\tthis.props.onSelectionChange( this.record.start, this.record.end );\n\t\t\tthis.setState( {\n\t\t\t\tactiveFormats: getActiveFormats(\n\t\t\t\t\t{\n\t\t\t\t\t\t...this.record,\n\t\t\t\t\t\tactiveFormats: undefined,\n\t\t\t\t\t},\n\t\t\t\t\tEMPTY_ACTIVE_FORMATS\n\t\t\t\t),\n\t\t\t} );\n\t\t}\n\n\t\t// Update selection as soon as possible, which is at the next animation\n\t\t// frame. The event listener for selection changes may be added too late\n\t\t// at this point, but this focus event is still too early to calculate\n\t\t// the selection.\n\t\tthis.rafId = this.getWindow().requestAnimationFrame(\n\t\t\tthis.onSelectionChange\n\t\t);\n\n\t\tthis.getDocument().addEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.onSelectionChange\n\t\t);\n\n\t\tif ( this.props.setFocusedElement ) {\n\t\t\tdeprecated( 'wp.blockEditor.RichText setFocusedElement prop', {\n\t\t\t\talternative: 'selection state from the block editor store.',\n\t\t\t} );\n\t\t\tthis.props.setFocusedElement( this.props.instanceId );\n\t\t}\n\t}\n\n\tonBlur() {\n\t\tthis.getDocument().removeEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.onSelectionChange\n\t\t);\n\t}\n\n\t/**\n\t * Handle input on the next selection change event.\n\t *\n\t * @param {WPSyntheticEvent} event Synthetic input event.\n\t */\n\tonInput( event ) {\n\t\t// Do not trigger a change if characters are being composed. Browsers\n\t\t// will usually emit a final `input` event when the characters are\n\t\t// composed.\n\t\t// As of December 2019, Safari doesn't support nativeEvent.isComposing.\n\t\tif ( this.isComposing ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet inputType;\n\n\t\tif ( event ) {\n\t\t\tinputType = event.inputType;\n\t\t}\n\n\t\tif ( ! inputType && event && event.nativeEvent ) {\n\t\t\tinputType = event.nativeEvent.inputType;\n\t\t}\n\n\t\t// The browser formatted something or tried to insert HTML.\n\t\t// Overwrite it. It will be handled later by the format library if\n\t\t// needed.\n\t\tif (\n\t\t\tinputType &&\n\t\t\t( inputType.indexOf( 'format' ) === 0 ||\n\t\t\t\tINSERTION_INPUT_TYPES_TO_IGNORE.has( inputType ) )\n\t\t) {\n\t\t\tthis.applyRecord( this.record );\n\t\t\treturn;\n\t\t}\n\n\t\tconst value = this.createRecord();\n\t\tconst { start, activeFormats = [] } = this.record;\n\n\t\t// Update the formats between the last and new caret position.\n\t\tconst change = updateFormats( {\n\t\t\tvalue,\n\t\t\tstart,\n\t\t\tend: value.start,\n\t\t\tformats: activeFormats,\n\t\t} );\n\n\t\tthis.onChange( change, { withoutHistory: true } );\n\n\t\tconst {\n\t\t\t__unstableInputRule: inputRule,\n\t\t\t__unstableMarkAutomaticChange: markAutomaticChange,\n\t\t\t__unstableAllowPrefixTransformations: allowPrefixTransformations,\n\t\t\tformatTypes,\n\t\t\tsetTimeout,\n\t\t\tclearTimeout,\n\t\t} = this.props;\n\n\t\t// Create an undo level when input stops for over a second.\n\t\tclearTimeout( this.onInput.timeout );\n\t\tthis.onInput.timeout = setTimeout( this.onCreateUndoLevel, 1000 );\n\n\t\t// Only run input rules when inserting text.\n\t\tif ( inputType !== 'insertText' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( allowPrefixTransformations && inputRule ) {\n\t\t\tinputRule( change, this.valueToFormat );\n\t\t}\n\n\t\tconst transformed = formatTypes.reduce(\n\t\t\t( accumlator, { __unstableInputRule } ) => {\n\t\t\t\tif ( __unstableInputRule ) {\n\t\t\t\t\taccumlator = __unstableInputRule( accumlator );\n\t\t\t\t}\n\n\t\t\t\treturn accumlator;\n\t\t\t},\n\t\t\tchange\n\t\t);\n\n\t\tif ( transformed !== change ) {\n\t\t\tthis.onCreateUndoLevel();\n\t\t\tthis.onChange( { ...transformed, activeFormats } );\n\t\t\tmarkAutomaticChange();\n\t\t}\n\t}\n\n\tonCompositionStart() {\n\t\tthis.isComposing = true;\n\t\t// Do not update the selection when characters are being composed as\n\t\t// this rerenders the component and might distroy internal browser\n\t\t// editing state.\n\t\tthis.getDocument().removeEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.onSelectionChange\n\t\t);\n\t}\n\n\tonCompositionEnd() {\n\t\tthis.isComposing = false;\n\t\t// Ensure the value is up-to-date for browsers that don't emit a final\n\t\t// input event after composition.\n\t\tthis.onInput( { inputType: 'insertText' } );\n\t\t// Tracking selection changes can be resumed.\n\t\tthis.getDocument().addEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.onSelectionChange\n\t\t);\n\t}\n\n\t/**\n\t * Syncs the selection to local state. A callback for the `selectionchange`\n\t * native events, `keyup`, `mouseup` and `touchend` synthetic events, and\n\t * animation frames after the `focus` event.\n\t *\n\t * @param {Event|WPSyntheticEvent|DOMHighResTimeStamp} event\n\t */\n\tonSelectionChange( event ) {\n\t\tif (\n\t\t\tevent.type !== 'selectionchange' &&\n\t\t\t! this.props.__unstableIsSelected\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.disabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// In case of a keyboard event, ignore selection changes during\n\t\t// composition.\n\t\tif ( this.isComposing ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { start, end, text } = this.createRecord();\n\t\tconst value = this.record;\n\n\t\t// Fallback mechanism for IE11, which doesn't support the input event.\n\t\t// Any input results in a selection change.\n\t\tif ( text !== value.text ) {\n\t\t\tthis.onInput();\n\t\t\treturn;\n\t\t}\n\n\t\tif ( start === value.start && end === value.end ) {\n\t\t\t// Sometimes the browser may set the selection on the placeholder\n\t\t\t// element, in which case the caret is not visible. We need to set\n\t\t\t// the caret before the placeholder if that's the case.\n\t\t\tif ( value.text.length === 0 && start === 0 ) {\n\t\t\t\tfixPlaceholderSelection( this.getWindow() );\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst {\n\t\t\t__unstableIsCaretWithinFormattedText: isCaretWithinFormattedText,\n\t\t\t__unstableOnEnterFormattedText: onEnterFormattedText,\n\t\t\t__unstableOnExitFormattedText: onExitFormattedText,\n\t\t} = this.props;\n\t\tconst newValue = {\n\t\t\t...value,\n\t\t\tstart,\n\t\t\tend,\n\t\t\t// Allow `getActiveFormats` to get new `activeFormats`.\n\t\t\tactiveFormats: undefined,\n\t\t};\n\n\t\tconst activeFormats = getActiveFormats(\n\t\t\tnewValue,\n\t\t\tEMPTY_ACTIVE_FORMATS\n\t\t);\n\n\t\t// Update the value with the new active formats.\n\t\tnewValue.activeFormats = activeFormats;\n\n\t\tif ( ! isCaretWithinFormattedText && activeFormats.length ) {\n\t\t\tonEnterFormattedText();\n\t\t} else if ( isCaretWithinFormattedText && ! activeFormats.length ) {\n\t\t\tonExitFormattedText();\n\t\t}\n\n\t\t// It is important that the internal value is updated first,\n\t\t// otherwise the value will be wrong on render!\n\t\tthis.record = newValue;\n\t\tthis.applyRecord( newValue, { domOnly: true } );\n\t\tthis.props.onSelectionChange( start, end );\n\t\tthis.setState( { activeFormats } );\n\t}\n\n\t/**\n\t * Sync the value to global state. The node tree and selection will also be\n\t * updated if differences are found.\n\t *\n\t * @param {Object}  record            The record to sync and apply.\n\t * @param {Object}  $2                Named options.\n\t * @param {boolean} $2.withoutHistory If true, no undo level will be\n\t *                                    created.\n\t */\n\tonChange( record, { withoutHistory } = {} ) {\n\t\tif ( this.props.__unstableDisableFormats ) {\n\t\t\trecord.formats = Array( record.text.length );\n\t\t\trecord.replacements = Array( record.text.length );\n\t\t}\n\n\t\tthis.applyRecord( record );\n\n\t\tconst { start, end, activeFormats = [] } = record;\n\t\tconst changeHandlers = pickBy( this.props, ( v, key ) =>\n\t\t\tkey.startsWith( 'format_on_change_functions_' )\n\t\t);\n\n\t\tObject.values( changeHandlers ).forEach( ( changeHandler ) => {\n\t\t\tchangeHandler( record.formats, record.text );\n\t\t} );\n\n\t\tthis.value = this.valueToFormat( record );\n\t\tthis.record = record;\n\t\t// Selection must be updated first, so it is recorded in history when\n\t\t// the content change happens.\n\t\tthis.props.onSelectionChange( start, end );\n\t\tthis.props.onChange( this.value );\n\t\tthis.setState( { activeFormats } );\n\n\t\tif ( ! withoutHistory ) {\n\t\t\tthis.onCreateUndoLevel();\n\t\t}\n\t}\n\n\tonCreateUndoLevel() {\n\t\t// If the content is the same, no level needs to be created.\n\t\tif ( this.lastHistoryValue === this.value ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.props.__unstableOnCreateUndoLevel();\n\t\tthis.lastHistoryValue = this.value;\n\t}\n\n\t/**\n\t * Handles delete on keydown:\n\t * - outdent list items,\n\t * - delete content if everything is selected,\n\t * - trigger the onDelete prop when selection is uncollapsed and at an edge.\n\t *\n\t * @param {WPSyntheticEvent} event A synthetic keyboard event.\n\t */\n\thandleDelete( event ) {\n\t\tconst { keyCode } = event;\n\n\t\tif (\n\t\t\tkeyCode !== DELETE &&\n\t\t\tkeyCode !== BACKSPACE &&\n\t\t\tkeyCode !== ESCAPE\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.__unstableDidAutomaticChange ) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.props.__unstableUndo();\n\t\t\treturn;\n\t\t}\n\n\t\tif ( keyCode === ESCAPE ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { onDelete, __unstableMultilineTag: multilineTag } = this.props;\n\t\tconst { activeFormats = [] } = this.state;\n\t\tconst value = this.createRecord();\n\t\tconst { start, end, text } = value;\n\t\tconst isReverse = keyCode === BACKSPACE;\n\n\t\t// Always handle full content deletion ourselves.\n\t\tif ( start === 0 && end !== 0 && end === text.length ) {\n\t\t\tthis.onChange( remove( value ) );\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif ( multilineTag ) {\n\t\t\tlet newValue;\n\n\t\t\t// Check to see if we should remove the first item if empty.\n\t\t\tif (\n\t\t\t\tisReverse &&\n\t\t\t\tvalue.start === 0 &&\n\t\t\t\tvalue.end === 0 &&\n\t\t\t\tisEmptyLine( value )\n\t\t\t) {\n\t\t\t\tnewValue = removeLineSeparator( value, ! isReverse );\n\t\t\t} else {\n\t\t\t\tnewValue = removeLineSeparator( value, isReverse );\n\t\t\t}\n\n\t\t\tif ( newValue ) {\n\t\t\t\tthis.onChange( newValue );\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Only process delete if the key press occurs at an uncollapsed edge.\n\t\tif (\n\t\t\t! onDelete ||\n\t\t\t! isCollapsed( value ) ||\n\t\t\tactiveFormats.length ||\n\t\t\t( isReverse && start !== 0 ) ||\n\t\t\t( ! isReverse && end !== text.length )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tonDelete( { isReverse, value } );\n\t\tevent.preventDefault();\n\t}\n\n\t/**\n\t * Triggers the `onEnter` prop on keydown.\n\t *\n\t * @param {WPSyntheticEvent} event A synthetic keyboard event.\n\t */\n\thandleEnter( event ) {\n\t\tif ( event.keyCode !== ENTER ) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\tconst { onEnter } = this.props;\n\n\t\tif ( ! onEnter ) {\n\t\t\treturn;\n\t\t}\n\n\t\tonEnter( {\n\t\t\tvalue: this.removeEditorOnlyFormats( this.createRecord() ),\n\t\t\tonChange: this.onChange,\n\t\t\tshiftKey: event.shiftKey,\n\t\t} );\n\t}\n\n\t/**\n\t * Indents list items on space keydown.\n\t *\n\t * @param {WPSyntheticEvent} event A synthetic keyboard event.\n\t */\n\thandleSpace( event ) {\n\t\tconst { keyCode, shiftKey, altKey, metaKey, ctrlKey } = event;\n\t\tconst {\n\t\t\t__unstableMultilineRootTag: multilineRootTag,\n\t\t\t__unstableMultilineTag: multilineTag,\n\t\t} = this.props;\n\n\t\tif (\n\t\t\t// Only override when no modifiers are pressed.\n\t\t\tshiftKey ||\n\t\t\taltKey ||\n\t\t\tmetaKey ||\n\t\t\tctrlKey ||\n\t\t\tkeyCode !== SPACE ||\n\t\t\tmultilineTag !== 'li'\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst value = this.createRecord();\n\n\t\tif ( ! isCollapsed( value ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { text, start } = value;\n\t\tconst characterBefore = text[ start - 1 ];\n\n\t\t// The caret must be at the start of a line.\n\t\tif ( characterBefore && characterBefore !== LINE_SEPARATOR ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.onChange( indentListItems( value, { type: multilineRootTag } ) );\n\t\tevent.preventDefault();\n\t}\n\n\t/**\n\t * Handles horizontal keyboard navigation when no modifiers are pressed. The\n\t * navigation is handled separately to move correctly around format\n\t * boundaries.\n\t *\n\t * @param {WPSyntheticEvent} event A synthetic keyboard event.\n\t */\n\thandleHorizontalNavigation( event ) {\n\t\tconst { keyCode, shiftKey, altKey, metaKey, ctrlKey } = event;\n\n\t\tif (\n\t\t\t// Only override left and right keys without modifiers pressed.\n\t\t\tshiftKey ||\n\t\t\taltKey ||\n\t\t\tmetaKey ||\n\t\t\tctrlKey ||\n\t\t\t( keyCode !== LEFT && keyCode !== RIGHT )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst value = this.record;\n\t\tconst { text, formats, start, end, activeFormats = [] } = value;\n\t\tconst collapsed = isCollapsed( value );\n\t\t// To do: ideally, we should look at visual position instead.\n\t\tconst { direction } = this.getWindow().getComputedStyle(\n\t\t\tthis.props.forwardedRef.current\n\t\t);\n\t\tconst reverseKey = direction === 'rtl' ? RIGHT : LEFT;\n\t\tconst isReverse = event.keyCode === reverseKey;\n\n\t\t// If the selection is collapsed and at the very start, do nothing if\n\t\t// navigating backward.\n\t\t// If the selection is collapsed and at the very end, do nothing if\n\t\t// navigating forward.\n\t\tif ( collapsed && activeFormats.length === 0 ) {\n\t\t\tif ( start === 0 && isReverse ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( end === text.length && ! isReverse ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// If the selection is not collapsed, let the browser handle collapsing\n\t\t// the selection for now. Later we could expand this logic to set\n\t\t// boundary positions if needed.\n\t\tif ( ! collapsed ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// In all other cases, prevent default behaviour.\n\t\tevent.preventDefault();\n\n\t\tconst formatsBefore = formats[ start - 1 ] || EMPTY_ACTIVE_FORMATS;\n\t\tconst formatsAfter = formats[ start ] || EMPTY_ACTIVE_FORMATS;\n\n\t\tlet newActiveFormatsLength = activeFormats.length;\n\t\tlet source = formatsAfter;\n\n\t\tif ( formatsBefore.length > formatsAfter.length ) {\n\t\t\tsource = formatsBefore;\n\t\t}\n\n\t\t// If the amount of formats before the caret and after the caret is\n\t\t// different, the caret is at a format boundary.\n\t\tif ( formatsBefore.length < formatsAfter.length ) {\n\t\t\tif ( ! isReverse && activeFormats.length < formatsAfter.length ) {\n\t\t\t\tnewActiveFormatsLength++;\n\t\t\t}\n\n\t\t\tif ( isReverse && activeFormats.length > formatsBefore.length ) {\n\t\t\t\tnewActiveFormatsLength--;\n\t\t\t}\n\t\t} else if ( formatsBefore.length > formatsAfter.length ) {\n\t\t\tif ( ! isReverse && activeFormats.length > formatsAfter.length ) {\n\t\t\t\tnewActiveFormatsLength--;\n\t\t\t}\n\n\t\t\tif ( isReverse && activeFormats.length < formatsBefore.length ) {\n\t\t\t\tnewActiveFormatsLength++;\n\t\t\t}\n\t\t}\n\n\t\tif ( newActiveFormatsLength !== activeFormats.length ) {\n\t\t\tconst newActiveFormats = source.slice( 0, newActiveFormatsLength );\n\t\t\tconst newValue = { ...value, activeFormats: newActiveFormats };\n\t\t\tthis.record = newValue;\n\t\t\tthis.applyRecord( newValue );\n\t\t\tthis.setState( { activeFormats: newActiveFormats } );\n\t\t\treturn;\n\t\t}\n\n\t\tconst newPos = start + ( isReverse ? -1 : 1 );\n\t\tconst newActiveFormats = isReverse ? formatsBefore : formatsAfter;\n\t\tconst newValue = {\n\t\t\t...value,\n\t\t\tstart: newPos,\n\t\t\tend: newPos,\n\t\t\tactiveFormats: newActiveFormats,\n\t\t};\n\n\t\tthis.record = newValue;\n\t\tthis.applyRecord( newValue );\n\t\tthis.props.onSelectionChange( newPos, newPos );\n\t\tthis.setState( { activeFormats: newActiveFormats } );\n\t}\n\n\t/**\n\t * Select object when they are clicked. The browser will not set any\n\t * selection when clicking e.g. an image.\n\t *\n\t * @param {WPSyntheticEvent} event Synthetic mousedown or touchstart event.\n\t */\n\tonPointerDown( event ) {\n\t\tconst { target } = event;\n\n\t\t// If the child element has no text content, it must be an object.\n\t\tif (\n\t\t\ttarget === this.props.forwardedRef.current ||\n\t\t\ttarget.textContent\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { parentNode } = target;\n\t\tconst index = Array.from( parentNode.childNodes ).indexOf( target );\n\t\tconst range = this.getDocument().createRange();\n\t\tconst selection = this.getWindow().getSelection();\n\n\t\trange.setStart( target.parentNode, index );\n\t\trange.setEnd( target.parentNode, index + 1 );\n\n\t\tselection.removeAllRanges();\n\t\tselection.addRange( range );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst {\n\t\t\ttagName,\n\t\t\tvalue,\n\t\t\tselectionStart,\n\t\t\tselectionEnd,\n\t\t\tplaceholder,\n\t\t\t__unstableIsSelected: isSelected,\n\t\t} = this.props;\n\n\t\t// Check if tag name changed.\n\t\tlet shouldReapply = tagName !== prevProps.tagName;\n\n\t\t// Check if the content changed.\n\t\tshouldReapply =\n\t\t\tshouldReapply ||\n\t\t\t( value !== prevProps.value && value !== this.value );\n\n\t\tconst selectionChanged =\n\t\t\t( selectionStart !== prevProps.selectionStart &&\n\t\t\t\tselectionStart !== this.record.start ) ||\n\t\t\t( selectionEnd !== prevProps.selectionEnd &&\n\t\t\t\tselectionEnd !== this.record.end );\n\n\t\t// Check if the selection changed.\n\t\tshouldReapply =\n\t\t\tshouldReapply ||\n\t\t\t( isSelected && ! prevProps.isSelected && selectionChanged );\n\n\t\tconst prefix = 'format_prepare_props_';\n\t\tconst predicate = ( v, key ) => key.startsWith( prefix );\n\t\tconst prepareProps = pickBy( this.props, predicate );\n\t\tconst prevPrepareProps = pickBy( prevProps, predicate );\n\n\t\t// Check if any format props changed.\n\t\tshouldReapply =\n\t\t\tshouldReapply || ! isShallowEqual( prepareProps, prevPrepareProps );\n\n\t\t// Rerender if the placeholder changed.\n\t\tshouldReapply = shouldReapply || placeholder !== prevProps.placeholder;\n\n\t\tif ( shouldReapply ) {\n\t\t\tthis.value = value;\n\t\t\tthis.record = this.formatToValue( value );\n\t\t\tthis.record.start = selectionStart;\n\t\t\tthis.record.end = selectionEnd;\n\t\t\tthis.applyRecord( this.record );\n\t\t} else if ( selectionChanged ) {\n\t\t\tthis.record = {\n\t\t\t\t...this.record,\n\t\t\t\tstart: selectionStart,\n\t\t\t\tend: selectionEnd,\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Converts the outside data structure to our internal representation.\n\t *\n\t * @param {*} value The outside value, data type depends on props.\n\t * @return {Object} An internal rich-text value.\n\t */\n\tformatToValue( value ) {\n\t\tconst {\n\t\t\tformat,\n\t\t\t__unstableMultilineTag: multilineTag,\n\t\t\tpreserveWhiteSpace,\n\t\t\t__unstableDisableFormats: disableFormats,\n\t\t} = this.props;\n\n\t\tif ( disableFormats ) {\n\t\t\treturn {\n\t\t\t\ttext: value,\n\t\t\t\tformats: Array( value.length ),\n\t\t\t\treplacements: Array( value.length ),\n\t\t\t};\n\t\t}\n\n\t\tif ( format !== 'string' ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tconst prepare = createPrepareEditableTree(\n\t\t\tthis.props,\n\t\t\t'format_value_functions'\n\t\t);\n\n\t\tvalue = create( {\n\t\t\thtml: value,\n\t\t\tmultilineTag,\n\t\t\tmultilineWrapperTags:\n\t\t\t\tmultilineTag === 'li' ? [ 'ul', 'ol' ] : undefined,\n\t\t\tpreserveWhiteSpace,\n\t\t} );\n\t\tvalue.formats = prepare( value );\n\n\t\treturn value;\n\t}\n\n\t/**\n\t * Removes editor only formats from the value.\n\t *\n\t * Editor only formats are applied using `prepareEditableTree`, so we need to\n\t * remove them before converting the internal state\n\t *\n\t * @param {Object} value The internal rich-text value.\n\t * @return {Object} A new rich-text value.\n\t */\n\tremoveEditorOnlyFormats( value ) {\n\t\tthis.props.formatTypes.forEach( ( formatType ) => {\n\t\t\t// Remove formats created by prepareEditableTree, because they are editor only.\n\t\t\tif ( formatType.__experimentalCreatePrepareEditableTree ) {\n\t\t\t\tvalue = removeFormat(\n\t\t\t\t\tvalue,\n\t\t\t\t\tformatType.name,\n\t\t\t\t\t0,\n\t\t\t\t\tvalue.text.length\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t\treturn value;\n\t}\n\n\t/**\n\t * Converts the internal value to the external data format.\n\t *\n\t * @param {Object} value The internal rich-text value.\n\t * @return {*} The external data format, data type depends on props.\n\t */\n\tvalueToFormat( value ) {\n\t\tconst {\n\t\t\tformat,\n\t\t\t__unstableMultilineTag: multilineTag,\n\t\t\tpreserveWhiteSpace,\n\t\t\t__unstableDisableFormats: disableFormats,\n\t\t} = this.props;\n\n\t\tif ( disableFormats ) {\n\t\t\treturn value.text;\n\t\t}\n\n\t\tvalue = this.removeEditorOnlyFormats( value );\n\n\t\tif ( format !== 'string' ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn toHTMLString( { value, multilineTag, preserveWhiteSpace } );\n\t}\n\n\tEditable( props ) {\n\t\tconst {\n\t\t\ttagName: TagName = 'div',\n\t\t\tstyle,\n\t\t\tclassName,\n\t\t\tplaceholder,\n\t\t\tforwardedRef,\n\t\t\tdisabled,\n\t\t} = this.props;\n\t\tconst ariaProps = pickBy( this.props, ( value, key ) =>\n\t\t\tstartsWith( key, 'aria-' )\n\t\t);\n\n\t\treturn (\n\t\t\t<TagName\n\t\t\t\t// Overridable props.\n\t\t\t\trole=\"textbox\"\n\t\t\t\taria-multiline\n\t\t\t\taria-label={ placeholder }\n\t\t\t\t{ ...props }\n\t\t\t\t{ ...ariaProps }\n\t\t\t\tref={ forwardedRef }\n\t\t\t\tstyle={ style ? { ...style, whiteSpace } : defaultStyle }\n\t\t\t\tclassName={ classnames( 'rich-text', className ) }\n\t\t\t\tonPaste={ this.onPaste }\n\t\t\t\tonInput={ this.onInput }\n\t\t\t\tonCompositionStart={ this.onCompositionStart }\n\t\t\t\tonCompositionEnd={ this.onCompositionEnd }\n\t\t\t\tonKeyDown={\n\t\t\t\t\tprops.onKeyDown\n\t\t\t\t\t\t? ( event ) => {\n\t\t\t\t\t\t\t\tprops.onKeyDown( event );\n\t\t\t\t\t\t\t\tthis.onKeyDown( event );\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: this.onKeyDown\n\t\t\t\t}\n\t\t\t\tonFocus={ this.onFocus }\n\t\t\t\tonBlur={ this.onBlur }\n\t\t\t\tonMouseDown={ this.onPointerDown }\n\t\t\t\tonTouchStart={ this.onPointerDown }\n\t\t\t\t// Selection updates must be done at these events as they\n\t\t\t\t// happen before the `selectionchange` event. In some cases,\n\t\t\t\t// the `selectionchange` event may not even fire, for\n\t\t\t\t// example when the window receives focus again on click.\n\t\t\t\tonKeyUp={ this.onSelectionChange }\n\t\t\t\tonMouseUp={ this.onSelectionChange }\n\t\t\t\tonTouchEnd={ this.onSelectionChange }\n\t\t\t\t// Do not set the attribute if disabled.\n\t\t\t\tcontentEditable={ disabled ? undefined : true }\n\t\t\t\tsuppressContentEditableWarning={ ! disabled }\n\t\t\t/>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\t__unstableIsSelected: isSelected,\n\t\t\tchildren,\n\t\t\tallowedFormats,\n\t\t\twithoutInteractiveFormatting,\n\t\t\tformatTypes,\n\t\t\tforwardedRef,\n\t\t} = this.props;\n\t\tconst { activeFormats } = this.state;\n\n\t\tconst onFocus = () => {\n\t\t\tforwardedRef.current.focus();\n\t\t\tthis.applyRecord( this.record );\n\t\t};\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BoundaryStyle\n\t\t\t\t\tactiveFormats={ activeFormats }\n\t\t\t\t\tforwardedRef={ forwardedRef }\n\t\t\t\t/>\n\t\t\t\t<InlineWarning forwardedRef={ forwardedRef } />\n\t\t\t\t{ isSelected && (\n\t\t\t\t\t<FormatEdit\n\t\t\t\t\t\tallowedFormats={ allowedFormats }\n\t\t\t\t\t\twithoutInteractiveFormatting={\n\t\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={ this.record }\n\t\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\t\tonFocus={ onFocus }\n\t\t\t\t\t\tformatTypes={ formatTypes }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ children &&\n\t\t\t\t\tchildren( {\n\t\t\t\t\t\tisSelected,\n\t\t\t\t\t\tvalue: this.record,\n\t\t\t\t\t\tonChange: this.onChange,\n\t\t\t\t\t\tonFocus,\n\t\t\t\t\t\tEditable: this.Editable,\n\t\t\t\t\t} ) }\n\t\t\t\t{ ! children && <this.Editable /> }\n\t\t\t</>\n\t\t);\n\t}\n}\n\nRichText.defaultProps = {\n\tformat: 'string',\n\tvalue: '',\n};\n\nconst RichTextWrapper = compose( [ withSafeTimeout, withFormatTypes ] )(\n\tRichText\n);\n\n/**\n * Renders a rich content input, providing users with the option to format the\n * content.\n */\nexport default forwardRef( ( props, ref ) => {\n\treturn <RichTextWrapper { ...props } forwardedRef={ ref } />;\n} );\n","/**\n * Internal dependencies\n */\n\nimport { isFormatEqual } from './is-format-equal';\n\n/**\n * Efficiently updates all the formats from `start` (including) until `end`\n * (excluding) with the active formats. Mutates `value`.\n *\n * @param  {Object} $1         Named paramentes.\n * @param  {Object} $1.value   Value te update.\n * @param  {number} $1.start   Index to update from.\n * @param  {number} $1.end     Index to update until.\n * @param  {Array}  $1.formats Replacement formats.\n *\n * @return {Object} Mutated value.\n */\nexport function updateFormats( { value, start, end, formats } ) {\n\tconst formatsBefore = value.formats[ start - 1 ] || [];\n\tconst formatsAfter = value.formats[ end ] || [];\n\n\t// First, fix the references. If any format right before or after are\n\t// equal, the replacement format should use the same reference.\n\tvalue.activeFormats = formats.map( ( format, index ) => {\n\t\tif ( formatsBefore[ index ] ) {\n\t\t\tif ( isFormatEqual( format, formatsBefore[ index ] ) ) {\n\t\t\t\treturn formatsBefore[ index ];\n\t\t\t}\n\t\t} else if ( formatsAfter[ index ] ) {\n\t\t\tif ( isFormatEqual( format, formatsAfter[ index ] ) ) {\n\t\t\t\treturn formatsAfter[ index ];\n\t\t\t}\n\t\t}\n\n\t\treturn format;\n\t} );\n\n\twhile ( --end >= start ) {\n\t\tif ( value.activeFormats.length > 0 ) {\n\t\t\tvalue.formats[ end ] = value.activeFormats;\n\t\t} else {\n\t\t\tdelete value.formats[ end ];\n\t\t}\n\t}\n\n\treturn value;\n}\n","/**\n * Returns an action object used in signalling that viewport queries have been\n * updated. Values are specified as an object of breakpoint query keys where\n * value represents whether query matches.\n *\n * @param {Object} values Breakpoint query matches.\n *\n * @return {Object} Action object.\n */\nexport function setIsMatching( values ) {\n\treturn {\n\t\ttype: 'SET_IS_MATCHING',\n\t\tvalues,\n\t};\n}\n","/**\n * Returns true if the viewport matches the given query, or false otherwise.\n *\n * @param {Object} state Viewport state object.\n * @param {string} query Query string. Includes operator and breakpoint name,\n *                       space separated. Operator defaults to >=.\n *\n * @example\n *\n * ```js\n * isViewportMatch( state, '< huge' );\n * isViewPortMatch( state, 'medium' );\n * ```\n *\n * @return {boolean} Whether viewport matches query.\n */\nexport function isViewportMatch( state, query ) {\n\t// Default to `>=` if no operator is present.\n\tif ( query.indexOf( ' ' ) === -1 ) {\n\t\tquery = '>= ' + query;\n\t}\n\n\treturn !! state[ query ];\n}\n","/**\n * WordPress dependencies\n */\nimport { registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\n\nexport default registerStore( 'core/viewport', {\n\treducer,\n\tactions,\n\tselectors,\n} );\n","/**\n * Reducer returning the viewport state, as keys of breakpoint queries with\n * boolean value representing whether query is matched.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nfunction reducer( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_MATCHING':\n\t\t\treturn action.values;\n\t}\n\n\treturn state;\n}\n\nexport default reducer;\n","/**\n * Internal dependencies\n */\nimport createHigherOrderComponent from '../../utils/create-higher-order-component';\n\n/**\n * Higher-order component creator, creating a new component which renders if\n * the given condition is satisfied or with the given optional prop name.\n *\n * @param {Function} predicate Function to test condition.\n *\n * @return {Function} Higher-order component.\n */\nconst ifCondition = ( predicate ) =>\n\tcreateHigherOrderComponent(\n\t\t( WrappedComponent ) => ( props ) => {\n\t\t\tif ( ! predicate( props ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn <WrappedComponent { ...props } />;\n\t\t},\n\t\t'ifCondition'\n\t);\n\nexport default ifCondition;\n","/**\n * External dependencies\n */\nimport { mapValues } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tcreateHigherOrderComponent,\n\tpure,\n\tuseViewportMatch,\n} from '@wordpress/compose';\n\n/**\n * Higher-order component creator, creating a new component which renders with\n * the given prop names, where the value passed to the underlying component is\n * the result of the query assigned as the object's value.\n *\n * @see isViewportMatch\n *\n * @param {Object} queries  Object of prop name to viewport query.\n *\n * @example\n *\n * ```jsx\n * function MyComponent( { isMobile } ) {\n * \treturn (\n * \t\t<div>Currently: { isMobile ? 'Mobile' : 'Not Mobile' }</div>\n * \t);\n * }\n *\n * MyComponent = withViewportMatch( { isMobile: '< small' } )( MyComponent );\n * ```\n *\n * @return {Function} Higher-order component.\n */\nconst withViewportMatch = ( queries ) => {\n\tconst useViewPortQueriesResult = () =>\n\t\tmapValues( queries, ( query ) => {\n\t\t\tlet [ operator, breakpointName ] = query.split( ' ' );\n\t\t\tif ( breakpointName === undefined ) {\n\t\t\t\tbreakpointName = operator;\n\t\t\t\toperator = '>=';\n\t\t\t}\n\t\t\t// Hooks should unconditionally execute in the same order,\n\t\t\t// we are respecting that as from the static query of the HOC we generate\n\t\t\t// a hook that calls other hooks always in the same order (because the query never changes).\n\t\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\t\treturn useViewportMatch( breakpointName, operator );\n\t\t} );\n\treturn createHigherOrderComponent( ( WrappedComponent ) => {\n\t\treturn pure( ( props ) => {\n\t\t\tconst queriesResult = useViewPortQueriesResult();\n\t\t\treturn <WrappedComponent { ...props } { ...queriesResult } />;\n\t\t} );\n\t}, 'withViewportMatch' );\n};\n\nexport default withViewportMatch;\n","/**\n * External dependencies\n */\nimport { reduce, forEach, debounce, mapValues } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { dispatch } from '@wordpress/data';\n\nconst addDimensionsEventListener = ( breakpoints, operators ) => {\n\t/**\n\t * Callback invoked when media query state should be updated. Is invoked a\n\t * maximum of one time per call stack.\n\t */\n\tconst setIsMatching = debounce(\n\t\t() => {\n\t\t\tconst values = mapValues( queries, ( query ) => query.matches );\n\t\t\tdispatch( 'core/viewport' ).setIsMatching( values );\n\t\t},\n\t\t{ leading: true }\n\t);\n\n\t/**\n\t * Hash of breakpoint names with generated MediaQueryList for corresponding\n\t * media query.\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList\n\t *\n\t * @type {Object<string,MediaQueryList>}\n\t */\n\tconst queries = reduce(\n\t\tbreakpoints,\n\t\t( result, width, name ) => {\n\t\t\tforEach( operators, ( condition, operator ) => {\n\t\t\t\tconst list = window.matchMedia(\n\t\t\t\t\t`(${ condition }: ${ width }px)`\n\t\t\t\t);\n\t\t\t\tlist.addListener( setIsMatching );\n\n\t\t\t\tconst key = [ operator, name ].join( ' ' );\n\t\t\t\tresult[ key ] = list;\n\t\t\t} );\n\n\t\t\treturn result;\n\t\t},\n\t\t{}\n\t);\n\n\twindow.addEventListener( 'orientationchange', setIsMatching );\n\n\t// Set initial values\n\tsetIsMatching();\n\tsetIsMatching.flush();\n};\n\nexport default addDimensionsEventListener;\n","/**\n * Internal dependencies\n */\nimport './store';\nimport addDimensionsEventListener from './listener';\n\nexport { default as ifViewportMatches } from './if-viewport-matches';\nexport { default as withViewportMatch } from './with-viewport-match';\n\n/**\n * Hash of breakpoint names with pixel width at which it becomes effective.\n *\n * @see _breakpoints.scss\n *\n * @type {Object}\n */\nconst BREAKPOINTS = {\n\thuge: 1440,\n\twide: 1280,\n\tlarge: 960,\n\tmedium: 782,\n\tsmall: 600,\n\tmobile: 480,\n};\n\n/**\n * Hash of query operators with corresponding condition for media query.\n *\n * @type {Object}\n */\nconst OPERATORS = {\n\t'<': 'max-width',\n\t'>=': 'min-width',\n};\n\naddDimensionsEventListener( BREAKPOINTS, OPERATORS );\n","/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * Reducer returning the registered shortcuts\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nfunction reducer( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REGISTER_SHORTCUT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.name ]: {\n\t\t\t\t\tcategory: action.category,\n\t\t\t\t\tkeyCombination: action.keyCombination,\n\t\t\t\t\taliases: action.aliases,\n\t\t\t\t\tdescription: action.description,\n\t\t\t\t},\n\t\t\t};\n\t\tcase 'UNREGISTER_SHORTCUT':\n\t\t\treturn omit( state, action.name );\n\t}\n\n\treturn state;\n}\n\nexport default reducer;\n","/** @typedef {import('@wordpress/keycodes').WPKeycodeModifier} WPKeycodeModifier */\n\n/**\n * Keyboard key combination.\n *\n * @typedef {Object} WPShortcutKeyCombination\n *\n * @property {string}                      character Character.\n * @property {WPKeycodeModifier|undefined} modifier  Modifier.\n */\n\n/**\n * Configuration of a registered keyboard shortcut.\n *\n * @typedef {Object} WPShortcutConfig\n *\n * @property {string}                     name           Shortcut name.\n * @property {string}                     category       Shortcut category.\n * @property {string}                     description    Shortcut description.\n * @property {WPShortcutKeyCombination}   keyCombination Shortcut key combination.\n * @property {WPShortcutKeyCombination[]} [aliases]      Shortcut aliases.\n */\n\n/**\n * Returns an action object used to register a new keyboard shortcut.\n *\n * @param {WPShortcutConfig} config Shortcut config.\n *\n * @return {Object} action.\n */\nexport function registerShortcut( {\n\tname,\n\tcategory,\n\tdescription,\n\tkeyCombination,\n\taliases,\n} ) {\n\treturn {\n\t\ttype: 'REGISTER_SHORTCUT',\n\t\tname,\n\t\tcategory,\n\t\tkeyCombination,\n\t\taliases,\n\t\tdescription,\n\t};\n}\n\n/**\n * Returns an action object used to unregister a keyboard shortcut.\n *\n * @param {string} name Shortcut name.\n *\n * @return {Object} action.\n */\nexport function unregisterShortcut( name ) {\n\treturn {\n\t\ttype: 'UNREGISTER_SHORTCUT',\n\t\tname,\n\t};\n}\n","/**\n * External dependencies\n */\nimport createSelector from 'rememo';\nimport { compact } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tdisplayShortcut,\n\tshortcutAriaLabel,\n\trawShortcut,\n} from '@wordpress/keycodes';\n\n/** @typedef {import('./actions').WPShortcutKeyCombination} WPShortcutKeyCombination */\n\n/** @typedef {import('@wordpress/keycodes').WPKeycodeHandlerByModifier} WPKeycodeHandlerByModifier */\n\n/**\n * Shared reference to an empty array for cases where it is important to avoid\n * returning a new array reference on every invocation.\n *\n * @type {Array<any>}\n */\nconst EMPTY_ARRAY = [];\n\n/**\n * Shortcut formatting methods.\n *\n * @property {WPKeycodeHandlerByModifier} display     Display formatting.\n * @property {WPKeycodeHandlerByModifier} rawShortcut Raw shortcut formatting.\n * @property {WPKeycodeHandlerByModifier} ariaLabel   ARIA label formatting.\n */\nconst FORMATTING_METHODS = {\n\tdisplay: displayShortcut,\n\traw: rawShortcut,\n\tariaLabel: shortcutAriaLabel,\n};\n\n/**\n * Returns a string representing the key combination.\n *\n * @param {?WPShortcutKeyCombination} shortcut       Key combination.\n * @param {keyof FORMATTING_METHODS}  representation Type of representation\n *                                                   (display, raw, ariaLabel).\n *\n * @return {string?} Shortcut representation.\n */\nfunction getKeyCombinationRepresentation( shortcut, representation ) {\n\tif ( ! shortcut ) {\n\t\treturn null;\n\t}\n\n\treturn shortcut.modifier\n\t\t? FORMATTING_METHODS[ representation ][ shortcut.modifier ](\n\t\t\t\tshortcut.character\n\t\t  )\n\t\t: shortcut.character;\n}\n\n/**\n * Returns the main key combination for a given shortcut name.\n *\n * @param {Object} state Global state.\n * @param {string} name  Shortcut name.\n *\n * @return {WPShortcutKeyCombination?} Key combination.\n */\nexport function getShortcutKeyCombination( state, name ) {\n\treturn state[ name ] ? state[ name ].keyCombination : null;\n}\n\n/**\n * Returns a string representing the main key combination for a given shortcut name.\n *\n * @param {Object}                   state          Global state.\n * @param {string}                   name           Shortcut name.\n * @param {keyof FORMATTING_METHODS} representation Type of representation\n *                                                  (display, raw, ariaLabel).\n *\n * @return {string?} Shortcut representation.\n */\nexport function getShortcutRepresentation(\n\tstate,\n\tname,\n\trepresentation = 'display'\n) {\n\tconst shortcut = getShortcutKeyCombination( state, name );\n\treturn getKeyCombinationRepresentation( shortcut, representation );\n}\n\n/**\n * Returns the shortcut description given its name.\n *\n * @param {Object} state Global state.\n * @param {string} name  Shortcut name.\n *\n * @return {string?} Shortcut description.\n */\nexport function getShortcutDescription( state, name ) {\n\treturn state[ name ] ? state[ name ].description : null;\n}\n\n/**\n * Returns the aliases for a given shortcut name.\n *\n * @param {Object} state Global state.\n * @param {string} name  Shortcut name.\n *\n * @return {WPShortcutKeyCombination[]} Key combinations.\n */\nexport function getShortcutAliases( state, name ) {\n\treturn state[ name ] && state[ name ].aliases\n\t\t? state[ name ].aliases\n\t\t: EMPTY_ARRAY;\n}\n\n/**\n * Returns the raw representation of all the keyboard combinations of a given shortcut name.\n *\n * @param {Object} state Global state.\n * @param {string} name  Shortcut name.\n *\n * @return {string[]} Shortcuts.\n */\nexport const getAllShortcutRawKeyCombinations = createSelector(\n\t( state, name ) => {\n\t\treturn compact( [\n\t\t\tgetKeyCombinationRepresentation(\n\t\t\t\tgetShortcutKeyCombination( state, name ),\n\t\t\t\t'raw'\n\t\t\t),\n\t\t\t...getShortcutAliases( state, name ).map( ( combination ) =>\n\t\t\t\tgetKeyCombinationRepresentation( combination, 'raw' )\n\t\t\t),\n\t\t] );\n\t},\n\t( state, name ) => [ state[ name ] ]\n);\n\n/**\n * Returns the shortcut names list for a given category name.\n *\n * @param {Object} state Global state.\n * @param {string} name  Category name.\n *\n * @return {string[]} Shortcut names.\n */\nexport const getCategoryShortcuts = createSelector(\n\t( state, categoryName ) => {\n\t\treturn Object.entries( state )\n\t\t\t.filter( ( [ , shortcut ] ) => shortcut.category === categoryName )\n\t\t\t.map( ( [ name ] ) => name );\n\t},\n\t( state ) => [ state ]\n);\n","/**\n * WordPress dependencies\n */\nimport { registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\n\nexport default registerStore( 'core/keyboard-shortcuts', {\n\treducer,\n\tactions,\n\tselectors,\n} );\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useKeyboardShortcut } from '@wordpress/compose';\n\n/**\n * Attach a keyboard shortcut handler.\n *\n * @param {string} name       Shortcut name.\n * @param {Function} callback Shortcut callback.\n * @param {Object} options    Shortcut options.\n */\nfunction useShortcut( name, callback, options ) {\n\tconst shortcuts = useSelect(\n\t\t( select ) => {\n\t\t\treturn select(\n\t\t\t\t'core/keyboard-shortcuts'\n\t\t\t).getAllShortcutRawKeyCombinations( name );\n\t\t},\n\t\t[ name ]\n\t);\n\n\tuseKeyboardShortcut( shortcuts, callback, options );\n}\n\nexport default useShortcut;\n","/**\n * External dependencies\n */\nimport { find, kebabCase, map } from 'lodash';\nimport tinycolor from 'tinycolor2';\n\n/**\n * Provided an array of color objects as set by the theme or by the editor defaults,\n * and the values of the defined color or custom color returns a color object describing the color.\n *\n * @param {Array}   colors       Array of color objects as set by the theme or by the editor defaults.\n * @param {?string} definedColor A string containing the color slug.\n * @param {?string} customColor  A string containing the customColor value.\n *\n * @return {?Object} If definedColor is passed and the name is found in colors,\n *                   the color object exactly as set by the theme or editor defaults is returned.\n *                   Otherwise, an object that just sets the color is defined.\n */\nexport const getColorObjectByAttributeValues = (\n\tcolors,\n\tdefinedColor,\n\tcustomColor\n) => {\n\tif ( definedColor ) {\n\t\tconst colorObj = find( colors, { slug: definedColor } );\n\n\t\tif ( colorObj ) {\n\t\t\treturn colorObj;\n\t\t}\n\t}\n\treturn {\n\t\tcolor: customColor,\n\t};\n};\n\n/**\n * Provided an array of color objects as set by the theme or by the editor defaults, and a color value returns the color object matching that value or undefined.\n *\n * @param {Array}   colors      Array of color objects as set by the theme or by the editor defaults.\n * @param {?string} colorValue  A string containing the color value.\n *\n * @return {?Object} Color object included in the colors array whose color property equals colorValue.\n *                   Returns undefined if no color object matches this requirement.\n */\nexport const getColorObjectByColorValue = ( colors, colorValue ) => {\n\treturn find( colors, { color: colorValue } );\n};\n\n/**\n * Returns a class based on the context a color is being used and its slug.\n *\n * @param {string} colorContextName Context/place where color is being used e.g: background, text etc...\n * @param {string} colorSlug        Slug of the color.\n *\n * @return {?string} String with the class corresponding to the color in the provided context.\n *                   Returns undefined if either colorContextName or colorSlug are not provided.\n */\nexport function getColorClassName( colorContextName, colorSlug ) {\n\tif ( ! colorContextName || ! colorSlug ) {\n\t\treturn undefined;\n\t}\n\n\treturn `has-${ kebabCase( colorSlug ) }-${ colorContextName }`;\n}\n\n/**\n * Given an array of color objects and a color value returns the color value of the most readable color in the array.\n *\n * @param {Array}   colors     Array of color objects as set by the theme or by the editor defaults.\n * @param {?string} colorValue A string containing the color value.\n *\n * @return {string} String with the color value of the most readable color.\n */\nexport function getMostReadableColor( colors, colorValue ) {\n\treturn tinycolor\n\t\t.mostReadable( colorValue, map( colors, 'color' ) )\n\t\t.toHexString();\n}\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, useContext } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\nconst Context = createContext( {\n\tname: '',\n\tisSelected: false,\n\tfocusedElement: null,\n\tsetFocusedElement: noop,\n\tclientId: null,\n} );\nconst { Provider, Consumer } = Context;\n\nexport { Provider as BlockEditContextProvider };\n\n/**\n * A hook that returns the block edit context.\n *\n * @return {Object} Block edit context\n */\nexport function useBlockEditContext() {\n\treturn useContext( Context );\n}\n\n/**\n * A Higher Order Component used to inject BlockEdit context to the\n * wrapped component.\n *\n * @param {Function} mapContextToProps Function called on every context change,\n *                                     expected to return object of props to\n *                                     merge with the component's own props.\n *\n * @return {WPComponent} Enhanced component with injected context as props.\n */\nexport const withBlockEditContext = ( mapContextToProps ) =>\n\tcreateHigherOrderComponent( ( OriginalComponent ) => {\n\t\treturn ( props ) => (\n\t\t\t<Consumer>\n\t\t\t\t{ ( context ) => (\n\t\t\t\t\t<OriginalComponent\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t{ ...mapContextToProps( context, props ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Consumer>\n\t\t);\n\t}, 'withBlockEditContext' );\n\n/**\n * A Higher Order Component used to render conditionally the wrapped\n * component only when the BlockEdit has selected state set.\n *\n * @param {WPComponent} OriginalComponent Component to wrap.\n *\n * @return {WPComponent} Component which renders only when the BlockEdit is selected.\n */\nexport const ifBlockEditSelected = createHigherOrderComponent(\n\t( OriginalComponent ) => {\n\t\treturn ( props ) => (\n\t\t\t<Consumer>\n\t\t\t\t{ ( { isSelected } ) =>\n\t\t\t\t\tisSelected && <OriginalComponent { ...props } />\n\t\t\t\t}\n\t\t\t</Consumer>\n\t\t);\n\t},\n\t'ifBlockEditSelected'\n);\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { ifBlockEditSelected } from '../block-edit/context';\n\nconst { Fill, Slot } = createSlotFill( 'InspectorControls' );\n\nconst InspectorControls = ifBlockEditSelected( Fill );\n\nInspectorControls.Slot = Slot;\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/inspector-controls/README.md\n */\nexport default InspectorControls;\n","/**\n * External dependencies\n */\nimport { debounce, without } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { addAction, applyFilters, removeAction } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\nconst ANIMATION_FRAME_PERIOD = 16;\n\n/**\n * Creates a higher-order component which adds filtering capability to the\n * wrapped component. Filters get applied when the original component is about\n * to be mounted. When a filter is added or removed that matches the hook name,\n * the wrapped component re-renders.\n *\n * @param {string} hookName Hook name exposed to be used by filters.\n *\n * @return {Function} Higher-order component factory.\n */\nexport default function withFilters( hookName ) {\n\treturn createHigherOrderComponent( ( OriginalComponent ) => {\n\t\tconst namespace = 'core/with-filters/' + hookName;\n\n\t\t/**\n\t\t * The component definition with current filters applied. Each instance\n\t\t * reuse this shared reference as an optimization to avoid excessive\n\t\t * calls to `applyFilters` when many instances exist.\n\t\t *\n\t\t * @type {?Component}\n\t\t */\n\t\tlet FilteredComponent;\n\n\t\t/**\n\t\t * Initializes the FilteredComponent variable once, if not already\n\t\t * assigned. Subsequent calls are effectively a noop.\n\t\t */\n\t\tfunction ensureFilteredComponent() {\n\t\t\tif ( FilteredComponent === undefined ) {\n\t\t\t\tFilteredComponent = applyFilters( hookName, OriginalComponent );\n\t\t\t}\n\t\t}\n\n\t\tclass FilteredComponentRenderer extends Component {\n\t\t\tconstructor() {\n\t\t\t\tsuper( ...arguments );\n\n\t\t\t\tensureFilteredComponent();\n\t\t\t}\n\n\t\t\tcomponentDidMount() {\n\t\t\t\tFilteredComponentRenderer.instances.push( this );\n\n\t\t\t\t// If there were previously no mounted instances for components\n\t\t\t\t// filtered on this hook, add the hook handler.\n\t\t\t\tif ( FilteredComponentRenderer.instances.length === 1 ) {\n\t\t\t\t\taddAction( 'hookRemoved', namespace, onHooksUpdated );\n\t\t\t\t\taddAction( 'hookAdded', namespace, onHooksUpdated );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcomponentWillUnmount() {\n\t\t\t\tFilteredComponentRenderer.instances = without(\n\t\t\t\t\tFilteredComponentRenderer.instances,\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\t\t// If this was the last of the mounted components filtered on\n\t\t\t\t// this hook, remove the hook handler.\n\t\t\t\tif ( FilteredComponentRenderer.instances.length === 0 ) {\n\t\t\t\t\tremoveAction( 'hookRemoved', namespace );\n\t\t\t\t\tremoveAction( 'hookAdded', namespace );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\treturn <FilteredComponent { ...this.props } />;\n\t\t\t}\n\t\t}\n\n\t\tFilteredComponentRenderer.instances = [];\n\n\t\t/**\n\t\t * Updates the FilteredComponent definition, forcing a render for each\n\t\t * mounted instance. This occurs a maximum of once per animation frame.\n\t\t */\n\t\tconst throttledForceUpdate = debounce( () => {\n\t\t\t// Recreate the filtered component, only after delay so that it's\n\t\t\t// computed once, even if many filters added.\n\t\t\tFilteredComponent = applyFilters( hookName, OriginalComponent );\n\n\t\t\t// Force each instance to render.\n\t\t\tFilteredComponentRenderer.instances.forEach( ( instance ) => {\n\t\t\t\tinstance.forceUpdate();\n\t\t\t} );\n\t\t}, ANIMATION_FRAME_PERIOD );\n\n\t\t/**\n\t\t * When a filter is added or removed for the matching hook name, each\n\t\t * mounted instance should re-render with the new filters having been\n\t\t * applied to the original component.\n\t\t *\n\t\t * @param {string} updatedHookName Name of the hook that was updated.\n\t\t */\n\t\tfunction onHooksUpdated( updatedHookName ) {\n\t\t\tif ( updatedHookName === hookName ) {\n\t\t\t\tthrottledForceUpdate();\n\t\t\t}\n\t\t}\n\n\t\treturn FilteredComponentRenderer;\n\t}, 'withFilters' );\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { withFilters } from '@wordpress/components';\nimport {\n\tgetBlockDefaultClassName,\n\thasBlockSupport,\n\tgetBlockType,\n} from '@wordpress/blocks';\n\nexport const Edit = ( props ) => {\n\tconst { attributes = {}, name } = props;\n\tconst blockType = getBlockType( name );\n\n\tif ( ! blockType ) {\n\t\treturn null;\n\t}\n\n\t// `edit` and `save` are functions or components describing the markup\n\t// with which a block is displayed. If `blockType` is valid, assign\n\t// them preferentially as the render value for the block.\n\tconst Component = blockType.edit || blockType.save;\n\tconst lightBlockWrapper = hasBlockSupport(\n\t\tblockType,\n\t\t'lightBlockWrapper',\n\t\tfalse\n\t);\n\n\tif ( lightBlockWrapper ) {\n\t\treturn <Component { ...props } />;\n\t}\n\n\t// Generate a class name for the block's editable form\n\tconst generatedClassName = hasBlockSupport( blockType, 'className', true )\n\t\t? getBlockDefaultClassName( name )\n\t\t: null;\n\tconst className = classnames( generatedClassName, attributes.className );\n\n\treturn <Component { ...props } className={ className } />;\n};\n\nexport default withFilters( 'editor.BlockEdit' )( Edit );\n","/**\n * External dependencies\n */\nimport memize from 'memize';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport { BlockEditContextProvider, useBlockEditContext } from './context';\n\nclass BlockEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\t// It is important to return the same object if props haven't changed\n\t\t// to avoid  unnecessary rerenders.\n\t\t// See https://reactjs.org/docs/context.html#caveats.\n\t\tthis.propsToContext = memize( this.propsToContext.bind( this ), {\n\t\t\tmaxSize: 1,\n\t\t} );\n\t}\n\n\tpropsToContext(\n\t\tname,\n\t\tisSelected,\n\t\tclientId,\n\t\tonFocus,\n\t\tonCaretVerticalPositionChange\n\t) {\n\t\treturn {\n\t\t\tname,\n\t\t\tisSelected,\n\t\t\tclientId,\n\t\t\tonFocus,\n\t\t\tonCaretVerticalPositionChange,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tname,\n\t\t\tisSelected,\n\t\t\tclientId,\n\t\t\tonFocus,\n\t\t\tonCaretVerticalPositionChange,\n\t\t} = this.props;\n\t\tconst value = this.propsToContext(\n\t\t\tname,\n\t\t\tisSelected,\n\t\t\tclientId,\n\t\t\tonFocus,\n\t\t\tonCaretVerticalPositionChange\n\t\t);\n\n\t\treturn (\n\t\t\t<BlockEditContextProvider value={ value }>\n\t\t\t\t<Edit { ...this.props } />\n\t\t\t</BlockEditContextProvider>\n\t\t);\n\t}\n}\n\nexport default BlockEdit;\nexport { useBlockEditContext };\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\nconst ColorIndicator = ( { className, colorValue, ...props } ) => (\n\t<span\n\t\tclassName={ classnames( 'component-color-indicator', className ) }\n\t\tstyle={ { background: colorValue } }\n\t\t{ ...props }\n\t/>\n);\n\nexport default ColorIndicator;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\nfunction ButtonGroup( { className, ...props }, ref ) {\n\tconst classes = classnames( 'components-button-group', className );\n\n\treturn <div ref={ ref } role=\"group\" className={ classes } { ...props } />;\n}\n\nexport default forwardRef( ButtonGroup );\n","/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n\n// Disable reason: JSDoc linter doesn't seem to parse the union (`&`) correctly.\n/* eslint-disable jsdoc/valid-types */\n/** @typedef {{icon: JSX.Element, size?: number} & import('react').ComponentPropsWithoutRef<'SVG'>} IconProps */\n/* eslint-enable jsdoc/valid-types */\n\n/**\n * Return an SVG icon.\n *\n * @param {IconProps} props icon is the SVG component to render\n *                          size is a number specifiying the icon size in pixels\n *                          Other props will be passed to wrapped SVG component\n *\n * @return {JSX.Element}  Icon component\n */\nfunction Icon( { icon, size = 24, ...props } ) {\n\treturn cloneElement( icon, {\n\t\twidth: size,\n\t\theight: size,\n\t\t...props,\n\t} );\n}\n\nexport default Icon;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst check = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M9 18.6L3.5 13l1-1L9 16.4l9.5-9.9 1 1z\" />\n\t</SVG>\n);\n\nexport default check;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Icon, check } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport Dropdown from '../dropdown';\nimport Tooltip from '../tooltip';\n\nfunction Option( {\n\tclassName,\n\tisSelected,\n\tselectedIconProps,\n\ttooltipText,\n\t...additionalProps\n} ) {\n\tconst optionButton = (\n\t\t<Button\n\t\t\tisPressed={ isSelected }\n\t\t\tclassName={ classnames(\n\t\t\t\tclassName,\n\t\t\t\t'components-circular-option-picker__option'\n\t\t\t) }\n\t\t\t{ ...additionalProps }\n\t\t/>\n\t);\n\treturn (\n\t\t<div className=\"components-circular-option-picker__option-wrapper\">\n\t\t\t{ tooltipText ? (\n\t\t\t\t<Tooltip text={ tooltipText }>{ optionButton }</Tooltip>\n\t\t\t) : (\n\t\t\t\toptionButton\n\t\t\t) }\n\t\t\t{ isSelected && (\n\t\t\t\t<Icon\n\t\t\t\t\ticon={ check }\n\t\t\t\t\t{ ...( selectedIconProps ? selectedIconProps : {} ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction DropdownLinkAction( {\n\tbuttonProps,\n\tclassName,\n\tdropdownProps,\n\tlinkText,\n} ) {\n\treturn (\n\t\t<Dropdown\n\t\t\tclassName={ classnames(\n\t\t\t\t'components-circular-option-picker__dropdown-link-action',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<Button\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\tisLink\n\t\t\t\t\t{ ...buttonProps }\n\t\t\t\t>\n\t\t\t\t\t{ linkText }\n\t\t\t\t</Button>\n\t\t\t) }\n\t\t\t{ ...dropdownProps }\n\t\t/>\n\t);\n}\n\nfunction ButtonAction( { className, children, ...additionalProps } ) {\n\treturn (\n\t\t<Button\n\t\t\tclassName={ classnames(\n\t\t\t\t'components-circular-option-picker__clear',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\tisSmall\n\t\t\tisSecondary\n\t\t\t{ ...additionalProps }\n\t\t>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nexport default function CircularOptionPicker( {\n\tactions,\n\tclassName,\n\toptions,\n\tchildren,\n} ) {\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames(\n\t\t\t\t'components-circular-option-picker',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t>\n\t\t\t{ options }\n\t\t\t{ children }\n\t\t\t{ actions && (\n\t\t\t\t<div className=\"components-circular-option-picker__custom-clear-wrapper\">\n\t\t\t\t\t{ actions }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nCircularOptionPicker.Option = Option;\nCircularOptionPicker.ButtonAction = ButtonAction;\nCircularOptionPicker.DropdownLinkAction = DropdownLinkAction;\n","/**\n * External dependencies\n */\nimport { map } from 'lodash';\nimport tinycolor from 'tinycolor2';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useCallback, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport ColorPicker from '../color-picker';\nimport CircularOptionPicker from '../circular-option-picker';\n\nexport default function ColorPalette( {\n\tclearable = true,\n\tclassName,\n\tcolors,\n\tdisableCustomColors = false,\n\tonChange,\n\tvalue,\n} ) {\n\tconst clearColor = useCallback( () => onChange( undefined ), [ onChange ] );\n\tconst colorOptions = useMemo( () => {\n\t\treturn map( colors, ( { color, name } ) => (\n\t\t\t<CircularOptionPicker.Option\n\t\t\t\tkey={ color }\n\t\t\t\tisSelected={ value === color }\n\t\t\t\tselectedIconProps={\n\t\t\t\t\tvalue === color\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tfill: tinycolor\n\t\t\t\t\t\t\t\t\t.mostReadable( color, [ '#000', '#fff' ] )\n\t\t\t\t\t\t\t\t\t.toHexString(),\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {}\n\t\t\t\t}\n\t\t\t\ttooltipText={\n\t\t\t\t\tname ||\n\t\t\t\t\t// translators: %s: color hex code e.g: \"#f00\".\n\t\t\t\t\tsprintf( __( 'Color code: %s' ), color )\n\t\t\t\t}\n\t\t\t\tstyle={ { backgroundColor: color, color } }\n\t\t\t\tonClick={\n\t\t\t\t\tvalue === color ? clearColor : () => onChange( color )\n\t\t\t\t}\n\t\t\t\taria-label={\n\t\t\t\t\tname\n\t\t\t\t\t\t? // translators: %s: The name of the color e.g: \"vivid red\".\n\t\t\t\t\t\t  sprintf( __( 'Color: %s' ), name )\n\t\t\t\t\t\t: // translators: %s: color hex code e.g: \"#f00\".\n\t\t\t\t\t\t  sprintf( __( 'Color code: %s' ), color )\n\t\t\t\t}\n\t\t\t/>\n\t\t) );\n\t}, [ colors, value, onChange, clearColor ] );\n\tconst renderCustomColorPicker = useCallback(\n\t\t() => (\n\t\t\t<ColorPicker\n\t\t\t\tcolor={ value }\n\t\t\t\tonChangeComplete={ ( color ) => onChange( color.hex ) }\n\t\t\t\tdisableAlpha\n\t\t\t/>\n\t\t),\n\t\t[ value ]\n\t);\n\n\treturn (\n\t\t<CircularOptionPicker\n\t\t\tclassName={ className }\n\t\t\toptions={ colorOptions }\n\t\t\tactions={\n\t\t\t\t<>\n\t\t\t\t\t{ ! disableCustomColors && (\n\t\t\t\t\t\t<CircularOptionPicker.DropdownLinkAction\n\t\t\t\t\t\t\tdropdownProps={ {\n\t\t\t\t\t\t\t\trenderContent: renderCustomColorPicker,\n\t\t\t\t\t\t\t\tcontentClassName:\n\t\t\t\t\t\t\t\t\t'components-color-palette__picker',\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tbuttonProps={ {\n\t\t\t\t\t\t\t\t'aria-label': __( 'Custom color picker' ),\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tlinkText={ __( 'Custom color' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! clearable && (\n\t\t\t\t\t\t<CircularOptionPicker.ButtonAction\n\t\t\t\t\t\t\tonClick={ clearColor }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Clear' ) }\n\t\t\t\t\t\t</CircularOptionPicker.ButtonAction>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tuseCallback,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element';\n\nconst useIsomorphicLayoutEffect =\n\ttypeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport default function useDragging( { onDragStart, onDragMove, onDragEnd } ) {\n\tconst [ isDragging, setIsDragging ] = useState( false );\n\n\tconst eventsRef = useRef( {\n\t\tonDragStart,\n\t\tonDragMove,\n\t\tonDragEnd,\n\t} );\n\tuseIsomorphicLayoutEffect( () => {\n\t\teventsRef.current.onDragStart = onDragStart;\n\t\teventsRef.current.onDragMove = onDragMove;\n\t\teventsRef.current.onDragEnd = onDragEnd;\n\t}, [ onDragStart, onDragMove, onDragEnd ] );\n\n\tconst onMouseMove = useCallback(\n\t\t( ...args ) =>\n\t\t\teventsRef.current.onDragMove &&\n\t\t\teventsRef.current.onDragMove( ...args ),\n\t\t[]\n\t);\n\tconst endDrag = useCallback( ( ...args ) => {\n\t\tif ( eventsRef.current.onDragEnd ) {\n\t\t\teventsRef.current.onDragEnd( ...args );\n\t\t}\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove );\n\t\tdocument.removeEventListener( 'mouseup', endDrag );\n\t\tsetIsDragging( false );\n\t}, [] );\n\tconst startDrag = useCallback( ( ...args ) => {\n\t\tif ( eventsRef.current.onDragStart ) {\n\t\t\teventsRef.current.onDragStart( ...args );\n\t\t}\n\t\tdocument.addEventListener( 'mousemove', onMouseMove );\n\t\tdocument.addEventListener( 'mouseup', endDrag );\n\t\tsetIsDragging( true );\n\t}, [] );\n\n\t// Remove the global events when unmounting if needed.\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tif ( isDragging ) {\n\t\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove );\n\t\t\t\tdocument.removeEventListener( 'mouseup', endDrag );\n\t\t\t}\n\t\t};\n\t}, [ isDragging ] );\n\n\treturn {\n\t\tstartDrag,\n\t\tendDrag,\n\t\tisDragging,\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { useRef } from '@wordpress/element';\nimport {\n\tuseInstanceId,\n\t__experimentalUseDragging as useDragging,\n} from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BaseControl from '../base-control';\n\nfunction getAngle( centerX, centerY, pointX, pointY ) {\n\tconst y = pointY - centerY;\n\tconst x = pointX - centerX;\n\n\tconst angleInRadians = Math.atan2( y, x );\n\tconst angleInDeg = Math.round( angleInRadians * ( 180 / Math.PI ) ) + 90;\n\tif ( angleInDeg < 0 ) {\n\t\treturn 360 + angleInDeg;\n\t}\n\treturn angleInDeg;\n}\n\nconst AngleCircle = ( { value, onChange, ...props } ) => {\n\tconst angleCircleRef = useRef();\n\tconst angleCircleCenter = useRef();\n\n\tconst setAngleCircleCenter = () => {\n\t\tconst rect = angleCircleRef.current.getBoundingClientRect();\n\t\tangleCircleCenter.current = {\n\t\t\tx: rect.x + rect.width / 2,\n\t\t\ty: rect.y + rect.height / 2,\n\t\t};\n\t};\n\n\tconst changeAngleToPosition = ( event ) => {\n\t\tconst { x: centerX, y: centerY } = angleCircleCenter.current;\n\t\t// Prevent (drag) mouse events from selecting and accidentally\n\t\t// triggering actions from other elements.\n\t\tevent.preventDefault();\n\n\t\tonChange( getAngle( centerX, centerY, event.clientX, event.clientY ) );\n\t};\n\n\tconst { startDrag, isDragging } = useDragging( {\n\t\tonDragStart: ( event ) => {\n\t\t\tsetAngleCircleCenter();\n\t\t\tchangeAngleToPosition( event );\n\t\t},\n\t\tonDragMove: changeAngleToPosition,\n\t\tonDragEnd: changeAngleToPosition,\n\t} );\n\treturn (\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t\t<div\n\t\t\tref={ angleCircleRef }\n\t\t\tonMouseDown={ startDrag }\n\t\t\tclassName=\"components-angle-picker-control__angle-circle\"\n\t\t\tstyle={ isDragging ? { cursor: 'grabbing' } : undefined }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={\n\t\t\t\t\tvalue ? { transform: `rotate(${ value }deg)` } : undefined\n\t\t\t\t}\n\t\t\t\tclassName=\"components-angle-picker-control__angle-circle-indicator-wrapper\"\n\t\t\t>\n\t\t\t\t<span className=\"components-angle-picker-control__angle-circle-indicator\" />\n\t\t\t</div>\n\t\t</div>\n\t\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n\t);\n};\n\nexport default function AnglePickerControl( {\n\tvalue,\n\tonChange,\n\tlabel = __( 'Angle' ),\n} ) {\n\tconst instanceId = useInstanceId( AnglePickerControl );\n\tconst inputId = `components-angle-picker-control__input-${ instanceId }`;\n\treturn (\n\t\t<BaseControl\n\t\t\tlabel={ label }\n\t\t\tid={ inputId }\n\t\t\tclassName=\"components-angle-picker-control\"\n\t\t>\n\t\t\t<AngleCircle\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ onChange }\n\t\t\t\taria-hidden=\"true\"\n\t\t\t/>\n\t\t\t<input\n\t\t\t\tclassName=\"components-angle-picker-control__input-field\"\n\t\t\t\ttype=\"number\"\n\t\t\t\tid={ inputId }\n\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\tconst unprocessedValue = event.target.value;\n\t\t\t\t\tconst inputValue =\n\t\t\t\t\t\tunprocessedValue !== ''\n\t\t\t\t\t\t\t? parseInt( event.target.value, 10 )\n\t\t\t\t\t\t\t: 0;\n\t\t\t\t\tonChange( inputValue );\n\t\t\t\t} }\n\t\t\t\tvalue={ value }\n\t\t\t\tmin={ 0 }\n\t\t\t\tmax={ 360 }\n\t\t\t\tstep=\"1\"\n\t\t\t/>\n\t\t</BaseControl>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { withInstanceId } from '@wordpress/compose';\nimport {\n\tCircle,\n\tLinearGradient,\n\tPath,\n\tRadialGradient,\n\tStop,\n\tSVG,\n} from '@wordpress/primitives';\n\n/**\n * Internal dependencies\n */\nexport const LinearGradientIcon = withInstanceId( ( { instanceId } ) => {\n\tconst linerGradientId = `linear-gradient-${ instanceId }`;\n\treturn (\n\t\t<SVG\n\t\t\tfill=\"none\"\n\t\t\theight=\"20\"\n\t\t\tviewBox=\"0 0 20 20\"\n\t\t\twidth=\"20\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<LinearGradient\n\t\t\t\tid={ linerGradientId }\n\t\t\t\tgradientUnits=\"userSpaceOnUse\"\n\t\t\t\tx1=\"10\"\n\t\t\t\tx2=\"10\"\n\t\t\t\ty1=\"1\"\n\t\t\t\ty2=\"19\"\n\t\t\t>\n\t\t\t\t<Stop offset=\"0\" stopColor=\"#000000\" />\n\t\t\t\t<Stop offset=\"1\" stopColor=\"#ffffff\" />\n\t\t\t</LinearGradient>\n\t\t\t<Path d=\"m1 1h18v18h-18z\" fill={ `url(#${ linerGradientId })` } />\n\t\t</SVG>\n\t);\n} );\n\nexport const RadialGradientIcon = withInstanceId( ( { instanceId } ) => {\n\tconst radialGradientId = `radial-gradient-${ instanceId }`;\n\treturn (\n\t\t<SVG\n\t\t\tfill=\"none\"\n\t\t\theight=\"20\"\n\t\t\tviewBox=\"0 0 20 20\"\n\t\t\twidth=\"20\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<RadialGradient\n\t\t\t\tid={ radialGradientId }\n\t\t\t\tcx=\"0\"\n\t\t\t\tcy=\"0\"\n\t\t\t\tgradientTransform=\"matrix(0 9 -9 0 10 10)\"\n\t\t\t\tgradientUnits=\"userSpaceOnUse\"\n\t\t\t\tr=\"1\"\n\t\t\t>\n\t\t\t\t<Stop offset=\"0\" stopColor=\"#000000\" />\n\t\t\t\t<Stop offset=\"1\" stopColor=\"#ffffff\" />\n\t\t\t</RadialGradient>\n\t\t\t<Circle\n\t\t\t\tcx=\"10\"\n\t\t\t\tcy=\"10\"\n\t\t\t\tfill={ `url(#${ radialGradientId })` }\n\t\t\t\tr=\"9\"\n\t\t\t/>\n\t\t</SVG>\n\t);\n} );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plusCircle = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M10 1c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7zm1-11H9v3H6v2h3v3h2v-3h3V9h-3V6zM10 1c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7zm1-11H9v3H6v2h3v3h2v-3h3V9h-3V6z\" />\n\t</SVG>\n);\n\nexport default plusCircle;\n","export const INSERT_POINT_WIDTH = 23;\nexport const GRADIENT_MARKERS_WIDTH = 18;\nexport const MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_MARKER =\n\t( INSERT_POINT_WIDTH + GRADIENT_MARKERS_WIDTH ) / 2;\nexport const MINIMUM_ABSOLUTE_LEFT_POSITION = 5;\nexport const MINIMUM_DISTANCE_BETWEEN_POINTS = 9;\nexport const MINIMUM_SIGNIFICANT_MOVE = 5;\nexport const DEFAULT_GRADIENT =\n\t'linear-gradient(135deg, rgba(6, 147, 227, 1) 0%, rgb(155, 81, 224) 100%)';\nexport const COLOR_POPOVER_PROPS = {\n\tclassName: 'components-custom-gradient-picker__color-picker-popover',\n\tposition: 'top',\n};\nexport const DEFAULT_LINEAR_GRADIENT_ANGLE = 180;\nexport const HORIZONTAL_GRADIENT_ORIENTATION = {\n\ttype: 'angular',\n\tvalue: 90,\n};\n","/**\n * External dependencies\n */\nimport { compact, get } from 'lodash';\n\nexport function serializeGradientColor( { type, value } ) {\n\treturn `${ type }(${ value.join( ',' ) })`;\n}\n\nexport function serializeGradientPosition( { type, value } ) {\n\treturn `${ value }${ type }`;\n}\n\nexport function serializeGradientColorStop( { type, value, length } ) {\n\treturn `${ serializeGradientColor( {\n\t\ttype,\n\t\tvalue,\n\t} ) } ${ serializeGradientPosition( length ) }`;\n}\n\nexport function serializeGradientOrientation( orientation ) {\n\tif ( ! orientation || orientation.type !== 'angular' ) {\n\t\treturn;\n\t}\n\treturn `${ orientation.value }deg`;\n}\n\nexport function serializeGradient( { type, orientation, colorStops } ) {\n\tconst serializedOrientation = serializeGradientOrientation( orientation );\n\tconst serializedColorStops = colorStops\n\t\t.sort( ( colorStop1, colorStop2 ) => {\n\t\t\treturn (\n\t\t\t\tget( colorStop1, [ 'length', 'value' ], 0 ) -\n\t\t\t\tget( colorStop2, [ 'length', 'value' ], 0 )\n\t\t\t);\n\t\t} )\n\t\t.map( serializeGradientColorStop );\n\treturn `${ type }(${ compact( [\n\t\tserializedOrientation,\n\t\t...serializedColorStops,\n\t] ).join( ',' ) })`;\n}\n","/**\n * External dependencies\n */\nimport { findIndex, map, some } from 'lodash';\nimport gradientParser from 'gradient-parser';\n\n/**\n * Internal dependencies\n */\nimport {\n\tDEFAULT_GRADIENT,\n\tINSERT_POINT_WIDTH,\n\tMINIMUM_ABSOLUTE_LEFT_POSITION,\n\tMINIMUM_DISTANCE_BETWEEN_POINTS,\n\tHORIZONTAL_GRADIENT_ORIENTATION,\n} from './constants';\nimport {\n\tserializeGradientColor,\n\tserializeGradientPosition,\n\tserializeGradient,\n} from './serializer';\n\nfunction tinyColorRgbToGradientColorStop( { r, g, b, a } ) {\n\tif ( a === 1 ) {\n\t\treturn {\n\t\t\ttype: 'rgb',\n\t\t\tvalue: [ r, g, b ],\n\t\t};\n\t}\n\treturn {\n\t\ttype: 'rgba',\n\t\tvalue: [ r, g, b, a ],\n\t};\n}\n\nexport function getGradientWithColorStopAdded(\n\tgradientAST,\n\trelativePosition,\n\trgbaColor\n) {\n\tconst colorStop = tinyColorRgbToGradientColorStop( rgbaColor );\n\tcolorStop.length = {\n\t\ttype: '%',\n\t\tvalue: relativePosition,\n\t};\n\treturn {\n\t\t...gradientAST,\n\t\tcolorStops: [ ...gradientAST.colorStops, colorStop ],\n\t};\n}\n\nexport function getGradientWithPositionAtIndexChanged(\n\tgradientAST,\n\tindex,\n\trelativePosition\n) {\n\treturn {\n\t\t...gradientAST,\n\t\tcolorStops: gradientAST.colorStops.map(\n\t\t\t( colorStop, colorStopIndex ) => {\n\t\t\t\tif ( colorStopIndex !== index ) {\n\t\t\t\t\treturn colorStop;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\t...colorStop,\n\t\t\t\t\tlength: {\n\t\t\t\t\t\t...colorStop.length,\n\t\t\t\t\t\tvalue: relativePosition,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t),\n\t};\n}\n\nexport function isControlPointOverlapping(\n\tgradientAST,\n\tposition,\n\tinitialIndex\n) {\n\tconst initialPosition = parseInt(\n\t\tgradientAST.colorStops[ initialIndex ].length.value\n\t);\n\tconst minPosition = Math.min( initialPosition, position );\n\tconst maxPosition = Math.max( initialPosition, position );\n\n\treturn some( gradientAST.colorStops, ( { length }, index ) => {\n\t\tconst itemPosition = parseInt( length.value );\n\t\treturn (\n\t\t\tindex !== initialIndex &&\n\t\t\t( Math.abs( itemPosition - position ) <\n\t\t\t\tMINIMUM_DISTANCE_BETWEEN_POINTS ||\n\t\t\t\t( minPosition < itemPosition && itemPosition < maxPosition ) )\n\t\t);\n\t} );\n}\n\nfunction getGradientWithPositionAtIndexSummed(\n\tgradientAST,\n\tindex,\n\tvalueToSum\n) {\n\tconst currentPosition = gradientAST.colorStops[ index ].length.value;\n\tconst newPosition = Math.max(\n\t\t0,\n\t\tMath.min( 100, parseInt( currentPosition ) + valueToSum )\n\t);\n\tif ( isControlPointOverlapping( gradientAST, newPosition, index ) ) {\n\t\treturn gradientAST;\n\t}\n\treturn getGradientWithPositionAtIndexChanged(\n\t\tgradientAST,\n\t\tindex,\n\t\tnewPosition\n\t);\n}\n\nexport function getGradientWithPositionAtIndexIncreased( gradientAST, index ) {\n\treturn getGradientWithPositionAtIndexSummed(\n\t\tgradientAST,\n\t\tindex,\n\t\tMINIMUM_DISTANCE_BETWEEN_POINTS\n\t);\n}\n\nexport function getGradientWithPositionAtIndexDecreased( gradientAST, index ) {\n\treturn getGradientWithPositionAtIndexSummed(\n\t\tgradientAST,\n\t\tindex,\n\t\t-MINIMUM_DISTANCE_BETWEEN_POINTS\n\t);\n}\n\nexport function getGradientWithColorAtIndexChanged(\n\tgradientAST,\n\tindex,\n\trgbaColor\n) {\n\treturn {\n\t\t...gradientAST,\n\t\tcolorStops: gradientAST.colorStops.map(\n\t\t\t( colorStop, colorStopIndex ) => {\n\t\t\t\tif ( colorStopIndex !== index ) {\n\t\t\t\t\treturn colorStop;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\t...colorStop,\n\t\t\t\t\t...tinyColorRgbToGradientColorStop( rgbaColor ),\n\t\t\t\t};\n\t\t\t}\n\t\t),\n\t};\n}\n\nexport function getGradientWithColorAtPositionChanged(\n\tgradientAST,\n\trelativePositionValue,\n\trgbaColor\n) {\n\tconst index = findIndex( gradientAST.colorStops, ( colorStop ) => {\n\t\treturn (\n\t\t\tcolorStop &&\n\t\t\tcolorStop.length &&\n\t\t\tcolorStop.length.type === '%' &&\n\t\t\tcolorStop.length.value === relativePositionValue.toString()\n\t\t);\n\t} );\n\treturn getGradientWithColorAtIndexChanged( gradientAST, index, rgbaColor );\n}\n\nexport function getGradientWithControlPointRemoved( gradientAST, index ) {\n\treturn {\n\t\t...gradientAST,\n\t\tcolorStops: gradientAST.colorStops.filter( ( elem, elemIndex ) => {\n\t\t\treturn elemIndex !== index;\n\t\t} ),\n\t};\n}\n\nexport function getHorizontalRelativeGradientPosition(\n\tmouseXCoordinate,\n\tcontainerElement,\n\tpositionedElementWidth\n) {\n\tif ( ! containerElement ) {\n\t\treturn;\n\t}\n\tconst { x, width } = containerElement.getBoundingClientRect();\n\tconst absolutePositionValue =\n\t\tmouseXCoordinate -\n\t\tx -\n\t\tMINIMUM_ABSOLUTE_LEFT_POSITION -\n\t\tpositionedElementWidth / 2;\n\tconst availableWidth =\n\t\twidth - MINIMUM_ABSOLUTE_LEFT_POSITION - INSERT_POINT_WIDTH;\n\treturn Math.round(\n\t\tMath.min(\n\t\t\tMath.max( ( absolutePositionValue * 100 ) / availableWidth, 0 ),\n\t\t\t100\n\t\t)\n\t);\n}\n\n/**\n * Returns the marker points from a gradient AST.\n *\n * @param {Object} gradientAST An object representing the gradient AST.\n *\n * @return {Array.<{color: string, position: string, positionValue: number}>}\n *         An array of markerPoint objects.\n *         color:         A string with the color code ready to be used in css style e.g: \"rgba( 1, 2 , 3, 0.5)\".\n *         position:      A string with the position ready to be used in css style e.g: \"70%\".\n *         positionValue: A number with the relative position value e.g: 70.\n */\nexport function getMarkerPoints( gradientAST ) {\n\tif ( ! gradientAST ) {\n\t\treturn [];\n\t}\n\treturn map( gradientAST.colorStops, ( colorStop ) => {\n\t\tif (\n\t\t\t! colorStop ||\n\t\t\t! colorStop.length ||\n\t\t\tcolorStop.length.type !== '%'\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\t\treturn {\n\t\t\tcolor: serializeGradientColor( colorStop ),\n\t\t\tposition: serializeGradientPosition( colorStop.length ),\n\t\t\tpositionValue: parseInt( colorStop.length.value ),\n\t\t};\n\t} );\n}\n\nexport function getLinearGradientRepresentationOfARadial( gradientAST ) {\n\treturn serializeGradient( {\n\t\ttype: 'linear-gradient',\n\t\torientation: HORIZONTAL_GRADIENT_ORIENTATION,\n\t\tcolorStops: gradientAST.colorStops,\n\t} );\n}\n\nexport function getGradientParsed( value ) {\n\tlet hasGradient = !! value;\n\t// gradientAST will contain the gradient AST as parsed by gradient-parser npm module.\n\t// More information of its structure available at https://www.npmjs.com/package/gradient-parser#ast.\n\tlet gradientAST;\n\tlet gradientValue;\n\ttry {\n\t\tgradientAST = gradientParser.parse( value || DEFAULT_GRADIENT )[ 0 ];\n\t\tgradientValue = value || DEFAULT_GRADIENT;\n\t} catch ( error ) {\n\t\thasGradient = false;\n\t\tgradientAST = gradientParser.parse( DEFAULT_GRADIENT )[ 0 ];\n\t\tgradientValue = DEFAULT_GRADIENT;\n\t}\n\n\treturn {\n\t\thasGradient,\n\t\tgradientAST,\n\t\tgradientValue,\n\t};\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Component, useEffect, useRef } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport ColorPicker from '../color-picker';\nimport Dropdown from '../dropdown';\nimport VisuallyHidden from '../visually-hidden';\nimport {\n\tgetGradientWithColorAtIndexChanged,\n\tgetGradientWithControlPointRemoved,\n\tgetGradientWithPositionAtIndexChanged,\n\tgetGradientWithPositionAtIndexDecreased,\n\tgetGradientWithPositionAtIndexIncreased,\n\tgetHorizontalRelativeGradientPosition,\n\tisControlPointOverlapping,\n} from './utils';\nimport {\n\tCOLOR_POPOVER_PROPS,\n\tGRADIENT_MARKERS_WIDTH,\n\tMINIMUM_SIGNIFICANT_MOVE,\n} from './constants';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\n\nclass ControlPointKeyboardMove extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.increase = this.increase.bind( this );\n\t\tthis.decrease = this.decrease.bind( this );\n\t\tthis.shortcuts = {\n\t\t\tright: this.increase,\n\t\t\tleft: this.decrease,\n\t\t};\n\t}\n\tincrease( event ) {\n\t\t// Stop propagation of the key press event to avoid focus moving\n\t\t// to another editor area.\n\t\tevent.stopPropagation();\n\t\tconst { gradientIndex, onChange, gradientAST } = this.props;\n\t\tonChange(\n\t\t\tgetGradientWithPositionAtIndexIncreased(\n\t\t\t\tgradientAST,\n\t\t\t\tgradientIndex\n\t\t\t)\n\t\t);\n\t}\n\n\tdecrease( event ) {\n\t\t// Stop propagation of the key press event to avoid focus moving\n\t\t// to another editor area.\n\t\tevent.stopPropagation();\n\t\tconst { gradientIndex, onChange, gradientAST } = this.props;\n\t\tonChange(\n\t\t\tgetGradientWithPositionAtIndexDecreased(\n\t\t\t\tgradientAST,\n\t\t\t\tgradientIndex\n\t\t\t)\n\t\t);\n\t}\n\trender() {\n\t\tconst { children } = this.props;\n\t\treturn (\n\t\t\t<KeyboardShortcuts shortcuts={ this.shortcuts }>\n\t\t\t\t{ children }\n\t\t\t</KeyboardShortcuts>\n\t\t);\n\t}\n}\n\nfunction ControlPointButton( {\n\tisOpen,\n\tposition,\n\tcolor,\n\tonChange,\n\tgradientIndex,\n\tgradientAST,\n\t...additionalProps\n} ) {\n\tconst instanceId = useInstanceId( ControlPointButton );\n\tconst descriptionId = `components-custom-gradient-picker__control-point-button-description-${ instanceId }`;\n\treturn (\n\t\t<ControlPointKeyboardMove\n\t\t\tonChange={ onChange }\n\t\t\tgradientIndex={ gradientIndex }\n\t\t\tgradientAST={ gradientAST }\n\t\t>\n\t\t\t<Button\n\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t// translators: %1$s: gradient position e.g: 70%, %2$s: gradient color code e.g: rgb(52,121,151).\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Gradient control point at position %1$s with color code %2$s.'\n\t\t\t\t\t),\n\t\t\t\t\tposition,\n\t\t\t\t\tcolor\n\t\t\t\t) }\n\t\t\t\taria-describedby={ descriptionId }\n\t\t\t\taria-expanded={ isOpen }\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'components-custom-gradient-picker__control-point-button',\n\t\t\t\t\t{\n\t\t\t\t\t\t'is-active': isOpen,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\tstyle={ {\n\t\t\t\t\tleft: position,\n\t\t\t\t} }\n\t\t\t\t{ ...additionalProps }\n\t\t\t/>\n\t\t\t<VisuallyHidden id={ descriptionId }>\n\t\t\t\t{ __(\n\t\t\t\t\t'Use your left or right arrow keys or drag and drop with the mouse to change the gradient position. Press the button to change the color or remove the control point.'\n\t\t\t\t) }\n\t\t\t</VisuallyHidden>\n\t\t</ControlPointKeyboardMove>\n\t);\n}\n\nexport default function ControlPoints( {\n\tgradientPickerDomRef,\n\tignoreMarkerPosition,\n\tmarkerPoints,\n\tonChange,\n\tgradientAST,\n\tonStartControlPointChange,\n\tonStopControlPointChange,\n} ) {\n\tconst controlPointMoveState = useRef();\n\n\tconst onMouseMove = ( event ) => {\n\t\tconst relativePosition = getHorizontalRelativeGradientPosition(\n\t\t\tevent.clientX,\n\t\t\tgradientPickerDomRef.current,\n\t\t\tGRADIENT_MARKERS_WIDTH\n\t\t);\n\t\tconst {\n\t\t\tgradientAST: referenceGradientAST,\n\t\t\tposition,\n\t\t\tsignificantMoveHappened,\n\t\t} = controlPointMoveState.current;\n\t\tif ( ! significantMoveHappened ) {\n\t\t\tconst initialPosition =\n\t\t\t\treferenceGradientAST.colorStops[ position ].length.value;\n\t\t\tif (\n\t\t\t\tMath.abs( initialPosition - relativePosition ) >=\n\t\t\t\tMINIMUM_SIGNIFICANT_MOVE\n\t\t\t) {\n\t\t\t\tcontrolPointMoveState.current.significantMoveHappened = true;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\t! isControlPointOverlapping(\n\t\t\t\treferenceGradientAST,\n\t\t\t\trelativePosition,\n\t\t\t\tposition\n\t\t\t)\n\t\t) {\n\t\t\tonChange(\n\t\t\t\tgetGradientWithPositionAtIndexChanged(\n\t\t\t\t\treferenceGradientAST,\n\t\t\t\t\tposition,\n\t\t\t\t\trelativePosition\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n\n\tconst cleanEventListeners = () => {\n\t\tif (\n\t\t\twindow &&\n\t\t\twindow.removeEventListener &&\n\t\t\tcontrolPointMoveState.current &&\n\t\t\tcontrolPointMoveState.current.listenersActivated\n\t\t) {\n\t\t\twindow.removeEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', cleanEventListeners );\n\t\t\tonStopControlPointChange();\n\t\t\tcontrolPointMoveState.current.listenersActivated = false;\n\t\t}\n\t};\n\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tcleanEventListeners();\n\t\t};\n\t}, [] );\n\n\treturn markerPoints.map(\n\t\t( point, index ) =>\n\t\t\tpoint &&\n\t\t\tignoreMarkerPosition !== point.positionValue && (\n\t\t\t\t<Dropdown\n\t\t\t\t\tkey={ index }\n\t\t\t\t\tonClose={ onStopControlPointChange }\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<ControlPointButton\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tcontrolPointMoveState.current &&\n\t\t\t\t\t\t\t\t\tcontrolPointMoveState.current\n\t\t\t\t\t\t\t\t\t\t.significantMoveHappened\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonStartControlPointChange();\n\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonMouseDown={ () => {\n\t\t\t\t\t\t\t\tif ( window && window.addEventListener ) {\n\t\t\t\t\t\t\t\t\tcontrolPointMoveState.current = {\n\t\t\t\t\t\t\t\t\t\tgradientAST,\n\t\t\t\t\t\t\t\t\t\tposition: index,\n\t\t\t\t\t\t\t\t\t\tsignificantMoveHappened: false,\n\t\t\t\t\t\t\t\t\t\tlistenersActivated: true,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tonStartControlPointChange();\n\t\t\t\t\t\t\t\t\twindow.addEventListener(\n\t\t\t\t\t\t\t\t\t\t'mousemove',\n\t\t\t\t\t\t\t\t\t\tonMouseMove\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\twindow.addEventListener(\n\t\t\t\t\t\t\t\t\t\t'mouseup',\n\t\t\t\t\t\t\t\t\t\tcleanEventListeners\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\t\t\tposition={ point.position }\n\t\t\t\t\t\t\tcolor={ point.color }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\tgradientAST={ gradientAST }\n\t\t\t\t\t\t\tgradientIndex={ index }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\tcolor={ point.color }\n\t\t\t\t\t\t\t\tonChangeComplete={ ( { rgb } ) => {\n\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\tgetGradientWithColorAtIndexChanged(\n\t\t\t\t\t\t\t\t\t\t\tgradientAST,\n\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\trgb\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"components-custom-gradient-picker__remove-control-point\"\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\tgetGradientWithControlPointRemoved(\n\t\t\t\t\t\t\t\t\t\t\tgradientAST,\n\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tisLink\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Remove Control Point' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\tpopoverProps={ COLOR_POPOVER_PROPS }\n\t\t\t\t/>\n\t\t\t)\n\t);\n}\n","/**\n * External dependencies\n */\n\nimport { some } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useReducer, useState } from '@wordpress/element';\nimport { plusCircle } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport ColorPicker from '../color-picker';\nimport Dropdown from '../dropdown';\nimport ControlPoints from './control-points';\nimport {\n\tINSERT_POINT_WIDTH,\n\tCOLOR_POPOVER_PROPS,\n\tMINIMUM_DISTANCE_BETWEEN_POINTS,\n} from './constants';\nimport { serializeGradient } from './serializer';\nimport {\n\tgetGradientWithColorAtPositionChanged,\n\tgetGradientWithColorStopAdded,\n\tgetHorizontalRelativeGradientPosition,\n\tgetMarkerPoints,\n\tgetGradientParsed,\n\tgetLinearGradientRepresentationOfARadial,\n} from './utils';\n\nfunction InsertPoint( {\n\tonChange,\n\tgradientAST,\n\tonOpenInserter,\n\tonCloseInserter,\n\tinsertPosition,\n} ) {\n\tconst [ alreadyInsertedPoint, setAlreadyInsertedPoint ] = useState( false );\n\treturn (\n\t\t<Dropdown\n\t\t\tclassName=\"components-custom-gradient-picker__inserter\"\n\t\t\tonClose={ () => {\n\t\t\t\tonCloseInserter();\n\t\t\t} }\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<Button\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tsetAlreadyInsertedPoint( false );\n\t\t\t\t\t\tonOpenInserter();\n\t\t\t\t\t\tonToggle();\n\t\t\t\t\t} }\n\t\t\t\t\tclassName=\"components-custom-gradient-picker__insert-point\"\n\t\t\t\t\ticon={ plusCircle }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tleft:\n\t\t\t\t\t\t\tinsertPosition !== null\n\t\t\t\t\t\t\t\t? `${ insertPosition }%`\n\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ () => (\n\t\t\t\t<ColorPicker\n\t\t\t\t\tonChangeComplete={ ( { rgb } ) => {\n\t\t\t\t\t\tlet newGradient;\n\t\t\t\t\t\tif ( alreadyInsertedPoint ) {\n\t\t\t\t\t\t\tnewGradient = getGradientWithColorAtPositionChanged(\n\t\t\t\t\t\t\t\tgradientAST,\n\t\t\t\t\t\t\t\tinsertPosition,\n\t\t\t\t\t\t\t\trgb\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewGradient = getGradientWithColorStopAdded(\n\t\t\t\t\t\t\t\tgradientAST,\n\t\t\t\t\t\t\t\tinsertPosition,\n\t\t\t\t\t\t\t\trgb\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetAlreadyInsertedPoint( true );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange( newGradient );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\tpopoverProps={ COLOR_POPOVER_PROPS }\n\t\t/>\n\t);\n}\n\nfunction customGradientBarReducer( state, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'MOVE_INSERTER':\n\t\t\tif ( state.id === 'IDLE' || state.id === 'MOVING_INSERTER' ) {\n\t\t\t\treturn {\n\t\t\t\t\tid: 'MOVING_INSERTER',\n\t\t\t\t\tinsertPosition: action.insertPosition,\n\t\t\t\t};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'STOP_INSERTER_MOVE':\n\t\t\tif ( state.id === 'MOVING_INSERTER' ) {\n\t\t\t\treturn {\n\t\t\t\t\tid: 'IDLE',\n\t\t\t\t};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'OPEN_INSERTER':\n\t\t\tif ( state.id === 'MOVING_INSERTER' ) {\n\t\t\t\treturn {\n\t\t\t\t\tid: 'INSERTING_CONTROL_POINT',\n\t\t\t\t\tinsertPosition: state.insertPosition,\n\t\t\t\t};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'CLOSE_INSERTER':\n\t\t\tif ( state.id === 'INSERTING_CONTROL_POINT' ) {\n\t\t\t\treturn {\n\t\t\t\t\tid: 'IDLE',\n\t\t\t\t};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'START_CONTROL_CHANGE':\n\t\t\tif ( state.id === 'IDLE' ) {\n\t\t\t\treturn {\n\t\t\t\t\tid: 'MOVING_CONTROL_POINT',\n\t\t\t\t};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'STOP_CONTROL_CHANGE':\n\t\t\tif ( state.id === 'MOVING_CONTROL_POINT' ) {\n\t\t\t\treturn {\n\t\t\t\t\tid: 'IDLE',\n\t\t\t\t};\n\t\t\t}\n\t\t\tbreak;\n\t}\n\treturn state;\n}\nconst customGradientBarReducerInitialState = { id: 'IDLE' };\n\nexport default function CustomGradientBar( { value, onChange } ) {\n\tconst { gradientAST, gradientValue, hasGradient } = getGradientParsed(\n\t\tvalue\n\t);\n\n\tconst onGradientStructureChange = ( newGradientStructure ) => {\n\t\tonChange( serializeGradient( newGradientStructure ) );\n\t};\n\n\tconst gradientPickerDomRef = useRef();\n\tconst markerPoints = getMarkerPoints( gradientAST );\n\n\tconst [ gradientBarState, gradientBarStateDispatch ] = useReducer(\n\t\tcustomGradientBarReducer,\n\t\tcustomGradientBarReducerInitialState\n\t);\n\tconst onMouseEnterAndMove = ( event ) => {\n\t\tconst insertPosition = getHorizontalRelativeGradientPosition(\n\t\t\tevent.clientX,\n\t\t\tgradientPickerDomRef.current,\n\t\t\tINSERT_POINT_WIDTH\n\t\t);\n\n\t\t// If the insert point is close to an existing control point don't show it.\n\t\tif (\n\t\t\tsome( markerPoints, ( { positionValue } ) => {\n\t\t\t\treturn (\n\t\t\t\t\tMath.abs( insertPosition - positionValue ) <\n\t\t\t\t\tMINIMUM_DISTANCE_BETWEEN_POINTS\n\t\t\t\t);\n\t\t\t} )\n\t\t) {\n\t\t\tif ( gradientBarState.id === 'MOVING_INSERTER' ) {\n\t\t\t\tgradientBarStateDispatch( { type: 'STOP_INSERTER_MOVE' } );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tgradientBarStateDispatch( { type: 'MOVE_INSERTER', insertPosition } );\n\t};\n\n\tconst onMouseLeave = () => {\n\t\tgradientBarStateDispatch( { type: 'STOP_INSERTER_MOVE' } );\n\t};\n\n\tconst isMovingInserter = gradientBarState.id === 'MOVING_INSERTER';\n\tconst isInsertingControlPoint =\n\t\tgradientBarState.id === 'INSERTING_CONTROL_POINT';\n\n\treturn (\n\t\t<div\n\t\t\tref={ gradientPickerDomRef }\n\t\t\tclassName={ classnames(\n\t\t\t\t'components-custom-gradient-picker__gradient-bar',\n\t\t\t\t{ 'has-gradient': hasGradient }\n\t\t\t) }\n\t\t\tonMouseEnter={ onMouseEnterAndMove }\n\t\t\tonMouseMove={ onMouseEnterAndMove }\n\t\t\t// On radial gradients the bar should display a linear gradient.\n\t\t\t// On radial gradients the bar represents a slice of the gradient from the center until the outside.\n\t\t\tstyle={ {\n\t\t\t\tbackground:\n\t\t\t\t\tgradientAST.type === 'radial-gradient'\n\t\t\t\t\t\t? getLinearGradientRepresentationOfARadial(\n\t\t\t\t\t\t\t\tgradientAST\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: gradientValue,\n\t\t\t} }\n\t\t\tonMouseLeave={ onMouseLeave }\n\t\t>\n\t\t\t<div className=\"components-custom-gradient-picker__markers-container\">\n\t\t\t\t{ ( isMovingInserter || isInsertingControlPoint ) && (\n\t\t\t\t\t<InsertPoint\n\t\t\t\t\t\tinsertPosition={ gradientBarState.insertPosition }\n\t\t\t\t\t\tonChange={ onGradientStructureChange }\n\t\t\t\t\t\tgradientAST={ gradientAST }\n\t\t\t\t\t\tonOpenInserter={ () => {\n\t\t\t\t\t\t\tgradientBarStateDispatch( {\n\t\t\t\t\t\t\t\ttype: 'OPEN_INSERTER',\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonCloseInserter={ () => {\n\t\t\t\t\t\t\tgradientBarStateDispatch( {\n\t\t\t\t\t\t\t\ttype: 'CLOSE_INSERTER',\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<ControlPoints\n\t\t\t\t\tgradientPickerDomRef={ gradientPickerDomRef }\n\t\t\t\t\tignoreMarkerPosition={\n\t\t\t\t\t\tisInsertingControlPoint\n\t\t\t\t\t\t\t? gradientBarState.insertPosition\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\tmarkerPoints={ markerPoints }\n\t\t\t\t\tonChange={ onGradientStructureChange }\n\t\t\t\t\tgradientAST={ gradientAST }\n\t\t\t\t\tonStartControlPointChange={ () => {\n\t\t\t\t\t\tgradientBarStateDispatch( {\n\t\t\t\t\t\t\ttype: 'START_CONTROL_CHANGE',\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tonStopControlPointChange={ () => {\n\t\t\t\t\t\tgradientBarStateDispatch( {\n\t\t\t\t\t\t\ttype: 'STOP_CONTROL_CHANGE',\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { get, omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport AnglePickerControl from '../angle-picker-control';\nimport { LinearGradientIcon, RadialGradientIcon } from './icons';\nimport CustomGradientBar from './custom-gradient-bar';\nimport BaseControl from '../base-control';\nimport { getGradientParsed } from './utils';\nimport { serializeGradient } from './serializer';\nimport ToolbarGroup from '../toolbar-group';\nimport {\n\tDEFAULT_LINEAR_GRADIENT_ANGLE,\n\tHORIZONTAL_GRADIENT_ORIENTATION,\n} from './constants';\n\nconst GradientAnglePicker = ( { gradientAST, hasGradient, onChange } ) => {\n\tconst angle = get(\n\t\tgradientAST,\n\t\t[ 'orientation', 'value' ],\n\t\tDEFAULT_LINEAR_GRADIENT_ANGLE\n\t);\n\tconst onAngleChange = ( newAngle ) => {\n\t\tonChange(\n\t\t\tserializeGradient( {\n\t\t\t\t...gradientAST,\n\t\t\t\torientation: {\n\t\t\t\t\ttype: 'angular',\n\t\t\t\t\tvalue: newAngle,\n\t\t\t\t},\n\t\t\t} )\n\t\t);\n\t};\n\treturn (\n\t\t<AnglePickerControl\n\t\t\tvalue={ hasGradient ? angle : '' }\n\t\t\tonChange={ onAngleChange }\n\t\t/>\n\t);\n};\n\nconst GradientTypePicker = ( { gradientAST, hasGradient, onChange } ) => {\n\tconst { type } = gradientAST;\n\tconst onSetLinearGradient = () => {\n\t\tonChange(\n\t\t\tserializeGradient( {\n\t\t\t\t...gradientAST,\n\t\t\t\t...( gradientAST.orientation\n\t\t\t\t\t? {}\n\t\t\t\t\t: { orientation: HORIZONTAL_GRADIENT_ORIENTATION } ),\n\t\t\t\ttype: 'linear-gradient',\n\t\t\t} )\n\t\t);\n\t};\n\n\tconst onSetRadialGradient = () => {\n\t\tonChange(\n\t\t\tserializeGradient( {\n\t\t\t\t...omit( gradientAST, [ 'orientation' ] ),\n\t\t\t\ttype: 'radial-gradient',\n\t\t\t} )\n\t\t);\n\t};\n\n\treturn (\n\t\t<BaseControl className=\"components-custom-gradient-picker__type-picker\">\n\t\t\t<BaseControl.VisualLabel>{ __( 'Type' ) }</BaseControl.VisualLabel>\n\t\t\t<ToolbarGroup\n\t\t\t\tclassName=\"components-custom-gradient-picker__toolbar\"\n\t\t\t\tcontrols={ [\n\t\t\t\t\t{\n\t\t\t\t\t\ticon: <LinearGradientIcon />,\n\t\t\t\t\t\ttitle: __( 'Linear Gradient' ),\n\t\t\t\t\t\tisActive: hasGradient && type === 'linear-gradient',\n\t\t\t\t\t\tonClick: onSetLinearGradient,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ticon: <RadialGradientIcon />,\n\t\t\t\t\t\ttitle: __( 'Radial Gradient' ),\n\t\t\t\t\t\tisActive: hasGradient && type === 'radial-gradient',\n\t\t\t\t\t\tonClick: onSetRadialGradient,\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t</BaseControl>\n\t);\n};\n\nexport default function CustomGradientPicker( { value, onChange } ) {\n\tconst { gradientAST, hasGradient } = getGradientParsed( value );\n\tconst { type } = gradientAST;\n\treturn (\n\t\t<div className=\"components-custom-gradient-picker\">\n\t\t\t<CustomGradientBar value={ value } onChange={ onChange } />\n\t\t\t<div className=\"components-custom-gradient-picker__ui-line\">\n\t\t\t\t<GradientTypePicker\n\t\t\t\t\tgradientAST={ gradientAST }\n\t\t\t\t\thasGradient={ hasGradient }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t/>\n\t\t\t\t{ type === 'linear-gradient' && (\n\t\t\t\t\t<GradientAnglePicker\n\t\t\t\t\t\tgradientAST={ gradientAST }\n\t\t\t\t\t\thasGradient={ hasGradient }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useCallback, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport CircularOptionPicker from '../circular-option-picker';\nimport CustomGradientPicker from '../custom-gradient-picker';\n\nexport default function GradientPicker( {\n\tclassName,\n\tgradients,\n\tonChange,\n\tvalue,\n\tclearable = true,\n\tdisableCustomGradients = false,\n} ) {\n\tconst clearGradient = useCallback( () => onChange( undefined ), [\n\t\tonChange,\n\t] );\n\tconst gradientOptions = useMemo( () => {\n\t\treturn map( gradients, ( { gradient, name } ) => (\n\t\t\t<CircularOptionPicker.Option\n\t\t\t\tkey={ gradient }\n\t\t\t\tvalue={ gradient }\n\t\t\t\tisSelected={ value === gradient }\n\t\t\t\ttooltipText={\n\t\t\t\t\tname ||\n\t\t\t\t\t// translators: %s: gradient code e.g: \"linear-gradient(90deg, rgba(98,16,153,1) 0%, rgba(172,110,22,1) 100%);\".\n\t\t\t\t\tsprintf( __( 'Gradient code: %s' ), gradient )\n\t\t\t\t}\n\t\t\t\tstyle={ { color: 'rgba( 0,0,0,0 )', background: gradient } }\n\t\t\t\tonClick={\n\t\t\t\t\tvalue === gradient\n\t\t\t\t\t\t? clearGradient\n\t\t\t\t\t\t: () => onChange( gradient )\n\t\t\t\t}\n\t\t\t\taria-label={\n\t\t\t\t\tname\n\t\t\t\t\t\t? // translators: %s: The name of the gradient e.g: \"Angular red to blue\".\n\t\t\t\t\t\t  sprintf( __( 'Gradient: %s' ), name )\n\t\t\t\t\t\t: // translators: %s: gradient code e.g: \"linear-gradient(90deg, rgba(98,16,153,1) 0%, rgba(172,110,22,1) 100%);\".\n\t\t\t\t\t\t  sprintf( __( 'Gradient code: %s' ), gradient )\n\t\t\t\t}\n\t\t\t/>\n\t\t) );\n\t}, [ gradients, value, onChange, clearGradient ] );\n\treturn (\n\t\t<CircularOptionPicker\n\t\t\tclassName={ className }\n\t\t\toptions={ gradientOptions }\n\t\t\tactions={\n\t\t\t\tclearable && (\n\t\t\t\t\t<CircularOptionPicker.ButtonAction\n\t\t\t\t\t\tonClick={ clearGradient }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Clear' ) }\n\t\t\t\t\t</CircularOptionPicker.ButtonAction>\n\t\t\t\t)\n\t\t\t}\n\t\t>\n\t\t\t{ ! disableCustomGradients && (\n\t\t\t\t<CustomGradientPicker value={ value } onChange={ onChange } />\n\t\t\t) }\n\t\t</CircularOptionPicker>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { find } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { useBlockEditContext } from '../block-edit';\n\nexport function __experimentalGetGradientClass( gradientSlug ) {\n\tif ( ! gradientSlug ) {\n\t\treturn undefined;\n\t}\n\treturn `has-${ gradientSlug }-gradient-background`;\n}\n\n/**\n * Retrieves the gradient value per slug.\n *\n * @param {Array} gradients Gradient Palette\n * @param {string} slug Gradient slug\n *\n * @return {string} Gradient value.\n */\nexport function getGradientValueBySlug( gradients, slug ) {\n\tconst gradient = find( gradients, [ 'slug', slug ] );\n\treturn gradient && gradient.gradient;\n}\n\nexport function __experimentalGetGradientObjectByGradientValue(\n\tgradients,\n\tvalue\n) {\n\tconst gradient = find( gradients, [ 'gradient', value ] );\n\treturn gradient;\n}\n\n/**\n * Retrieves the gradient slug per slug.\n *\n * @param {Array} gradients Gradient Palette\n * @param {string} value Gradient value\n * @return {string} Gradient slug.\n */\nexport function getGradientSlugByValue( gradients, value ) {\n\tconst gradient = __experimentalGetGradientObjectByGradientValue(\n\t\tgradients,\n\t\tvalue\n\t);\n\treturn gradient && gradient.slug;\n}\n\nexport function __experimentalUseGradient( {\n\tgradientAttribute = 'gradient',\n\tcustomGradientAttribute = 'customGradient',\n} = {} ) {\n\tconst { clientId } = useBlockEditContext();\n\n\tconst { gradients, gradient, customGradient } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockAttributes, getSettings } = select(\n\t\t\t\t'core/block-editor'\n\t\t\t);\n\t\t\tconst attributes = getBlockAttributes( clientId );\n\t\t\treturn {\n\t\t\t\tgradient: attributes[ gradientAttribute ],\n\t\t\t\tcustomGradient: attributes[ customGradientAttribute ],\n\t\t\t\tgradients: getSettings().gradients,\n\t\t\t};\n\t\t},\n\t\t[ clientId, gradientAttribute, customGradientAttribute ]\n\t);\n\n\tconst { updateBlockAttributes } = useDispatch( 'core/block-editor' );\n\tconst setGradient = useCallback(\n\t\t( newGradientValue ) => {\n\t\t\tconst slug = getGradientSlugByValue( gradients, newGradientValue );\n\t\t\tif ( slug ) {\n\t\t\t\tupdateBlockAttributes( clientId, {\n\t\t\t\t\t[ gradientAttribute ]: slug,\n\t\t\t\t\t[ customGradientAttribute ]: undefined,\n\t\t\t\t} );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tupdateBlockAttributes( clientId, {\n\t\t\t\t[ gradientAttribute ]: undefined,\n\t\t\t\t[ customGradientAttribute ]: newGradientValue,\n\t\t\t} );\n\t\t},\n\t\t[ gradients, clientId, updateBlockAttributes ]\n\t);\n\n\tconst gradientClass = __experimentalGetGradientClass( gradient );\n\tlet gradientValue;\n\tif ( gradient ) {\n\t\tgradientValue = getGradientValueBySlug( gradients, gradient );\n\t} else {\n\t\tgradientValue = customGradient;\n\t}\n\treturn { gradientClass, gradientValue, setGradient };\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { every, isEmpty, pick } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tButtonGroup,\n\tColorIndicator,\n\tColorPalette,\n\t__experimentalGradientPicker as GradientPicker,\n} from '@wordpress/components';\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { getColorObjectByColorValue } from '../colors';\nimport { __experimentalGetGradientObjectByGradientValue } from '../gradients';\n\n// translators: first %s: the color name or value (e.g. red or #ff0000)\nconst colorIndicatorAriaLabel = __( '(Color: %s)' );\n\n// translators: first %s: the gradient name or value (e.g. red to green or linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)\nconst gradientIndicatorAriaLabel = __( '(Gradient: %s)' );\n\nconst colorsAndGradientKeys = [\n\t'colors',\n\t'disableCustomColors',\n\t'gradients',\n\t'disableCustomGradients',\n];\n\nfunction VisualLabel( {\n\tcolors,\n\tgradients,\n\tlabel,\n\tcurrentTab,\n\tcolorValue,\n\tgradientValue,\n} ) {\n\tlet value, ariaLabel;\n\tif ( currentTab === 'color' ) {\n\t\tif ( colorValue ) {\n\t\t\tvalue = colorValue;\n\t\t\tconst colorObject = getColorObjectByColorValue( colors, value );\n\t\t\tconst colorName = colorObject && colorObject.name;\n\t\t\tariaLabel = sprintf( colorIndicatorAriaLabel, colorName || value );\n\t\t}\n\t} else if ( currentTab === 'gradient' && gradientValue ) {\n\t\tvalue = gradientValue;\n\t\tconst gradientObject = __experimentalGetGradientObjectByGradientValue(\n\t\t\tgradients,\n\t\t\tvalue\n\t\t);\n\t\tconst gradientName = gradientObject && gradientObject.name;\n\t\tariaLabel = sprintf(\n\t\t\tgradientIndicatorAriaLabel,\n\t\t\tgradientName || value\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ label }\n\t\t\t{ !! value && (\n\t\t\t\t<ColorIndicator colorValue={ value } aria-label={ ariaLabel } />\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction ColorGradientControlInner( {\n\tcolors,\n\tgradients,\n\tdisableCustomColors,\n\tdisableCustomGradients,\n\tclassName,\n\tlabel,\n\tonColorChange,\n\tonGradientChange,\n\tcolorValue,\n\tgradientValue,\n} ) {\n\tconst canChooseAColor =\n\t\tonColorChange && ( ! isEmpty( colors ) || ! disableCustomColors );\n\tconst canChooseAGradient =\n\t\tonGradientChange &&\n\t\t( ! isEmpty( gradients ) || ! disableCustomGradients );\n\tconst [ currentTab, setCurrentTab ] = useState(\n\t\tgradientValue ? 'gradient' : !! canChooseAColor && 'color'\n\t);\n\n\tif ( ! canChooseAColor && ! canChooseAGradient ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-color-gradient-control',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t>\n\t\t\t<fieldset>\n\t\t\t\t<legend>\n\t\t\t\t\t<div className=\"block-editor-color-gradient-control__color-indicator\">\n\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t<VisualLabel\n\t\t\t\t\t\t\t\tcurrentTab={ currentTab }\n\t\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\t\tcolorValue={ colorValue }\n\t\t\t\t\t\t\t\tgradientValue={ gradientValue }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t</div>\n\t\t\t\t</legend>\n\t\t\t\t{ canChooseAColor && canChooseAGradient && (\n\t\t\t\t\t<ButtonGroup className=\"block-editor-color-gradient-control__button-tabs\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\tisPrimary={ currentTab === 'color' }\n\t\t\t\t\t\t\tisSecondary={ currentTab !== 'color' }\n\t\t\t\t\t\t\tonClick={ () => setCurrentTab( 'color' ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Solid' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\tisPrimary={ currentTab === 'gradient' }\n\t\t\t\t\t\t\tisSecondary={ currentTab !== 'gradient' }\n\t\t\t\t\t\t\tonClick={ () => setCurrentTab( 'gradient' ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Gradient' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t) }\n\t\t\t\t{ ( currentTab === 'color' || ! canChooseAGradient ) && (\n\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\tvalue={ colorValue }\n\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\tcanChooseAGradient\n\t\t\t\t\t\t\t\t? ( newColor ) => {\n\t\t\t\t\t\t\t\t\t\tonColorChange( newColor );\n\t\t\t\t\t\t\t\t\t\tonGradientChange();\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: onColorChange\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...{ colors, disableCustomColors } }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ( currentTab === 'gradient' || ! canChooseAColor ) && (\n\t\t\t\t\t<GradientPicker\n\t\t\t\t\t\tvalue={ gradientValue }\n\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\tcanChooseAColor\n\t\t\t\t\t\t\t\t? ( newGradient ) => {\n\t\t\t\t\t\t\t\t\t\tonGradientChange( newGradient );\n\t\t\t\t\t\t\t\t\t\tonColorChange();\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: onGradientChange\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...{ gradients, disableCustomGradients } }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</fieldset>\n\t\t</BaseControl>\n\t);\n}\n\nfunction ColorGradientControlSelect( props ) {\n\tconst colorGradientSettings = useSelect( ( select ) => {\n\t\tconst settings = select( 'core/block-editor' ).getSettings();\n\t\treturn pick( settings, colorsAndGradientKeys );\n\t} );\n\treturn (\n\t\t<ColorGradientControlInner\n\t\t\t{ ...{ ...colorGradientSettings, ...props } }\n\t\t/>\n\t);\n}\n\nfunction ColorGradientControl( props ) {\n\tif (\n\t\tevery( colorsAndGradientKeys, ( key ) => props.hasOwnProperty( key ) )\n\t) {\n\t\treturn <ColorGradientControlInner { ...props } />;\n\t}\n\treturn <ColorGradientControlSelect { ...props } />;\n}\n\nexport default ColorGradientControl;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { every, isEmpty, pick } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { PanelBody, ColorIndicator } from '@wordpress/components';\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport ColorGradientControl from './control';\nimport { getColorObjectByColorValue } from '../colors';\nimport { __experimentalGetGradientObjectByGradientValue } from '../gradients';\n\n// translators: first %s: The type of color or gradient (e.g. background, overlay...), second %s: the color name or value (e.g. red or #ff0000)\nconst colorIndicatorAriaLabel = __( '(%s: color %s)' );\n\n// translators: first %s: The type of color or gradient (e.g. background, overlay...), second %s: the color name or value (e.g. red or #ff0000)\nconst gradientIndicatorAriaLabel = __( '(%s: gradient %s)' );\n\nconst colorsAndGradientKeys = [\n\t'colors',\n\t'disableCustomColors',\n\t'gradients',\n\t'disableCustomGradients',\n];\n\nconst Indicators = ( { colors, gradients, settings } ) => {\n\treturn settings.map(\n\t\t(\n\t\t\t{\n\t\t\t\tcolorValue,\n\t\t\t\tgradientValue,\n\t\t\t\tlabel,\n\t\t\t\tcolors: availableColors,\n\t\t\t\tgradients: availableGradients,\n\t\t\t},\n\t\t\tindex\n\t\t) => {\n\t\t\tif ( ! colorValue && ! gradientValue ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet ariaLabel;\n\t\t\tif ( colorValue ) {\n\t\t\t\tconst colorObject = getColorObjectByColorValue(\n\t\t\t\t\tavailableColors || colors,\n\t\t\t\t\tcolorValue\n\t\t\t\t);\n\t\t\t\tariaLabel = sprintf(\n\t\t\t\t\tcolorIndicatorAriaLabel,\n\t\t\t\t\tlabel.toLowerCase(),\n\t\t\t\t\t( colorObject && colorObject.name ) || colorValue\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst gradientObject = __experimentalGetGradientObjectByGradientValue(\n\t\t\t\t\tavailableGradients || gradients,\n\t\t\t\t\tcolorValue\n\t\t\t\t);\n\t\t\t\tariaLabel = sprintf(\n\t\t\t\t\tgradientIndicatorAriaLabel,\n\t\t\t\t\tlabel.toLowerCase(),\n\t\t\t\t\t( gradientObject && gradientObject.name ) || gradientValue\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<ColorIndicator\n\t\t\t\t\tkey={ index }\n\t\t\t\t\tcolorValue={ colorValue || gradientValue }\n\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t);\n};\n\nexport const PanelColorGradientSettingsInner = ( {\n\tclassName,\n\tcolors,\n\tgradients,\n\tdisableCustomColors,\n\tdisableCustomGradients,\n\tchildren,\n\tsettings,\n\ttitle,\n\t...props\n} ) => {\n\tif (\n\t\tisEmpty( colors ) &&\n\t\tisEmpty( gradients ) &&\n\t\tdisableCustomColors &&\n\t\tdisableCustomGradients &&\n\t\tevery(\n\t\t\tsettings,\n\t\t\t( setting ) =>\n\t\t\t\tisEmpty( setting.colors ) &&\n\t\t\t\tisEmpty( setting.gradients ) &&\n\t\t\t\t( setting.disableCustomColors === undefined ||\n\t\t\t\t\tsetting.disableCustomColors ) &&\n\t\t\t\t( setting.disableCustomGradients === undefined ||\n\t\t\t\t\tsetting.disableCustomGradients )\n\t\t)\n\t) {\n\t\treturn null;\n\t}\n\n\tconst titleElement = (\n\t\t<span className=\"block-editor-panel-color-gradient-settings__panel-title\">\n\t\t\t{ title }\n\t\t\t<Indicators\n\t\t\t\tcolors={ colors }\n\t\t\t\tgradients={ gradients }\n\t\t\t\tsettings={ settings }\n\t\t\t/>\n\t\t</span>\n\t);\n\treturn (\n\t\t<PanelBody\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-panel-color-gradient-settings',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\ttitle={ titleElement }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ settings.map( ( setting, index ) => (\n\t\t\t\t<ColorGradientControl\n\t\t\t\t\tkey={ index }\n\t\t\t\t\t{ ...{\n\t\t\t\t\t\tcolors,\n\t\t\t\t\t\tgradients,\n\t\t\t\t\t\tdisableCustomColors,\n\t\t\t\t\t\tdisableCustomGradients,\n\t\t\t\t\t\t...setting,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t\t{ children }\n\t\t</PanelBody>\n\t);\n};\n\nconst PanelColorGradientSettingsSelect = ( props ) => {\n\tconst colorGradientSettings = useSelect( ( select ) => {\n\t\tconst settings = select( 'core/block-editor' ).getSettings();\n\t\treturn pick( settings, colorsAndGradientKeys );\n\t} );\n\treturn (\n\t\t<PanelColorGradientSettingsInner\n\t\t\t{ ...{ ...colorGradientSettings, ...props } }\n\t\t/>\n\t);\n};\n\nconst PanelColorGradientSettings = ( props ) => {\n\tif (\n\t\tevery( colorsAndGradientKeys, ( key ) => props.hasOwnProperty( key ) )\n\t) {\n\t\treturn <PanelColorGradientSettingsInner { ...props } />;\n\t}\n\treturn <PanelColorGradientSettingsSelect { ...props } />;\n};\n\nexport default PanelColorGradientSettings;\n","/**\n * External dependencies\n */\nimport tinycolor from 'tinycolor2';\n\n/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport { __ } from '@wordpress/i18n';\nimport { Notice } from '@wordpress/components';\nimport { useEffect } from '@wordpress/element';\n\nfunction ContrastCheckerMessage( {\n\ttinyBackgroundColor,\n\ttinyTextColor,\n\tbackgroundColor,\n\ttextColor,\n} ) {\n\tconst msg =\n\t\ttinyBackgroundColor.getBrightness() < tinyTextColor.getBrightness()\n\t\t\t? __(\n\t\t\t\t\t'This color combination may be hard for people to read. Try using a darker background color and/or a brighter text color.'\n\t\t\t  )\n\t\t\t: __(\n\t\t\t\t\t'This color combination may be hard for people to read. Try using a brighter background color and/or a darker text color.'\n\t\t\t  );\n\n\t// Note: The `Notice` component can speak messages via its `spokenMessage`\n\t// prop, but the contrast checker requires granular control over when the\n\t// announcements are made. Notably, the message will be re-announced if a\n\t// new color combination is selected and the contrast is still insufficient.\n\tuseEffect( () => {\n\t\tspeak( __( 'This color combination may be hard for people to read.' ) );\n\t}, [ backgroundColor, textColor ] );\n\n\treturn (\n\t\t<div className=\"block-editor-contrast-checker\">\n\t\t\t<Notice\n\t\t\t\tspokenMessage={ null }\n\t\t\t\tstatus=\"warning\"\n\t\t\t\tisDismissible={ false }\n\t\t\t>\n\t\t\t\t{ msg }\n\t\t\t</Notice>\n\t\t</div>\n\t);\n}\n\nfunction ContrastChecker( {\n\tbackgroundColor,\n\tfallbackBackgroundColor,\n\tfallbackTextColor,\n\tfontSize, // font size value in pixels\n\tisLargeText,\n\ttextColor,\n} ) {\n\tif (\n\t\t! ( backgroundColor || fallbackBackgroundColor ) ||\n\t\t! ( textColor || fallbackTextColor )\n\t) {\n\t\treturn null;\n\t}\n\tconst tinyBackgroundColor = tinycolor(\n\t\tbackgroundColor || fallbackBackgroundColor\n\t);\n\tconst tinyTextColor = tinycolor( textColor || fallbackTextColor );\n\tconst hasTransparency =\n\t\ttinyBackgroundColor.getAlpha() !== 1 || tinyTextColor.getAlpha() !== 1;\n\n\tif (\n\t\thasTransparency ||\n\t\ttinycolor.isReadable( tinyBackgroundColor, tinyTextColor, {\n\t\t\tlevel: 'AA',\n\t\t\tsize:\n\t\t\t\tisLargeText || ( isLargeText !== false && fontSize >= 24 )\n\t\t\t\t\t? 'large'\n\t\t\t\t\t: 'small',\n\t\t} )\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ContrastCheckerMessage\n\t\t\tbackgroundColor={ backgroundColor }\n\t\t\ttextColor={ textColor }\n\t\t\ttinyBackgroundColor={ tinyBackgroundColor }\n\t\t\ttinyTextColor={ tinyTextColor }\n\t\t/>\n\t);\n}\n\nexport default ContrastChecker;\n","/**\n * External dependencies\n */\nimport memoize from 'memize';\nimport classnames from 'classnames';\nimport { kebabCase, camelCase, castArray, startCase, isFunction } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tuseCallback,\n\tuseMemo,\n\tuseEffect,\n\tChildren,\n\tcloneElement,\n\tuseState,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport InspectorControls from '../inspector-controls';\nimport { useBlockEditContext } from '../block-edit';\nimport ColorPanel from './color-panel';\n\n/**\n * Browser dependencies\n */\nconst { getComputedStyle, Node } = window;\n\nconst DEFAULT_COLORS = [];\n\nconst COMMON_COLOR_LABELS = {\n\ttextColor: __( 'Text Color' ),\n\tbackgroundColor: __( 'Background Color' ),\n};\n\nconst InspectorControlsColorPanel = ( props ) => (\n\t<InspectorControls>\n\t\t<ColorPanel { ...props } />\n\t</InspectorControls>\n);\n\nexport default function __experimentalUseColors(\n\tcolorConfigs,\n\t{\n\t\tpanelTitle = __( 'Color settings' ),\n\t\tcolorPanelProps,\n\t\tcontrastCheckers,\n\t\tpanelChildren,\n\t\tcolorDetector: {\n\t\t\ttargetRef,\n\t\t\tbackgroundColorTargetRef = targetRef,\n\t\t\ttextColorTargetRef = targetRef,\n\t\t} = {},\n\t} = {\n\t\tpanelTitle: __( 'Color settings' ),\n\t},\n\tdeps = []\n) {\n\tconst { clientId } = useBlockEditContext();\n\tconst { attributes, settingsColors } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockAttributes, getSettings } = select(\n\t\t\t\t'core/block-editor'\n\t\t\t);\n\t\t\tconst colors = getSettings().colors;\n\t\t\treturn {\n\t\t\t\tattributes: getBlockAttributes( clientId ),\n\t\t\t\tsettingsColors:\n\t\t\t\t\t! colors || colors === true ? DEFAULT_COLORS : colors,\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\tconst { updateBlockAttributes } = useDispatch( 'core/block-editor' );\n\tconst setAttributes = useCallback(\n\t\t( newAttributes ) => updateBlockAttributes( clientId, newAttributes ),\n\t\t[ updateBlockAttributes, clientId ]\n\t);\n\n\tconst createComponent = useMemo(\n\t\t() =>\n\t\t\tmemoize(\n\t\t\t\t(\n\t\t\t\t\tname,\n\t\t\t\t\tproperty,\n\t\t\t\t\tclassName,\n\t\t\t\t\tcolor,\n\t\t\t\t\tcolorValue,\n\t\t\t\t\tcustomColor\n\t\t\t\t) => ( {\n\t\t\t\t\tchildren,\n\t\t\t\t\tclassName: componentClassName = '',\n\t\t\t\t\tstyle: componentStyle = {},\n\t\t\t\t} ) => {\n\t\t\t\t\tlet colorStyle = {};\n\t\t\t\t\tif ( color ) {\n\t\t\t\t\t\tcolorStyle = { [ property ]: colorValue };\n\t\t\t\t\t} else if ( customColor ) {\n\t\t\t\t\t\tcolorStyle = { [ property ]: customColor };\n\t\t\t\t\t}\n\t\t\t\t\tconst extraProps = {\n\t\t\t\t\t\tclassName: classnames( componentClassName, {\n\t\t\t\t\t\t\t[ `has-${ kebabCase( color ) }-${ kebabCase(\n\t\t\t\t\t\t\t\tproperty\n\t\t\t\t\t\t\t) }` ]: color,\n\t\t\t\t\t\t\t[ className || `has-${ kebabCase( name ) }` ]:\n\t\t\t\t\t\t\t\tcolor || customColor,\n\t\t\t\t\t\t} ),\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t...colorStyle,\n\t\t\t\t\t\t\t...componentStyle,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( isFunction( children ) ) {\n\t\t\t\t\t\treturn children( extraProps );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t// Clone children, setting the style property from the color configuration,\n\t\t\t\t\t\t// if not already set explicitly through props.\n\t\t\t\t\t\tChildren.map( children, ( child ) => {\n\t\t\t\t\t\t\treturn cloneElement( child, {\n\t\t\t\t\t\t\t\tclassName: classnames(\n\t\t\t\t\t\t\t\t\tchild.props.className,\n\t\t\t\t\t\t\t\t\textraProps.className\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t...extraProps.style,\n\t\t\t\t\t\t\t\t\t...( child.props.style || {} ),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\t{ maxSize: colorConfigs.length }\n\t\t\t),\n\t\t[ colorConfigs.length ]\n\t);\n\tconst createSetColor = useMemo(\n\t\t() =>\n\t\t\tmemoize(\n\t\t\t\t( name, colors ) => ( newColor ) => {\n\t\t\t\t\tconst color = colors.find(\n\t\t\t\t\t\t( _color ) => _color.color === newColor\n\t\t\t\t\t);\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t[ color\n\t\t\t\t\t\t\t? camelCase( `custom ${ name }` )\n\t\t\t\t\t\t\t: name ]: undefined,\n\t\t\t\t\t} );\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t[ color\n\t\t\t\t\t\t\t? name\n\t\t\t\t\t\t\t: camelCase( `custom ${ name }` ) ]: color\n\t\t\t\t\t\t\t? color.slug\n\t\t\t\t\t\t\t: newColor,\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmaxSize: colorConfigs.length,\n\t\t\t\t}\n\t\t\t),\n\t\t[ setAttributes, colorConfigs.length ]\n\t);\n\n\tconst [ detectedBackgroundColor, setDetectedBackgroundColor ] = useState();\n\tconst [ detectedColor, setDetectedColor ] = useState();\n\n\tuseEffect( () => {\n\t\tif ( ! contrastCheckers ) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet needsBackgroundColor = false;\n\t\tlet needsColor = false;\n\t\tfor ( const { backgroundColor, textColor } of castArray(\n\t\t\tcontrastCheckers\n\t\t) ) {\n\t\t\tif ( ! needsBackgroundColor ) {\n\t\t\t\tneedsBackgroundColor = backgroundColor === true;\n\t\t\t}\n\t\t\tif ( ! needsColor ) {\n\t\t\t\tneedsColor = textColor === true;\n\t\t\t}\n\t\t\tif ( needsBackgroundColor && needsColor ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif ( needsColor ) {\n\t\t\tsetDetectedColor(\n\t\t\t\tgetComputedStyle( textColorTargetRef.current ).color\n\t\t\t);\n\t\t}\n\n\t\tif ( needsBackgroundColor ) {\n\t\t\tlet backgroundColorNode = backgroundColorTargetRef.current;\n\t\t\tlet backgroundColor = getComputedStyle( backgroundColorNode )\n\t\t\t\t.backgroundColor;\n\t\t\twhile (\n\t\t\t\tbackgroundColor === 'rgba(0, 0, 0, 0)' &&\n\t\t\t\tbackgroundColorNode.parentNode &&\n\t\t\t\tbackgroundColorNode.parentNode.nodeType === Node.ELEMENT_NODE\n\t\t\t) {\n\t\t\t\tbackgroundColorNode = backgroundColorNode.parentNode;\n\t\t\t\tbackgroundColor = getComputedStyle( backgroundColorNode )\n\t\t\t\t\t.backgroundColor;\n\t\t\t}\n\n\t\t\tsetDetectedBackgroundColor( backgroundColor );\n\t\t}\n\t}, [\n\t\tcolorConfigs.reduce(\n\t\t\t( acc, colorConfig ) =>\n\t\t\t\t`${ acc } | ${ attributes[ colorConfig.name ] } | ${\n\t\t\t\t\tattributes[ camelCase( `custom ${ colorConfig.name }` ) ]\n\t\t\t\t}`,\n\t\t\t''\n\t\t),\n\t\t...deps,\n\t] );\n\n\treturn useMemo( () => {\n\t\tconst colorSettings = {};\n\n\t\tconst components = colorConfigs.reduce( ( acc, colorConfig ) => {\n\t\t\tif ( typeof colorConfig === 'string' ) {\n\t\t\t\tcolorConfig = { name: colorConfig };\n\t\t\t}\n\t\t\tconst {\n\t\t\t\tname, // E.g. 'backgroundColor'.\n\t\t\t\tproperty = name, // E.g. 'backgroundColor'.\n\t\t\t\tclassName,\n\n\t\t\t\tpanelLabel = colorConfig.label ||\n\t\t\t\t\tCOMMON_COLOR_LABELS[ name ] ||\n\t\t\t\t\tstartCase( name ), // E.g. 'Background color'.\n\t\t\t\tcomponentName = startCase( name ).replace( /\\s/g, '' ), // E.g. 'BackgroundColor'.\n\n\t\t\t\tcolor = colorConfig.color,\n\t\t\t\tcolors = settingsColors,\n\t\t\t} = {\n\t\t\t\t...colorConfig,\n\t\t\t\tcolor: attributes[ colorConfig.name ],\n\t\t\t};\n\n\t\t\tconst customColor = attributes[ camelCase( `custom ${ name }` ) ];\n\t\t\t// We memoize the non-primitives to avoid unnecessary updates\n\t\t\t// when they are used as props for other components.\n\t\t\tconst _color = customColor\n\t\t\t\t? undefined\n\t\t\t\t: colors.find( ( __color ) => __color.slug === color );\n\t\t\tacc[ componentName ] = createComponent(\n\t\t\t\tname,\n\t\t\t\tproperty,\n\t\t\t\tclassName,\n\t\t\t\tcolor,\n\t\t\t\t_color && _color.color,\n\t\t\t\tcustomColor\n\t\t\t);\n\t\t\tacc[ componentName ].displayName = componentName;\n\t\t\tacc[ componentName ].color = customColor\n\t\t\t\t? customColor\n\t\t\t\t: _color && _color.color;\n\t\t\tacc[ componentName ].slug = color;\n\t\t\tacc[ componentName ].setColor = createSetColor( name, colors );\n\n\t\t\tcolorSettings[ componentName ] = {\n\t\t\t\tvalue: _color\n\t\t\t\t\t? _color.color\n\t\t\t\t\t: attributes[ camelCase( `custom ${ name }` ) ],\n\t\t\t\tonChange: acc[ componentName ].setColor,\n\t\t\t\tlabel: panelLabel,\n\t\t\t\tcolors,\n\t\t\t};\n\t\t\t// These settings will be spread over the `colors` in\n\t\t\t// `colorPanelProps`, so we need to unset the key here,\n\t\t\t// if not set to an actual value, to avoid overwriting\n\t\t\t// an actual value in `colorPanelProps`.\n\t\t\tif ( ! colors ) {\n\t\t\t\tdelete colorSettings[ componentName ].colors;\n\t\t\t}\n\n\t\t\treturn acc;\n\t\t}, {} );\n\n\t\tconst wrappedColorPanelProps = {\n\t\t\ttitle: panelTitle,\n\t\t\tinitialOpen: false,\n\t\t\tcolorSettings,\n\t\t\tcolorPanelProps,\n\t\t\tcontrastCheckers,\n\t\t\tdetectedBackgroundColor,\n\t\t\tdetectedColor,\n\t\t\tpanelChildren,\n\t\t};\n\t\treturn {\n\t\t\t...components,\n\t\t\tColorPanel: <ColorPanel { ...wrappedColorPanelProps } />,\n\t\t\tInspectorControlsColorPanel: (\n\t\t\t\t<InspectorControlsColorPanel { ...wrappedColorPanelProps } />\n\t\t\t),\n\t\t};\n\t}, [\n\t\tattributes,\n\t\tsetAttributes,\n\t\tdetectedColor,\n\t\tdetectedBackgroundColor,\n\t\t...deps,\n\t] );\n}\n","/**\n * External dependencies\n */\nimport { find, kebabCase } from 'lodash';\n\n/**\n *  Returns the font size object based on an array of named font sizes and the namedFontSize and customFontSize values.\n * \tIf namedFontSize is undefined or not found in fontSizes an object with just the size value based on customFontSize is returned.\n *\n * @param {Array}   fontSizes               Array of font size objects containing at least the \"name\" and \"size\" values as properties.\n * @param {?string} fontSizeAttribute       Content of the font size attribute (slug).\n * @param {?number} customFontSizeAttribute Contents of the custom font size attribute (value).\n *\n * @return {?Object} If fontSizeAttribute is set and an equal slug is found in fontSizes it returns the font size object for that slug.\n * \t\t\t\t\t Otherwise, an object with just the size value based on customFontSize is returned.\n */\nexport const getFontSize = (\n\tfontSizes,\n\tfontSizeAttribute,\n\tcustomFontSizeAttribute\n) => {\n\tif ( fontSizeAttribute ) {\n\t\tconst fontSizeObject = find( fontSizes, { slug: fontSizeAttribute } );\n\t\tif ( fontSizeObject ) {\n\t\t\treturn fontSizeObject;\n\t\t}\n\t}\n\treturn {\n\t\tsize: customFontSizeAttribute,\n\t};\n};\n\n/**\n * Returns the corresponding font size object for a given value.\n *\n * @param {Array} fontSizes Array of font size objects.\n * @param {number} value Font size value.\n *\n * @return {Object} Font size object.\n */\nexport function getFontSizeObjectByValue( fontSizes, value ) {\n\tconst fontSizeObject = find( fontSizes, { size: value } );\n\tif ( fontSizeObject ) {\n\t\treturn fontSizeObject;\n\t}\n\n\treturn {\n\t\tsize: value,\n\t};\n}\n\n/**\n * Returns a class based on fontSizeName.\n *\n * @param {string} fontSizeSlug    Slug of the fontSize.\n *\n * @return {string} String with the class corresponding to the fontSize passed.\n *                  The class is generated by appending 'has-' followed by fontSizeSlug in kebabCase and ending with '-font-size'.\n */\nexport function getFontSizeClass( fontSizeSlug ) {\n\tif ( ! fontSizeSlug ) {\n\t\treturn;\n\t}\n\n\treturn `has-${ kebabCase( fontSizeSlug ) }-font-size`;\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst textColor = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M13.23 15h1.9L11 4H9L5 15h1.88l1.07-3h4.18zm-1.53-4.54H8.51L10 5.6z\" />\n\t</SVG>\n);\n\nexport default textColor;\n","function isElement(el) {\n  return el != null && typeof el === 'object' && el.nodeType === 1;\n}\n\nfunction canOverflow(overflow, skipOverflowHiddenElements) {\n  if (skipOverflowHiddenElements && overflow === 'hidden') {\n    return false;\n  }\n\n  return overflow !== 'visible' && overflow !== 'clip';\n}\n\nfunction getFrameElement(el) {\n  if (!el.ownerDocument || !el.ownerDocument.defaultView) {\n    return null;\n  }\n\n  return el.ownerDocument.defaultView.frameElement;\n}\n\nfunction isHiddenByFrame(el) {\n  var frame = getFrameElement(el);\n\n  if (!frame) {\n    return false;\n  }\n\n  return frame.clientHeight < el.scrollHeight || frame.clientWidth < el.scrollWidth;\n}\n\nfunction isScrollable(el, skipOverflowHiddenElements) {\n  if (el.clientHeight < el.scrollHeight || el.clientWidth < el.scrollWidth) {\n    var style = getComputedStyle(el, null);\n    return canOverflow(style.overflowY, skipOverflowHiddenElements) || canOverflow(style.overflowX, skipOverflowHiddenElements) || isHiddenByFrame(el);\n  }\n\n  return false;\n}\n\nfunction alignNearest(scrollingEdgeStart, scrollingEdgeEnd, scrollingSize, scrollingBorderStart, scrollingBorderEnd, elementEdgeStart, elementEdgeEnd, elementSize) {\n  if (elementEdgeStart < scrollingEdgeStart && elementEdgeEnd > scrollingEdgeEnd || elementEdgeStart > scrollingEdgeStart && elementEdgeEnd < scrollingEdgeEnd) {\n    return 0;\n  }\n\n  if (elementEdgeStart <= scrollingEdgeStart && elementSize <= scrollingSize || elementEdgeEnd >= scrollingEdgeEnd && elementSize >= scrollingSize) {\n    return elementEdgeStart - scrollingEdgeStart - scrollingBorderStart;\n  }\n\n  if (elementEdgeEnd > scrollingEdgeEnd && elementSize < scrollingSize || elementEdgeStart < scrollingEdgeStart && elementSize > scrollingSize) {\n    return elementEdgeEnd - scrollingEdgeEnd + scrollingBorderEnd;\n  }\n\n  return 0;\n}\n\nexport default (function (target, options) {\n  var scrollMode = options.scrollMode,\n      block = options.block,\n      inline = options.inline,\n      boundary = options.boundary,\n      skipOverflowHiddenElements = options.skipOverflowHiddenElements;\n  var checkBoundary = typeof boundary === 'function' ? boundary : function (node) {\n    return node !== boundary;\n  };\n\n  if (!isElement(target)) {\n    throw new TypeError('Invalid target');\n  }\n\n  var scrollingElement = document.scrollingElement || document.documentElement;\n  var frames = [];\n  var cursor = target;\n\n  while (isElement(cursor) && checkBoundary(cursor)) {\n    cursor = cursor.parentNode;\n\n    if (cursor === scrollingElement) {\n      frames.push(cursor);\n      break;\n    }\n\n    if (cursor === document.body && isScrollable(cursor) && !isScrollable(document.documentElement)) {\n      continue;\n    }\n\n    if (isScrollable(cursor, skipOverflowHiddenElements)) {\n      frames.push(cursor);\n    }\n  }\n\n  var viewportWidth = window.visualViewport ? visualViewport.width : innerWidth;\n  var viewportHeight = window.visualViewport ? visualViewport.height : innerHeight;\n  var viewportX = window.scrollX || pageXOffset;\n  var viewportY = window.scrollY || pageYOffset;\n\n  var _target$getBoundingCl = target.getBoundingClientRect(),\n      targetHeight = _target$getBoundingCl.height,\n      targetWidth = _target$getBoundingCl.width,\n      targetTop = _target$getBoundingCl.top,\n      targetRight = _target$getBoundingCl.right,\n      targetBottom = _target$getBoundingCl.bottom,\n      targetLeft = _target$getBoundingCl.left;\n\n  var targetBlock = block === 'start' || block === 'nearest' ? targetTop : block === 'end' ? targetBottom : targetTop + targetHeight / 2;\n  var targetInline = inline === 'center' ? targetLeft + targetWidth / 2 : inline === 'end' ? targetRight : targetLeft;\n  var computations = [];\n\n  for (var index = 0; index < frames.length; index++) {\n    var frame = frames[index];\n\n    var _frame$getBoundingCli = frame.getBoundingClientRect(),\n        height = _frame$getBoundingCli.height,\n        width = _frame$getBoundingCli.width,\n        top = _frame$getBoundingCli.top,\n        right = _frame$getBoundingCli.right,\n        bottom = _frame$getBoundingCli.bottom,\n        left = _frame$getBoundingCli.left;\n\n    if (scrollMode === 'if-needed' && targetTop >= 0 && targetLeft >= 0 && targetBottom <= viewportHeight && targetRight <= viewportWidth && targetTop >= top && targetBottom <= bottom && targetLeft >= left && targetRight <= right) {\n      return computations;\n    }\n\n    var frameStyle = getComputedStyle(frame);\n    var borderLeft = parseInt(frameStyle.borderLeftWidth, 10);\n    var borderTop = parseInt(frameStyle.borderTopWidth, 10);\n    var borderRight = parseInt(frameStyle.borderRightWidth, 10);\n    var borderBottom = parseInt(frameStyle.borderBottomWidth, 10);\n    var blockScroll = 0;\n    var inlineScroll = 0;\n    var scrollbarWidth = 'offsetWidth' in frame ? frame.offsetWidth - frame.clientWidth - borderLeft - borderRight : 0;\n    var scrollbarHeight = 'offsetHeight' in frame ? frame.offsetHeight - frame.clientHeight - borderTop - borderBottom : 0;\n\n    if (scrollingElement === frame) {\n      if (block === 'start') {\n        blockScroll = targetBlock;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - viewportHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(viewportY, viewportY + viewportHeight, viewportHeight, borderTop, borderBottom, viewportY + targetBlock, viewportY + targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - viewportHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - viewportWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - viewportWidth;\n      } else {\n        inlineScroll = alignNearest(viewportX, viewportX + viewportWidth, viewportWidth, borderLeft, borderRight, viewportX + targetInline, viewportX + targetInline + targetWidth, targetWidth);\n      }\n\n      blockScroll = Math.max(0, blockScroll + viewportY);\n      inlineScroll = Math.max(0, inlineScroll + viewportX);\n    } else {\n      if (block === 'start') {\n        blockScroll = targetBlock - top - borderTop;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - bottom + borderBottom + scrollbarHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(top, bottom, height, borderTop, borderBottom + scrollbarHeight, targetBlock, targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - (top + height / 2) + scrollbarHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline - left - borderLeft;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - (left + width / 2) + scrollbarWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - right + borderRight + scrollbarWidth;\n      } else {\n        inlineScroll = alignNearest(left, right, width, borderLeft, borderRight + scrollbarWidth, targetInline, targetInline + targetWidth, targetWidth);\n      }\n\n      var scrollLeft = frame.scrollLeft,\n          scrollTop = frame.scrollTop;\n      blockScroll = Math.max(0, Math.min(scrollTop + blockScroll, frame.scrollHeight - height + scrollbarHeight));\n      inlineScroll = Math.max(0, Math.min(scrollLeft + inlineScroll, frame.scrollWidth - width + scrollbarWidth));\n      targetBlock += scrollTop - blockScroll;\n      targetInline += scrollLeft - inlineScroll;\n    }\n\n    computations.push({\n      el: frame,\n      top: blockScroll,\n      left: inlineScroll\n    });\n  }\n\n  return computations;\n});","import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport PropTypes from 'prop-types';\nimport { cloneElement, Component, useCallback, useReducer, useState, useEffect, useRef } from 'react';\nimport { isForwardRef } from 'react-is';\nimport computeScrollIntoView from 'compute-scroll-into-view';\n\nvar idCounter = 0;\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */\n\nfunction cbToCb(cb) {\n  return typeof cb === 'function' ? cb : noop;\n}\n\nfunction noop() {}\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */\n\n\nfunction scrollIntoView(node, menuNode) {\n  if (node === null) {\n    return;\n  }\n\n  var actions = computeScrollIntoView(node, {\n    boundary: menuNode,\n    block: 'nearest',\n    scrollMode: 'if-needed'\n  });\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n    el.scrollTop = top;\n    el.scrollLeft = left;\n  });\n}\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */\n\n\nfunction isOrContainsNode(parent, child) {\n  return parent === child || parent.contains && parent.contains(child);\n}\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */\n\n\nfunction debounce(fn, time) {\n  var timeoutId;\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n  }\n\n  function wrapper() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    cancel();\n    timeoutId = setTimeout(function () {\n      timeoutId = null;\n      fn.apply(void 0, args);\n    }, time);\n  }\n\n  wrapper.cancel = cancel;\n  return wrapper;\n}\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\n\n\nfunction callAllEventHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    return fns.some(function (fn) {\n      if (fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return event.preventDownshiftDefault || event.hasOwnProperty('nativeEvent') && event.nativeEvent.preventDownshiftDefault;\n    });\n  };\n}\n\nfunction handleRefs() {\n  for (var _len4 = arguments.length, refs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    refs[_key4] = arguments[_key4];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      if (typeof ref === 'function') {\n        ref(node);\n      } else if (ref) {\n        ref.current = node;\n      }\n    });\n  };\n}\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {String} the unique ID\n */\n\n\nfunction generateId() {\n  return String(idCounter++);\n}\n/**\n * Resets idCounter to 0. Used for SSR.\n */\n\n\nfunction resetIdCounter() {\n  idCounter = 0;\n}\n/**\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\n\n\nfunction getA11yStatusMessage(_ref2) {\n  var isOpen = _ref2.isOpen,\n      selectedItem = _ref2.selectedItem,\n      resultCount = _ref2.resultCount,\n      previousResultCount = _ref2.previousResultCount,\n      itemToString = _ref2.itemToString;\n\n  if (!isOpen) {\n    return selectedItem ? itemToString(selectedItem) : '';\n  }\n\n  if (!resultCount) {\n    return 'No results are available.';\n  }\n\n  if (resultCount !== previousResultCount) {\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n\n  return '';\n}\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\n\n\nfunction unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ?\n  /* istanbul ignore next (preact) */\n  arg[0] : arg;\n\n  if (!arg && defaultValue) {\n    return defaultValue;\n  } else {\n    return arg;\n  }\n}\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */\n\n\nfunction isDOMElement(element) {\n  // then we assume this is react\n  return typeof element.type === 'string';\n}\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */\n\n\nfunction getElementProps(element) {\n  return element.props;\n}\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */\n\n\nfunction requiredProp(fnName, propName) {\n  // eslint-disable-next-line no-console\n  console.error(\"The property \\\"\" + propName + \"\\\" is required in \\\"\" + fnName + \"\\\"\");\n}\n\nvar stateKeys = ['highlightedIndex', 'inputValue', 'isOpen', 'selectedItem', 'type'];\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */\n\nfunction pickState(state) {\n  if (state === void 0) {\n    state = {};\n  }\n\n  var result = {};\n  stateKeys.forEach(function (k) {\n    if (state.hasOwnProperty(k)) {\n      result[k] = state[k];\n    }\n  });\n  return result;\n}\n/**\n * This will perform a shallow merge of the given state object\n * with the state coming from props\n * (for the controlled component scenario)\n * This is used in state updater functions so they're referencing\n * the right state regardless of where it comes from.\n *\n * @param {Object} state The state of the component/hook.\n * @param {Object} props The props that may contain controlled values.\n * @returns {Object} The merged controlled state.\n */\n\n\nfunction getState(state, props) {\n  return Object.keys(state).reduce(function (prevState, key) {\n    prevState[key] = isControlledProp(props, key) ? props[key] : state[key];\n    return prevState;\n  }, {});\n}\n/**\n * This determines whether a prop is a \"controlled prop\" meaning it is\n * state which is controlled by the outside of this component rather\n * than within this component.\n *\n * @param {Object} props The props that may contain controlled values.\n * @param {String} key the key to check\n * @return {Boolean} whether it is a controlled controlled prop\n */\n\n\nfunction isControlledProp(props, key) {\n  return props[key] !== undefined;\n}\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */\n\n\nfunction normalizeArrowKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  /* istanbul ignore next (ie) */\n\n  if (keyCode >= 37 && keyCode <= 40 && key.indexOf('Arrow') !== 0) {\n    return \"Arrow\" + key;\n  }\n\n  return key;\n}\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */\n\n\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n/**\n * Returns the new index in the list, in a circular way. If next value is out of bonds from the total,\n * it will wrap to either 0 or itemCount - 1.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @param {Function} getItemNodeFromIndex Used to check if item is disabled.\n * @param {boolean} circular Specify if navigation is circular. Default is true.\n * @returns {number} The new index after the move.\n */\n\n\nfunction getNextWrappingIndex(moveAmount, baseIndex, itemCount, getItemNodeFromIndex, circular) {\n  if (circular === void 0) {\n    circular = true;\n  }\n\n  var itemsLastIndex = itemCount - 1;\n\n  if (typeof baseIndex !== 'number' || baseIndex < 0 || baseIndex >= itemCount) {\n    baseIndex = moveAmount > 0 ? -1 : itemsLastIndex + 1;\n  }\n\n  var newIndex = baseIndex + moveAmount;\n\n  if (newIndex < 0) {\n    newIndex = circular ? itemsLastIndex : 0;\n  } else if (newIndex > itemsLastIndex) {\n    newIndex = circular ? 0 : itemsLastIndex;\n  }\n\n  var nonDisabledNewIndex = getNextNonDisabledIndex(moveAmount, newIndex, itemCount, getItemNodeFromIndex, circular);\n  return nonDisabledNewIndex === -1 ? baseIndex : nonDisabledNewIndex;\n}\n/**\n * Returns the next index in the list of an item that is not disabled.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @param {Function} getItemNodeFromIndex Used to check if item is disabled.\n * @param {boolean} circular Specify if navigation is circular. Default is true.\n * @returns {number} The new index. Returns baseIndex if item is not disabled. Returns next non-disabled item otherwise. If no non-disabled found it will return -1.\n */\n\n\nfunction getNextNonDisabledIndex(moveAmount, baseIndex, itemCount, getItemNodeFromIndex, circular) {\n  var currentElementNode = getItemNodeFromIndex(baseIndex);\n\n  if (!currentElementNode || !currentElementNode.hasAttribute('disabled')) {\n    return baseIndex;\n  }\n\n  if (moveAmount > 0) {\n    for (var index = baseIndex + 1; index < itemCount; index++) {\n      if (!getItemNodeFromIndex(index).hasAttribute('disabled')) {\n        return index;\n      }\n    }\n  } else {\n    for (var _index = baseIndex - 1; _index >= 0; _index--) {\n      if (!getItemNodeFromIndex(_index).hasAttribute('disabled')) {\n        return _index;\n      }\n    }\n  }\n\n  if (circular) {\n    return moveAmount > 0 ? getNextNonDisabledIndex(1, 0, itemCount, getItemNodeFromIndex, false) : getNextNonDisabledIndex(-1, itemCount - 1, itemCount, getItemNodeFromIndex, false);\n  }\n\n  return -1;\n}\n/**\n * Checks if event target is within the downshift elements.\n *\n * @param {EventTarget} target Target to check.\n * @param {HTMLElement} rootNode The element with combobox role.\n * @param {HTMLElement} menuNode The elements list with listbox role.\n * @param {Document} document The document.\n * @param {boolean} checkActiveElement Whether to also check activeElement.\n *\n * @returns {boolean} Whether or not the target is within downshift elements.\n */\n\n\nfunction targetWithinDownshift(target, rootNode, menuNode, document, checkActiveElement) {\n  if (checkActiveElement === void 0) {\n    checkActiveElement = true;\n  }\n\n  return [rootNode, menuNode].some(function (contextNode) {\n    return contextNode && (isOrContainsNode(contextNode, target) || checkActiveElement && isOrContainsNode(contextNode, document.activeElement));\n  });\n}\n\nvar cleanupStatus = debounce(function () {\n  getStatusDiv().textContent = '';\n}, 500);\n/**\n * @param {String} status the status message\n * @param {Object} documentProp document passed by the user.\n */\n\nfunction setStatus(status, documentProp) {\n  var div = getStatusDiv(documentProp);\n\n  if (!status) {\n    return;\n  }\n\n  div.textContent = status;\n  cleanupStatus();\n}\n/**\n * Get the status node or create it if it does not already exist.\n * @param {Object} documentProp document passed by the user.\n * @return {HTMLElement} the status node.\n */\n\n\nfunction getStatusDiv(documentProp) {\n  if (documentProp === void 0) {\n    documentProp = document;\n  }\n\n  var statusDiv = documentProp.getElementById('a11y-status-message');\n\n  if (statusDiv) {\n    return statusDiv;\n  }\n\n  statusDiv = documentProp.createElement('div');\n  statusDiv.setAttribute('id', 'a11y-status-message');\n  statusDiv.setAttribute('role', 'status');\n  statusDiv.setAttribute('aria-live', 'polite');\n  statusDiv.setAttribute('aria-relevant', 'additions text');\n  Object.assign(statusDiv.style, {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    width: '1px'\n  });\n  documentProp.body.appendChild(statusDiv);\n  return statusDiv;\n}\n\nvar unknown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_unknown__' : 0;\nvar mouseUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_mouseup__' : 1;\nvar itemMouseEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_item_mouseenter__' : 2;\nvar keyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_up__' : 3;\nvar keyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_down__' : 4;\nvar keyDownEscape = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_escape__' : 5;\nvar keyDownEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 6;\nvar keyDownHome = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_home__' : 7;\nvar keyDownEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_end__' : 8;\nvar clickItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_item__' : 9;\nvar blurInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_input__' : 10;\nvar changeInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_change_input__' : 11;\nvar keyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_space_button__' : 12;\nvar clickButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_button__' : 13;\nvar blurButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_button__' : 14;\nvar controlledPropUpdatedSelectedItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_controlled_prop_updated_selected_item__' : 15;\nvar touchEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_touchend__' : 16;\n\nvar stateChangeTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  unknown: unknown,\n  mouseUp: mouseUp,\n  itemMouseEnter: itemMouseEnter,\n  keyDownArrowUp: keyDownArrowUp,\n  keyDownArrowDown: keyDownArrowDown,\n  keyDownEscape: keyDownEscape,\n  keyDownEnter: keyDownEnter,\n  keyDownHome: keyDownHome,\n  keyDownEnd: keyDownEnd,\n  clickItem: clickItem,\n  blurInput: blurInput,\n  changeInput: changeInput,\n  keyDownSpaceButton: keyDownSpaceButton,\n  clickButton: clickButton,\n  blurButton: blurButton,\n  controlledPropUpdatedSelectedItem: controlledPropUpdatedSelectedItem,\n  touchEnd: touchEnd\n});\n\nvar Downshift =\n/*#__PURE__*/\nfunction () {\n  var Downshift =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Downshift, _Component);\n\n    function Downshift(_props) {\n      var _this = _Component.call(this, _props) || this;\n\n      _this.id = _this.props.id || \"downshift-\" + generateId();\n      _this.menuId = _this.props.menuId || _this.id + \"-menu\";\n      _this.labelId = _this.props.labelId || _this.id + \"-label\";\n      _this.inputId = _this.props.inputId || _this.id + \"-input\";\n\n      _this.getItemId = _this.props.getItemId || function (index) {\n        return _this.id + \"-item-\" + index;\n      };\n\n      _this.input = null;\n      _this.items = [];\n      _this.itemCount = null;\n      _this.previousResultCount = 0;\n      _this.timeoutIds = [];\n\n      _this.internalSetTimeout = function (fn, time) {\n        var id = setTimeout(function () {\n          _this.timeoutIds = _this.timeoutIds.filter(function (i) {\n            return i !== id;\n          });\n          fn();\n        }, time);\n\n        _this.timeoutIds.push(id);\n      };\n\n      _this.setItemCount = function (count) {\n        _this.itemCount = count;\n      };\n\n      _this.unsetItemCount = function () {\n        _this.itemCount = null;\n      };\n\n      _this.setHighlightedIndex = function (highlightedIndex, otherStateToSet) {\n        if (highlightedIndex === void 0) {\n          highlightedIndex = _this.props.defaultHighlightedIndex;\n        }\n\n        if (otherStateToSet === void 0) {\n          otherStateToSet = {};\n        }\n\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(_extends({\n          highlightedIndex: highlightedIndex\n        }, otherStateToSet));\n      };\n\n      _this.clearSelection = function (cb) {\n        _this.internalSetState({\n          selectedItem: null,\n          inputValue: '',\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          isOpen: _this.props.defaultIsOpen\n        }, cb);\n      };\n\n      _this.selectItem = function (item, otherStateToSet, cb) {\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(_extends({\n          isOpen: _this.props.defaultIsOpen,\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          selectedItem: item,\n          inputValue: _this.props.itemToString(item)\n        }, otherStateToSet), cb);\n      };\n\n      _this.selectItemAtIndex = function (itemIndex, otherStateToSet, cb) {\n        var item = _this.items[itemIndex];\n\n        if (item == null) {\n          return;\n        }\n\n        _this.selectItem(item, otherStateToSet, cb);\n      };\n\n      _this.selectHighlightedItem = function (otherStateToSet, cb) {\n        return _this.selectItemAtIndex(_this.getState().highlightedIndex, otherStateToSet, cb);\n      };\n\n      _this.internalSetState = function (stateToSet, cb) {\n        var isItemSelected, onChangeArg;\n        var onStateChangeArg = {};\n        var isStateToSetFunction = typeof stateToSet === 'function'; // we want to call `onInputValueChange` before the `setState` call\n        // so someone controlling the `inputValue` state gets notified of\n        // the input change as soon as possible. This avoids issues with\n        // preserving the cursor position.\n        // See https://github.com/downshift-js/downshift/issues/217 for more info.\n\n        if (!isStateToSetFunction && stateToSet.hasOwnProperty('inputValue')) {\n          _this.props.onInputValueChange(stateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), {}, stateToSet));\n        }\n\n        return _this.setState(function (state) {\n          state = _this.getState(state);\n          var newStateToSet = isStateToSetFunction ? stateToSet(state) : stateToSet; // Your own function that could modify the state that will be set.\n\n          newStateToSet = _this.props.stateReducer(state, newStateToSet); // checks if an item is selected, regardless of if it's different from\n          // what was selected before\n          // used to determine if onSelect and onChange callbacks should be called\n\n          isItemSelected = newStateToSet.hasOwnProperty('selectedItem'); // this keeps track of the object we want to call with setState\n\n          var nextState = {}; // this is just used to tell whether the state changed\n\n          var nextFullState = {}; // we need to call on change if the outside world is controlling any of our state\n          // and we're trying to update that state. OR if the selection has changed and we're\n          // trying to update the selection\n\n          if (isItemSelected && newStateToSet.selectedItem !== state.selectedItem) {\n            onChangeArg = newStateToSet.selectedItem;\n          }\n\n          newStateToSet.type = newStateToSet.type || unknown;\n          Object.keys(newStateToSet).forEach(function (key) {\n            // onStateChangeArg should only have the state that is\n            // actually changing\n            if (state[key] !== newStateToSet[key]) {\n              onStateChangeArg[key] = newStateToSet[key];\n            } // the type is useful for the onStateChangeArg\n            // but we don't actually want to set it in internal state.\n            // this is an undocumented feature for now... Not all internalSetState\n            // calls support it and I'm not certain we want them to yet.\n            // But it enables users controlling the isOpen state to know when\n            // the isOpen state changes due to mouseup events which is quite handy.\n\n\n            if (key === 'type') {\n              return;\n            }\n\n            nextFullState[key] = newStateToSet[key]; // if it's coming from props, then we don't care to set it internally\n\n            if (!isControlledProp(_this.props, key)) {\n              nextState[key] = newStateToSet[key];\n            }\n          }); // if stateToSet is a function, then we weren't able to call onInputValueChange\n          // earlier, so we'll call it now that we know what the inputValue state will be.\n\n          if (isStateToSetFunction && newStateToSet.hasOwnProperty('inputValue')) {\n            _this.props.onInputValueChange(newStateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), {}, newStateToSet));\n          }\n\n          return nextState;\n        }, function () {\n          // call the provided callback if it's a function\n          cbToCb(cb)(); // only call the onStateChange and onChange callbacks if\n          // we have relevant information to pass them.\n\n          var hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1;\n\n          if (hasMoreStateThanType) {\n            _this.props.onStateChange(onStateChangeArg, _this.getStateAndHelpers());\n          }\n\n          if (isItemSelected) {\n            _this.props.onSelect(stateToSet.selectedItem, _this.getStateAndHelpers());\n          }\n\n          if (onChangeArg !== undefined) {\n            _this.props.onChange(onChangeArg, _this.getStateAndHelpers());\n          } // this is currently undocumented and therefore subject to change\n          // We'll try to not break it, but just be warned.\n\n\n          _this.props.onUserAction(onStateChangeArg, _this.getStateAndHelpers());\n        });\n      };\n\n      _this.rootRef = function (node) {\n        return _this._rootNode = node;\n      };\n\n      _this.getRootProps = function (_temp, _temp2) {\n        var _extends2;\n\n        var _ref = _temp === void 0 ? {} : _temp,\n            _ref$refKey = _ref.refKey,\n            refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n            ref = _ref.ref,\n            rest = _objectWithoutPropertiesLoose(_ref, [\"refKey\", \"ref\"]);\n\n        var _ref2 = _temp2 === void 0 ? {} : _temp2,\n            _ref2$suppressRefErro = _ref2.suppressRefError,\n            suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n\n        // this is used in the render to know whether the user has called getRootProps.\n        // It uses that to know whether to apply the props automatically\n        _this.getRootProps.called = true;\n        _this.getRootProps.refKey = refKey;\n        _this.getRootProps.suppressRefError = suppressRefError;\n\n        var _this$getState = _this.getState(),\n            isOpen = _this$getState.isOpen;\n\n        return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, _this.rootRef), _extends2.role = 'combobox', _extends2['aria-expanded'] = isOpen, _extends2['aria-haspopup'] = 'listbox', _extends2['aria-owns'] = isOpen ? _this.menuId : null, _extends2['aria-labelledby'] = _this.labelId, _extends2), rest);\n      };\n\n      _this.keyDownHandlers = {\n        ArrowDown: function ArrowDown(event) {\n          var _this2 = this;\n\n          event.preventDefault();\n\n          if (this.getState().isOpen) {\n            var amount = event.shiftKey ? 5 : 1;\n            this.moveHighlightedIndex(amount, {\n              type: keyDownArrowDown\n            });\n          } else {\n            this.internalSetState({\n              isOpen: true,\n              type: keyDownArrowDown\n            }, function () {\n              var itemCount = _this2.getItemCount();\n\n              if (itemCount > 0) {\n                var _this2$getState = _this2.getState(),\n                    highlightedIndex = _this2$getState.highlightedIndex;\n\n                var nextHighlightedIndex = getNextWrappingIndex(1, highlightedIndex, itemCount, function (index) {\n                  return _this2.getItemNodeFromIndex(index);\n                });\n\n                _this2.setHighlightedIndex(nextHighlightedIndex, {\n                  type: keyDownArrowDown\n                });\n              }\n            });\n          }\n        },\n        ArrowUp: function ArrowUp(event) {\n          var _this3 = this;\n\n          event.preventDefault();\n\n          if (this.getState().isOpen) {\n            var amount = event.shiftKey ? -5 : -1;\n            this.moveHighlightedIndex(amount, {\n              type: keyDownArrowUp\n            });\n          } else {\n            this.internalSetState({\n              isOpen: true,\n              type: keyDownArrowUp\n            }, function () {\n              var itemCount = _this3.getItemCount();\n\n              if (itemCount > 0) {\n                var _this3$getState = _this3.getState(),\n                    highlightedIndex = _this3$getState.highlightedIndex;\n\n                var nextHighlightedIndex = getNextWrappingIndex(-1, highlightedIndex, itemCount, function (index) {\n                  return _this3.getItemNodeFromIndex(index);\n                });\n\n                _this3.setHighlightedIndex(nextHighlightedIndex, {\n                  type: keyDownArrowUp\n                });\n              }\n            });\n          }\n        },\n        Enter: function Enter(event) {\n          var _this$getState2 = this.getState(),\n              isOpen = _this$getState2.isOpen,\n              highlightedIndex = _this$getState2.highlightedIndex;\n\n          if (isOpen && highlightedIndex != null) {\n            event.preventDefault();\n            var item = this.items[highlightedIndex];\n            var itemNode = this.getItemNodeFromIndex(highlightedIndex);\n\n            if (item == null || itemNode && itemNode.hasAttribute('disabled')) {\n              return;\n            }\n\n            this.selectHighlightedItem({\n              type: keyDownEnter\n            });\n          }\n        },\n        Escape: function Escape(event) {\n          event.preventDefault();\n          this.reset({\n            type: keyDownEscape,\n            selectedItem: null,\n            inputValue: ''\n          });\n        }\n      };\n      _this.buttonKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n        ' ': function _(event) {\n          event.preventDefault();\n          this.toggleMenu({\n            type: keyDownSpaceButton\n          });\n        }\n      });\n      _this.inputKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n        Home: function Home(event) {\n          var _this4 = this;\n\n          event.preventDefault();\n          var itemCount = this.getItemCount();\n\n          var _this$getState3 = this.getState(),\n              isOpen = _this$getState3.isOpen;\n\n          if (itemCount <= 0 || !isOpen) {\n            return;\n          } // get next non-disabled starting downwards from 0 if that's disabled.\n\n\n          var newHighlightedIndex = getNextNonDisabledIndex(1, 0, itemCount, function (index) {\n            return _this4.getItemNodeFromIndex(index);\n          }, false);\n          this.setHighlightedIndex(newHighlightedIndex, {\n            type: keyDownHome\n          });\n        },\n        End: function End(event) {\n          var _this5 = this;\n\n          event.preventDefault();\n          var itemCount = this.getItemCount();\n\n          var _this$getState4 = this.getState(),\n              isOpen = _this$getState4.isOpen;\n\n          if (itemCount <= 0 || !isOpen) {\n            return;\n          } // get next non-disabled starting upwards from last index if that's disabled.\n\n\n          var newHighlightedIndex = getNextNonDisabledIndex(-1, itemCount - 1, itemCount, function (index) {\n            return _this5.getItemNodeFromIndex(index);\n          }, false);\n          this.setHighlightedIndex(newHighlightedIndex, {\n            type: keyDownEnd\n          });\n        }\n      });\n\n      _this.getToggleButtonProps = function (_temp3) {\n        var _ref3 = _temp3 === void 0 ? {} : _temp3,\n            onClick = _ref3.onClick,\n            onPress = _ref3.onPress,\n            onKeyDown = _ref3.onKeyDown,\n            onKeyUp = _ref3.onKeyUp,\n            onBlur = _ref3.onBlur,\n            rest = _objectWithoutPropertiesLoose(_ref3, [\"onClick\", \"onPress\", \"onKeyDown\", \"onKeyUp\", \"onBlur\"]);\n\n        var _this$getState5 = _this.getState(),\n            isOpen = _this$getState5.isOpen;\n\n        var enabledEventHandlers = {\n          onClick: callAllEventHandlers(onClick, _this.buttonHandleClick),\n          onKeyDown: callAllEventHandlers(onKeyDown, _this.buttonHandleKeyDown),\n          onKeyUp: callAllEventHandlers(onKeyUp, _this.buttonHandleKeyUp),\n          onBlur: callAllEventHandlers(onBlur, _this.buttonHandleBlur)\n        };\n        var eventHandlers = rest.disabled ? {} : enabledEventHandlers;\n        return _extends({\n          type: 'button',\n          role: 'button',\n          'aria-label': isOpen ? 'close menu' : 'open menu',\n          'aria-haspopup': true,\n          'data-toggle': true\n        }, eventHandlers, {}, rest);\n      };\n\n      _this.buttonHandleKeyUp = function (event) {\n        // Prevent click event from emitting in Firefox\n        event.preventDefault();\n      };\n\n      _this.buttonHandleKeyDown = function (event) {\n        var key = normalizeArrowKey(event);\n\n        if (_this.buttonKeyDownHandlers[key]) {\n          _this.buttonKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n        }\n      };\n\n      _this.buttonHandleClick = function (event) {\n        event.preventDefault(); // handle odd case for Safari and Firefox which\n        // don't give the button the focus properly.\n\n        /* istanbul ignore if (can't reasonably test this) */\n\n        if ( _this.props.environment.document.activeElement === _this.props.environment.document.body) {\n          event.target.focus();\n        } // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n        // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n        // when building for production and should therefore have no impact on production code.\n\n\n        if (process.env.NODE_ENV === 'test') {\n          _this.toggleMenu({\n            type: clickButton\n          });\n        } else {\n          // Ensure that toggle of menu occurs after the potential blur event in iOS\n          _this.internalSetTimeout(function () {\n            return _this.toggleMenu({\n              type: clickButton\n            });\n          });\n        }\n      };\n\n      _this.buttonHandleBlur = function (event) {\n        var blurTarget = event.target; // Save blur target for comparison with activeElement later\n        // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n\n        _this.internalSetTimeout(function () {\n          if (!_this.isMouseDown && (_this.props.environment.document.activeElement == null || _this.props.environment.document.activeElement.id !== _this.inputId) && _this.props.environment.document.activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n          ) {\n              _this.reset({\n                type: blurButton\n              });\n            }\n        });\n      };\n\n      _this.getLabelProps = function (props) {\n        return _extends({\n          htmlFor: _this.inputId,\n          id: _this.labelId\n        }, props);\n      };\n\n      _this.getInputProps = function (_temp4) {\n        var _ref4 = _temp4 === void 0 ? {} : _temp4,\n            onKeyDown = _ref4.onKeyDown,\n            onBlur = _ref4.onBlur,\n            onChange = _ref4.onChange,\n            onInput = _ref4.onInput,\n            onChangeText = _ref4.onChangeText,\n            rest = _objectWithoutPropertiesLoose(_ref4, [\"onKeyDown\", \"onBlur\", \"onChange\", \"onInput\", \"onChangeText\"]);\n\n        var onChangeKey;\n        var eventHandlers = {};\n        /* istanbul ignore next (preact) */\n\n        onChangeKey = 'onChange';\n\n        var _this$getState6 = _this.getState(),\n            inputValue = _this$getState6.inputValue,\n            isOpen = _this$getState6.isOpen,\n            highlightedIndex = _this$getState6.highlightedIndex;\n\n        if (!rest.disabled) {\n          var _eventHandlers;\n\n          eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, _this.inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, _this.inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, _this.inputHandleBlur), _eventHandlers);\n        }\n        /* istanbul ignore if (react-native) */\n\n\n        return _extends({\n          'aria-autocomplete': 'list',\n          'aria-activedescendant': isOpen && typeof highlightedIndex === 'number' && highlightedIndex >= 0 ? _this.getItemId(highlightedIndex) : null,\n          'aria-controls': isOpen ? _this.menuId : null,\n          'aria-labelledby': _this.labelId,\n          // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n          // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n          autoComplete: 'off',\n          value: inputValue,\n          id: _this.inputId\n        }, eventHandlers, {}, rest);\n      };\n\n      _this.inputHandleKeyDown = function (event) {\n        var key = normalizeArrowKey(event);\n\n        if (key && _this.inputKeyDownHandlers[key]) {\n          _this.inputKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n        }\n      };\n\n      _this.inputHandleChange = function (event) {\n        _this.internalSetState({\n          type: changeInput,\n          isOpen: true,\n          inputValue: event.target.value,\n          highlightedIndex: _this.props.defaultHighlightedIndex\n        });\n      };\n\n      _this.inputHandleBlur = function () {\n        // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n        _this.internalSetTimeout(function () {\n          var downshiftButtonIsActive = _this.props.environment.document && !!_this.props.environment.document.activeElement && !!_this.props.environment.document.activeElement.dataset && _this.props.environment.document.activeElement.dataset.toggle && _this._rootNode && _this._rootNode.contains(_this.props.environment.document.activeElement);\n\n          if (!_this.isMouseDown && !downshiftButtonIsActive) {\n            _this.reset({\n              type: blurInput\n            });\n          }\n        });\n      };\n\n      _this.menuRef = function (node) {\n        _this._menuNode = node;\n      };\n\n      _this.getMenuProps = function (_temp5, _temp6) {\n        var _extends3;\n\n        var _ref5 = _temp5 === void 0 ? {} : _temp5,\n            _ref5$refKey = _ref5.refKey,\n            refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n            ref = _ref5.ref,\n            props = _objectWithoutPropertiesLoose(_ref5, [\"refKey\", \"ref\"]);\n\n        var _ref6 = _temp6 === void 0 ? {} : _temp6,\n            _ref6$suppressRefErro = _ref6.suppressRefError,\n            suppressRefError = _ref6$suppressRefErro === void 0 ? false : _ref6$suppressRefErro;\n\n        _this.getMenuProps.called = true;\n        _this.getMenuProps.refKey = refKey;\n        _this.getMenuProps.suppressRefError = suppressRefError;\n        return _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, _this.menuRef), _extends3.role = 'listbox', _extends3['aria-labelledby'] = props && props['aria-label'] ? null : _this.labelId, _extends3.id = _this.menuId, _extends3), props);\n      };\n\n      _this.getItemProps = function (_temp7) {\n        var _enabledEventHandlers;\n\n        var _ref7 = _temp7 === void 0 ? {} : _temp7,\n            onMouseMove = _ref7.onMouseMove,\n            onMouseDown = _ref7.onMouseDown,\n            onClick = _ref7.onClick,\n            onPress = _ref7.onPress,\n            index = _ref7.index,\n            _ref7$item = _ref7.item,\n            item = _ref7$item === void 0 ? process.env.NODE_ENV === 'production' ?\n        /* istanbul ignore next */\n        undefined : requiredProp('getItemProps', 'item') : _ref7$item,\n            rest = _objectWithoutPropertiesLoose(_ref7, [\"onMouseMove\", \"onMouseDown\", \"onClick\", \"onPress\", \"index\", \"item\"]);\n\n        if (index === undefined) {\n          _this.items.push(item);\n\n          index = _this.items.indexOf(item);\n        } else {\n          _this.items[index] = item;\n        }\n\n        var onSelectKey = 'onClick';\n        var customClickHandler = onClick;\n        var enabledEventHandlers = (_enabledEventHandlers = {\n          // onMouseMove is used over onMouseEnter here. onMouseMove\n          // is only triggered on actual mouse movement while onMouseEnter\n          // can fire on DOM changes, interrupting keyboard navigation\n          onMouseMove: callAllEventHandlers(onMouseMove, function () {\n            if (index === _this.getState().highlightedIndex) {\n              return;\n            }\n\n            _this.setHighlightedIndex(index, {\n              type: itemMouseEnter\n            }); // We never want to manually scroll when changing state based\n            // on `onMouseMove` because we will be moving the element out\n            // from under the user which is currently scrolling/moving the\n            // cursor\n\n\n            _this.avoidScrolling = true;\n\n            _this.internalSetTimeout(function () {\n              return _this.avoidScrolling = false;\n            }, 250);\n          }),\n          onMouseDown: callAllEventHandlers(onMouseDown, function (event) {\n            // This prevents the activeElement from being changed\n            // to the item so it can remain with the current activeElement\n            // which is a more common use case.\n            event.preventDefault();\n          })\n        }, _enabledEventHandlers[onSelectKey] = callAllEventHandlers(customClickHandler, function () {\n          _this.selectItemAtIndex(index, {\n            type: clickItem\n          });\n        }), _enabledEventHandlers); // Passing down the onMouseDown handler to prevent redirect\n        // of the activeElement if clicking on disabled items\n\n        var eventHandlers = rest.disabled ? {\n          onMouseDown: enabledEventHandlers.onMouseDown\n        } : enabledEventHandlers;\n        return _extends({\n          id: _this.getItemId(index),\n          role: 'option',\n          'aria-selected': _this.getState().highlightedIndex === index\n        }, eventHandlers, {}, rest);\n      };\n\n      _this.clearItems = function () {\n        _this.items = [];\n      };\n\n      _this.reset = function (otherStateToSet, cb) {\n        if (otherStateToSet === void 0) {\n          otherStateToSet = {};\n        }\n\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(function (_ref8) {\n          var selectedItem = _ref8.selectedItem;\n          return _extends({\n            isOpen: _this.props.defaultIsOpen,\n            highlightedIndex: _this.props.defaultHighlightedIndex,\n            inputValue: _this.props.itemToString(selectedItem)\n          }, otherStateToSet);\n        }, cb);\n      };\n\n      _this.toggleMenu = function (otherStateToSet, cb) {\n        if (otherStateToSet === void 0) {\n          otherStateToSet = {};\n        }\n\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(function (_ref9) {\n          var isOpen = _ref9.isOpen;\n          return _extends({\n            isOpen: !isOpen\n          }, isOpen && {\n            highlightedIndex: _this.props.defaultHighlightedIndex\n          }, {}, otherStateToSet);\n        }, function () {\n          var _this$getState7 = _this.getState(),\n              isOpen = _this$getState7.isOpen,\n              highlightedIndex = _this$getState7.highlightedIndex;\n\n          if (isOpen) {\n            if (_this.getItemCount() > 0 && typeof highlightedIndex === 'number') {\n              _this.setHighlightedIndex(highlightedIndex, otherStateToSet);\n            }\n          }\n\n          cbToCb(cb)();\n        });\n      };\n\n      _this.openMenu = function (cb) {\n        _this.internalSetState({\n          isOpen: true\n        }, cb);\n      };\n\n      _this.closeMenu = function (cb) {\n        _this.internalSetState({\n          isOpen: false\n        }, cb);\n      };\n\n      _this.updateStatus = debounce(function () {\n        var state = _this.getState();\n\n        var item = _this.items[state.highlightedIndex];\n\n        var resultCount = _this.getItemCount();\n\n        var status = _this.props.getA11yStatusMessage(_extends({\n          itemToString: _this.props.itemToString,\n          previousResultCount: _this.previousResultCount,\n          resultCount: resultCount,\n          highlightedItem: item\n        }, state));\n\n        _this.previousResultCount = resultCount;\n        setStatus(status, _this.props.environment.document);\n      }, 200);\n\n      // fancy destructuring + defaults + aliases\n      // this basically says each value of state should either be set to\n      // the initial value or the default value if the initial value is not provided\n      var _this$props = _this.props,\n          defaultHighlightedIndex = _this$props.defaultHighlightedIndex,\n          _this$props$initialHi = _this$props.initialHighlightedIndex,\n          _highlightedIndex = _this$props$initialHi === void 0 ? defaultHighlightedIndex : _this$props$initialHi,\n          defaultIsOpen = _this$props.defaultIsOpen,\n          _this$props$initialIs = _this$props.initialIsOpen,\n          _isOpen = _this$props$initialIs === void 0 ? defaultIsOpen : _this$props$initialIs,\n          _this$props$initialIn = _this$props.initialInputValue,\n          _inputValue = _this$props$initialIn === void 0 ? '' : _this$props$initialIn,\n          _this$props$initialSe = _this$props.initialSelectedItem,\n          _selectedItem = _this$props$initialSe === void 0 ? null : _this$props$initialSe;\n\n      var _state = _this.getState({\n        highlightedIndex: _highlightedIndex,\n        isOpen: _isOpen,\n        inputValue: _inputValue,\n        selectedItem: _selectedItem\n      });\n\n      if (_state.selectedItem != null && _this.props.initialInputValue === undefined) {\n        _state.inputValue = _this.props.itemToString(_state.selectedItem);\n      }\n\n      _this.state = _state;\n      return _this;\n    }\n\n    var _proto = Downshift.prototype;\n\n    /**\n     * Clear all running timeouts\n     */\n    _proto.internalClearTimeouts = function internalClearTimeouts() {\n      this.timeoutIds.forEach(function (id) {\n        clearTimeout(id);\n      });\n      this.timeoutIds = [];\n    }\n    /**\n     * Gets the state based on internal state or props\n     * If a state value is passed via props, then that\n     * is the value given, otherwise it's retrieved from\n     * stateToMerge\n     *\n     * @param {Object} stateToMerge defaults to this.state\n     * @return {Object} the state\n     */\n    ;\n\n    _proto.getState = function getState$1(stateToMerge) {\n      if (stateToMerge === void 0) {\n        stateToMerge = this.state;\n      }\n\n      return getState(stateToMerge, this.props);\n    };\n\n    _proto.getItemCount = function getItemCount() {\n      // things read better this way. They're in priority order:\n      // 1. `this.itemCount`\n      // 2. `this.props.itemCount`\n      // 3. `this.items.length`\n      var itemCount = this.items.length;\n\n      if (this.itemCount != null) {\n        itemCount = this.itemCount;\n      } else if (this.props.itemCount !== undefined) {\n        itemCount = this.props.itemCount;\n      }\n\n      return itemCount;\n    };\n\n    _proto.getItemNodeFromIndex = function getItemNodeFromIndex(index) {\n      return this.props.environment.document.getElementById(this.getItemId(index));\n    };\n\n    _proto.scrollHighlightedItemIntoView = function scrollHighlightedItemIntoView() {\n      /* istanbul ignore else (react-native) */\n      {\n        var node = this.getItemNodeFromIndex(this.getState().highlightedIndex);\n        this.props.scrollIntoView(node, this._menuNode);\n      }\n    };\n\n    _proto.moveHighlightedIndex = function moveHighlightedIndex(amount, otherStateToSet) {\n      var _this6 = this;\n\n      var itemCount = this.getItemCount();\n\n      var _this$getState8 = this.getState(),\n          highlightedIndex = _this$getState8.highlightedIndex;\n\n      if (itemCount > 0) {\n        var nextHighlightedIndex = getNextWrappingIndex(amount, highlightedIndex, itemCount, function (index) {\n          return _this6.getItemNodeFromIndex(index);\n        });\n        this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet);\n      }\n    };\n\n    _proto.getStateAndHelpers = function getStateAndHelpers() {\n      var _this$getState9 = this.getState(),\n          highlightedIndex = _this$getState9.highlightedIndex,\n          inputValue = _this$getState9.inputValue,\n          selectedItem = _this$getState9.selectedItem,\n          isOpen = _this$getState9.isOpen;\n\n      var itemToString = this.props.itemToString;\n      var id = this.id;\n      var getRootProps = this.getRootProps,\n          getToggleButtonProps = this.getToggleButtonProps,\n          getLabelProps = this.getLabelProps,\n          getMenuProps = this.getMenuProps,\n          getInputProps = this.getInputProps,\n          getItemProps = this.getItemProps,\n          openMenu = this.openMenu,\n          closeMenu = this.closeMenu,\n          toggleMenu = this.toggleMenu,\n          selectItem = this.selectItem,\n          selectItemAtIndex = this.selectItemAtIndex,\n          selectHighlightedItem = this.selectHighlightedItem,\n          setHighlightedIndex = this.setHighlightedIndex,\n          clearSelection = this.clearSelection,\n          clearItems = this.clearItems,\n          reset = this.reset,\n          setItemCount = this.setItemCount,\n          unsetItemCount = this.unsetItemCount,\n          setState = this.internalSetState;\n      return {\n        // prop getters\n        getRootProps: getRootProps,\n        getToggleButtonProps: getToggleButtonProps,\n        getLabelProps: getLabelProps,\n        getMenuProps: getMenuProps,\n        getInputProps: getInputProps,\n        getItemProps: getItemProps,\n        // actions\n        reset: reset,\n        openMenu: openMenu,\n        closeMenu: closeMenu,\n        toggleMenu: toggleMenu,\n        selectItem: selectItem,\n        selectItemAtIndex: selectItemAtIndex,\n        selectHighlightedItem: selectHighlightedItem,\n        setHighlightedIndex: setHighlightedIndex,\n        clearSelection: clearSelection,\n        clearItems: clearItems,\n        setItemCount: setItemCount,\n        unsetItemCount: unsetItemCount,\n        setState: setState,\n        // props\n        itemToString: itemToString,\n        // derived\n        id: id,\n        // state\n        highlightedIndex: highlightedIndex,\n        inputValue: inputValue,\n        isOpen: isOpen,\n        selectedItem: selectedItem\n      };\n    } //////////////////////////// ROOT\n    ;\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this7 = this;\n\n      /* istanbul ignore if (react-native) */\n      if (process.env.NODE_ENV !== 'production' && !false && this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n        validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n      }\n      /* istanbul ignore if (react-native) */\n\n\n      {\n        // this.isMouseDown helps us track whether the mouse is currently held down.\n        // This is useful when the user clicks on an item in the list, but holds the mouse\n        // down long enough for the list to disappear (because the blur event fires on the input)\n        // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n        // trigger hiding the menu.\n        var onMouseDown = function () {\n          _this7.isMouseDown = true;\n        };\n\n        var onMouseUp = function (event) {\n          _this7.isMouseDown = false; // if the target element or the activeElement is within a downshift node\n          // then we don't want to reset downshift\n\n          var contextWithinDownshift = targetWithinDownshift(event.target, _this7._rootNode, _this7._menuNode, _this7.props.environment.document);\n\n          if (!contextWithinDownshift && _this7.getState().isOpen) {\n            _this7.reset({\n              type: mouseUp\n            }, function () {\n              return _this7.props.onOuterClick(_this7.getStateAndHelpers());\n            });\n          }\n        }; // Touching an element in iOS gives focus and hover states, but touching out of\n        // the element will remove hover, and persist the focus state, resulting in the\n        // blur event not being triggered.\n        // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n        // If the user taps outside of Downshift, the component should be reset,\n        // but not if the user is swiping\n\n\n        var onTouchStart = function () {\n          _this7.isTouchMove = false;\n        };\n\n        var onTouchMove = function () {\n          _this7.isTouchMove = true;\n        };\n\n        var onTouchEnd = function (event) {\n          var contextWithinDownshift = targetWithinDownshift(event.target, _this7._rootNode, _this7._menuNode, _this7.props.environment.document, false);\n\n          if (!_this7.isTouchMove && !contextWithinDownshift && _this7.getState().isOpen) {\n            _this7.reset({\n              type: touchEnd\n            }, function () {\n              return _this7.props.onOuterClick(_this7.getStateAndHelpers());\n            });\n          }\n        };\n\n        var environment = this.props.environment;\n        environment.addEventListener('mousedown', onMouseDown);\n        environment.addEventListener('mouseup', onMouseUp);\n        environment.addEventListener('touchstart', onTouchStart);\n        environment.addEventListener('touchmove', onTouchMove);\n        environment.addEventListener('touchend', onTouchEnd);\n\n        this.cleanup = function () {\n          _this7.internalClearTimeouts();\n\n          _this7.updateStatus.cancel();\n\n          environment.removeEventListener('mousedown', onMouseDown);\n          environment.removeEventListener('mouseup', onMouseUp);\n          environment.removeEventListener('touchstart', onTouchStart);\n          environment.removeEventListener('touchmove', onTouchMove);\n          environment.removeEventListener('touchend', onTouchEnd);\n        };\n      }\n    };\n\n    _proto.shouldScroll = function shouldScroll(prevState, prevProps) {\n      var _ref10 = this.props.highlightedIndex === undefined ? this.getState() : this.props,\n          currentHighlightedIndex = _ref10.highlightedIndex;\n\n      var _ref11 = prevProps.highlightedIndex === undefined ? prevState : prevProps,\n          prevHighlightedIndex = _ref11.highlightedIndex;\n\n      var scrollWhenOpen = currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen;\n      return scrollWhenOpen || currentHighlightedIndex !== prevHighlightedIndex;\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateControlledUnchanged(prevProps, this.props);\n        /* istanbul ignore if (react-native) */\n\n        if ( this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n          validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n        }\n      }\n\n      if (isControlledProp(this.props, 'selectedItem') && this.props.selectedItemChanged(prevProps.selectedItem, this.props.selectedItem)) {\n        this.internalSetState({\n          type: controlledPropUpdatedSelectedItem,\n          inputValue: this.props.itemToString(this.props.selectedItem)\n        });\n      }\n\n      if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n        this.scrollHighlightedItemIntoView();\n      }\n      /* istanbul ignore else (react-native) */\n\n\n      this.updateStatus();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.cleanup(); // avoids memory leak\n    };\n\n    _proto.render = function render() {\n      var children = unwrapArray(this.props.children, noop); // because the items are rerendered every time we call the children\n      // we clear this out each render and it will be populated again as\n      // getItemProps is called.\n\n      this.clearItems(); // we reset this so we know whether the user calls getRootProps during\n      // this render. If they do then we don't need to do anything,\n      // if they don't then we need to clone the element they return and\n      // apply the props for them.\n\n      this.getRootProps.called = false;\n      this.getRootProps.refKey = undefined;\n      this.getRootProps.suppressRefError = undefined; // we do something similar for getMenuProps\n\n      this.getMenuProps.called = false;\n      this.getMenuProps.refKey = undefined;\n      this.getMenuProps.suppressRefError = undefined; // we do something similar for getLabelProps\n\n      this.getLabelProps.called = false; // and something similar for getInputProps\n\n      this.getInputProps.called = false;\n      var element = unwrapArray(children(this.getStateAndHelpers()));\n\n      if (!element) {\n        return null;\n      }\n\n      if (this.getRootProps.called || this.props.suppressRefError) {\n        if (process.env.NODE_ENV !== 'production' && !this.getRootProps.suppressRefError && !this.props.suppressRefError) {\n          validateGetRootPropsCalledCorrectly(element, this.getRootProps);\n        }\n\n        return element;\n      } else if (isDOMElement(element)) {\n        // they didn't apply the root props, but we can clone\n        // this and apply the props ourselves\n        return cloneElement(element, this.getRootProps(getElementProps(element)));\n      }\n      /* istanbul ignore else */\n\n\n      if (process.env.NODE_ENV !== 'production') {\n        // they didn't apply the root props, but they need to\n        // otherwise we can't query around the autocomplete\n        throw new Error('downshift: If you return a non-DOM element, you must apply the getRootProps function');\n      }\n      /* istanbul ignore next */\n\n\n      return undefined;\n    };\n\n    return Downshift;\n  }(Component);\n\n  Downshift.defaultProps = {\n    defaultHighlightedIndex: null,\n    defaultIsOpen: false,\n    getA11yStatusMessage: getA11yStatusMessage,\n    itemToString: function itemToString(i) {\n      if (i == null) {\n        return '';\n      }\n\n      if (process.env.NODE_ENV !== 'production' && isPlainObject(i) && !i.hasOwnProperty('toString')) {\n        // eslint-disable-next-line no-console\n        console.warn('downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.', 'The object that was passed:', i);\n      }\n\n      return String(i);\n    },\n    onStateChange: noop,\n    onInputValueChange: noop,\n    onUserAction: noop,\n    onChange: noop,\n    onSelect: noop,\n    onOuterClick: noop,\n    selectedItemChanged: function selectedItemChanged(prevItem, item) {\n      return prevItem !== item;\n    },\n    environment: typeof window === 'undefined'\n    /* istanbul ignore next (ssr) */\n    ? {} : window,\n    stateReducer: function stateReducer(state, stateToSet) {\n      return stateToSet;\n    },\n    suppressRefError: false,\n    scrollIntoView: scrollIntoView\n  };\n  Downshift.stateChangeTypes = stateChangeTypes;\n  return Downshift;\n}();\n\nprocess.env.NODE_ENV !== \"production\" ? Downshift.propTypes = {\n  children: PropTypes.func,\n  defaultHighlightedIndex: PropTypes.number,\n  defaultIsOpen: PropTypes.bool,\n  initialHighlightedIndex: PropTypes.number,\n  initialSelectedItem: PropTypes.any,\n  initialInputValue: PropTypes.string,\n  initialIsOpen: PropTypes.bool,\n  getA11yStatusMessage: PropTypes.func,\n  itemToString: PropTypes.func,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  onUserAction: PropTypes.func,\n  onOuterClick: PropTypes.func,\n  selectedItemChanged: PropTypes.func,\n  stateReducer: PropTypes.func,\n  itemCount: PropTypes.number,\n  id: PropTypes.string,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  }),\n  suppressRefError: PropTypes.bool,\n  scrollIntoView: PropTypes.func,\n  // things we keep in state for uncontrolled components\n  // but can accept as props for controlled components\n\n  /* eslint-disable react/no-unused-prop-types */\n  selectedItem: PropTypes.any,\n  isOpen: PropTypes.bool,\n  inputValue: PropTypes.string,\n  highlightedIndex: PropTypes.number,\n  labelId: PropTypes.string,\n  inputId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func\n  /* eslint-enable react/no-unused-prop-types */\n\n} : void 0;\n\nfunction validateGetMenuPropsCalledCorrectly(node, _ref12) {\n  var refKey = _ref12.refKey;\n\n  if (!node) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: The ref prop \\\"\" + refKey + \"\\\" from getMenuProps was not applied correctly on your menu element.\");\n  }\n}\n\nfunction validateGetRootPropsCalledCorrectly(element, _ref13) {\n  var refKey = _ref13.refKey;\n  var refKeySpecified = refKey !== 'ref';\n  var isComposite = !isDOMElement(element);\n\n  if (isComposite && !refKeySpecified && !isForwardRef(element)) {\n    // eslint-disable-next-line no-console\n    console.error('downshift: You returned a non-DOM element. You must specify a refKey in getRootProps');\n  } else if (!isComposite && refKeySpecified) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \\\"\" + refKey + \"\\\"\");\n  }\n\n  if (!isForwardRef(element) && !getElementProps(element)[refKey]) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You must apply the ref prop \\\"\" + refKey + \"\\\" from getRootProps onto your root element.\");\n  }\n}\n\nfunction validateControlledUnchanged(prevProps, nextProps) {\n  var warningDescription = \"This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props\";\n  ['selectedItem', 'isOpen', 'inputValue', 'highlightedIndex'].forEach(function (propKey) {\n    if (prevProps[propKey] !== undefined && nextProps[propKey] === undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the controlled prop \\\"\" + propKey + \"\\\" to be uncontrolled. \" + warningDescription);\n    } else if (prevProps[propKey] === undefined && nextProps[propKey] !== undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the uncontrolled prop \\\"\" + propKey + \"\\\" to be controlled. \" + warningDescription);\n    }\n  });\n}\n\nvar defaultStateValues = {\n  highlightedIndex: -1,\n  isOpen: false,\n  selectedItem: null\n};\n\nfunction getElementIds(generateDefaultId, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      id = _ref.id,\n      labelId = _ref.labelId,\n      menuId = _ref.menuId,\n      getItemId = _ref.getItemId,\n      toggleButtonId = _ref.toggleButtonId;\n\n  var uniqueId = id === undefined ? \"downshift-\" + generateDefaultId() : id;\n  return {\n    labelId: labelId || uniqueId + \"-label\",\n    menuId: menuId || uniqueId + \"-menu\",\n    getItemId: getItemId || function (index) {\n      return uniqueId + \"-item-\" + index;\n    },\n    toggleButtonId: toggleButtonId || uniqueId + \"-toggle-button\"\n  };\n}\n\nfunction getItemIndex(index, item, items) {\n  if (index !== undefined) {\n    return index;\n  }\n\n  if (items.length === 0) {\n    return -1;\n  }\n\n  return items.indexOf(item);\n}\n\nfunction itemToString(item) {\n  return item ? String(item) : '';\n}\n\nfunction getPropTypesValidator(caller, propTypes) {\n  // istanbul ignore next\n  return function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    Object.entries(propTypes).forEach(function (_ref2) {\n      var key = _ref2[0];\n      PropTypes.checkPropTypes(propTypes, options, key, caller.name);\n    });\n  };\n}\n\nfunction isAcceptedCharacterKey(key) {\n  return /^\\S{1}$/.test(key);\n}\n\nfunction capitalizeString(string) {\n  return \"\" + string.slice(0, 1).toUpperCase() + string.slice(1);\n}\n\nfunction invokeOnChangeHandler(propKey, props, state, changes) {\n  var handler = \"on\" + capitalizeString(propKey) + \"Change\";\n\n  if (props[handler] && changes[propKey] !== undefined && changes[propKey] !== state[propKey]) {\n    props[handler](changes);\n  }\n}\n\nfunction callOnChangeProps(props, state, changes) {\n  Object.keys(state).forEach(function (stateKey) {\n    invokeOnChangeHandler(stateKey, props, state, changes);\n  });\n\n  if (props.onStateChange && changes !== undefined) {\n    props.onStateChange(changes);\n  }\n}\n\nfunction useEnhancedReducer(reducer, initialState, props) {\n  var enhancedReducer = useCallback(function (state, action) {\n    state = getState(state, action.props);\n    var stateReduceLocal = action.props.stateReducer;\n    var changes = reducer(state, action);\n    var newState = stateReduceLocal(state, _extends({}, action, {\n      changes: changes\n    }));\n    callOnChangeProps(action.props, state, newState);\n    return newState;\n  }, [reducer]);\n\n  var _useReducer = useReducer(enhancedReducer, initialState),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  return [getState(state, props), dispatch];\n}\n\nvar lastId = 0; // istanbul ignore next\n\nvar genId = function () {\n  return ++lastId;\n};\n/**\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\n * Taken from @reach/auto-id\n * @see https://github.com/reach/reach-ui/blob/6e9dbcf716d5c9a3420e062e5bac1ac4671d01cb/packages/auto-id/src/index.js\n */\n// istanbul ignore next\n\n\nfunction useId() {\n  var _useState = useState(null),\n      id = _useState[0],\n      setId = _useState[1];\n\n  useEffect(function () {\n    return setId(genId());\n  }, []);\n  return id;\n}\n/**\n * Checks if nextElement receives focus after the blur event.\n *\n * @param {FocusEvent} event The blur event.\n * @param {Element} nextElement The element to check that receive focus next.\n * @returns {boolean} If the focus lands on nextElement.\n */\n\n\nfunction focusLandsOnElement(event, nextElement) {\n  return !!nextElement && (event.relatedTarget === nextElement || // https://github.com/downshift-js/downshift/issues/832 - workaround for Firefox.\n  event.nativeEvent && (nextElement === event.nativeEvent.explicitOriginalTarget || nextElement.contains(event.nativeEvent.explicitOriginalTarget)));\n}\n/**\n * Default state reducer that returns the changes.\n *\n * @param {Object} s state.\n * @param {Object} a action with changes.\n * @returns {Object} changes.\n */\n\n\nfunction stateReducer(s, a) {\n  return a.changes;\n}\n/**\n * Returns a message to be added to aria-live region when dropdown is open.\n *\n * @param {*} selectionParameters Parameters required to build the message.\n * @returns {string} The a11y message.\n */\n\n\nfunction getA11yStatusMessage$1(selectionParameters) {\n  var isOpen = selectionParameters.isOpen,\n      items = selectionParameters.items;\n\n  if (!items) {\n    return '';\n  }\n\n  var resultCount = items.length;\n\n  if (isOpen) {\n    if (resultCount === 0) {\n      return 'No results are available';\n    }\n\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n\n  return '';\n}\n/**\n * Returns a message to be added to aria-live region when item is selected.\n *\n * @param {Object} selectionParameters Parameters required to build the message.\n * @returns {string} The a11y message.\n */\n\n\nfunction getA11ySelectionMessage(selectionParameters) {\n  var selectedItem = selectionParameters.selectedItem,\n      itemToStringLocal = selectionParameters.itemToString;\n  return itemToStringLocal(selectedItem) + \" has been selected.\";\n}\n\nvar defaultProps = {\n  itemToString: itemToString,\n  stateReducer: stateReducer,\n  getA11yStatusMessage: getA11yStatusMessage$1,\n  getA11ySelectionMessage: getA11ySelectionMessage,\n  scrollIntoView: scrollIntoView,\n  circularNavigation: false,\n  environment: typeof window === 'undefined'\n  /* istanbul ignore next (ssr) */\n  ? {} : window\n};\n\nfunction getDefaultValue(props, propKey, defaultStateValuesLocal) {\n  var defaultPropKey = \"default\" + capitalizeString(propKey);\n\n  if (defaultPropKey in props) {\n    return props[defaultPropKey];\n  }\n\n  return _extends({}, defaultStateValues, {}, defaultStateValuesLocal)[propKey];\n}\n\nfunction getInitialValue(props, propKey, defaultStateValuesLocal) {\n  if (propKey in props) {\n    return props[propKey];\n  }\n\n  var initialPropKey = \"initial\" + capitalizeString(propKey);\n\n  if (initialPropKey in props) {\n    return props[initialPropKey];\n  }\n\n  return getDefaultValue(props, propKey, defaultStateValuesLocal);\n}\n\nfunction getHighlightedIndexOnOpen(props, state, offset, getItemNodeFromIndex) {\n  var items = props.items,\n      initialHighlightedIndex = props.initialHighlightedIndex,\n      defaultHighlightedIndex = props.defaultHighlightedIndex;\n  var selectedItem = state.selectedItem,\n      highlightedIndex = state.highlightedIndex; // initialHighlightedIndex will give value to highlightedIndex on initial state only.\n\n  if (initialHighlightedIndex !== undefined && highlightedIndex === initialHighlightedIndex) {\n    return initialHighlightedIndex;\n  }\n\n  if (defaultHighlightedIndex !== undefined) {\n    return defaultHighlightedIndex;\n  }\n\n  if (selectedItem) {\n    if (offset === 0) {\n      return items.indexOf(selectedItem);\n    }\n\n    return getNextWrappingIndex(offset, items.indexOf(selectedItem), items.length, getItemNodeFromIndex, false);\n  }\n\n  if (offset === 0) {\n    return -1;\n  }\n\n  return offset < 0 ? items.length - 1 : 0;\n}\n\nvar defaultStateValues$1 = {\n  keysSoFar: ''\n};\n\nfunction getDefaultValue$1(props, propKey) {\n  return getDefaultValue(props, propKey, defaultStateValues$1);\n}\n\nfunction getInitialValue$1(props, propKey) {\n  return getInitialValue(props, propKey, defaultStateValues$1);\n}\n\nfunction getInitialState(props) {\n  var selectedItem = getInitialValue$1(props, 'selectedItem');\n  var isOpen = getInitialValue$1(props, 'isOpen');\n  var highlightedIndex = getInitialValue$1(props, 'highlightedIndex');\n  return {\n    highlightedIndex: highlightedIndex < 0 && selectedItem ? props.items.indexOf(selectedItem) : highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem,\n    keysSoFar: ''\n  };\n}\n\nfunction getItemIndexByCharacterKey(keysSoFar, highlightedIndex, items, itemToStringParam, getItemNodeFromIndex) {\n  var lowerCasedItemStrings = items.map(function (item) {\n    return itemToStringParam(item).toLowerCase();\n  });\n  var lowerCasedKeysSoFar = keysSoFar.toLowerCase();\n\n  var isValid = function (itemString, index) {\n    var element = getItemNodeFromIndex(index);\n    return itemString.startsWith(lowerCasedKeysSoFar) && !(element && element.hasAttribute('disabled'));\n  };\n\n  for (var index = highlightedIndex + 1; index < lowerCasedItemStrings.length; index++) {\n    var itemString = lowerCasedItemStrings[index];\n\n    if (isValid(itemString, index)) {\n      return index;\n    }\n  }\n\n  for (var _index = 0; _index < highlightedIndex; _index++) {\n    var _itemString = lowerCasedItemStrings[_index];\n\n    if (isValid(_itemString, _index)) {\n      return _index;\n    }\n  }\n\n  return highlightedIndex;\n}\n\nvar propTypes = {\n  items: PropTypes.array.isRequired,\n  itemToString: PropTypes.func,\n  getA11yStatusMessage: PropTypes.func,\n  getA11ySelectionMessage: PropTypes.func,\n  circularNavigation: PropTypes.bool,\n  highlightedIndex: PropTypes.number,\n  defaultHighlightedIndex: PropTypes.number,\n  initialHighlightedIndex: PropTypes.number,\n  isOpen: PropTypes.bool,\n  defaultIsOpen: PropTypes.bool,\n  initialIsOpen: PropTypes.bool,\n  selectedItem: PropTypes.any,\n  initialSelectedItem: PropTypes.any,\n  defaultSelectedItem: PropTypes.any,\n  id: PropTypes.string,\n  labelId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func,\n  toggleButtonId: PropTypes.string,\n  stateReducer: PropTypes.func,\n  onSelectedItemChange: PropTypes.func,\n  onHighlightedIndexChange: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onIsOpenChange: PropTypes.func,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  })\n};\n\nvar MenuKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_arrow_down__' : 0;\nvar MenuKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_arrow_up__' : 1;\nvar MenuKeyDownEscape = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_escape__' : 2;\nvar MenuKeyDownHome = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_home__' : 3;\nvar MenuKeyDownEnd = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_end__' : 4;\nvar MenuKeyDownEnter = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_enter__' : 5;\nvar MenuKeyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_space_button__' : 6;\nvar MenuKeyDownCharacter = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_character__' : 7;\nvar MenuBlur = process.env.NODE_ENV !== \"production\" ? '__menu_blur__' : 8;\nvar MenuMouseLeave = process.env.NODE_ENV !== \"production\" ? '__menu_mouse_leave__' : 9;\nvar ItemMouseMove = process.env.NODE_ENV !== \"production\" ? '__item_mouse_move__' : 10;\nvar ItemClick = process.env.NODE_ENV !== \"production\" ? '__item_click__' : 11;\nvar ToggleButtonKeyDownCharacter = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_character__' : 12;\nvar ToggleButtonKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_arrow_down__' : 13;\nvar ToggleButtonKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_arrow_up__' : 14;\nvar ToggleButtonClick = process.env.NODE_ENV !== \"production\" ? '__togglebutton_click__' : 15;\nvar FunctionToggleMenu = process.env.NODE_ENV !== \"production\" ? '__function_toggle_menu__' : 16;\nvar FunctionOpenMenu = process.env.NODE_ENV !== \"production\" ? '__function_open_menu__' : 17;\nvar FunctionCloseMenu = process.env.NODE_ENV !== \"production\" ? '__function_close_menu__' : 18;\nvar FunctionSetHighlightedIndex = process.env.NODE_ENV !== \"production\" ? '__function_set_highlighted_index__' : 19;\nvar FunctionSelectItem = process.env.NODE_ENV !== \"production\" ? '__function_select_item__' : 20;\nvar FunctionClearKeysSoFar = process.env.NODE_ENV !== \"production\" ? '__function_clear_keys_so_far__' : 21;\nvar FunctionReset = process.env.NODE_ENV !== \"production\" ? '__function_reset__' : 22;\n\nvar stateChangeTypes$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  MenuKeyDownArrowDown: MenuKeyDownArrowDown,\n  MenuKeyDownArrowUp: MenuKeyDownArrowUp,\n  MenuKeyDownEscape: MenuKeyDownEscape,\n  MenuKeyDownHome: MenuKeyDownHome,\n  MenuKeyDownEnd: MenuKeyDownEnd,\n  MenuKeyDownEnter: MenuKeyDownEnter,\n  MenuKeyDownSpaceButton: MenuKeyDownSpaceButton,\n  MenuKeyDownCharacter: MenuKeyDownCharacter,\n  MenuBlur: MenuBlur,\n  MenuMouseLeave: MenuMouseLeave,\n  ItemMouseMove: ItemMouseMove,\n  ItemClick: ItemClick,\n  ToggleButtonKeyDownCharacter: ToggleButtonKeyDownCharacter,\n  ToggleButtonKeyDownArrowDown: ToggleButtonKeyDownArrowDown,\n  ToggleButtonKeyDownArrowUp: ToggleButtonKeyDownArrowUp,\n  ToggleButtonClick: ToggleButtonClick,\n  FunctionToggleMenu: FunctionToggleMenu,\n  FunctionOpenMenu: FunctionOpenMenu,\n  FunctionCloseMenu: FunctionCloseMenu,\n  FunctionSetHighlightedIndex: FunctionSetHighlightedIndex,\n  FunctionSelectItem: FunctionSelectItem,\n  FunctionClearKeysSoFar: FunctionClearKeysSoFar,\n  FunctionReset: FunctionReset\n});\n\n/* eslint-disable complexity */\n\nfunction downshiftSelectReducer(state, action) {\n  var type = action.type,\n      props = action.props,\n      shiftKey = action.shiftKey;\n  var changes;\n\n  switch (type) {\n    case ItemMouseMove:\n      changes = {\n        highlightedIndex: action.index\n      };\n      break;\n\n    case ItemClick:\n      changes = {\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex'),\n        selectedItem: props.items[action.index]\n      };\n      break;\n\n    case MenuBlur:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1\n      };\n      break;\n\n    case MenuKeyDownArrowDown:\n      changes = {\n        highlightedIndex: getNextWrappingIndex(shiftKey ? 5 : 1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n      };\n      break;\n\n    case MenuKeyDownArrowUp:\n      changes = {\n        highlightedIndex: getNextWrappingIndex(shiftKey ? -5 : -1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n      };\n      break;\n\n    case MenuKeyDownHome:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(1, 0, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case MenuKeyDownEnd:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(-1, props.items.length - 1, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case MenuKeyDownEscape:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1\n      };\n      break;\n\n    case MenuKeyDownEnter:\n    case MenuKeyDownSpaceButton:\n      changes = _extends({\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex')\n      }, state.highlightedIndex >= 0 && {\n        selectedItem: props.items[state.highlightedIndex]\n      });\n      break;\n\n    case MenuKeyDownCharacter:\n      {\n        var lowercasedKey = action.key;\n        var keysSoFar = \"\" + state.keysSoFar + lowercasedKey;\n        var highlightedIndex = getItemIndexByCharacterKey(keysSoFar, state.highlightedIndex, props.items, props.itemToString, action.getItemNodeFromIndex);\n        changes = _extends({\n          keysSoFar: keysSoFar\n        }, highlightedIndex >= 0 && {\n          highlightedIndex: highlightedIndex\n        });\n      }\n      break;\n\n    case MenuMouseLeave:\n      changes = {\n        highlightedIndex: -1\n      };\n      break;\n\n    case ToggleButtonKeyDownCharacter:\n      {\n        var _lowercasedKey = action.key;\n\n        var _keysSoFar = \"\" + state.keysSoFar + _lowercasedKey;\n\n        var itemIndex = getItemIndexByCharacterKey(_keysSoFar, state.selectedItem ? props.items.indexOf(state.selectedItem) : -1, props.items, props.itemToString, action.getItemNodeFromIndex);\n        changes = _extends({\n          keysSoFar: _keysSoFar\n        }, itemIndex >= 0 && {\n          selectedItem: props.items[itemIndex]\n        });\n      }\n      break;\n\n    case ToggleButtonKeyDownArrowDown:\n      {\n        changes = {\n          isOpen: true,\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, 1, action.getItemNodeFromIndex)\n        };\n        break;\n      }\n\n    case ToggleButtonKeyDownArrowUp:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, -1, action.getItemNodeFromIndex)\n      };\n      break;\n\n    case ToggleButtonClick:\n    case FunctionToggleMenu:\n      changes = {\n        isOpen: !state.isOpen,\n        highlightedIndex: state.isOpen ? -1 : getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case FunctionOpenMenu:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case FunctionCloseMenu:\n      changes = {\n        isOpen: false\n      };\n      break;\n\n    case FunctionSetHighlightedIndex:\n      changes = {\n        highlightedIndex: action.highlightedIndex\n      };\n      break;\n\n    case FunctionSelectItem:\n      changes = {\n        selectedItem: action.selectedItem\n      };\n      break;\n\n    case FunctionClearKeysSoFar:\n      changes = {\n        keysSoFar: ''\n      };\n      break;\n\n    case FunctionReset:\n      changes = {\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex'),\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        selectedItem: getDefaultValue$1(props, 'selectedItem')\n      };\n      break;\n\n    default:\n      throw new Error('Reducer called without proper action type.');\n  }\n\n  return _extends({}, state, {}, changes);\n}\n/* eslint-enable complexity */\n\nvar validatePropTypes = process.env.NODE_ENV === 'production' ?\n/* istanbul ignore next */\nnull : getPropTypesValidator(useSelect, propTypes);\nuseSelect.stateChangeTypes = stateChangeTypes$1;\n\nfunction useSelect(userProps) {\n  if (userProps === void 0) {\n    userProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    validatePropTypes(userProps);\n  } // Props defaults and destructuring.\n\n\n  var props = _extends({}, defaultProps, {}, userProps);\n\n  var items = props.items,\n      itemToString = props.itemToString,\n      getA11yStatusMessage = props.getA11yStatusMessage,\n      getA11ySelectionMessage = props.getA11ySelectionMessage,\n      initialIsOpen = props.initialIsOpen,\n      defaultIsOpen = props.defaultIsOpen,\n      scrollIntoView = props.scrollIntoView,\n      environment = props.environment; // Initial state depending on controlled props.\n\n  var initialState = getInitialState(props); // Reducer init.\n\n  var _useEnhancedReducer = useEnhancedReducer(downshiftSelectReducer, initialState, props),\n      _useEnhancedReducer$ = _useEnhancedReducer[0],\n      isOpen = _useEnhancedReducer$.isOpen,\n      highlightedIndex = _useEnhancedReducer$.highlightedIndex,\n      selectedItem = _useEnhancedReducer$.selectedItem,\n      keysSoFar = _useEnhancedReducer$.keysSoFar,\n      dispatchWithoutProps = _useEnhancedReducer[1];\n\n  var dispatch = function (action) {\n    return dispatchWithoutProps(_extends({\n      props: props\n    }, action));\n  }; // IDs generation.\n\n\n  var _getElementIds = getElementIds(useId, props),\n      labelId = _getElementIds.labelId,\n      getItemId = _getElementIds.getItemId,\n      menuId = _getElementIds.menuId,\n      toggleButtonId = _getElementIds.toggleButtonId;\n  /* Refs */\n\n\n  var toggleButtonRef = useRef(null);\n  var menuRef = useRef(null);\n  var itemRefs = useRef();\n  itemRefs.current = [];\n  var isInitialMount = useRef(true);\n  var shouldScroll = useRef(true);\n  var clearTimeout = useRef(null);\n  /* Effects */\n\n  /* Sets a11y status message on changes in isOpen. */\n\n  useEffect(function () {\n    if (isInitialMount.current) {\n      return;\n    }\n\n    setStatus(getA11yStatusMessage({\n      isOpen: isOpen,\n      items: items,\n      selectedItem: selectedItem,\n      itemToString: itemToString\n    }), environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n  /* Sets a11y status message on changes in selectedItem. */\n\n  useEffect(function () {\n    if (isInitialMount.current) {\n      return;\n    }\n\n    setStatus(getA11ySelectionMessage({\n      isOpen: isOpen,\n      items: items,\n      selectedItem: selectedItem,\n      itemToString: itemToString\n    }), environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedItem]);\n  /* Sets cleanup for the keysSoFar after 500ms. */\n\n  useEffect(function () {\n    // init the clean function here as we need access to dispatch.\n    if (isInitialMount.current) {\n      clearTimeout.current = debounce(function (outerDispatch) {\n        outerDispatch({\n          type: FunctionClearKeysSoFar\n        });\n      }, 500);\n    }\n\n    if (!keysSoFar) {\n      return;\n    }\n\n    clearTimeout.current(dispatch); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [keysSoFar]);\n  /* Controls the focus on the menu or the toggle button. */\n\n  useEffect(function () {\n    // Don't focus menu on first render.\n    if (isInitialMount.current) {\n      // Unless it was initialised as open.\n      if (initialIsOpen || defaultIsOpen || isOpen) {\n        menuRef.current.focus();\n      }\n\n      return;\n    } // Focus menu on open.\n    // istanbul ignore next\n\n\n    if (isOpen) {\n      menuRef.current.focus(); // Focus toggleButton on close.\n    } else if (environment.document.activeElement === menuRef.current) {\n      toggleButtonRef.current.focus();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [isOpen]);\n  /* Scroll on highlighted item if change comes from keyboard. */\n\n  useEffect(function () {\n    if (highlightedIndex < 0 || !isOpen || !itemRefs.current.length) {\n      return;\n    }\n\n    if (shouldScroll.current === false) {\n      shouldScroll.current = true;\n    } else {\n      scrollIntoView(itemRefs.current[highlightedIndex], menuRef.current);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [highlightedIndex]);\n  /* Make initial ref false. */\n\n  useEffect(function () {\n    isInitialMount.current = false;\n  }, []);\n\n  var getItemNodeFromIndex = function (index) {\n    return itemRefs.current[index];\n  };\n  /* Event handler functions */\n\n\n  var menuKeyDownHandlers = {\n    ArrowDown: function ArrowDown(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownArrowDown,\n        shiftKey: event.shiftKey,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    ArrowUp: function ArrowUp(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownArrowUp,\n        shiftKey: event.shiftKey,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    Home: function Home(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownHome,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    End: function End(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownEnd,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    Escape: function Escape() {\n      dispatch({\n        type: MenuKeyDownEscape\n      });\n    },\n    Enter: function Enter(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownEnter\n      });\n    },\n    ' ': function _(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownSpaceButton\n      });\n    },\n    Tab: function Tab(event) {\n      // The exception that calls MenuBlur.\n      // istanbul ignore next\n      if (event.shiftKey) {\n        dispatch({\n          type: MenuBlur\n        });\n      }\n    }\n  };\n  var toggleButtonKeyDownHandlers = {\n    ArrowDown: function ArrowDown(event) {\n      event.preventDefault();\n      dispatch({\n        type: ToggleButtonKeyDownArrowDown,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    ArrowUp: function ArrowUp(event) {\n      event.preventDefault();\n      dispatch({\n        type: ToggleButtonKeyDownArrowUp,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    }\n  }; // Event handlers.\n\n  var menuHandleKeyDown = function (event) {\n    var key = normalizeArrowKey(event);\n\n    if (key && menuKeyDownHandlers[key]) {\n      menuKeyDownHandlers[key](event);\n    } else if (isAcceptedCharacterKey(key)) {\n      dispatch({\n        type: MenuKeyDownCharacter,\n        key: key,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    }\n  }; // Focus going back to the toggleButton is something we control (Escape, Enter, Click).\n  // We are toggleing special actions for these cases in reducer, not MenuBlur.\n  // Since Shift-Tab also lands focus on toggleButton, we will handle it as exception and call MenuBlur.\n\n\n  var menuHandleBlur = function (event) {\n    if (!focusLandsOnElement(event, toggleButtonRef.current)) {\n      dispatch({\n        type: MenuBlur\n      });\n    }\n  };\n\n  var menuHandleMouseLeave = function () {\n    dispatch({\n      type: MenuMouseLeave\n    });\n  };\n\n  var toggleButtonHandleClick = function () {\n    dispatch({\n      type: ToggleButtonClick\n    });\n  };\n\n  var toggleButtonHandleKeyDown = function (event) {\n    var key = normalizeArrowKey(event);\n\n    if (key && toggleButtonKeyDownHandlers[key]) {\n      toggleButtonKeyDownHandlers[key](event);\n    } else if (isAcceptedCharacterKey(key)) {\n      dispatch({\n        type: ToggleButtonKeyDownCharacter,\n        key: key,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    }\n  };\n\n  var itemHandleMouseMove = function (index) {\n    if (index === highlightedIndex) {\n      return;\n    }\n\n    shouldScroll.current = false;\n    dispatch({\n      type: ItemMouseMove,\n      index: index\n    });\n  };\n\n  var itemHandleClick = function (index) {\n    dispatch({\n      type: ItemClick,\n      index: index\n    });\n  }; // returns\n\n\n  return {\n    // prop getters.\n    getToggleButtonProps: function getToggleButtonProps(_temp2) {\n      var _extends3;\n\n      var _ref2 = _temp2 === void 0 ? {} : _temp2,\n          onClick = _ref2.onClick,\n          onKeyDown = _ref2.onKeyDown,\n          _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === void 0 ? 'ref' : _ref2$refKey,\n          ref = _ref2.ref,\n          rest = _objectWithoutPropertiesLoose(_ref2, [\"onClick\", \"onKeyDown\", \"refKey\", \"ref\"]);\n\n      var toggleProps = _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function (toggleButtonNode) {\n        toggleButtonRef.current = toggleButtonNode;\n      }), _extends3.id = toggleButtonId, _extends3['aria-haspopup'] = 'listbox', _extends3['aria-expanded'] = isOpen, _extends3['aria-labelledby'] = labelId + \" \" + toggleButtonId, _extends3), rest);\n\n      if (!rest.disabled) {\n        toggleProps.onClick = callAllEventHandlers(onClick, toggleButtonHandleClick);\n        toggleProps.onKeyDown = callAllEventHandlers(onKeyDown, toggleButtonHandleKeyDown);\n      }\n\n      return toggleProps;\n    },\n    getLabelProps: function getLabelProps(labelProps) {\n      return _extends({\n        id: labelId,\n        htmlFor: toggleButtonId\n      }, labelProps);\n    },\n    getMenuProps: function getMenuProps(_temp) {\n      var _extends2;\n\n      var _ref = _temp === void 0 ? {} : _temp,\n          onKeyDown = _ref.onKeyDown,\n          onBlur = _ref.onBlur,\n          onMouseLeave = _ref.onMouseLeave,\n          _ref$refKey = _ref.refKey,\n          refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n          ref = _ref.ref,\n          rest = _objectWithoutPropertiesLoose(_ref, [\"onKeyDown\", \"onBlur\", \"onMouseLeave\", \"refKey\", \"ref\"]);\n\n      return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function (menuNode) {\n        menuRef.current = menuNode;\n      }), _extends2.id = menuId, _extends2.role = 'listbox', _extends2['aria-labelledby'] = labelId, _extends2.tabIndex = -1, _extends2), highlightedIndex > -1 && {\n        'aria-activedescendant': getItemId(highlightedIndex)\n      }, {\n        onKeyDown: callAllEventHandlers(onKeyDown, menuHandleKeyDown),\n        onBlur: callAllEventHandlers(onBlur, menuHandleBlur),\n        onMouseLeave: callAllEventHandlers(onMouseLeave, menuHandleMouseLeave)\n      }, rest);\n    },\n    getItemProps: function getItemProps(_temp3) {\n      var _extends4;\n\n      var _ref3 = _temp3 === void 0 ? {} : _temp3,\n          item = _ref3.item,\n          index = _ref3.index,\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n          ref = _ref3.ref,\n          onMouseMove = _ref3.onMouseMove,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutPropertiesLoose(_ref3, [\"item\", \"index\", \"refKey\", \"ref\", \"onMouseMove\", \"onClick\"]);\n\n      var itemIndex = getItemIndex(index, item, items);\n\n      if (itemIndex < 0) {\n        throw new Error('Pass either item or item index in getItemProps!');\n      }\n\n      var itemProps = _extends((_extends4 = {}, _extends4[refKey] = handleRefs(ref, function (itemNode) {\n        if (itemNode) {\n          itemRefs.current.push(itemNode);\n        }\n      }), _extends4.role = 'option', _extends4['aria-selected'] = \"\" + (itemIndex === highlightedIndex), _extends4.id = getItemId(itemIndex), _extends4), rest);\n\n      if (!rest.disabled) {\n        itemProps.onMouseMove = callAllEventHandlers(onMouseMove, function () {\n          return itemHandleMouseMove(itemIndex);\n        });\n        itemProps.onClick = callAllEventHandlers(onClick, function () {\n          return itemHandleClick(itemIndex);\n        });\n      }\n\n      return itemProps;\n    },\n    // actions.\n    toggleMenu: function toggleMenu() {\n      dispatch({\n        type: FunctionToggleMenu\n      });\n    },\n    openMenu: function openMenu() {\n      dispatch({\n        type: FunctionOpenMenu\n      });\n    },\n    closeMenu: function closeMenu() {\n      dispatch({\n        type: FunctionCloseMenu\n      });\n    },\n    setHighlightedIndex: function setHighlightedIndex(newHighlightedIndex) {\n      dispatch({\n        type: FunctionSetHighlightedIndex,\n        highlightedIndex: newHighlightedIndex\n      });\n    },\n    selectItem: function selectItem(newSelectedItem) {\n      dispatch({\n        type: FunctionSelectItem,\n        selectedItem: newSelectedItem\n      });\n    },\n    reset: function reset() {\n      dispatch({\n        type: FunctionReset\n      });\n    },\n    // state.\n    highlightedIndex: highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem\n  };\n}\n\nvar defaultStateValues$2 = {\n  inputValue: ''\n};\n\nfunction getElementIds$1(generateDefaultId, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      id = _ref.id,\n      inputId = _ref.inputId,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"id\", \"inputId\"]);\n\n  var uniqueId = id === undefined ? \"downshift-\" + generateDefaultId() : id;\n  return _extends({\n    inputId: inputId || uniqueId + \"-input\"\n  }, getElementIds(generateDefaultId, _extends({\n    id: id\n  }, rest)));\n}\n\nfunction getDefaultValue$2(props, propKey) {\n  return getDefaultValue(props, propKey, defaultStateValues$2);\n}\n\nfunction getInitialValue$2(props, propKey) {\n  return getInitialValue(props, propKey, defaultStateValues$2);\n}\n\nfunction getInitialState$1(props) {\n  var selectedItem = getInitialValue$2(props, 'selectedItem');\n  var isOpen = getInitialValue$2(props, 'isOpen');\n  var highlightedIndex = getInitialValue$2(props, 'highlightedIndex');\n  var inputValue = getInitialValue$2(props, 'inputValue');\n\n  if (inputValue === '' && selectedItem && props.defaultInputValue === undefined && props.initialInputValue === undefined && props.inputValue === undefined) {\n    inputValue = props.itemToString(selectedItem);\n  }\n\n  return {\n    highlightedIndex: highlightedIndex < 0 && selectedItem ? props.items.indexOf(selectedItem) : highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem,\n    inputValue: inputValue\n  };\n}\n\nvar propTypes$1 = {\n  items: PropTypes.array.isRequired,\n  itemToString: PropTypes.func,\n  getA11yStatusMessage: PropTypes.func,\n  getA11ySelectionMessage: PropTypes.func,\n  circularNavigation: PropTypes.bool,\n  highlightedIndex: PropTypes.number,\n  defaultHighlightedIndex: PropTypes.number,\n  initialHighlightedIndex: PropTypes.number,\n  isOpen: PropTypes.bool,\n  defaultIsOpen: PropTypes.bool,\n  initialIsOpen: PropTypes.bool,\n  selectedItem: PropTypes.any,\n  initialSelectedItem: PropTypes.any,\n  defaultSelectedItem: PropTypes.any,\n  inputValue: PropTypes.string,\n  defaultInputValue: PropTypes.string,\n  initialInputValue: PropTypes.string,\n  id: PropTypes.string,\n  labelId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func,\n  inputId: PropTypes.string,\n  toggleButtonId: PropTypes.string,\n  stateReducer: PropTypes.func,\n  onSelectedItemChange: PropTypes.func,\n  onHighlightedIndexChange: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onIsOpenChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  })\n};\n\nvar defaultProps$1 = _extends({}, defaultProps, {\n  circularNavigation: true\n});\n\nvar InputKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__input_keydown_arrow_down__' : 0;\nvar InputKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__input_keydown_arrow_up__' : 1;\nvar InputKeyDownEscape = process.env.NODE_ENV !== \"production\" ? '__input_keydown_escape__' : 2;\nvar InputKeyDownHome = process.env.NODE_ENV !== \"production\" ? '__input_keydown_home__' : 3;\nvar InputKeyDownEnd = process.env.NODE_ENV !== \"production\" ? '__input_keydown_end__' : 4;\nvar InputKeyDownEnter = process.env.NODE_ENV !== \"production\" ? '__input_keydown_enter__' : 5;\nvar InputChange = process.env.NODE_ENV !== \"production\" ? '__input_change__' : 6;\nvar InputBlur = process.env.NODE_ENV !== \"production\" ? '__input_blur__' : 7;\nvar MenuMouseLeave$1 = process.env.NODE_ENV !== \"production\" ? '__menu_mouse_leave__' : 8;\nvar ItemMouseMove$1 = process.env.NODE_ENV !== \"production\" ? '__item_mouse_move__' : 9;\nvar ItemClick$1 = process.env.NODE_ENV !== \"production\" ? '__item_click__' : 10;\nvar ToggleButtonClick$1 = process.env.NODE_ENV !== \"production\" ? '__togglebutton_click__' : 11;\nvar FunctionToggleMenu$1 = process.env.NODE_ENV !== \"production\" ? '__function_toggle_menu__' : 12;\nvar FunctionOpenMenu$1 = process.env.NODE_ENV !== \"production\" ? '__function_open_menu__' : 13;\nvar FunctionCloseMenu$1 = process.env.NODE_ENV !== \"production\" ? '__function_close_menu__' : 14;\nvar FunctionSetHighlightedIndex$1 = process.env.NODE_ENV !== \"production\" ? '__function_set_highlighted_index__' : 15;\nvar FunctionSelectItem$1 = process.env.NODE_ENV !== \"production\" ? '__function_select_item__' : 16;\nvar FunctionSetInputValue = process.env.NODE_ENV !== \"production\" ? '__function_set_input_value__' : 17;\nvar FunctionReset$1 = process.env.NODE_ENV !== \"production\" ? '__function_reset__' : 18;\n\nvar stateChangeTypes$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  InputKeyDownArrowDown: InputKeyDownArrowDown,\n  InputKeyDownArrowUp: InputKeyDownArrowUp,\n  InputKeyDownEscape: InputKeyDownEscape,\n  InputKeyDownHome: InputKeyDownHome,\n  InputKeyDownEnd: InputKeyDownEnd,\n  InputKeyDownEnter: InputKeyDownEnter,\n  InputChange: InputChange,\n  InputBlur: InputBlur,\n  MenuMouseLeave: MenuMouseLeave$1,\n  ItemMouseMove: ItemMouseMove$1,\n  ItemClick: ItemClick$1,\n  ToggleButtonClick: ToggleButtonClick$1,\n  FunctionToggleMenu: FunctionToggleMenu$1,\n  FunctionOpenMenu: FunctionOpenMenu$1,\n  FunctionCloseMenu: FunctionCloseMenu$1,\n  FunctionSetHighlightedIndex: FunctionSetHighlightedIndex$1,\n  FunctionSelectItem: FunctionSelectItem$1,\n  FunctionSetInputValue: FunctionSetInputValue,\n  FunctionReset: FunctionReset$1\n});\n\n/* eslint-disable complexity */\n\nfunction downshiftUseComboboxReducer(state, action) {\n  var type = action.type,\n      props = action.props,\n      shiftKey = action.shiftKey;\n  var changes;\n\n  switch (type) {\n    case ItemMouseMove$1:\n      changes = {\n        highlightedIndex: action.index\n      };\n      break;\n\n    case ItemClick$1:\n      changes = {\n        isOpen: getDefaultValue$2(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$2(props, 'highlightedIndex'),\n        selectedItem: props.items[action.index],\n        inputValue: props.itemToString(props.items[action.index])\n      };\n      break;\n\n    case InputKeyDownArrowDown:\n      if (state.isOpen) {\n        changes = {\n          highlightedIndex: getNextWrappingIndex(shiftKey ? 5 : 1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n        };\n      } else {\n        changes = {\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, 1, action.getItemNodeFromIndex),\n          isOpen: true\n        };\n      }\n\n      break;\n\n    case InputKeyDownArrowUp:\n      if (state.isOpen) {\n        changes = {\n          highlightedIndex: getNextWrappingIndex(shiftKey ? -5 : -1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n        };\n      } else {\n        changes = {\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, -1, action.getItemNodeFromIndex),\n          isOpen: true\n        };\n      }\n\n      break;\n\n    case InputKeyDownEnter:\n      changes = _extends({}, state.highlightedIndex >= 0 && {\n        selectedItem: props.items[state.highlightedIndex],\n        isOpen: getDefaultValue$2(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$2(props, 'highlightedIndex'),\n        inputValue: props.itemToString(props.items[state.highlightedIndex])\n      });\n      break;\n\n    case InputKeyDownEscape:\n      changes = {\n        isOpen: false,\n        selectedItem: null,\n        highlightedIndex: -1,\n        inputValue: ''\n      };\n      break;\n\n    case InputKeyDownHome:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(1, 0, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case InputKeyDownEnd:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(-1, props.items.length - 1, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case InputBlur:\n      changes = _extends({\n        isOpen: false\n      }, state.highlightedIndex >= 0 && {\n        selectedItem: props.items[state.highlightedIndex],\n        inputValue: props.itemToString(props.items[state.highlightedIndex]),\n        highlightedIndex: -1\n      });\n      break;\n\n    case InputChange:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getDefaultValue$2(props, 'highlightedIndex'),\n        inputValue: action.inputValue\n      };\n      break;\n\n    case MenuMouseLeave$1:\n      changes = {\n        highlightedIndex: -1\n      };\n      break;\n\n    case ToggleButtonClick$1:\n    case FunctionToggleMenu$1:\n      changes = {\n        isOpen: !state.isOpen,\n        highlightedIndex: state.isOpen ? -1 : getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case FunctionOpenMenu$1:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case FunctionCloseMenu$1:\n      changes = {\n        isOpen: false\n      };\n      break;\n\n    case FunctionSetHighlightedIndex$1:\n      changes = {\n        highlightedIndex: action.highlightedIndex\n      };\n      break;\n\n    case FunctionSelectItem$1:\n      changes = {\n        selectedItem: action.selectedItem\n      };\n      break;\n\n    case FunctionSetInputValue:\n      changes = {\n        inputValue: action.inputValue\n      };\n      break;\n\n    case FunctionReset$1:\n      changes = {\n        highlightedIndex: getDefaultValue$2(props, 'highlightedIndex'),\n        isOpen: getDefaultValue$2(props, 'isOpen'),\n        selectedItem: getDefaultValue$2(props, 'selectedItem'),\n        inputValue: getDefaultValue$2(props, 'inputValue')\n      };\n      break;\n\n    default:\n      throw new Error('Reducer called without proper action type.');\n  }\n\n  return _extends({}, state, {}, changes);\n}\n/* eslint-enable complexity */\n\nvar validatePropTypes$1 = process.env.NODE_ENV === 'production' ?\n/* istanbul ignore next */\nnull : getPropTypesValidator(useCombobox, propTypes$1);\nuseCombobox.stateChangeTypes = stateChangeTypes$2;\n\nfunction useCombobox(userProps) {\n  if (userProps === void 0) {\n    userProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    validatePropTypes$1(userProps);\n  } // Props defaults and destructuring.\n\n\n  var props = _extends({}, defaultProps$1, {}, userProps);\n\n  var initialIsOpen = props.initialIsOpen,\n      defaultIsOpen = props.defaultIsOpen,\n      items = props.items,\n      scrollIntoView = props.scrollIntoView,\n      getA11ySelectionMessage = props.getA11ySelectionMessage,\n      getA11yStatusMessage = props.getA11yStatusMessage,\n      itemToString = props.itemToString,\n      environment = props.environment; // Initial state depending on controlled props.\n\n  var initialState = getInitialState$1(props); // Reducer init.\n\n  var _useEnhancedReducer = useEnhancedReducer(downshiftUseComboboxReducer, initialState, props),\n      _useEnhancedReducer$ = _useEnhancedReducer[0],\n      isOpen = _useEnhancedReducer$.isOpen,\n      highlightedIndex = _useEnhancedReducer$.highlightedIndex,\n      selectedItem = _useEnhancedReducer$.selectedItem,\n      inputValue = _useEnhancedReducer$.inputValue,\n      dispatchWithoutProps = _useEnhancedReducer[1];\n\n  var dispatch = function (action) {\n    return dispatchWithoutProps(_extends({\n      props: props\n    }, action));\n  }; // IDs generation.\n\n\n  var _getElementIds = getElementIds$1(useId, props),\n      labelId = _getElementIds.labelId,\n      getItemId = _getElementIds.getItemId,\n      menuId = _getElementIds.menuId,\n      toggleButtonId = _getElementIds.toggleButtonId,\n      inputId = _getElementIds.inputId;\n  /* Refs */\n\n\n  var menuRef = useRef(null);\n  var itemRefs = useRef();\n  var inputRef = useRef(null);\n  var toggleButtonRef = useRef(null);\n  var comboboxRef = useRef(null);\n  itemRefs.current = [];\n  var shouldScroll = useRef(true);\n  var isInitialMount = useRef(true);\n  var mouseAndTouchTrackers = useRef({\n    isMouseDown: false,\n    isTouchMove: false\n  });\n  /* Effects */\n\n  /* Sets a11y status message on changes in isOpen. */\n\n  useEffect(function () {\n    if (isInitialMount.current) {\n      return;\n    }\n\n    setStatus(getA11yStatusMessage({\n      isOpen: isOpen,\n      items: items,\n      selectedItem: selectedItem,\n      itemToString: itemToString,\n      inputValue: inputValue\n    }), environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n  /* Sets a11y status message on changes in selectedItem. */\n\n  useEffect(function () {\n    if (isInitialMount.current) {\n      return;\n    }\n\n    setStatus(getA11ySelectionMessage({\n      isOpen: isOpen,\n      items: items,\n      selectedItem: selectedItem,\n      itemToString: itemToString,\n      inputValue: inputValue\n    }), environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedItem]);\n  /* Scroll on highlighted item if change comes from keyboard. */\n\n  useEffect(function () {\n    if (highlightedIndex < 0 || !isOpen || !itemRefs.current.length) {\n      return;\n    }\n\n    if (shouldScroll.current === false) {\n      shouldScroll.current = true;\n    } else {\n      scrollIntoView(itemRefs.current[highlightedIndex], menuRef.current);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [highlightedIndex]);\n  /* Controls the focus on the menu or the toggle button. */\n\n  useEffect(function () {\n    // Don't focus menu on first render.\n    if (isInitialMount.current) {\n      // Unless it was initialised as open.\n      if (initialIsOpen || defaultIsOpen || isOpen) {\n        inputRef.current.focus();\n      }\n\n      return;\n    } // Focus menu on open.\n    // istanbul ignore next\n\n\n    if (isOpen) {\n      inputRef.current.focus();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [isOpen]);\n  /* Make initial ref false. */\n\n  useEffect(function () {\n    isInitialMount.current = false;\n  }, []);\n  /* Add mouse/touch events to document. */\n\n  useEffect(function () {\n    // The same strategy for checking if a click occurred inside or outside downsift\n    // as in downshift.js.\n    var onMouseDown = function () {\n      mouseAndTouchTrackers.current.isMouseDown = true;\n    };\n\n    var onMouseUp = function (event) {\n      mouseAndTouchTrackers.current.isMouseDown = false;\n\n      if (isOpen && !targetWithinDownshift(event.target, comboboxRef.current, menuRef.current, environment.document)) {\n        dispatch({\n          type: InputBlur\n        });\n      }\n    };\n\n    var onTouchStart = function () {\n      mouseAndTouchTrackers.current.isTouchMove = false;\n    };\n\n    var onTouchMove = function () {\n      mouseAndTouchTrackers.current.isTouchMove = true;\n    };\n\n    var onTouchEnd = function (event) {\n      if (isOpen && !mouseAndTouchTrackers.current.isTouchMove && !targetWithinDownshift(event.target, comboboxRef.current, menuRef.current, environment.document, false)) {\n        dispatch({\n          type: InputBlur\n        });\n      }\n    };\n\n    environment.addEventListener('mousedown', onMouseDown);\n    environment.addEventListener('mouseup', onMouseUp);\n    environment.addEventListener('touchstart', onTouchStart);\n    environment.addEventListener('touchmove', onTouchMove);\n    environment.addEventListener('touchend', onTouchEnd);\n    return function () {\n      environment.removeEventListener('mousedown', onMouseDown);\n      environment.removeEventListener('mouseup', onMouseUp);\n      environment.removeEventListener('touchstart', onTouchStart);\n      environment.removeEventListener('touchmove', onTouchMove);\n      environment.removeEventListener('touchend', onTouchEnd);\n    };\n  });\n\n  var getItemNodeFromIndex = function (index) {\n    return itemRefs.current[index];\n  };\n  /* Event handler functions */\n\n\n  var inputKeyDownHandlers = {\n    ArrowDown: function ArrowDown(event) {\n      event.preventDefault();\n      dispatch({\n        type: InputKeyDownArrowDown,\n        shiftKey: event.shiftKey,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    ArrowUp: function ArrowUp(event) {\n      event.preventDefault();\n      dispatch({\n        type: InputKeyDownArrowUp,\n        shiftKey: event.shiftKey,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    Home: function Home(event) {\n      event.preventDefault();\n      dispatch({\n        type: InputKeyDownHome,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    End: function End(event) {\n      event.preventDefault();\n      dispatch({\n        type: InputKeyDownEnd,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    },\n    Escape: function Escape() {\n      dispatch({\n        type: InputKeyDownEscape\n      });\n    },\n    Enter: function Enter(event) {\n      event.preventDefault();\n      dispatch({\n        type: InputKeyDownEnter,\n        getItemNodeFromIndex: getItemNodeFromIndex\n      });\n    }\n  }; // Event handlers.\n\n  var inputHandleKeyDown = function (event) {\n    var key = normalizeArrowKey(event);\n\n    if (key && inputKeyDownHandlers[key]) {\n      inputKeyDownHandlers[key](event);\n    }\n  };\n\n  var inputHandleChange = function (event) {\n    dispatch({\n      type: InputChange,\n      inputValue: event.target.value\n    });\n  };\n\n  var inputHandleBlur = function (event) {\n    var shouldBlur = !(mouseAndTouchTrackers.current.isMouseDown || focusLandsOnElement(event, toggleButtonRef.current));\n    /* istanbul ignore else */\n\n    if (shouldBlur) {\n      dispatch({\n        type: InputBlur\n      });\n    }\n  };\n\n  var menuHandleMouseLeave = function () {\n    dispatch({\n      type: MenuMouseLeave$1\n    });\n  };\n\n  var itemHandleMouseMove = function (index) {\n    if (index === highlightedIndex) {\n      return;\n    }\n\n    shouldScroll.current = false;\n    dispatch({\n      type: ItemMouseMove$1,\n      index: index\n    });\n  };\n\n  var itemHandleClick = function (index) {\n    dispatch({\n      type: ItemClick$1,\n      index: index\n    });\n  };\n\n  var toggleButtonHandleClick = function () {\n    dispatch({\n      type: ToggleButtonClick$1\n    });\n  }; // returns\n\n\n  return {\n    // prop getters.\n    getItemProps: function getItemProps(_temp2) {\n      var _extends3, _ref3;\n\n      var _ref2 = _temp2 === void 0 ? {} : _temp2,\n          item = _ref2.item,\n          index = _ref2.index,\n          _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === void 0 ? 'ref' : _ref2$refKey,\n          ref = _ref2.ref,\n          onMouseMove = _ref2.onMouseMove,\n          onClick = _ref2.onClick,\n          onPress = _ref2.onPress,\n          rest = _objectWithoutPropertiesLoose(_ref2, [\"item\", \"index\", \"refKey\", \"ref\", \"onMouseMove\", \"onClick\", \"onPress\"]);\n\n      var itemIndex = getItemIndex(index, item, items);\n\n      if (itemIndex < 0) {\n        throw new Error('Pass either item or item index in getItemProps!');\n      }\n\n      var onSelectKey = 'onClick';\n      var customClickHandler = onClick;\n      return _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function (itemNode) {\n        if (itemNode) {\n          itemRefs.current.push(itemNode);\n        }\n      }), _extends3.role = 'option', _extends3['aria-selected'] = \"\" + (itemIndex === highlightedIndex), _extends3.id = getItemId(itemIndex), _extends3), !rest.disabled && (_ref3 = {\n        onMouseMove: callAllEventHandlers(onMouseMove, function () {\n          itemHandleMouseMove(itemIndex);\n        })\n      }, _ref3[onSelectKey] = callAllEventHandlers(customClickHandler, function () {\n        itemHandleClick(itemIndex);\n      }), _ref3), {}, rest);\n    },\n    getLabelProps: function getLabelProps(labelProps) {\n      return _extends({\n        id: labelId,\n        htmlFor: inputId\n      }, labelProps);\n    },\n    getMenuProps: function getMenuProps(_temp) {\n      var _extends2;\n\n      var _ref = _temp === void 0 ? {} : _temp,\n          onMouseLeave = _ref.onMouseLeave,\n          _ref$refKey = _ref.refKey,\n          refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n          ref = _ref.ref,\n          rest = _objectWithoutPropertiesLoose(_ref, [\"onMouseLeave\", \"refKey\", \"ref\"]);\n\n      return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function (menuNode) {\n        menuRef.current = menuNode;\n      }), _extends2.id = menuId, _extends2.role = 'listbox', _extends2['aria-labelledby'] = labelId, _extends2.onMouseLeave = callAllEventHandlers(onMouseLeave, menuHandleMouseLeave), _extends2), rest);\n    },\n    getInputProps: function getInputProps(_temp4) {\n      var _extends5;\n\n      var _ref5 = _temp4 === void 0 ? {} : _temp4,\n          onKeyDown = _ref5.onKeyDown,\n          onChange = _ref5.onChange,\n          onInput = _ref5.onInput,\n          onBlur = _ref5.onBlur,\n          onChangeText = _ref5.onChangeText,\n          _ref5$refKey = _ref5.refKey,\n          refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n          ref = _ref5.ref,\n          rest = _objectWithoutPropertiesLoose(_ref5, [\"onKeyDown\", \"onChange\", \"onInput\", \"onBlur\", \"onChangeText\", \"refKey\", \"ref\"]);\n\n      /* istanbul ignore next (preact) */\n      var onChangeKey = 'onChange';\n      var eventHandlers = {};\n\n      if (!rest.disabled) {\n        var _eventHandlers;\n\n        eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, inputHandleBlur), _eventHandlers);\n      }\n      /* istanbul ignore if (react-native) */\n\n\n      return _extends((_extends5 = {}, _extends5[refKey] = handleRefs(ref, function (inputNode) {\n        inputRef.current = inputNode;\n      }), _extends5.id = inputId, _extends5['aria-autocomplete'] = 'list', _extends5['aria-controls'] = menuId, _extends5), highlightedIndex > -1 && {\n        'aria-activedescendant': getItemId(highlightedIndex)\n      }, {\n        'aria-labelledby': labelId,\n        // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n        // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n        autoComplete: 'off',\n        value: inputValue\n      }, eventHandlers, {}, rest);\n    },\n    getComboboxProps: function getComboboxProps(_temp5) {\n      var _extends6;\n\n      var _ref6 = _temp5 === void 0 ? {} : _temp5,\n          _ref6$refKey = _ref6.refKey,\n          refKey = _ref6$refKey === void 0 ? 'ref' : _ref6$refKey,\n          ref = _ref6.ref,\n          rest = _objectWithoutPropertiesLoose(_ref6, [\"refKey\", \"ref\"]);\n\n      return _extends((_extends6 = {}, _extends6[refKey] = handleRefs(ref, function (comboboxNode) {\n        comboboxRef.current = comboboxNode;\n      }), _extends6.role = 'combobox', _extends6['aria-haspopup'] = 'listbox', _extends6['aria-owns'] = menuId, _extends6['aria-expanded'] = isOpen, _extends6), rest);\n    },\n    getToggleButtonProps: function getToggleButtonProps(_temp3) {\n      var _extends4;\n\n      var _ref4 = _temp3 === void 0 ? {} : _temp3,\n          onClick = _ref4.onClick,\n          onPress = _ref4.onPress,\n          _ref4$refKey = _ref4.refKey,\n          refKey = _ref4$refKey === void 0 ? 'ref' : _ref4$refKey,\n          ref = _ref4.ref,\n          rest = _objectWithoutPropertiesLoose(_ref4, [\"onClick\", \"onPress\", \"refKey\", \"ref\"]);\n\n      return _extends((_extends4 = {}, _extends4[refKey] = handleRefs(ref, function (toggleButtonNode) {\n        toggleButtonRef.current = toggleButtonNode;\n      }), _extends4.id = toggleButtonId, _extends4.tabIndex = -1, _extends4), !rest.disabled && _extends({}, {\n        onClick: callAllEventHandlers(onClick, toggleButtonHandleClick)\n      }), {}, rest);\n    },\n    // actions.\n    toggleMenu: function toggleMenu() {\n      dispatch({\n        type: FunctionToggleMenu$1\n      });\n    },\n    openMenu: function openMenu() {\n      dispatch({\n        type: FunctionOpenMenu$1\n      });\n    },\n    closeMenu: function closeMenu() {\n      dispatch({\n        type: FunctionCloseMenu$1\n      });\n    },\n    setHighlightedIndex: function setHighlightedIndex(newHighlightedIndex) {\n      dispatch({\n        type: FunctionSetHighlightedIndex$1,\n        highlightedIndex: newHighlightedIndex\n      });\n    },\n    setInputValue: function setInputValue(newInputValue) {\n      dispatch({\n        type: FunctionSetInputValue,\n        inputValue: newInputValue\n      });\n    },\n    selectItem: function selectItem(newSelectedItem) {\n      dispatch({\n        type: FunctionSelectItem$1,\n        selectedItem: newSelectedItem\n      });\n    },\n    reset: function reset() {\n      dispatch({\n        type: FunctionReset$1\n      });\n    },\n    // state.\n    highlightedIndex: highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem,\n    inputValue: inputValue\n  };\n}\n\nexport default Downshift;\nexport { resetIdCounter, useCombobox, useSelect };\n","/**\n * External dependencies\n */\nimport { useSelect } from 'downshift';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Icon, check, chevronDown } from '@wordpress/icons';\n/**\n * Internal dependencies\n */\nimport { Button, VisuallyHidden } from '../';\n\nconst itemToString = ( item ) => item && item.name;\n// This is needed so that in Windows, where\n// the menu does not necessarily open on\n// key up/down, you can still switch between\n// options with the menu closed.\nconst stateReducer = (\n\t{ selectedItem },\n\t{ type, changes, props: { items } }\n) => {\n\tswitch ( type ) {\n\t\tcase useSelect.stateChangeTypes.ToggleButtonKeyDownArrowDown:\n\t\t\t// If we already have a selected item, try to select the next one,\n\t\t\t// without circular navigation. Otherwise, select the first item.\n\t\t\treturn {\n\t\t\t\tselectedItem:\n\t\t\t\t\titems[\n\t\t\t\t\t\tselectedItem\n\t\t\t\t\t\t\t? Math.min(\n\t\t\t\t\t\t\t\t\titems.indexOf( selectedItem ) + 1,\n\t\t\t\t\t\t\t\t\titems.length - 1\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: 0\n\t\t\t\t\t],\n\t\t\t};\n\t\tcase useSelect.stateChangeTypes.ToggleButtonKeyDownArrowUp:\n\t\t\t// If we already have a selected item, try to select the previous one,\n\t\t\t// without circular navigation. Otherwise, select the last item.\n\t\t\treturn {\n\t\t\t\tselectedItem:\n\t\t\t\t\titems[\n\t\t\t\t\t\tselectedItem\n\t\t\t\t\t\t\t? Math.max( items.indexOf( selectedItem ) - 1, 0 )\n\t\t\t\t\t\t\t: items.length - 1\n\t\t\t\t\t],\n\t\t\t};\n\t\tdefault:\n\t\t\treturn changes;\n\t}\n};\nexport default function CustomSelectControl( {\n\tclassName,\n\thideLabelFromVision,\n\tlabel,\n\toptions: items,\n\tonChange: onSelectedItemChange,\n\tvalue: _selectedItem,\n} ) {\n\tconst {\n\t\tgetLabelProps,\n\t\tgetToggleButtonProps,\n\t\tgetMenuProps,\n\t\tgetItemProps,\n\t\tisOpen,\n\t\thighlightedIndex,\n\t\tselectedItem,\n\t} = useSelect( {\n\t\tinitialSelectedItem: items[ 0 ],\n\t\titems,\n\t\titemToString,\n\t\tonSelectedItemChange,\n\t\tselectedItem: _selectedItem,\n\t\tstateReducer,\n\t} );\n\n\tconst menuProps = getMenuProps( {\n\t\tclassName: 'components-custom-select-control__menu',\n\t} );\n\t// We need this here, because the null active descendant is not\n\t// fully ARIA compliant.\n\tif (\n\t\tmenuProps[ 'aria-activedescendant' ] &&\n\t\tmenuProps[ 'aria-activedescendant' ].slice(\n\t\t\t0,\n\t\t\t'downshift-null'.length\n\t\t) === 'downshift-null'\n\t) {\n\t\tdelete menuProps[ 'aria-activedescendant' ];\n\t}\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames(\n\t\t\t\t'components-custom-select-control',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t>\n\t\t\t{ hideLabelFromVision ? (\n\t\t\t\t<VisuallyHidden as=\"label\" { ...getLabelProps() }>\n\t\t\t\t\t{ label }\n\t\t\t\t</VisuallyHidden>\n\t\t\t) : (\n\t\t\t\t/* eslint-disable-next-line jsx-a11y/label-has-associated-control, jsx-a11y/label-has-for */\n\t\t\t\t<label\n\t\t\t\t\t{ ...getLabelProps( {\n\t\t\t\t\t\tclassName: 'components-custom-select-control__label',\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ label }\n\t\t\t\t</label>\n\t\t\t) }\n\t\t\t<Button\n\t\t\t\t{ ...getToggleButtonProps( {\n\t\t\t\t\t// This is needed because some speech recognition software don't support `aria-labelledby`.\n\t\t\t\t\t'aria-label': label,\n\t\t\t\t\t'aria-labelledby': undefined,\n\t\t\t\t\tclassName: 'components-custom-select-control__button',\n\t\t\t\t\tisSmall: true,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ itemToString( selectedItem ) }\n\t\t\t\t<Icon\n\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\tclassName=\"components-custom-select-control__button-icon\"\n\t\t\t\t/>\n\t\t\t</Button>\n\t\t\t<ul { ...menuProps }>\n\t\t\t\t{ isOpen &&\n\t\t\t\t\titems.map( ( item, index ) => (\n\t\t\t\t\t\t// eslint-disable-next-line react/jsx-key\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t{ ...getItemProps( {\n\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\tkey: item.key,\n\t\t\t\t\t\t\t\tclassName: classnames(\n\t\t\t\t\t\t\t\t\t'components-custom-select-control__item',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'is-highlighted':\n\t\t\t\t\t\t\t\t\t\t\tindex === highlightedIndex,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tstyle: item.style,\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ item === selectedItem && (\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ticon={ check }\n\t\t\t\t\t\t\t\t\tclassName=\"components-custom-select-control__item-icon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ item.name }\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\nimport { textColor } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport RangeControl from '../range-control';\nimport CustomSelectControl from '../custom-select-control';\nimport VisuallyHidden from '../visually-hidden';\n\nconst DEFAULT_FONT_SIZE = 'default';\nconst CUSTOM_FONT_SIZE = 'custom';\n\nfunction getSelectValueFromFontSize( fontSizes, value ) {\n\tif ( value ) {\n\t\tconst fontSizeValue = fontSizes.find(\n\t\t\t( font ) => font.size === Number( value )\n\t\t);\n\t\treturn fontSizeValue ? fontSizeValue.slug : CUSTOM_FONT_SIZE;\n\t}\n\treturn DEFAULT_FONT_SIZE;\n}\n\nfunction getSelectOptions( optionsArray, disableCustomFontSizes ) {\n\toptionsArray = [\n\t\t{ slug: DEFAULT_FONT_SIZE, name: __( 'Default' ) },\n\t\t...optionsArray,\n\t\t...( disableCustomFontSizes\n\t\t\t? []\n\t\t\t: [ { slug: CUSTOM_FONT_SIZE, name: __( 'Custom' ) } ] ),\n\t];\n\treturn optionsArray.map( ( option ) => ( {\n\t\tkey: option.slug,\n\t\tname: option.name,\n\t\tstyle: { fontSize: option.size },\n\t} ) );\n}\n\nexport default function FontSizePicker( {\n\tfallbackFontSize,\n\tfontSizes = [],\n\tdisableCustomFontSizes = false,\n\tonChange,\n\tvalue,\n\twithSlider = false,\n} ) {\n\tconst instanceId = useInstanceId( FontSizePicker );\n\tconst [ currentSelectValue, setCurrentSelectValue ] = useState(\n\t\tgetSelectValueFromFontSize( fontSizes, value )\n\t);\n\n\tif ( disableCustomFontSizes && ! fontSizes.length ) {\n\t\treturn null;\n\t}\n\n\tconst setFontSize = ( fontSizeKey, fontSizeValue ) => {\n\t\tsetCurrentSelectValue( fontSizeKey );\n\n\t\tif ( fontSizeKey === DEFAULT_FONT_SIZE ) {\n\t\t\tonChange( undefined );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! fontSizeValue ) {\n\t\t\treturn;\n\t\t}\n\n\t\tonChange( Number( fontSizeValue ) );\n\t};\n\n\tconst onChangeValue = ( event ) => {\n\t\tconst newValue = event.target.value;\n\t\tconst key = getSelectValueFromFontSize( fontSizes, newValue );\n\t\tsetFontSize( key, newValue );\n\t};\n\n\tconst onSelectChangeValue = ( { selectedItem } ) => {\n\t\tconst selectedKey = selectedItem.key;\n\t\tconst selectedValue = selectedItem.style && selectedItem.style.fontSize;\n\t\tsetFontSize( selectedKey, selectedValue );\n\t};\n\n\tconst onSliderChangeValue = ( sliderValue ) => {\n\t\tconst sliderKey = getSelectValueFromFontSize( fontSizes, sliderValue );\n\t\tsetFontSize( sliderKey, sliderValue );\n\t};\n\n\tconst reset = () => {\n\t\tsetFontSize( DEFAULT_FONT_SIZE );\n\t};\n\n\tconst options = getSelectOptions( fontSizes, disableCustomFontSizes );\n\n\tconst fontSizePickerNumberId = `components-font-size-picker__number#${ instanceId }`;\n\treturn (\n\t\t<fieldset className=\"components-font-size-picker\">\n\t\t\t<VisuallyHidden as=\"legend\">{ __( 'Font size' ) }</VisuallyHidden>\n\t\t\t<div className=\"components-font-size-picker__controls\">\n\t\t\t\t{ fontSizes.length > 0 && (\n\t\t\t\t\t<CustomSelectControl\n\t\t\t\t\t\tclassName={ 'components-font-size-picker__select' }\n\t\t\t\t\t\tlabel={ __( 'Preset size' ) }\n\t\t\t\t\t\toptions={ options }\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\toptions.find(\n\t\t\t\t\t\t\t\t( option ) => option.key === currentSelectValue\n\t\t\t\t\t\t\t) || options[ 0 ]\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={ onSelectChangeValue }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! withSlider && ! disableCustomFontSizes && (\n\t\t\t\t\t<div className=\"components-font-size-picker__number-container\">\n\t\t\t\t\t\t<label htmlFor={ fontSizePickerNumberId }>\n\t\t\t\t\t\t\t{ __( 'Custom' ) }\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid={ fontSizePickerNumberId }\n\t\t\t\t\t\t\tclassName=\"components-font-size-picker__number\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t\t\t\taria-label={ __( 'Custom' ) }\n\t\t\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"components-color-palette__clear\"\n\t\t\t\t\tdisabled={ value === undefined }\n\t\t\t\t\tonClick={ reset }\n\t\t\t\t\tisSmall\n\t\t\t\t\tisSecondary\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t{ withSlider && (\n\t\t\t\t<RangeControl\n\t\t\t\t\tclassName=\"components-font-size-picker__custom-input\"\n\t\t\t\t\tlabel={ __( 'Custom Size' ) }\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\tinitialPosition={ fallbackFontSize }\n\t\t\t\t\tonChange={ onSliderChangeValue }\n\t\t\t\t\tmin={ 12 }\n\t\t\t\t\tmax={ 100 }\n\t\t\t\t\tbeforeIcon={ textColor }\n\t\t\t\t\tafterIcon={ textColor }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</fieldset>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { FontSizePicker } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\n\nexport default withSelect( ( select ) => {\n\tconst { disableCustomFontSizes, fontSizes } = select(\n\t\t'core/block-editor'\n\t).getSettings();\n\n\treturn {\n\t\tdisableCustomFontSizes,\n\t\tfontSizes,\n\t};\n} )( FontSizePicker );\n","/**\n * External dependencies\n */\nimport { find, pickBy, reduce, some, upperFirst } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent, compose } from '@wordpress/compose';\nimport { Component } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { getFontSize, getFontSizeClass } from './utils';\n\n/**\n * Higher-order component, which handles font size logic for class generation,\n * font size value retrieval, and font size change handling.\n *\n * @param {...(Object|string)} fontSizeNames The arguments should all be strings.\n *                                           Each string contains the font size\n *                                           attribute name e.g: 'fontSize'.\n *\n * @return {Function} Higher-order component.\n */\nexport default ( ...fontSizeNames ) => {\n\t/*\n\t * Computes an object whose key is the font size attribute name as passed in the array,\n\t * and the value is the custom font size attribute name.\n\t * Custom font size is automatically compted by appending custom followed by the font size attribute name in with the first letter capitalized.\n\t */\n\tconst fontSizeAttributeNames = reduce(\n\t\tfontSizeNames,\n\t\t( fontSizeAttributeNamesAccumulator, fontSizeAttributeName ) => {\n\t\t\tfontSizeAttributeNamesAccumulator[\n\t\t\t\tfontSizeAttributeName\n\t\t\t] = `custom${ upperFirst( fontSizeAttributeName ) }`;\n\t\t\treturn fontSizeAttributeNamesAccumulator;\n\t\t},\n\t\t{}\n\t);\n\n\treturn createHigherOrderComponent(\n\t\tcompose( [\n\t\t\twithSelect( ( select ) => {\n\t\t\t\tconst { fontSizes } = select(\n\t\t\t\t\t'core/block-editor'\n\t\t\t\t).getSettings();\n\t\t\t\treturn {\n\t\t\t\t\tfontSizes,\n\t\t\t\t};\n\t\t\t} ),\n\t\t\t( WrappedComponent ) => {\n\t\t\t\treturn class extends Component {\n\t\t\t\t\tconstructor( props ) {\n\t\t\t\t\t\tsuper( props );\n\n\t\t\t\t\t\tthis.setters = this.createSetters();\n\n\t\t\t\t\t\tthis.state = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tcreateSetters() {\n\t\t\t\t\t\treturn reduce(\n\t\t\t\t\t\t\tfontSizeAttributeNames,\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tsettersAccumulator,\n\t\t\t\t\t\t\t\tcustomFontSizeAttributeName,\n\t\t\t\t\t\t\t\tfontSizeAttributeName\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tconst upperFirstFontSizeAttributeName = upperFirst(\n\t\t\t\t\t\t\t\t\tfontSizeAttributeName\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tsettersAccumulator[\n\t\t\t\t\t\t\t\t\t`set${ upperFirstFontSizeAttributeName }`\n\t\t\t\t\t\t\t\t] = this.createSetFontSize(\n\t\t\t\t\t\t\t\t\tfontSizeAttributeName,\n\t\t\t\t\t\t\t\t\tcustomFontSizeAttributeName\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn settersAccumulator;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tcreateSetFontSize(\n\t\t\t\t\t\tfontSizeAttributeName,\n\t\t\t\t\t\tcustomFontSizeAttributeName\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn ( fontSizeValue ) => {\n\t\t\t\t\t\t\tconst fontSizeObject = find( this.props.fontSizes, {\n\t\t\t\t\t\t\t\tsize: Number( fontSizeValue ),\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tthis.props.setAttributes( {\n\t\t\t\t\t\t\t\t[ fontSizeAttributeName ]:\n\t\t\t\t\t\t\t\t\tfontSizeObject && fontSizeObject.slug\n\t\t\t\t\t\t\t\t\t\t? fontSizeObject.slug\n\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t[ customFontSizeAttributeName ]:\n\t\t\t\t\t\t\t\t\tfontSizeObject && fontSizeObject.slug\n\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t: fontSizeValue,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tstatic getDerivedStateFromProps(\n\t\t\t\t\t\t{ attributes, fontSizes },\n\t\t\t\t\t\tpreviousState\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst didAttributesChange = (\n\t\t\t\t\t\t\tcustomFontSizeAttributeName,\n\t\t\t\t\t\t\tfontSizeAttributeName\n\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\tif ( previousState[ fontSizeAttributeName ] ) {\n\t\t\t\t\t\t\t\t// if new font size is name compare with the previous slug\n\t\t\t\t\t\t\t\tif ( attributes[ fontSizeAttributeName ] ) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\tattributes[ fontSizeAttributeName ] !==\n\t\t\t\t\t\t\t\t\t\tpreviousState[ fontSizeAttributeName ]\n\t\t\t\t\t\t\t\t\t\t\t.slug\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// if font size is not named, update when the font size value changes.\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tpreviousState[ fontSizeAttributeName ]\n\t\t\t\t\t\t\t\t\t\t.size !==\n\t\t\t\t\t\t\t\t\tattributes[ customFontSizeAttributeName ]\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// in this case we need to build the font size object\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! some(\n\t\t\t\t\t\t\t\tfontSizeAttributeNames,\n\t\t\t\t\t\t\t\tdidAttributesChange\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst newState = reduce(\n\t\t\t\t\t\t\tpickBy(\n\t\t\t\t\t\t\t\tfontSizeAttributeNames,\n\t\t\t\t\t\t\t\tdidAttributesChange\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tnewStateAccumulator,\n\t\t\t\t\t\t\t\tcustomFontSizeAttributeName,\n\t\t\t\t\t\t\t\tfontSizeAttributeName\n\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\tconst fontSizeAttributeValue =\n\t\t\t\t\t\t\t\t\tattributes[ fontSizeAttributeName ];\n\t\t\t\t\t\t\t\tconst fontSizeObject = getFontSize(\n\t\t\t\t\t\t\t\t\tfontSizes,\n\t\t\t\t\t\t\t\t\tfontSizeAttributeValue,\n\t\t\t\t\t\t\t\t\tattributes[ customFontSizeAttributeName ]\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tnewStateAccumulator[ fontSizeAttributeName ] = {\n\t\t\t\t\t\t\t\t\t...fontSizeObject,\n\t\t\t\t\t\t\t\t\tclass: getFontSizeClass(\n\t\t\t\t\t\t\t\t\t\tfontSizeAttributeValue\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\treturn newStateAccumulator;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...previousState,\n\t\t\t\t\t\t\t...newState,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\trender() {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<WrappedComponent\n\t\t\t\t\t\t\t\t{ ...{\n\t\t\t\t\t\t\t\t\t...this.props,\n\t\t\t\t\t\t\t\t\tfontSizes: undefined,\n\t\t\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\t\t\t...this.setters,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\t\t] ),\n\t\t'withFontSizes'\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst alignLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M4 19.8h8.9v-1.5H4v1.5zm8.9-15.6H4v1.5h8.9V4.2zm-8.9 7v1.5h16v-1.5H4z\" />\n\t</SVG>\n);\n\nexport default alignLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst alignCenter = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16.4 4.2H7.6v1.5h8.9V4.2zM4 11.2v1.5h16v-1.5H4zm3.6 8.6h8.9v-1.5H7.6v1.5z\" />\n\t</SVG>\n);\n\nexport default alignCenter;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst alignRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.1 19.8H20v-1.5h-8.9v1.5zm0-15.6v1.5H20V4.2h-8.9zM4 12.8h16v-1.5H4v1.5z\" />\n\t</SVG>\n);\n\nexport default alignRight;\n","/**\n * External dependencies\n */\nimport { find } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Toolbar } from '@wordpress/components';\nimport { alignLeft, alignRight, alignCenter } from '@wordpress/icons';\n\nconst DEFAULT_ALIGNMENT_CONTROLS = [\n\t{\n\t\ticon: alignLeft,\n\t\ttitle: __( 'Align text left' ),\n\t\talign: 'left',\n\t},\n\t{\n\t\ticon: alignCenter,\n\t\ttitle: __( 'Align text center' ),\n\t\talign: 'center',\n\t},\n\t{\n\t\ticon: alignRight,\n\t\ttitle: __( 'Align text right' ),\n\t\talign: 'right',\n\t},\n];\n\nconst POPOVER_PROPS = {\n\tposition: 'bottom right',\n\tisAlternate: true,\n};\n\nexport function AlignmentToolbar( props ) {\n\tconst {\n\t\tvalue,\n\t\tonChange,\n\t\talignmentControls = DEFAULT_ALIGNMENT_CONTROLS,\n\t\tlabel = __( 'Change text alignment' ),\n\t\tisCollapsed = true,\n\t} = props;\n\n\tfunction applyOrUnset( align ) {\n\t\treturn () => onChange( value === align ? undefined : align );\n\t}\n\n\tconst activeAlignment = find(\n\t\talignmentControls,\n\t\t( control ) => control.align === value\n\t);\n\n\treturn (\n\t\t<Toolbar\n\t\t\tisCollapsed={ isCollapsed }\n\t\t\ticon={ activeAlignment ? activeAlignment.icon : alignLeft }\n\t\t\tlabel={ label }\n\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\tcontrols={ alignmentControls.map( ( control ) => {\n\t\t\t\tconst { align } = control;\n\t\t\t\tconst isActive = value === align;\n\n\t\t\t\treturn {\n\t\t\t\t\t...control,\n\t\t\t\t\tisActive,\n\t\t\t\t\trole: isCollapsed ? 'menuitemradio' : undefined,\n\t\t\t\t\tonClick: applyOrUnset( align ),\n\t\t\t\t};\n\t\t\t} ) }\n\t\t/>\n\t);\n}\n\nexport default AlignmentToolbar;\n","/**\n * External dependencies\n */\nimport { debounce } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { speak } from '@wordpress/a11y';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * A Higher Order Component used to be provide a unique instance ID by\n * component.\n *\n * @param {WPComponent} WrappedComponent  The wrapped component.\n *\n * @return {WPComponent} The component to be rendered.\n */\nexport default createHigherOrderComponent( ( WrappedComponent ) => {\n\treturn class extends Component {\n\t\tconstructor() {\n\t\t\tsuper( ...arguments );\n\t\t\tthis.debouncedSpeak = debounce( this.speak.bind( this ), 500 );\n\t\t}\n\n\t\tspeak( message, type = 'polite' ) {\n\t\t\tspeak( message, type );\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tthis.debouncedSpeak.cancel();\n\t\t}\n\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<WrappedComponent\n\t\t\t\t\t{ ...this.props }\n\t\t\t\t\tspeak={ this.speak }\n\t\t\t\t\tdebouncedSpeak={ this.debouncedSpeak }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n}, 'withSpokenMessages' );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { escapeRegExp, find, map, debounce, deburr } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, renderToString } from '@wordpress/element';\nimport {\n\tENTER,\n\tESCAPE,\n\tUP,\n\tDOWN,\n\tLEFT,\n\tRIGHT,\n\tSPACE,\n} from '@wordpress/keycodes';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport {\n\tcreate,\n\tslice,\n\tinsert,\n\tisCollapsed,\n\tgetTextContent,\n} from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport Popover from '../popover';\nimport withSpokenMessages from '../higher-order/with-spoken-messages';\n\n/**\n * A raw completer option.\n *\n * @typedef {*} CompleterOption\n */\n\n/**\n * @callback FnGetOptions\n *\n * @return {(CompleterOption[]|Promise.<CompleterOption[]>)} The completer options or a promise for them.\n */\n\n/**\n * @callback FnGetOptionKeywords\n * @param {CompleterOption} option a completer option.\n *\n * @return {string[]} list of key words to search.\n */\n\n/**\n * @callback FnIsOptionDisabled\n * @param {CompleterOption} option a completer option.\n *\n * @return {string[]} whether or not the given option is disabled.\n */\n\n/**\n * @callback FnGetOptionLabel\n * @param {CompleterOption} option a completer option.\n *\n * @return {(string|Array.<(string|Component)>)} list of react components to render.\n */\n\n/**\n * @callback FnAllowContext\n * @param {string} before the string before the auto complete trigger and query.\n * @param {string} after  the string after the autocomplete trigger and query.\n *\n * @return {boolean} true if the completer can handle.\n */\n\n/**\n * @typedef {Object} OptionCompletion\n * @property {'insert-at-caret'|'replace'} action the intended placement of the completion.\n * @property {OptionCompletionValue} value the completion value.\n */\n\n/**\n * A completion value.\n *\n * @typedef {(string|WPElement|Object)} OptionCompletionValue\n */\n\n/**\n * @callback FnGetOptionCompletion\n * @param {CompleterOption} value the value of the completer option.\n * @param {string} query the text value of the autocomplete query.\n *\n * @return {(OptionCompletion|OptionCompletionValue)} the completion for the given option. If an\n * \t\t\t\t\t\t\t\t\t\t\t\t\t   OptionCompletionValue is returned, the\n * \t\t\t\t\t\t\t\t\t\t\t\t\t   completion action defaults to `insert-at-caret`.\n */\n\n/**\n * @typedef {Object} WPCompleter\n * @property {string} name a way to identify a completer, useful for selective overriding.\n * @property {?string} className A class to apply to the popup menu.\n * @property {string} triggerPrefix the prefix that will display the menu.\n * @property {(CompleterOption[]|FnGetOptions)} options the completer options or a function to get them.\n * @property {?FnGetOptionKeywords} getOptionKeywords get the keywords for a given option.\n * @property {?FnIsOptionDisabled} isOptionDisabled get whether or not the given option is disabled.\n * @property {FnGetOptionLabel} getOptionLabel get the label for a given option.\n * @property {?FnAllowContext} allowContext filter the context under which the autocomplete activates.\n * @property {FnGetOptionCompletion} getOptionCompletion get the completion associated with a given option.\n */\n\nfunction filterOptions( search, options = [], maxResults = 10 ) {\n\tconst filtered = [];\n\tfor ( let i = 0; i < options.length; i++ ) {\n\t\tconst option = options[ i ];\n\n\t\t// Merge label into keywords\n\t\tlet { keywords = [] } = option;\n\t\tif ( 'string' === typeof option.label ) {\n\t\t\tkeywords = [ ...keywords, option.label ];\n\t\t}\n\n\t\tconst isMatch = keywords.some( ( keyword ) =>\n\t\t\tsearch.test( deburr( keyword ) )\n\t\t);\n\t\tif ( ! isMatch ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tfiltered.push( option );\n\n\t\t// Abort early if max reached\n\t\tif ( filtered.length === maxResults ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn filtered;\n}\n\nfunction getRange() {\n\tconst selection = window.getSelection();\n\treturn selection.rangeCount ? selection.getRangeAt( 0 ) : null;\n}\n\nexport class Autocomplete extends Component {\n\tstatic getInitialState() {\n\t\treturn {\n\t\t\tsearch: /./,\n\t\t\tselectedIndex: 0,\n\t\t\tsuppress: undefined,\n\t\t\topen: undefined,\n\t\t\tquery: undefined,\n\t\t\tfilteredOptions: [],\n\t\t};\n\t}\n\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.select = this.select.bind( this );\n\t\tthis.reset = this.reset.bind( this );\n\t\tthis.resetWhenSuppressed = this.resetWhenSuppressed.bind( this );\n\t\tthis.handleKeyDown = this.handleKeyDown.bind( this );\n\t\tthis.debouncedLoadOptions = debounce( this.loadOptions, 250 );\n\n\t\tthis.state = this.constructor.getInitialState();\n\t}\n\n\tinsertCompletion( replacement ) {\n\t\tconst { open, query } = this.state;\n\t\tconst { record, onChange } = this.props;\n\t\tconst end = record.start;\n\t\tconst start = end - open.triggerPrefix.length - query.length;\n\t\tconst toInsert = create( { html: renderToString( replacement ) } );\n\n\t\tonChange( insert( record, toInsert, start, end ) );\n\t}\n\n\tselect( option ) {\n\t\tconst { onReplace } = this.props;\n\t\tconst { open, query } = this.state;\n\t\tconst { getOptionCompletion } = open || {};\n\n\t\tif ( option.isDisabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( getOptionCompletion ) {\n\t\t\tconst completion = getOptionCompletion( option.value, query );\n\n\t\t\tconst { action, value } =\n\t\t\t\tundefined === completion.action ||\n\t\t\t\tundefined === completion.value\n\t\t\t\t\t? { action: 'insert-at-caret', value: completion }\n\t\t\t\t\t: completion;\n\n\t\t\tif ( 'replace' === action ) {\n\t\t\t\tonReplace( [ value ] );\n\t\t\t} else if ( 'insert-at-caret' === action ) {\n\t\t\t\tthis.insertCompletion( value );\n\t\t\t}\n\t\t}\n\n\t\t// Reset autocomplete state after insertion rather than before\n\t\t// so insertion events don't cause the completion menu to redisplay.\n\t\tthis.reset();\n\t}\n\n\treset() {\n\t\tthis.setState( this.constructor.getInitialState() );\n\t}\n\n\tresetWhenSuppressed() {\n\t\tconst { open, suppress } = this.state;\n\t\tif ( open && suppress === open.idx ) {\n\t\t\tthis.reset();\n\t\t}\n\t}\n\n\tannounce( filteredOptions ) {\n\t\tconst { debouncedSpeak } = this.props;\n\t\tif ( ! debouncedSpeak ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( !! filteredOptions.length ) {\n\t\t\tdebouncedSpeak(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %d: number of results. */\n\t\t\t\t\t_n(\n\t\t\t\t\t\t'%d result found, use up and down arrow keys to navigate.',\n\t\t\t\t\t\t'%d results found, use up and down arrow keys to navigate.',\n\t\t\t\t\t\tfilteredOptions.length\n\t\t\t\t\t),\n\t\t\t\t\tfilteredOptions.length\n\t\t\t\t),\n\t\t\t\t'assertive'\n\t\t\t);\n\t\t} else {\n\t\t\tdebouncedSpeak( __( 'No results.' ), 'assertive' );\n\t\t}\n\t}\n\n\t/**\n\t * Load options for an autocompleter.\n\t *\n\t * @param {WPCompleter} completer The autocompleter.\n\t * @param {string}      query     The query, if any.\n\t */\n\tloadOptions( completer, query ) {\n\t\tconst { options } = completer;\n\n\t\t/*\n\t\t * We support both synchronous and asynchronous retrieval of completer options\n\t\t * but internally treat all as async so we maintain a single, consistent code path.\n\t\t *\n\t\t * Because networks can be slow, and the internet is wonderfully unpredictable,\n\t\t * we don't want two promises updating the state at once. This ensures that only\n\t\t * the most recent promise will act on `optionsData`. This doesn't use the state\n\t\t * because `setState` is batched, and so there's no guarantee that setting\n\t\t * `activePromise` in the state would result in it actually being in `this.state`\n\t\t * before the promise resolves and we check to see if this is the active promise or not.\n\t\t */\n\t\tconst promise = ( this.activePromise = Promise.resolve(\n\t\t\ttypeof options === 'function' ? options( query ) : options\n\t\t).then( ( optionsData ) => {\n\t\t\tif ( promise !== this.activePromise ) {\n\t\t\t\t// Another promise has become active since this one was asked to resolve, so do nothing,\n\t\t\t\t// or else we might end triggering a race condition updating the state.\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyedOptions = optionsData.map(\n\t\t\t\t( optionData, optionIndex ) => ( {\n\t\t\t\t\tkey: `${ completer.idx }-${ optionIndex }`,\n\t\t\t\t\tvalue: optionData,\n\t\t\t\t\tlabel: completer.getOptionLabel( optionData ),\n\t\t\t\t\tkeywords: completer.getOptionKeywords\n\t\t\t\t\t\t? completer.getOptionKeywords( optionData )\n\t\t\t\t\t\t: [],\n\t\t\t\t\tisDisabled: completer.isOptionDisabled\n\t\t\t\t\t\t? completer.isOptionDisabled( optionData )\n\t\t\t\t\t\t: false,\n\t\t\t\t} )\n\t\t\t);\n\n\t\t\tconst filteredOptions = filterOptions(\n\t\t\t\tthis.state.search,\n\t\t\t\tkeyedOptions\n\t\t\t);\n\t\t\tconst selectedIndex =\n\t\t\t\tfilteredOptions.length === this.state.filteredOptions.length\n\t\t\t\t\t? this.state.selectedIndex\n\t\t\t\t\t: 0;\n\t\t\tthis.setState( {\n\t\t\t\t[ 'options_' + completer.idx ]: keyedOptions,\n\t\t\t\tfilteredOptions,\n\t\t\t\tselectedIndex,\n\t\t\t} );\n\t\t\tthis.announce( filteredOptions );\n\t\t} ) );\n\t}\n\n\thandleKeyDown( event ) {\n\t\tconst { open, suppress, selectedIndex, filteredOptions } = this.state;\n\t\tif ( ! open ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( suppress === open.idx ) {\n\t\t\tswitch ( event.keyCode ) {\n\t\t\t\t// cancel popup suppression on CTRL+SPACE\n\t\t\t\tcase SPACE:\n\t\t\t\t\tconst { ctrlKey, shiftKey, altKey, metaKey } = event;\n\t\t\t\t\tif ( ctrlKey && ! ( shiftKey || altKey || metaKey ) ) {\n\t\t\t\t\t\tthis.setState( { suppress: undefined } );\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t// reset on cursor movement\n\t\t\t\tcase UP:\n\t\t\t\tcase DOWN:\n\t\t\t\tcase LEFT:\n\t\t\t\tcase RIGHT:\n\t\t\t\t\tthis.reset();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif ( filteredOptions.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\t\tlet nextSelectedIndex;\n\t\tswitch ( event.keyCode ) {\n\t\t\tcase UP:\n\t\t\t\tnextSelectedIndex =\n\t\t\t\t\t( selectedIndex === 0\n\t\t\t\t\t\t? filteredOptions.length\n\t\t\t\t\t\t: selectedIndex ) - 1;\n\t\t\t\tthis.setState( { selectedIndex: nextSelectedIndex } );\n\t\t\t\tbreak;\n\n\t\t\tcase DOWN:\n\t\t\t\tnextSelectedIndex =\n\t\t\t\t\t( selectedIndex + 1 ) % filteredOptions.length;\n\t\t\t\tthis.setState( { selectedIndex: nextSelectedIndex } );\n\t\t\t\tbreak;\n\n\t\t\tcase ESCAPE:\n\t\t\t\tthis.setState( { suppress: open.idx } );\n\t\t\t\tbreak;\n\n\t\t\tcase ENTER:\n\t\t\t\tthis.select( filteredOptions[ selectedIndex ] );\n\t\t\t\tbreak;\n\n\t\t\tcase LEFT:\n\t\t\tcase RIGHT:\n\t\t\t\tthis.reset();\n\t\t\t\treturn;\n\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\t// Any handled keycode should prevent original behavior. This relies on\n\t\t// the early return in the default case.\n\t\tevent.preventDefault();\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst { record, completers } = this.props;\n\t\tconst { record: prevRecord } = prevProps;\n\n\t\tif ( isCollapsed( record ) ) {\n\t\t\tconst text = deburr( getTextContent( slice( record, 0 ) ) );\n\t\t\tconst prevText = deburr( getTextContent( slice( prevRecord, 0 ) ) );\n\n\t\t\tif ( text !== prevText ) {\n\t\t\t\tconst textAfterSelection = getTextContent(\n\t\t\t\t\tslice( record, undefined, getTextContent( record ).length )\n\t\t\t\t);\n\t\t\t\tconst allCompleters = map( completers, ( completer, idx ) => ( {\n\t\t\t\t\t...completer,\n\t\t\t\t\tidx,\n\t\t\t\t} ) );\n\t\t\t\tconst open = find(\n\t\t\t\t\tallCompleters,\n\t\t\t\t\t( { triggerPrefix, allowContext } ) => {\n\t\t\t\t\t\tconst index = text.lastIndexOf( triggerPrefix );\n\n\t\t\t\t\t\tif ( index === -1 ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tallowContext &&\n\t\t\t\t\t\t\t! allowContext(\n\t\t\t\t\t\t\t\ttext.slice( 0, index ),\n\t\t\t\t\t\t\t\ttextAfterSelection\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /^\\S*$/.test(\n\t\t\t\t\t\t\ttext.slice( index + triggerPrefix.length )\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif ( ! open ) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst safeTrigger = escapeRegExp( open.triggerPrefix );\n\t\t\t\tconst match = text.match(\n\t\t\t\t\tnew RegExp( `${ safeTrigger }(\\\\S*)$` )\n\t\t\t\t);\n\t\t\t\tconst query = match && match[ 1 ];\n\t\t\t\tconst {\n\t\t\t\t\topen: wasOpen,\n\t\t\t\t\tsuppress: wasSuppress,\n\t\t\t\t\tquery: wasQuery,\n\t\t\t\t} = this.state;\n\n\t\t\t\tif (\n\t\t\t\t\topen &&\n\t\t\t\t\t( ! wasOpen ||\n\t\t\t\t\t\topen.idx !== wasOpen.idx ||\n\t\t\t\t\t\tquery !== wasQuery )\n\t\t\t\t) {\n\t\t\t\t\tif ( open.isDebounced ) {\n\t\t\t\t\t\tthis.debouncedLoadOptions( open, query );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.loadOptions( open, query );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// create a regular expression to filter the options\n\t\t\t\tconst search = open\n\t\t\t\t\t? new RegExp( '(?:\\\\b|\\\\s|^)' + escapeRegExp( query ), 'i' )\n\t\t\t\t\t: /./;\n\t\t\t\t// filter the options we already have\n\t\t\t\tconst filteredOptions = open\n\t\t\t\t\t? filterOptions(\n\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t\t\tthis.state[ 'options_' + open.idx ]\n\t\t\t\t\t  )\n\t\t\t\t\t: [];\n\t\t\t\t// check if we should still suppress the popover\n\t\t\t\tconst suppress =\n\t\t\t\t\topen && wasSuppress === open.idx ? wasSuppress : undefined;\n\t\t\t\t// update the state\n\t\t\t\tif ( wasOpen || open ) {\n\t\t\t\t\tthis.setState( {\n\t\t\t\t\t\tselectedIndex: 0,\n\t\t\t\t\t\tfilteredOptions,\n\t\t\t\t\t\tsuppress,\n\t\t\t\t\t\tsearch,\n\t\t\t\t\t\topen,\n\t\t\t\t\t\tquery,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\t// announce the count of filtered options but only if they have loaded\n\t\t\t\tif ( open && this.state[ 'options_' + open.idx ] ) {\n\t\t\t\t\tthis.announce( filteredOptions );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.debouncedLoadOptions.cancel();\n\t}\n\n\trender() {\n\t\tconst { children, instanceId, isSelected } = this.props;\n\t\tconst { open, suppress, selectedIndex, filteredOptions } = this.state;\n\t\tconst { key: selectedKey = '' } =\n\t\t\tfilteredOptions[ selectedIndex ] || {};\n\t\tconst { className, idx } = open || {};\n\t\tconst isExpanded = suppress !== idx && filteredOptions.length > 0;\n\t\tconst listBoxId = isExpanded\n\t\t\t? `components-autocomplete-listbox-${ instanceId }`\n\t\t\t: null;\n\t\tconst activeId = isExpanded\n\t\t\t? `components-autocomplete-item-${ instanceId }-${ selectedKey }`\n\t\t\t: null;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ children( {\n\t\t\t\t\tisExpanded,\n\t\t\t\t\tlistBoxId,\n\t\t\t\t\tactiveId,\n\t\t\t\t\tonKeyDown: this.handleKeyDown,\n\t\t\t\t} ) }\n\t\t\t\t{ isExpanded && isSelected && (\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tfocusOnMount={ false }\n\t\t\t\t\t\tonClose={ this.reset }\n\t\t\t\t\t\tposition=\"top right\"\n\t\t\t\t\t\tclassName=\"components-autocomplete__popover\"\n\t\t\t\t\t\tanchorRef={ getRange() }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid={ listBoxId }\n\t\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\t\tclassName=\"components-autocomplete__results\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ isExpanded &&\n\t\t\t\t\t\t\t\tmap( filteredOptions, ( option, index ) => (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tkey={ option.key }\n\t\t\t\t\t\t\t\t\t\tid={ `components-autocomplete-item-${ instanceId }-${ option.key }` }\n\t\t\t\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\t\t\t\taria-selected={\n\t\t\t\t\t\t\t\t\t\t\tindex === selectedIndex\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled={ option.isDisabled }\n\t\t\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t\t\t'components-autocomplete__result',\n\t\t\t\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t'is-selected':\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex === selectedIndex,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => this.select( option ) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Popover>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default compose( [ withSpokenMessages, withInstanceId ] )(\n\tAutocomplete\n);\n","/**\n * External dependencies\n */\nimport { clone } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { applyFilters, hasFilter } from '@wordpress/hooks';\nimport { compose } from '@wordpress/compose';\nimport { Autocomplete as OriginalAutocomplete } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { withBlockEditContext } from '../block-edit/context';\n\n/**\n * Wrap the default Autocomplete component with one that\n * supports a filter hook for customizing its list of autocompleters.\n *\n * This function is exported for unit test.\n *\n * @param  {Function} Autocomplete Original component.\n * @return {Function}              Wrapped component\n */\nexport function withFilteredAutocompleters( Autocomplete ) {\n\treturn ( props ) => {\n\t\tlet { completers = [] } = props;\n\n\t\tif ( hasFilter( 'editor.Autocomplete.completers' ) ) {\n\t\t\tcompleters = applyFilters(\n\t\t\t\t'editor.Autocomplete.completers',\n\t\t\t\t// Provide copies so filters may directly modify them.\n\t\t\t\tcompleters.map( clone ),\n\t\t\t\tprops.blockName\n\t\t\t);\n\t\t}\n\n\t\treturn <Autocomplete { ...props } completers={ completers } />;\n\t};\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/autocomplete/README.md\n */\nexport default compose( [\n\twithBlockEditContext( ( { name } ) => ( { blockName: name } ) ),\n\twithFilteredAutocompleters,\n] )( OriginalAutocomplete );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst positionLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M4 9v6h14V9H4zm8-4.8H4v1.5h8V4.2zM4 19.8h8v-1.5H4v1.5z\" />\n\t</SVG>\n);\n\nexport default positionLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst positionCenter = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M5 15h14V9H5v6zm0 4.8h14v-1.5H5v1.5zM5 4.2v1.5h14V4.2H5z\" />\n\t</SVG>\n);\n\nexport default positionCenter;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst positionRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M6 15h14V9H6v6zm6-10.8v1.5h8V4.2h-8zm0 15.6h8v-1.5h-8v1.5z\" />\n\t</SVG>\n);\n\nexport default positionRight;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst stretchWide = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M5 9v6h14V9H5zm11-4.8H8v1.5h8V4.2zM8 19.8h8v-1.5H8v1.5z\" />\n\t</SVG>\n);\n\nexport default stretchWide;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst stretchFullWidth = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M5 4v11h14V4H5zm3 15.8h8v-1.5H8v1.5z\" />\n\t</SVG>\n);\n\nexport default stretchFullWidth;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Toolbar } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport {\n\tpositionCenter,\n\tpositionLeft,\n\tpositionRight,\n\tstretchFullWidth,\n\tstretchWide,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { withBlockEditContext } from '../block-edit/context';\n\nconst BLOCK_ALIGNMENTS_CONTROLS = {\n\tleft: {\n\t\ticon: positionLeft,\n\t\ttitle: __( 'Align left' ),\n\t},\n\tcenter: {\n\t\ticon: positionCenter,\n\t\ttitle: __( 'Align center' ),\n\t},\n\tright: {\n\t\ticon: positionRight,\n\t\ttitle: __( 'Align right' ),\n\t},\n\twide: {\n\t\ticon: stretchWide,\n\t\ttitle: __( 'Wide width' ),\n\t},\n\tfull: {\n\t\ticon: stretchFullWidth,\n\t\ttitle: __( 'Full width' ),\n\t},\n};\n\nconst DEFAULT_CONTROLS = [ 'left', 'center', 'right', 'wide', 'full' ];\nconst DEFAULT_CONTROL = 'center';\nconst WIDE_CONTROLS = [ 'wide', 'full' ];\n\nexport function BlockAlignmentToolbar( {\n\tvalue,\n\tonChange,\n\tcontrols = DEFAULT_CONTROLS,\n\tisCollapsed = true,\n\twideControlsEnabled = false,\n} ) {\n\tfunction applyOrUnset( align ) {\n\t\treturn () => onChange( value === align ? undefined : align );\n\t}\n\n\tconst enabledControls = wideControlsEnabled\n\t\t? controls\n\t\t: controls.filter(\n\t\t\t\t( control ) => WIDE_CONTROLS.indexOf( control ) === -1\n\t\t  );\n\n\tconst activeAlignmentControl = BLOCK_ALIGNMENTS_CONTROLS[ value ];\n\tconst defaultAlignmentControl =\n\t\tBLOCK_ALIGNMENTS_CONTROLS[ DEFAULT_CONTROL ];\n\n\treturn (\n\t\t<Toolbar\n\t\t\tisCollapsed={ isCollapsed }\n\t\t\ticon={\n\t\t\t\tactiveAlignmentControl\n\t\t\t\t\t? activeAlignmentControl.icon\n\t\t\t\t\t: defaultAlignmentControl.icon\n\t\t\t}\n\t\t\tlabel={ __( 'Change alignment' ) }\n\t\t\tcontrols={ enabledControls.map( ( control ) => {\n\t\t\t\treturn {\n\t\t\t\t\t...BLOCK_ALIGNMENTS_CONTROLS[ control ],\n\t\t\t\t\tisActive: value === control,\n\t\t\t\t\trole: isCollapsed ? 'menuitemradio' : undefined,\n\t\t\t\t\tonClick: applyOrUnset( control ),\n\t\t\t\t};\n\t\t\t} ) }\n\t\t/>\n\t);\n}\n\nexport default compose(\n\twithBlockEditContext( ( { clientId } ) => {\n\t\treturn {\n\t\t\tclientId,\n\t\t};\n\t} ),\n\twithSelect( ( select ) => {\n\t\tconst { getSettings } = select( 'core/block-editor' );\n\t\tconst settings = getSettings();\n\t\treturn {\n\t\t\twideControlsEnabled: settings.alignWide,\n\t\t};\n\t} )\n)( BlockAlignmentToolbar );\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { getBlockType } from '@wordpress/blocks';\n\n/**\n * Renders the block's configured title as a string, or empty if the title\n * cannot be determined.\n *\n * @example\n *\n * ```jsx\n * <BlockTitle clientId=\"afd1cb17-2c08-4e7a-91be-007ba7ddc3a1\" />\n * ```\n *\n * @param {Object}  props\n * @param {?string} props.name Block name.\n *\n * @return {?string} Block title.\n */\nexport function BlockTitle( { name } ) {\n\tif ( ! name ) {\n\t\treturn null;\n\t}\n\n\tconst blockType = getBlockType( name );\n\tif ( ! blockType ) {\n\t\treturn null;\n\t}\n\n\treturn blockType.title;\n}\n\nexport default withSelect( ( select, ownProps ) => {\n\tconst { getBlockName } = select( 'core/block-editor' );\n\tconst { clientId } = ownProps;\n\n\treturn {\n\t\tname: getBlockName( clientId ),\n\t};\n} )( BlockTitle );\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill, Toolbar } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { ifBlockEditSelected } from '../block-edit/context';\n\nconst { Fill, Slot } = createSlotFill( 'BlockControls' );\n\nconst BlockControlsFill = ( { controls, children } ) => (\n\t<Fill>\n\t\t<Toolbar controls={ controls } />\n\t\t{ children }\n\t</Fill>\n);\n\nconst BlockControls = ifBlockEditSelected( BlockControlsFill );\n\nBlockControls.Slot = Slot;\n\nexport default BlockControls;\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { ifBlockEditSelected } from '../block-edit/context';\n\nconst { Fill, Slot } = createSlotFill( 'BlockFormatControls' );\n\nconst BlockFormatControls = ifBlockEditSelected( Fill );\n\nBlockFormatControls.Slot = Slot;\n\nexport default BlockFormatControls;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Icon } from '@wordpress/components';\nimport { blockDefault } from '@wordpress/icons';\n\nexport default function BlockIcon( { icon, showColors = false, className } ) {\n\tif ( get( icon, [ 'src' ] ) === 'block-default' ) {\n\t\ticon = {\n\t\t\tsrc: blockDefault,\n\t\t};\n\t}\n\n\tconst renderedIcon = <Icon icon={ icon && icon.src ? icon.src : icon } />;\n\tconst style = showColors\n\t\t? {\n\t\t\t\tbackgroundColor: icon && icon.background,\n\t\t\t\tcolor: icon && icon.foreground,\n\t\t  }\n\t\t: {};\n\n\treturn (\n\t\t<span\n\t\t\tstyle={ style }\n\t\t\tclassName={ classnames( 'block-editor-block-icon', className, {\n\t\t\t\t'has-colors': showColors,\n\t\t\t} ) }\n\t\t>\n\t\t\t{ renderedIcon }\n\t\t</span>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst create = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16 11.2h-3.2V8h-1.6v3.2H8v1.6h3.2V16h1.6v-3.2H16z\" />\n\t</SVG>\n);\n\nexport default create;\n","/**\n * External dependencies\n */\nimport { createElement, cloneElement, Fragment, isValidElement } from 'react';\n\n/** @typedef {import('./react').WPElement} WPElement */\n\nlet indoc, offset, output, stack;\n\n/**\n * Matches tags in the localized string\n *\n * This is used for extracting the tag pattern groups for parsing the localized\n * string and along with the map converting it to a react element.\n *\n * There are four references extracted using this tokenizer:\n *\n * match: Full match of the tag (i.e. <strong>, </strong>, <br/>)\n * isClosing: The closing slash, it it exists.\n * name: The name portion of the tag (strong, br) (if )\n * isSelfClosed: The slash on a self closing tag, if it exists.\n *\n * @type {RegExp}\n */\nconst tokenizer = /<(\\/)?(\\w+)\\s*(\\/)?>/g;\n\n/**\n * The stack frame tracking parse progress.\n *\n * @typedef Frame\n *\n * @property {WPElement} element            A parent element which may still have\n * @property {number}    tokenStart         Offset at which parent element first\n *                                          appears.\n * @property {number}    tokenLength        Length of string marking start of parent\n *                                          element.\n * @property {number}    [prevOffset]       Running offset at which parsing should\n *                                          continue.\n * @property {number}    [leadingTextStart] Offset at which last closing element\n *                                          finished, used for finding text between\n *                                          elements.\n * @property {WPElement[]} children         Children.\n */\n\n/**\n * Tracks recursive-descent parse state.\n *\n * This is a Stack frame holding parent elements until all children have been\n * parsed.\n *\n * @private\n * @param {WPElement} element            A parent element which may still have\n *                                       nested children not yet parsed.\n * @param {number}    tokenStart         Offset at which parent element first\n *                                       appears.\n * @param {number}    tokenLength        Length of string marking start of parent\n *                                       element.\n * @param {number}    [prevOffset]       Running offset at which parsing should\n *                                       continue.\n * @param {number}    [leadingTextStart] Offset at which last closing element\n *                                       finished, used for finding text between\n *                                       elements.\n *\n * @return {Frame} The stack frame tracking parse progress.\n */\nfunction createFrame(\n\telement,\n\ttokenStart,\n\ttokenLength,\n\tprevOffset,\n\tleadingTextStart\n) {\n\treturn {\n\t\telement,\n\t\ttokenStart,\n\t\ttokenLength,\n\t\tprevOffset,\n\t\tleadingTextStart,\n\t\tchildren: [],\n\t};\n}\n\n/**\n * This function creates an interpolated element from a passed in string with\n * specific tags matching how the string should be converted to an element via\n * the conversion map value.\n *\n * @example\n * For example, for the given string:\n *\n * \"This is a <span>string</span> with <a>a link</a> and a self-closing\n * <CustomComponentB/> tag\"\n *\n * You would have something like this as the conversionMap value:\n *\n * ```js\n * {\n *     span: <span />,\n *     a: <a href={ 'https://github.com' } />,\n *     CustomComponentB: <CustomComponent />,\n * }\n * ```\n *\n * @param {string}  interpolatedString  The interpolation string to be parsed.\n * @param {Object}  conversionMap       The map used to convert the string to\n *                                      a react element.\n * @throws {TypeError}\n * @return {WPElement}  A wp element.\n */\nconst createInterpolateElement = ( interpolatedString, conversionMap ) => {\n\tindoc = interpolatedString;\n\toffset = 0;\n\toutput = [];\n\tstack = [];\n\ttokenizer.lastIndex = 0;\n\n\tif ( ! isValidConversionMap( conversionMap ) ) {\n\t\tthrow new TypeError(\n\t\t\t'The conversionMap provided is not valid. It must be an object with values that are WPElements'\n\t\t);\n\t}\n\n\tdo {\n\t\t// twiddle our thumbs\n\t} while ( proceed( conversionMap ) );\n\treturn createElement( Fragment, null, ...output );\n};\n\n/**\n * Validate conversion map.\n *\n * A map is considered valid if it's an object and every value in the object\n * is a WPElement\n *\n * @private\n *\n * @param {Object} conversionMap  The map being validated.\n *\n * @return {boolean}  True means the map is valid.\n */\nconst isValidConversionMap = ( conversionMap ) => {\n\tconst isObject = typeof conversionMap === 'object';\n\tconst values = isObject && Object.values( conversionMap );\n\treturn (\n\t\tisObject &&\n\t\tvalues.length &&\n\t\tvalues.every( ( element ) => isValidElement( element ) )\n\t);\n};\n\n/**\n * This is the iterator over the matches in the string.\n *\n * @private\n *\n * @param {Object} conversionMap The conversion map for the string.\n *\n * @return {boolean} true for continuing to iterate, false for finished.\n */\nfunction proceed( conversionMap ) {\n\tconst next = nextToken();\n\tconst [ tokenType, name, startOffset, tokenLength ] = next;\n\tconst stackDepth = stack.length;\n\tconst leadingTextStart = startOffset > offset ? offset : null;\n\tif ( ! conversionMap[ name ] ) {\n\t\taddText();\n\t\treturn false;\n\t}\n\tswitch ( tokenType ) {\n\t\tcase 'no-more-tokens':\n\t\t\tif ( stackDepth !== 0 ) {\n\t\t\t\tconst {\n\t\t\t\t\tleadingTextStart: stackLeadingText,\n\t\t\t\t\ttokenStart,\n\t\t\t\t} = stack.pop();\n\t\t\t\toutput.push( indoc.substr( stackLeadingText, tokenStart ) );\n\t\t\t}\n\t\t\taddText();\n\t\t\treturn false;\n\n\t\tcase 'self-closed':\n\t\t\tif ( 0 === stackDepth ) {\n\t\t\t\tif ( null !== leadingTextStart ) {\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tindoc.substr(\n\t\t\t\t\t\t\tleadingTextStart,\n\t\t\t\t\t\t\tstartOffset - leadingTextStart\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\toutput.push( conversionMap[ name ] );\n\t\t\t\toffset = startOffset + tokenLength;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// otherwise we found an inner element\n\t\t\taddChild(\n\t\t\t\tcreateFrame( conversionMap[ name ], startOffset, tokenLength )\n\t\t\t);\n\t\t\toffset = startOffset + tokenLength;\n\t\t\treturn true;\n\n\t\tcase 'opener':\n\t\t\tstack.push(\n\t\t\t\tcreateFrame(\n\t\t\t\t\tconversionMap[ name ],\n\t\t\t\t\tstartOffset,\n\t\t\t\t\ttokenLength,\n\t\t\t\t\tstartOffset + tokenLength,\n\t\t\t\t\tleadingTextStart\n\t\t\t\t)\n\t\t\t);\n\t\t\toffset = startOffset + tokenLength;\n\t\t\treturn true;\n\n\t\tcase 'closer':\n\t\t\t// if we're not nesting then this is easy - close the block\n\t\t\tif ( 1 === stackDepth ) {\n\t\t\t\tcloseOuterElement( startOffset );\n\t\t\t\toffset = startOffset + tokenLength;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// otherwise we're nested and we have to close out the current\n\t\t\t// block and add it as a innerBlock to the parent\n\t\t\tconst stackTop = stack.pop();\n\t\t\tconst text = indoc.substr(\n\t\t\t\tstackTop.prevOffset,\n\t\t\t\tstartOffset - stackTop.prevOffset\n\t\t\t);\n\t\t\tstackTop.children.push( text );\n\t\t\tstackTop.prevOffset = startOffset + tokenLength;\n\t\t\tconst frame = createFrame(\n\t\t\t\tstackTop.element,\n\t\t\t\tstackTop.tokenStart,\n\t\t\t\tstackTop.tokenLength,\n\t\t\t\tstartOffset + tokenLength\n\t\t\t);\n\t\t\tframe.children = stackTop.children;\n\t\t\taddChild( frame );\n\t\t\toffset = startOffset + tokenLength;\n\t\t\treturn true;\n\n\t\tdefault:\n\t\t\taddText();\n\t\t\treturn false;\n\t}\n}\n\n/**\n * Grabs the next token match in the string and returns it's details.\n *\n * @private\n *\n * @return {Array}  An array of details for the token matched.\n */\nfunction nextToken() {\n\tconst matches = tokenizer.exec( indoc );\n\t// we have no more tokens\n\tif ( null === matches ) {\n\t\treturn [ 'no-more-tokens' ];\n\t}\n\tconst startedAt = matches.index;\n\tconst [ match, isClosing, name, isSelfClosed ] = matches;\n\tconst length = match.length;\n\tif ( isSelfClosed ) {\n\t\treturn [ 'self-closed', name, startedAt, length ];\n\t}\n\tif ( isClosing ) {\n\t\treturn [ 'closer', name, startedAt, length ];\n\t}\n\treturn [ 'opener', name, startedAt, length ];\n}\n\n/**\n * Pushes text extracted from the indoc string to the output stack given the\n * current rawLength value and offset (if rawLength is provided ) or the\n * indoc.length and offset.\n *\n * @private\n */\nfunction addText() {\n\tconst length = indoc.length - offset;\n\tif ( 0 === length ) {\n\t\treturn;\n\t}\n\toutput.push( indoc.substr( offset, length ) );\n}\n\n/**\n * Pushes a child element to the associated parent element's children for the\n * parent currently active in the stack.\n *\n * @private\n *\n * @param {Frame}    frame       The Frame containing the child element and it's\n *                               token information.\n */\nfunction addChild( frame ) {\n\tconst { element, tokenStart, tokenLength, prevOffset, children } = frame;\n\tconst parent = stack[ stack.length - 1 ];\n\tconst text = indoc.substr(\n\t\tparent.prevOffset,\n\t\ttokenStart - parent.prevOffset\n\t);\n\n\tif ( text ) {\n\t\tparent.children.push( text );\n\t}\n\n\tparent.children.push( cloneElement( element, null, ...children ) );\n\tparent.prevOffset = prevOffset ? prevOffset : tokenStart + tokenLength;\n}\n\n/**\n * This is called for closing tags. It creates the element currently active in\n * the stack.\n *\n * @private\n *\n * @param {number} endOffset Offset at which the closing tag for the element\n *                           begins in the string. If this is greater than the\n *                           prevOffset attached to the element, then this\n *                           helps capture any remaining nested text nodes in\n *                           the element.\n */\nfunction closeOuterElement( endOffset ) {\n\tconst {\n\t\telement,\n\t\tleadingTextStart,\n\t\tprevOffset,\n\t\ttokenStart,\n\t\tchildren,\n\t} = stack.pop();\n\n\tconst text = endOffset\n\t\t? indoc.substr( prevOffset, endOffset - prevOffset )\n\t\t: indoc.substr( prevOffset );\n\n\tif ( text ) {\n\t\tchildren.push( text );\n\t}\n\n\tif ( null !== leadingTextStart ) {\n\t\toutput.push(\n\t\t\tindoc.substr( leadingTextStart, tokenStart - leadingTextStart )\n\t\t);\n\t}\n\n\toutput.push( cloneElement( element, null, ...children ) );\n}\n\nexport default createInterpolateElement;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plus = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z\" />\n\t</SVG>\n);\n\nexport default plus;\n","/**\n * Internal dependencies\n */\nimport { SVG, Path } from '../';\n\nfunction Tip( props ) {\n\treturn (\n\t\t<div className=\"components-tip\">\n\t\t\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t\t\t\t<Path d=\"M12 15.8c-3.7 0-6.8-3-6.8-6.8s3-6.8 6.8-6.8c3.7 0 6.8 3 6.8 6.8s-3.1 6.8-6.8 6.8zm0-12C9.1 3.8 6.8 6.1 6.8 9s2.4 5.2 5.2 5.2c2.9 0 5.2-2.4 5.2-5.2S14.9 3.8 12 3.8zM8 17.5h8V19H8zM10 20.5h4V22h-4z\" />\n\t\t\t</SVG>\n\t\t\t<p>{ props.children }</p>\n\t\t</div>\n\t);\n}\n\nexport default Tip;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { createInterpolateElement, useState } from '@wordpress/element';\nimport { Tip } from '@wordpress/components';\n\nconst globalTips = [\n\tcreateInterpolateElement(\n\t\t__(\n\t\t\t'While writing, you can press <kbd>/</kbd> to quickly insert new blocks.'\n\t\t),\n\t\t{ kbd: <kbd /> }\n\t),\n\tcreateInterpolateElement(\n\t\t__(\n\t\t\t'Indent a list by pressing <kbd>space</kbd> at the beginning of a line.'\n\t\t),\n\t\t{ kbd: <kbd /> }\n\t),\n\tcreateInterpolateElement(\n\t\t__(\n\t\t\t'Outdent a list by pressing <kbd>backspace</kbd> at the beginning of a line.'\n\t\t),\n\t\t{ kbd: <kbd /> }\n\t),\n\t__( 'Drag files into the editor to automatically insert media blocks.' ),\n\t__( \"Change a block's type by pressing the block icon on the toolbar.\" ),\n];\n\nfunction Tips() {\n\tconst [ randomIndex ] = useState(\n\t\t// Disable Reason: I'm not generating an HTML id.\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tMath.floor( Math.random() * globalTips.length )\n\t);\n\n\treturn <Tip>{ globalTips[ randomIndex ] }</Tip>;\n}\n\nexport default Tips;\n","/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { VisuallyHidden } from '@wordpress/components';\n\nfunction InserterSearchForm( { onChange } ) {\n\tconst instanceId = useInstanceId( InserterSearchForm );\n\n\t// Disable reason (no-autofocus): The inserter menu is a modal display, not one which\n\t// is always visible, and one which already incurs this behavior of autoFocus via\n\t// Popover's focusOnMount.\n\t/* eslint-disable jsx-a11y/no-autofocus */\n\treturn (\n\t\t<>\n\t\t\t<VisuallyHidden\n\t\t\t\tas=\"label\"\n\t\t\t\thtmlFor={ `block-editor-inserter__search-${ instanceId }` }\n\t\t\t>\n\t\t\t\t{ __( 'Search for a block' ) }\n\t\t\t</VisuallyHidden>\n\t\t\t<input\n\t\t\t\tid={ `block-editor-inserter__search-${ instanceId }` }\n\t\t\t\ttype=\"search\"\n\t\t\t\tplaceholder={ __( 'Search for a block' ) }\n\t\t\t\tclassName=\"block-editor-inserter__search\"\n\t\t\t\tautoFocus\n\t\t\t\tonChange={ ( event ) => onChange( event.target.value ) }\n\t\t\t/>\n\t\t</>\n\t);\n\t/* eslint-enable jsx-a11y/no-autofocus */\n}\n\nexport default InserterSearchForm;\n","/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\n\nfunction BlockCard( { blockType } ) {\n\treturn (\n\t\t<div className=\"block-editor-block-card\">\n\t\t\t<BlockIcon icon={ blockType.icon } showColors />\n\t\t\t<div className=\"block-editor-block-card__content\">\n\t\t\t\t<h2 className=\"block-editor-block-card__title\">\n\t\t\t\t\t{ blockType.title }\n\t\t\t\t</h2>\n\t\t\t\t<span className=\"block-editor-block-card__description\">\n\t\t\t\t\t{ blockType.description }\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default BlockCard;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\n\nexport const PREFERENCES_DEFAULTS = {\n\tinsertUsage: {},\n};\n\n/**\n * The default editor settings\n *\n * @typedef {Object} SETTINGS_DEFAULT\n * @property {boolean} alignWide Enable/Disable Wide/Full Alignments\n * @property {Array} availableLegacyWidgets Array of objects representing the legacy widgets available.\n * @property {Array} colors Palette colors\n * @property {boolean} disableCustomColors Whether or not the custom colors are disabled\n * @property {Array} fontSizes Available font sizes\n * @property {boolean} disableCustomFontSizes Whether or not the custom font sizes are disabled\n * @property {Array} imageSizes Available image sizes\n * @property {number} maxWidth Max width to constraint resizing\n * @property {boolean|Array} allowedBlockTypes Allowed block types\n * @property {boolean} hasFixedToolbar Whether or not the editor toolbar is fixed\n * @property {boolean} hasPermissionsToManageWidgets Whether or not the user is able to manage widgets.\n * @property {boolean} focusMode Whether the focus mode is enabled or not\n * @property {Array} styles Editor Styles\n * @property {boolean} isRTL Whether the editor is in RTL mode\n * @property {string} bodyPlaceholder Empty post placeholder\n * @property {string} titlePlaceholder Empty title placeholder\n * @property {boolean} codeEditingEnabled Whether or not the user can switch to the code editor\n * @property {boolean} __experimentalCanUserUseUnfilteredHTML Whether the user should be able to use unfiltered HTML or the HTML should be filtered e.g., to remove elements considered insecure like iframes.\n * @property {boolean} __experimentalEnableLegacyWidgetBlock Whether the user has enabled the Legacy Widget Block\n * @property {boolean} __experimentalBlockDirectory Whether the user has enabled the Block Directory\n * @property {boolean} __experimentalEnableFullSiteEditing Whether the user has enabled Full Site Editing\n * @property {boolean} __experimentalEnableFullSiteEditingDemo Whether the user has enabled Full Site Editing Demo Templates\n */\nexport const SETTINGS_DEFAULTS = {\n\talignWide: false,\n\tcolors: [\n\t\t{\n\t\t\tname: __( 'Pale pink' ),\n\t\t\tslug: 'pale-pink',\n\t\t\tcolor: '#f78da7',\n\t\t},\n\t\t{ name: __( 'Vivid red' ), slug: 'vivid-red', color: '#cf2e2e' },\n\t\t{\n\t\t\tname: __( 'Luminous vivid orange' ),\n\t\t\tslug: 'luminous-vivid-orange',\n\t\t\tcolor: '#ff6900',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Luminous vivid amber' ),\n\t\t\tslug: 'luminous-vivid-amber',\n\t\t\tcolor: '#fcb900',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Light green cyan' ),\n\t\t\tslug: 'light-green-cyan',\n\t\t\tcolor: '#7bdcb5',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Vivid green cyan' ),\n\t\t\tslug: 'vivid-green-cyan',\n\t\t\tcolor: '#00d084',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Pale cyan blue' ),\n\t\t\tslug: 'pale-cyan-blue',\n\t\t\tcolor: '#8ed1fc',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Vivid cyan blue' ),\n\t\t\tslug: 'vivid-cyan-blue',\n\t\t\tcolor: '#0693e3',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Vivid purple' ),\n\t\t\tslug: 'vivid-purple',\n\t\t\tcolor: '#9b51e0',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Very light gray' ),\n\t\t\tslug: 'very-light-gray',\n\t\t\tcolor: '#eeeeee',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Cyan bluish gray' ),\n\t\t\tslug: 'cyan-bluish-gray',\n\t\t\tcolor: '#abb8c3',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Very dark gray' ),\n\t\t\tslug: 'very-dark-gray',\n\t\t\tcolor: '#313131',\n\t\t},\n\t],\n\n\tfontSizes: [\n\t\t{\n\t\t\tname: _x( 'Small', 'font size name' ),\n\t\t\tsize: 13,\n\t\t\tslug: 'small',\n\t\t},\n\t\t{\n\t\t\tname: _x( 'Normal', 'font size name' ),\n\t\t\tsize: 16,\n\t\t\tslug: 'normal',\n\t\t},\n\t\t{\n\t\t\tname: _x( 'Medium', 'font size name' ),\n\t\t\tsize: 20,\n\t\t\tslug: 'medium',\n\t\t},\n\t\t{\n\t\t\tname: _x( 'Large', 'font size name' ),\n\t\t\tsize: 36,\n\t\t\tslug: 'large',\n\t\t},\n\t\t{\n\t\t\tname: _x( 'Huge', 'font size name' ),\n\t\t\tsize: 48,\n\t\t\tslug: 'huge',\n\t\t},\n\t],\n\n\timageSizes: [\n\t\t{ slug: 'thumbnail', name: __( 'Thumbnail' ) },\n\t\t{ slug: 'medium', name: __( 'Medium' ) },\n\t\t{ slug: 'large', name: __( 'Large' ) },\n\t\t{ slug: 'full', name: __( 'Full Size' ) },\n\t],\n\n\t// This is current max width of the block inner area\n\t// It's used to constraint image resizing and this value could be overridden later by themes\n\tmaxWidth: 580,\n\n\t// Allowed block types for the editor, defaulting to true (all supported).\n\tallowedBlockTypes: true,\n\n\t// Maximum upload size in bytes allowed for the site.\n\tmaxUploadFileSize: 0,\n\n\t// List of allowed mime types and file extensions.\n\tallowedMimeTypes: null,\n\n\tavailableLegacyWidgets: {},\n\thasPermissionsToManageWidgets: false,\n\t__experimentalCanUserUseUnfilteredHTML: false,\n\t__experimentalEnableLegacyWidgetBlock: false,\n\t__experimentalBlockDirectory: false,\n\t__experimentalEnableFullSiteEditing: false,\n\t__experimentalEnableFullSiteEditingDemo: false,\n\t__mobileEnablePageTemplates: false,\n\tgradients: [\n\t\t{\n\t\t\tname: __( 'Vivid cyan blue to vivid purple' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)',\n\t\t\tslug: 'vivid-cyan-blue-to-vivid-purple',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Light green cyan to vivid green cyan' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)',\n\t\t\tslug: 'light-green-cyan-to-vivid-green-cyan',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Luminous vivid amber to luminous vivid orange' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)',\n\t\t\tslug: 'luminous-vivid-amber-to-luminous-vivid-orange',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Luminous vivid orange to vivid red' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)',\n\t\t\tslug: 'luminous-vivid-orange-to-vivid-red',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Very light gray to cyan bluish gray' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)',\n\t\t\tslug: 'very-light-gray-to-cyan-bluish-gray',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Cool to warm spectrum' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)',\n\t\t\tslug: 'cool-to-warm-spectrum',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Blush light purple' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)',\n\t\t\tslug: 'blush-light-purple',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Blush bordeaux' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)',\n\t\t\tslug: 'blush-bordeaux',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Luminous dusk' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)',\n\t\t\tslug: 'luminous-dusk',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Pale ocean' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)',\n\t\t\tslug: 'pale-ocean',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Electric grass' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)',\n\t\t\tslug: 'electric-grass',\n\t\t},\n\t\t{\n\t\t\tname: __( 'Midnight' ),\n\t\t\tgradient:\n\t\t\t\t'linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)',\n\t\t\tslug: 'midnight',\n\t\t},\n\t],\n};\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/**\n * Insert one or multiple elements into a given position of an array.\n *\n * @param {Array}  array    Source array.\n * @param {*}      elements Elements to insert.\n * @param {number} index    Insert Position.\n *\n * @return {Array}          Result.\n */\nexport function insertAt( array, elements, index ) {\n\treturn [\n\t\t...array.slice( 0, index ),\n\t\t...castArray( elements ),\n\t\t...array.slice( index ),\n\t];\n}\n\n/**\n * Moves an element in an array.\n *\n * @param {Array}  array Source array.\n * @param {number} from  Source index.\n * @param {number} to    Destination index.\n * @param {number} count Number of elements to move.\n *\n * @return {Array}       Result.\n */\nexport function moveTo( array, from, to, count = 1 ) {\n\tconst withoutMovedElements = [ ...array ];\n\twithoutMovedElements.splice( from, count );\n\treturn insertAt(\n\t\twithoutMovedElements,\n\t\tarray.slice( from, from + count ),\n\t\tto\n\t);\n}\n","/**\n * External dependencies\n */\nimport {\n\tflow,\n\treduce,\n\tfirst,\n\tlast,\n\tomit,\n\twithout,\n\tmapValues,\n\tkeys,\n\tisEqual,\n\tisEmpty,\n\tget,\n\tidentity,\n\tdifference,\n\tomitBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\nimport { isReusableBlock } from '@wordpress/blocks';\n/**\n * Internal dependencies\n */\nimport { PREFERENCES_DEFAULTS, SETTINGS_DEFAULTS } from './defaults';\nimport { insertAt, moveTo } from './array';\n\n/**\n * Given an array of blocks, returns an object where each key is a nesting\n * context, the value of which is an array of block client IDs existing within\n * that nesting context.\n *\n * @param {Array}   blocks       Blocks to map.\n * @param {?string} rootClientId Assumed root client ID.\n *\n * @return {Object} Block order map object.\n */\nfunction mapBlockOrder( blocks, rootClientId = '' ) {\n\tconst result = { [ rootClientId ]: [] };\n\n\tblocks.forEach( ( block ) => {\n\t\tconst { clientId, innerBlocks } = block;\n\n\t\tresult[ rootClientId ].push( clientId );\n\n\t\tObject.assign( result, mapBlockOrder( innerBlocks, clientId ) );\n\t} );\n\n\treturn result;\n}\n\n/**\n * Given an array of blocks, returns an object where each key contains\n * the clientId of the block and the value is the parent of the block.\n *\n * @param {Array}   blocks       Blocks to map.\n * @param {?string} rootClientId Assumed root client ID.\n *\n * @return {Object} Block order map object.\n */\nfunction mapBlockParents( blocks, rootClientId = '' ) {\n\treturn blocks.reduce(\n\t\t( result, block ) =>\n\t\t\tObject.assign(\n\t\t\t\tresult,\n\t\t\t\t{ [ block.clientId ]: rootClientId },\n\t\t\t\tmapBlockParents( block.innerBlocks, block.clientId )\n\t\t\t),\n\t\t{}\n\t);\n}\n\n/**\n * Helper method to iterate through all blocks, recursing into inner blocks,\n * applying a transformation function to each one.\n * Returns a flattened object with the transformed blocks.\n *\n * @param {Array} blocks Blocks to flatten.\n * @param {Function} transform Transforming function to be applied to each block.\n *\n * @return {Object} Flattened object.\n */\nfunction flattenBlocks( blocks, transform = identity ) {\n\tconst result = {};\n\n\tconst stack = [ ...blocks ];\n\twhile ( stack.length ) {\n\t\tconst { innerBlocks, ...block } = stack.shift();\n\t\tstack.push( ...innerBlocks );\n\t\tresult[ block.clientId ] = transform( block );\n\t}\n\n\treturn result;\n}\n\n/**\n * Given an array of blocks, returns an object containing all blocks, without\n * attributes, recursing into inner blocks. Keys correspond to the block client\n * ID, the value of which is the attributes object.\n *\n * @param {Array} blocks Blocks to flatten.\n *\n * @return {Object} Flattened block attributes object.\n */\nfunction getFlattenedBlocksWithoutAttributes( blocks ) {\n\treturn flattenBlocks( blocks, ( block ) => omit( block, 'attributes' ) );\n}\n\n/**\n * Given an array of blocks, returns an object containing all block attributes,\n * recursing into inner blocks. Keys correspond to the block client ID, the\n * value of which is the attributes object.\n *\n * @param {Array} blocks Blocks to flatten.\n *\n * @return {Object} Flattened block attributes object.\n */\nfunction getFlattenedBlockAttributes( blocks ) {\n\treturn flattenBlocks( blocks, ( block ) => block.attributes );\n}\n\n/**\n * Given a block order map object, returns *all* of the block client IDs that are\n * a descendant of the given root client ID.\n *\n * Calling this with `rootClientId` set to `''` results in a list of client IDs\n * that are in the post. That is, it excludes blocks like fetched reusable\n * blocks which are stored into state but not visible.\n *\n * @param {Object}  blocksOrder  Object that maps block client IDs to a list of\n *                               nested block client IDs.\n * @param {?string} rootClientId The root client ID to search. Defaults to ''.\n *\n * @return {Array} List of descendant client IDs.\n */\nfunction getNestedBlockClientIds( blocksOrder, rootClientId = '' ) {\n\treturn reduce(\n\t\tblocksOrder[ rootClientId ],\n\t\t( result, clientId ) => [\n\t\t\t...result,\n\t\t\tclientId,\n\t\t\t...getNestedBlockClientIds( blocksOrder, clientId ),\n\t\t],\n\t\t[]\n\t);\n}\n\n/**\n * Returns an object against which it is safe to perform mutating operations,\n * given the original object and its current working copy.\n *\n * @param {Object} original Original object.\n * @param {Object} working  Working object.\n *\n * @return {Object} Mutation-safe object.\n */\nfunction getMutateSafeObject( original, working ) {\n\tif ( original === working ) {\n\t\treturn { ...original };\n\t}\n\n\treturn working;\n}\n\n/**\n * Returns true if the two object arguments have the same keys, or false\n * otherwise.\n *\n * @param {Object} a First object.\n * @param {Object} b Second object.\n *\n * @return {boolean} Whether the two objects have the same keys.\n */\nexport function hasSameKeys( a, b ) {\n\treturn isEqual( keys( a ), keys( b ) );\n}\n\n/**\n * Returns true if, given the currently dispatching action and the previously\n * dispatched action, the two actions are updating the same block attribute, or\n * false otherwise.\n *\n * @param {Object} action     Currently dispatching action.\n * @param {Object} lastAction Previously dispatched action.\n *\n * @return {boolean} Whether actions are updating the same block attribute.\n */\nexport function isUpdatingSameBlockAttribute( action, lastAction ) {\n\treturn (\n\t\taction.type === 'UPDATE_BLOCK_ATTRIBUTES' &&\n\t\tlastAction !== undefined &&\n\t\tlastAction.type === 'UPDATE_BLOCK_ATTRIBUTES' &&\n\t\taction.clientId === lastAction.clientId &&\n\t\thasSameKeys( action.attributes, lastAction.attributes )\n\t);\n}\n\n/**\n * Utility returning an object with an empty object value for each key.\n *\n * @param {Array} objectKeys Keys to fill.\n * @return {Object} Object filled with empty object as values for each clientId.\n */\nconst fillKeysWithEmptyObject = ( objectKeys ) => {\n\treturn objectKeys.reduce( ( result, key ) => {\n\t\tresult[ key ] = {};\n\t\treturn result;\n\t}, {} );\n};\n\n/**\n * Higher-order reducer intended to compute a cache key for each block in the post.\n * A new instance of the cache key (empty object) is created each time the block object\n * needs to be refreshed (for any change in the block or its children).\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nconst withBlockCache = ( reducer ) => ( state = {}, action ) => {\n\tconst newState = reducer( state, action );\n\n\tif ( newState === state ) {\n\t\treturn state;\n\t}\n\tnewState.cache = state.cache ? state.cache : {};\n\n\t/**\n\t * For each clientId provided, traverses up parents, adding the provided clientIds\n\t * and each parent's clientId to the returned array.\n\t *\n\t * When calling this function consider that it uses the old state, so any state\n\t * modifications made by the `reducer` will not be present.\n\t *\n\t * @param {Array} clientIds an Array of block clientIds.\n\t *\n\t * @return {Array} The provided clientIds and all of their parent clientIds.\n\t */\n\tconst getBlocksWithParentsClientIds = ( clientIds ) => {\n\t\treturn clientIds.reduce( ( result, clientId ) => {\n\t\t\tlet current = clientId;\n\t\t\tdo {\n\t\t\t\tresult.push( current );\n\t\t\t\tcurrent = state.parents[ current ];\n\t\t\t} while ( current );\n\t\t\treturn result;\n\t\t}, [] );\n\t};\n\n\tswitch ( action.type ) {\n\t\tcase 'RESET_BLOCKS':\n\t\t\tnewState.cache = mapValues(\n\t\t\t\tflattenBlocks( action.blocks ),\n\t\t\t\t() => ( {} )\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'RECEIVE_BLOCKS':\n\t\tcase 'INSERT_BLOCKS': {\n\t\t\tconst updatedBlockUids = keys( flattenBlocks( action.blocks ) );\n\t\t\tif ( action.rootClientId ) {\n\t\t\t\tupdatedBlockUids.push( action.rootClientId );\n\t\t\t}\n\t\t\tnewState.cache = {\n\t\t\t\t...newState.cache,\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tgetBlocksWithParentsClientIds( updatedBlockUids )\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\t}\n\t\tcase 'UPDATE_BLOCK':\n\t\tcase 'UPDATE_BLOCK_ATTRIBUTES':\n\t\t\tnewState.cache = {\n\t\t\t\t...newState.cache,\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tgetBlocksWithParentsClientIds( [ action.clientId ] )\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\tconst parentClientIds = fillKeysWithEmptyObject(\n\t\t\t\tgetBlocksWithParentsClientIds( action.replacedClientIds )\n\t\t\t);\n\n\t\t\tnewState.cache = {\n\t\t\t\t...omit( newState.cache, action.replacedClientIds ),\n\t\t\t\t...omit( parentClientIds, action.replacedClientIds ),\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tkeys( flattenBlocks( action.blocks ) )\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\tnewState.cache = {\n\t\t\t\t...omit( newState.cache, action.removedClientIds ),\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tdifference(\n\t\t\t\t\t\tgetBlocksWithParentsClientIds( action.clientIds ),\n\t\t\t\t\t\taction.clientIds\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'MOVE_BLOCK_TO_POSITION': {\n\t\t\tconst updatedBlockUids = [ action.clientId ];\n\t\t\tif ( action.fromRootClientId ) {\n\t\t\t\tupdatedBlockUids.push( action.fromRootClientId );\n\t\t\t}\n\t\t\tif ( action.toRootClientId ) {\n\t\t\t\tupdatedBlockUids.push( action.toRootClientId );\n\t\t\t}\n\t\t\tnewState.cache = {\n\t\t\t\t...newState.cache,\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tgetBlocksWithParentsClientIds( updatedBlockUids )\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\t}\n\t\tcase 'MOVE_BLOCKS_UP':\n\t\tcase 'MOVE_BLOCKS_DOWN': {\n\t\t\tconst updatedBlockUids = [];\n\t\t\tif ( action.rootClientId ) {\n\t\t\t\tupdatedBlockUids.push( action.rootClientId );\n\t\t\t}\n\t\t\tnewState.cache = {\n\t\t\t\t...newState.cache,\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tgetBlocksWithParentsClientIds( updatedBlockUids )\n\t\t\t\t),\n\t\t\t};\n\t\t\tbreak;\n\t\t}\n\t\tcase 'SAVE_REUSABLE_BLOCK_SUCCESS': {\n\t\t\tconst updatedBlockUids = keys(\n\t\t\t\tomitBy( newState.attributes, ( attributes, clientId ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tnewState.byClientId[ clientId ].name !== 'core/block' ||\n\t\t\t\t\t\tattributes.ref !== action.updatedId\n\t\t\t\t\t);\n\t\t\t\t} )\n\t\t\t);\n\n\t\t\tnewState.cache = {\n\t\t\t\t...newState.cache,\n\t\t\t\t...fillKeysWithEmptyObject(\n\t\t\t\t\tgetBlocksWithParentsClientIds( updatedBlockUids )\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\t}\n\n\treturn newState;\n};\n\n/**\n * Higher-order reducer intended to augment the blocks reducer, assigning an\n * `isPersistentChange` property value corresponding to whether a change in\n * state can be considered as persistent. All changes are considered persistent\n * except when updating the same block attribute as in the previous action.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nfunction withPersistentBlockChange( reducer ) {\n\tlet lastAction;\n\tlet markNextChangeAsNotPersistent = false;\n\n\treturn ( state, action ) => {\n\t\tlet nextState = reducer( state, action );\n\n\t\tconst isExplicitPersistentChange =\n\t\t\taction.type === 'MARK_LAST_CHANGE_AS_PERSISTENT' ||\n\t\t\tmarkNextChangeAsNotPersistent;\n\n\t\t// Defer to previous state value (or default) unless changing or\n\t\t// explicitly marking as persistent.\n\t\tif ( state === nextState && ! isExplicitPersistentChange ) {\n\t\t\tmarkNextChangeAsNotPersistent =\n\t\t\t\taction.type === 'MARK_NEXT_CHANGE_AS_NOT_PERSISTENT';\n\n\t\t\tconst nextIsPersistentChange = get(\n\t\t\t\tstate,\n\t\t\t\t[ 'isPersistentChange' ],\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tif ( state.isPersistentChange === nextIsPersistentChange ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...nextState,\n\t\t\t\tisPersistentChange: nextIsPersistentChange,\n\t\t\t};\n\t\t}\n\n\t\tnextState = {\n\t\t\t...nextState,\n\t\t\tisPersistentChange: isExplicitPersistentChange\n\t\t\t\t? ! markNextChangeAsNotPersistent\n\t\t\t\t: ! isUpdatingSameBlockAttribute( action, lastAction ),\n\t\t};\n\n\t\t// In comparing against the previous action, consider only those which\n\t\t// would have qualified as one which would have been ignored or not\n\t\t// have resulted in a changed state.\n\t\tlastAction = action;\n\t\tmarkNextChangeAsNotPersistent =\n\t\t\taction.type === 'MARK_NEXT_CHANGE_AS_NOT_PERSISTENT';\n\n\t\treturn nextState;\n\t};\n}\n\n/**\n * Higher-order reducer intended to augment the blocks reducer, assigning an\n * `isIgnoredChange` property value corresponding to whether a change in state\n * can be considered as ignored. A change is considered ignored when the result\n * of an action not incurred by direct user interaction.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nfunction withIgnoredBlockChange( reducer ) {\n\t/**\n\t * Set of action types for which a blocks state change should be ignored.\n\t *\n\t * @type {Set}\n\t */\n\tconst IGNORED_ACTION_TYPES = new Set( [ 'RECEIVE_BLOCKS' ] );\n\n\treturn ( state, action ) => {\n\t\tconst nextState = reducer( state, action );\n\n\t\tif ( nextState !== state ) {\n\t\t\tnextState.isIgnoredChange = IGNORED_ACTION_TYPES.has( action.type );\n\t\t}\n\n\t\treturn nextState;\n\t};\n}\n\n/**\n * Higher-order reducer targeting the combined blocks reducer, augmenting\n * block client IDs in remove action to include cascade of inner blocks.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nconst withInnerBlocksRemoveCascade = ( reducer ) => ( state, action ) => {\n\tconst getAllChildren = ( clientIds ) => {\n\t\tlet result = clientIds;\n\t\tfor ( let i = 0; i < result.length; i++ ) {\n\t\t\tif ( ! state.order[ result[ i ] ] ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( result === clientIds ) {\n\t\t\t\tresult = [ ...result ];\n\t\t\t}\n\n\t\t\tresult.push( ...state.order[ result[ i ] ] );\n\t\t}\n\t\treturn result;\n\t};\n\n\tif ( state ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'REMOVE_BLOCKS':\n\t\t\t\taction = {\n\t\t\t\t\t...action,\n\t\t\t\t\ttype: 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN',\n\t\t\t\t\tremovedClientIds: getAllChildren( action.clientIds ),\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 'REPLACE_BLOCKS':\n\t\t\t\taction = {\n\t\t\t\t\t...action,\n\t\t\t\t\ttype: 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN',\n\t\t\t\t\treplacedClientIds: getAllChildren( action.clientIds ),\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Higher-order reducer which targets the combined blocks reducer and handles\n * the `RESET_BLOCKS` action. When dispatched, this action will replace all\n * blocks that exist in the post, leaving blocks that exist only in state (e.g.\n * reusable blocks) alone.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nconst withBlockReset = ( reducer ) => ( state, action ) => {\n\tif ( state && action.type === 'RESET_BLOCKS' ) {\n\t\tconst visibleClientIds = getNestedBlockClientIds( state.order );\n\t\treturn {\n\t\t\t...state,\n\t\t\tbyClientId: {\n\t\t\t\t...omit( state.byClientId, visibleClientIds ),\n\t\t\t\t...getFlattenedBlocksWithoutAttributes( action.blocks ),\n\t\t\t},\n\t\t\tattributes: {\n\t\t\t\t...omit( state.attributes, visibleClientIds ),\n\t\t\t\t...getFlattenedBlockAttributes( action.blocks ),\n\t\t\t},\n\t\t\torder: {\n\t\t\t\t...omit( state.order, visibleClientIds ),\n\t\t\t\t...mapBlockOrder( action.blocks ),\n\t\t\t},\n\t\t\tparents: {\n\t\t\t\t...omit( state.parents, visibleClientIds ),\n\t\t\t\t...mapBlockParents( action.blocks ),\n\t\t\t},\n\t\t\tcache: {\n\t\t\t\t...omit( state.cache, visibleClientIds ),\n\t\t\t\t...mapValues( flattenBlocks( action.blocks ), () => ( {} ) ),\n\t\t\t},\n\t\t};\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Higher-order reducer which targets the combined blocks reducer and handles\n * the `REPLACE_INNER_BLOCKS` action. When dispatched, this action the state should become equivalent\n * to the execution of a `REMOVE_BLOCKS` action containing all the child's of the root block followed by\n * the execution of `INSERT_BLOCKS` with the new blocks.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nconst withReplaceInnerBlocks = ( reducer ) => ( state, action ) => {\n\tif ( action.type !== 'REPLACE_INNER_BLOCKS' ) {\n\t\treturn reducer( state, action );\n\t}\n\tlet stateAfterBlocksRemoval = state;\n\tif ( state.order[ action.rootClientId ] ) {\n\t\tstateAfterBlocksRemoval = reducer( stateAfterBlocksRemoval, {\n\t\t\ttype: 'REMOVE_BLOCKS',\n\t\t\tclientIds: state.order[ action.rootClientId ],\n\t\t} );\n\t}\n\tlet stateAfterInsert = stateAfterBlocksRemoval;\n\tif ( action.blocks.length ) {\n\t\tstateAfterInsert = reducer( stateAfterInsert, {\n\t\t\t...action,\n\t\t\ttype: 'INSERT_BLOCKS',\n\t\t\tindex: 0,\n\t\t} );\n\t}\n\treturn stateAfterInsert;\n};\n\n/**\n * Higher-order reducer which targets the combined blocks reducer and handles\n * the `SAVE_REUSABLE_BLOCK_SUCCESS` action. This action can't be handled by\n * regular reducers and needs a higher-order reducer since it needs access to\n * both `byClientId` and `attributes` simultaneously.\n *\n * @param {Function} reducer Original reducer function.\n *\n * @return {Function} Enhanced reducer function.\n */\nconst withSaveReusableBlock = ( reducer ) => ( state, action ) => {\n\tif ( state && action.type === 'SAVE_REUSABLE_BLOCK_SUCCESS' ) {\n\t\tconst { id, updatedId } = action;\n\n\t\t// If a temporary reusable block is saved, we swap the temporary id with the final one\n\t\tif ( id === updatedId ) {\n\t\t\treturn state;\n\t\t}\n\n\t\tstate = { ...state };\n\n\t\tstate.attributes = mapValues(\n\t\t\tstate.attributes,\n\t\t\t( attributes, clientId ) => {\n\t\t\t\tconst { name } = state.byClientId[ clientId ];\n\t\t\t\tif ( name === 'core/block' && attributes.ref === id ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\tref: updatedId,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn attributes;\n\t\t\t}\n\t\t);\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Reducer returning the blocks state.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const blocks = flow(\n\tcombineReducers,\n\twithSaveReusableBlock, // needs to be before withBlockCache\n\twithBlockCache, // needs to be before withInnerBlocksRemoveCascade\n\twithInnerBlocksRemoveCascade,\n\twithReplaceInnerBlocks, // needs to be after withInnerBlocksRemoveCascade\n\twithBlockReset,\n\twithPersistentBlockChange,\n\twithIgnoredBlockChange\n)( {\n\tbyClientId( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'RESET_BLOCKS':\n\t\t\t\treturn getFlattenedBlocksWithoutAttributes( action.blocks );\n\n\t\t\tcase 'RECEIVE_BLOCKS':\n\t\t\tcase 'INSERT_BLOCKS':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...getFlattenedBlocksWithoutAttributes( action.blocks ),\n\t\t\t\t};\n\n\t\t\tcase 'UPDATE_BLOCK':\n\t\t\t\t// Ignore updates if block isn't known\n\t\t\t\tif ( ! state[ action.clientId ] ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\t// Do nothing if only attributes change.\n\t\t\t\tconst changes = omit( action.updates, 'attributes' );\n\t\t\t\tif ( isEmpty( changes ) ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ action.clientId ]: {\n\t\t\t\t\t\t...state[ action.clientId ],\n\t\t\t\t\t\t...changes,\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\tcase 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\tif ( ! action.blocks ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...omit( state, action.replacedClientIds ),\n\t\t\t\t\t...getFlattenedBlocksWithoutAttributes( action.blocks ),\n\t\t\t\t};\n\n\t\t\tcase 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\treturn omit( state, action.removedClientIds );\n\t\t}\n\n\t\treturn state;\n\t},\n\n\tattributes( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'RESET_BLOCKS':\n\t\t\t\treturn getFlattenedBlockAttributes( action.blocks );\n\n\t\t\tcase 'RECEIVE_BLOCKS':\n\t\t\tcase 'INSERT_BLOCKS':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...getFlattenedBlockAttributes( action.blocks ),\n\t\t\t\t};\n\n\t\t\tcase 'UPDATE_BLOCK':\n\t\t\t\t// Ignore updates if block isn't known or there are no attribute changes.\n\t\t\t\tif (\n\t\t\t\t\t! state[ action.clientId ] ||\n\t\t\t\t\t! action.updates.attributes\n\t\t\t\t) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ action.clientId ]: {\n\t\t\t\t\t\t...state[ action.clientId ],\n\t\t\t\t\t\t...action.updates.attributes,\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\tcase 'UPDATE_BLOCK_ATTRIBUTES':\n\t\t\t\t// Ignore updates if block isn't known\n\t\t\t\tif ( ! state[ action.clientId ] ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\t// Consider as updates only changed values\n\t\t\t\tconst nextAttributes = reduce(\n\t\t\t\t\taction.attributes,\n\t\t\t\t\t( result, value, key ) => {\n\t\t\t\t\t\tif ( value !== result[ key ] ) {\n\t\t\t\t\t\t\tresult = getMutateSafeObject(\n\t\t\t\t\t\t\t\tstate[ action.clientId ],\n\t\t\t\t\t\t\t\tresult\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tresult[ key ] = value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\t\t\t\t\tstate[ action.clientId ]\n\t\t\t\t);\n\n\t\t\t\t// Skip update if nothing has been changed. The reference will\n\t\t\t\t// match the original block if `reduce` had no changed values.\n\t\t\t\tif ( nextAttributes === state[ action.clientId ] ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\t// Otherwise replace attributes in state\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ action.clientId ]: nextAttributes,\n\t\t\t\t};\n\n\t\t\tcase 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\tif ( ! action.blocks ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...omit( state, action.replacedClientIds ),\n\t\t\t\t\t...getFlattenedBlockAttributes( action.blocks ),\n\t\t\t\t};\n\n\t\t\tcase 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\treturn omit( state, action.removedClientIds );\n\t\t}\n\n\t\treturn state;\n\t},\n\n\torder( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'RESET_BLOCKS':\n\t\t\t\treturn mapBlockOrder( action.blocks );\n\n\t\t\tcase 'RECEIVE_BLOCKS':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...omit( mapBlockOrder( action.blocks ), '' ),\n\t\t\t\t};\n\n\t\t\tcase 'INSERT_BLOCKS': {\n\t\t\t\tconst { rootClientId = '' } = action;\n\t\t\t\tconst subState = state[ rootClientId ] || [];\n\t\t\t\tconst mappedBlocks = mapBlockOrder(\n\t\t\t\t\taction.blocks,\n\t\t\t\t\trootClientId\n\t\t\t\t);\n\t\t\t\tconst { index = subState.length } = action;\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...mappedBlocks,\n\t\t\t\t\t[ rootClientId ]: insertAt(\n\t\t\t\t\t\tsubState,\n\t\t\t\t\t\tmappedBlocks[ rootClientId ],\n\t\t\t\t\t\tindex\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'MOVE_BLOCK_TO_POSITION': {\n\t\t\t\tconst {\n\t\t\t\t\tfromRootClientId = '',\n\t\t\t\t\ttoRootClientId = '',\n\t\t\t\t\tclientId,\n\t\t\t\t} = action;\n\t\t\t\tconst { index = state[ toRootClientId ].length } = action;\n\n\t\t\t\t// Moving inside the same parent block\n\t\t\t\tif ( fromRootClientId === toRootClientId ) {\n\t\t\t\t\tconst subState = state[ toRootClientId ];\n\t\t\t\t\tconst fromIndex = subState.indexOf( clientId );\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\t[ toRootClientId ]: moveTo(\n\t\t\t\t\t\t\tstate[ toRootClientId ],\n\t\t\t\t\t\t\tfromIndex,\n\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t),\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Moving from a parent block to another\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ fromRootClientId ]: without(\n\t\t\t\t\t\tstate[ fromRootClientId ],\n\t\t\t\t\t\tclientId\n\t\t\t\t\t),\n\t\t\t\t\t[ toRootClientId ]: insertAt(\n\t\t\t\t\t\tstate[ toRootClientId ],\n\t\t\t\t\t\tclientId,\n\t\t\t\t\t\tindex\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'MOVE_BLOCKS_UP': {\n\t\t\t\tconst { clientIds, rootClientId = '' } = action;\n\t\t\t\tconst firstClientId = first( clientIds );\n\t\t\t\tconst subState = state[ rootClientId ];\n\n\t\t\t\tif (\n\t\t\t\t\t! subState.length ||\n\t\t\t\t\tfirstClientId === first( subState )\n\t\t\t\t) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tconst firstIndex = subState.indexOf( firstClientId );\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ rootClientId ]: moveTo(\n\t\t\t\t\t\tsubState,\n\t\t\t\t\t\tfirstIndex,\n\t\t\t\t\t\tfirstIndex - 1,\n\t\t\t\t\t\tclientIds.length\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'MOVE_BLOCKS_DOWN': {\n\t\t\t\tconst { clientIds, rootClientId = '' } = action;\n\t\t\t\tconst firstClientId = first( clientIds );\n\t\t\t\tconst lastClientId = last( clientIds );\n\t\t\t\tconst subState = state[ rootClientId ];\n\n\t\t\t\tif ( ! subState.length || lastClientId === last( subState ) ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tconst firstIndex = subState.indexOf( firstClientId );\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ rootClientId ]: moveTo(\n\t\t\t\t\t\tsubState,\n\t\t\t\t\t\tfirstIndex,\n\t\t\t\t\t\tfirstIndex + 1,\n\t\t\t\t\t\tclientIds.length\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN': {\n\t\t\t\tconst { clientIds } = action;\n\t\t\t\tif ( ! action.blocks ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tconst mappedBlocks = mapBlockOrder( action.blocks );\n\n\t\t\t\treturn flow( [\n\t\t\t\t\t( nextState ) =>\n\t\t\t\t\t\tomit( nextState, action.replacedClientIds ),\n\t\t\t\t\t( nextState ) => ( {\n\t\t\t\t\t\t...nextState,\n\t\t\t\t\t\t...omit( mappedBlocks, '' ),\n\t\t\t\t\t} ),\n\t\t\t\t\t( nextState ) =>\n\t\t\t\t\t\tmapValues( nextState, ( subState ) =>\n\t\t\t\t\t\t\treduce(\n\t\t\t\t\t\t\t\tsubState,\n\t\t\t\t\t\t\t\t( result, clientId ) => {\n\t\t\t\t\t\t\t\t\tif ( clientId === clientIds[ 0 ] ) {\n\t\t\t\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\t\t\t...result,\n\t\t\t\t\t\t\t\t\t\t\t...mappedBlocks[ '' ],\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tclientIds.indexOf( clientId ) === -1\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tresult.push( clientId );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t] )( state );\n\t\t\t}\n\n\t\t\tcase 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\treturn flow( [\n\t\t\t\t\t// Remove inner block ordering for removed blocks\n\t\t\t\t\t( nextState ) => omit( nextState, action.removedClientIds ),\n\n\t\t\t\t\t// Remove deleted blocks from other blocks' orderings\n\t\t\t\t\t( nextState ) =>\n\t\t\t\t\t\tmapValues( nextState, ( subState ) =>\n\t\t\t\t\t\t\twithout( subState, ...action.removedClientIds )\n\t\t\t\t\t\t),\n\t\t\t\t] )( state );\n\t\t}\n\n\t\treturn state;\n\t},\n\n\t// While technically redundant data as the inverse of `order`, it serves as\n\t// an optimization for the selectors which derive the ancestry of a block.\n\tparents( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'RESET_BLOCKS':\n\t\t\t\treturn mapBlockParents( action.blocks );\n\n\t\t\tcase 'RECEIVE_BLOCKS':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...mapBlockParents( action.blocks ),\n\t\t\t\t};\n\n\t\t\tcase 'INSERT_BLOCKS':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...mapBlockParents(\n\t\t\t\t\t\taction.blocks,\n\t\t\t\t\t\taction.rootClientId || ''\n\t\t\t\t\t),\n\t\t\t\t};\n\n\t\t\tcase 'MOVE_BLOCK_TO_POSITION': {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ action.clientId ]: action.toRootClientId || '',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\treturn {\n\t\t\t\t\t...omit( state, action.replacedClientIds ),\n\t\t\t\t\t...mapBlockParents(\n\t\t\t\t\t\taction.blocks,\n\t\t\t\t\t\tstate[ action.clientIds[ 0 ] ]\n\t\t\t\t\t),\n\t\t\t\t};\n\n\t\t\tcase 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':\n\t\t\t\treturn omit( state, action.removedClientIds );\n\t\t}\n\n\t\treturn state;\n\t},\n} );\n\n/**\n * Reducer returning typing state.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function isTyping( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'START_TYPING':\n\t\t\treturn true;\n\n\t\tcase 'STOP_TYPING':\n\t\t\treturn false;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning dragging state.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function isDraggingBlocks( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'START_DRAGGING_BLOCKS':\n\t\t\treturn true;\n\n\t\tcase 'STOP_DRAGGING_BLOCKS':\n\t\t\treturn false;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning whether the caret is within formatted text.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function isCaretWithinFormattedText( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ENTER_FORMATTED_TEXT':\n\t\t\treturn true;\n\n\t\tcase 'EXIT_FORMATTED_TEXT':\n\t\t\treturn false;\n\t}\n\n\treturn state;\n}\n\n/**\n * Internal helper reducer for selectionStart and selectionEnd. Can hold a block\n * selection, represented by an object with property clientId.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nfunction selection( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'CLEAR_SELECTED_BLOCK': {\n\t\t\tif ( state.clientId ) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\treturn state;\n\t\t}\n\t\tcase 'SELECT_BLOCK':\n\t\t\tif ( action.clientId === state.clientId ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn { clientId: action.clientId };\n\t\tcase 'REPLACE_INNER_BLOCKS': // REPLACE_INNER_BLOCKS and INSERT_BLOCKS should follow the same logic.\n\t\tcase 'INSERT_BLOCKS': {\n\t\t\tif ( ! action.updateSelection ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn { clientId: action.blocks[ 0 ].clientId };\n\t\t}\n\t\tcase 'REMOVE_BLOCKS':\n\t\t\tif (\n\t\t\t\t! action.clientIds ||\n\t\t\t\t! action.clientIds.length ||\n\t\t\t\taction.clientIds.indexOf( state.clientId ) === -1\n\t\t\t) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {};\n\t\tcase 'REPLACE_BLOCKS': {\n\t\t\tif ( action.clientIds.indexOf( state.clientId ) === -1 ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst indexToSelect =\n\t\t\t\taction.indexToSelect || action.blocks.length - 1;\n\t\t\tconst blockToSelect = action.blocks[ indexToSelect ];\n\n\t\t\tif ( ! blockToSelect ) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tif ( blockToSelect.clientId === state.clientId ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn { clientId: blockToSelect.clientId };\n\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the block selection's start.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function selectionStart( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SELECTION_CHANGE':\n\t\t\treturn {\n\t\t\t\tclientId: action.clientId,\n\t\t\t\tattributeKey: action.attributeKey,\n\t\t\t\toffset: action.startOffset,\n\t\t\t};\n\t\tcase 'RESET_SELECTION':\n\t\t\treturn action.selectionStart;\n\t\tcase 'MULTI_SELECT':\n\t\t\treturn { clientId: action.start };\n\t}\n\n\treturn selection( state, action );\n}\n\n/**\n * Reducer returning the block selection's end.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function selectionEnd( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SELECTION_CHANGE':\n\t\t\treturn {\n\t\t\t\tclientId: action.clientId,\n\t\t\t\tattributeKey: action.attributeKey,\n\t\t\t\toffset: action.endOffset,\n\t\t\t};\n\t\tcase 'RESET_SELECTION':\n\t\t\treturn action.selectionEnd;\n\t\tcase 'MULTI_SELECT':\n\t\t\treturn { clientId: action.end };\n\t}\n\n\treturn selection( state, action );\n}\n\n/**\n * Reducer returning whether the user is multi-selecting.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function isMultiSelecting( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'START_MULTI_SELECT':\n\t\t\treturn true;\n\n\t\tcase 'STOP_MULTI_SELECT':\n\t\t\treturn false;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning whether selection is enabled.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function isSelectionEnabled( state = true, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'TOGGLE_SELECTION':\n\t\t\treturn action.isSelectionEnabled;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the intial block selection.\n *\n * Currently this in only used to restore the selection after block deletion.\n * This reducer should eventually be removed in favour of setting selection\n * directly.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {?number} Initial position: -1 or undefined.\n */\nexport function initialPosition( state, action ) {\n\tif ( action.type === 'SELECT_BLOCK' ) {\n\t\treturn action.initialPosition;\n\t} else if ( action.type === 'REMOVE_BLOCKS' ) {\n\t\treturn state;\n\t}\n\n\t// Reset the state by default (for any action not handled).\n}\n\nexport function blocksMode( state = {}, action ) {\n\tif ( action.type === 'TOGGLE_BLOCK_MODE' ) {\n\t\tconst { clientId } = action;\n\t\treturn {\n\t\t\t...state,\n\t\t\t[ clientId ]:\n\t\t\t\tstate[ clientId ] && state[ clientId ] === 'html'\n\t\t\t\t\t? 'visual'\n\t\t\t\t\t: 'html',\n\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the block insertion point visibility, either null if there\n * is not an explicit insertion point assigned, or an object of its `index` and\n * `rootClientId`.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function insertionPoint( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SHOW_INSERTION_POINT':\n\t\t\tconst { rootClientId, index } = action;\n\t\t\treturn { rootClientId, index };\n\n\t\tcase 'HIDE_INSERTION_POINT':\n\t\t\treturn null;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning whether the post blocks match the defined template or not.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function template( state = { isValid: true }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_TEMPLATE_VALIDITY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisValid: action.isValid,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the editor setting.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function settings( state = SETTINGS_DEFAULTS, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.settings,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the user preferences.\n *\n * @param {Object}  state                 Current state.\n * @param {Object}  action                Dispatched action.\n *\n * @return {string} Updated state.\n */\nexport function preferences( state = PREFERENCES_DEFAULTS, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'INSERT_BLOCKS':\n\t\tcase 'REPLACE_BLOCKS':\n\t\t\treturn action.blocks.reduce( ( prevState, block ) => {\n\t\t\t\tlet id = block.name;\n\t\t\t\tconst insert = { name: block.name };\n\t\t\t\tif ( isReusableBlock( block ) ) {\n\t\t\t\t\tinsert.ref = block.attributes.ref;\n\t\t\t\t\tid += '/' + block.attributes.ref;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...prevState,\n\t\t\t\t\tinsertUsage: {\n\t\t\t\t\t\t...prevState.insertUsage,\n\t\t\t\t\t\t[ id ]: {\n\t\t\t\t\t\t\ttime: action.time,\n\t\t\t\t\t\t\tcount: prevState.insertUsage[ id ]\n\t\t\t\t\t\t\t\t? prevState.insertUsage[ id ].count + 1\n\t\t\t\t\t\t\t\t: 1,\n\t\t\t\t\t\t\tinsert,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}, state );\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning an object where each key is a block client ID, its value\n * representing the settings for its nested blocks.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const blockListSettings = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\t// Even if the replaced blocks have the same client ID, our logic\n\t\t// should correct the state.\n\t\tcase 'REPLACE_BLOCKS':\n\t\tcase 'REMOVE_BLOCKS': {\n\t\t\treturn omit( state, action.clientIds );\n\t\t}\n\t\tcase 'UPDATE_BLOCK_LIST_SETTINGS': {\n\t\t\tconst { clientId } = action;\n\t\t\tif ( ! action.settings ) {\n\t\t\t\tif ( state.hasOwnProperty( clientId ) ) {\n\t\t\t\t\treturn omit( state, clientId );\n\t\t\t\t}\n\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tif ( isEqual( state[ clientId ], action.settings ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ clientId ]: action.settings,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n};\n\n/**\n * Reducer returning whether the navigation mode is enabled or not.\n *\n * @param {string} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {string} Updated state.\n */\nexport function isNavigationMode( state = false, action ) {\n\t// Let inserting block always trigger Edit mode.\n\tif ( action.type === 'INSERT_BLOCKS' ) {\n\t\treturn false;\n\t}\n\n\tif ( action.type === 'SET_NAVIGATION_MODE' ) {\n\t\treturn action.isNavigationMode;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer return an updated state representing the most recent block attribute\n * update. The state is structured as an object where the keys represent the\n * client IDs of blocks, the values a subset of attributes from the most recent\n * block update. The state is always reset to null if the last action is\n * anything other than an attributes update.\n *\n * @param {Object<string,Object>} state  Current state.\n * @param {Object}                action Action object.\n *\n * @return {[string,Object]} Updated state.\n */\nexport function lastBlockAttributesChange( state, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_BLOCK':\n\t\t\tif ( ! action.updates.attributes ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn { [ action.clientId ]: action.updates.attributes };\n\n\t\tcase 'UPDATE_BLOCK_ATTRIBUTES':\n\t\t\treturn { [ action.clientId ]: action.attributes };\n\t}\n\n\treturn null;\n}\n\n/**\n * Reducer returning automatic change state.\n *\n * @param {boolean} state  Current state.\n * @param {Object}  action Dispatched action.\n *\n * @return {string} Updated state.\n */\nexport function automaticChangeStatus( state, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'MARK_AUTOMATIC_CHANGE':\n\t\t\treturn 'pending';\n\t\tcase 'MARK_AUTOMATIC_CHANGE_FINAL':\n\t\t\tif ( state === 'pending' ) {\n\t\t\t\treturn 'final';\n\t\t\t}\n\n\t\t\treturn;\n\t\tcase 'SELECTION_CHANGE':\n\t\t\t// As long as the state is not final, ignore any selection changes.\n\t\t\tif ( state !== 'final' ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn;\n\t\t// Undoing an automatic change should still be possible after mouse\n\t\t// move.\n\t\tcase 'STOP_TYPING':\n\t\t\treturn state;\n\t}\n\n\t// Reset the state by default (for any action not handled).\n}\n\n/**\n * Reducer returning current highlighted block.\n *\n * @param {boolean} state  Current highlighted block.\n * @param {Object}  action Dispatched action.\n *\n * @return {string} Updated state.\n */\nexport function highlightedBlock( state, action ) {\n\tconst { clientId, isHighlighted } = action;\n\n\tif ( action.type === 'TOGGLE_BLOCK_HIGHLIGHT' ) {\n\t\tif ( isHighlighted ) {\n\t\t\treturn clientId;\n\t\t} else if ( state === clientId ) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tblocks,\n\tisTyping,\n\tisDraggingBlocks,\n\tisCaretWithinFormattedText,\n\tselectionStart,\n\tselectionEnd,\n\tisMultiSelecting,\n\tisSelectionEnabled,\n\tinitialPosition,\n\tblocksMode,\n\tblockListSettings,\n\tinsertionPoint,\n\ttemplate,\n\tsettings,\n\tpreferences,\n\tlastBlockAttributesChange,\n\tisNavigationMode,\n\tautomaticChangeStatus,\n\thighlightedBlock,\n} );\n","/**\n * WordPress dependencies\n */\nimport { createRegistryControl } from '@wordpress/data';\n\n/**\n * Calls a selector using the current state.\n *\n * @param {string} storeName    Store name.\n * @param {string} selectorName Selector name.\n * @param  {Array} args         Selector arguments.\n *\n * @return {Object} control descriptor.\n */\nexport function select( storeName, selectorName, ...args ) {\n\treturn {\n\t\ttype: 'SELECT',\n\t\tstoreName,\n\t\tselectorName,\n\t\targs,\n\t};\n}\n\nconst controls = {\n\tSELECT: createRegistryControl(\n\t\t( registry ) => ( { storeName, selectorName, args } ) => {\n\t\t\treturn registry.select( storeName )[ selectorName ]( ...args );\n\t\t}\n\t),\n};\n\nexport default controls;\n","/**\n * Internal dependencies\n */\nimport defaultRegistry from './default-registry';\n\n/** @typedef {import('./registry').WPDataRegistry} WPDataRegistry */\n\n/**\n * Mark a selector as a registry selector.\n *\n * @param {Function} registrySelector Function receiving a registry object and returning a state selector.\n *\n * @return {Function} marked registry selector.\n */\nexport function createRegistrySelector( registrySelector ) {\n\tconst selector = ( ...args ) =>\n\t\tregistrySelector( selector.registry.select )( ...args );\n\n\t/**\n\t * Flag indicating to selector registration mapping that the selector should\n\t * be mapped as a registry selector.\n\t *\n\t * @type {boolean}\n\t */\n\tselector.isRegistrySelector = true;\n\n\t/**\n\t * Registry on which to call `select`, stubbed for non-standard usage to\n\t * use the default registry.\n\t *\n\t * @type {WPDataRegistry}\n\t */\n\tselector.registry = defaultRegistry;\n\n\treturn selector;\n}\n\n/**\n * Mark a control as a registry control.\n *\n * @param {Function} registryControl Function receiving a registry object and returning a control.\n *\n * @return {Function} marked registry control.\n */\nexport function createRegistryControl( registryControl ) {\n\tregistryControl.isRegistryControl = true;\n\n\treturn registryControl;\n}\n","/**\n * External dependencies\n */\nimport { castArray, first, get, includes, last, some } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tgetDefaultBlockName,\n\tcreateBlock,\n\thasBlockSupport,\n\tcloneBlock,\n} from '@wordpress/blocks';\nimport { speak } from '@wordpress/a11y';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { select } from './controls';\n\n/**\n * Generator which will yield a default block insert action if there\n * are no other blocks at the root of the editor. This generator should be used\n * in actions which may result in no blocks remaining in the editor (removal,\n * replacement, etc).\n */\nfunction* ensureDefaultBlock() {\n\tconst count = yield select( 'core/block-editor', 'getBlockCount' );\n\n\t// To avoid a focus loss when removing the last block, assure there is\n\t// always a default block if the last of the blocks have been removed.\n\tif ( count === 0 ) {\n\t\tyield insertDefaultBlock();\n\t}\n}\n\n/**\n * Returns an action object used in signalling that blocks state should be\n * reset to the specified array of blocks, taking precedence over any other\n * content reflected as an edit in state.\n *\n * @param {Array} blocks Array of blocks.\n *\n * @return {Object} Action object.\n */\nexport function resetBlocks( blocks ) {\n\treturn {\n\t\ttype: 'RESET_BLOCKS',\n\t\tblocks,\n\t};\n}\n\n/**\n * A block selection object.\n *\n * @typedef {Object} WPBlockSelection\n *\n * @property {string} clientId     A block client ID.\n * @property {string} attributeKey A block attribute key.\n * @property {number} offset       An attribute value offset, based on the rich\n *                                 text value. See `wp.richText.create`.\n */\n\n/**\n * Returns an action object used in signalling that selection state should be\n * reset to the specified selection.\n *\n * @param {WPBlockSelection} selectionStart The selection start.\n * @param {WPBlockSelection} selectionEnd   The selection end.\n *\n * @return {Object} Action object.\n */\nexport function resetSelection( selectionStart, selectionEnd ) {\n\treturn {\n\t\ttype: 'RESET_SELECTION',\n\t\tselectionStart,\n\t\tselectionEnd,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that blocks have been received.\n * Unlike resetBlocks, these should be appended to the existing known set, not\n * replacing.\n *\n * @param {Object[]} blocks Array of block objects.\n *\n * @return {Object} Action object.\n */\nexport function receiveBlocks( blocks ) {\n\treturn {\n\t\ttype: 'RECEIVE_BLOCKS',\n\t\tblocks,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the block attributes with\n * the specified client ID has been updated.\n *\n * @param {string} clientId   Block client ID.\n * @param {Object} attributes Block attributes to be merged.\n *\n * @return {Object} Action object.\n */\nexport function updateBlockAttributes( clientId, attributes ) {\n\treturn {\n\t\ttype: 'UPDATE_BLOCK_ATTRIBUTES',\n\t\tclientId,\n\t\tattributes,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the block with the\n * specified client ID has been updated.\n *\n * @param {string} clientId Block client ID.\n * @param {Object} updates  Block attributes to be merged.\n *\n * @return {Object} Action object.\n */\nexport function updateBlock( clientId, updates ) {\n\treturn {\n\t\ttype: 'UPDATE_BLOCK',\n\t\tclientId,\n\t\tupdates,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the block with the\n * specified client ID has been selected, optionally accepting a position\n * value reflecting its selection directionality. An initialPosition of -1\n * reflects a reverse selection.\n *\n * @param {string}  clientId        Block client ID.\n * @param {?number} initialPosition Optional initial position. Pass as -1 to\n *                                  reflect reverse selection.\n *\n * @return {Object} Action object.\n */\nexport function selectBlock( clientId, initialPosition = null ) {\n\treturn {\n\t\ttype: 'SELECT_BLOCK',\n\t\tinitialPosition,\n\t\tclientId,\n\t};\n}\n\n/**\n * Yields action objects used in signalling that the block preceding the given\n * clientId should be selected.\n *\n * @param {string} clientId Block client ID.\n */\nexport function* selectPreviousBlock( clientId ) {\n\tconst previousBlockClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getPreviousBlockClientId',\n\t\tclientId\n\t);\n\n\tif ( previousBlockClientId ) {\n\t\tyield selectBlock( previousBlockClientId, -1 );\n\t}\n}\n\n/**\n * Yields action objects used in signalling that the block following the given\n * clientId should be selected.\n *\n * @param {string} clientId Block client ID.\n */\nexport function* selectNextBlock( clientId ) {\n\tconst nextBlockClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getNextBlockClientId',\n\t\tclientId\n\t);\n\n\tif ( nextBlockClientId ) {\n\t\tyield selectBlock( nextBlockClientId );\n\t}\n}\n\n/**\n * Returns an action object used in signalling that a block multi-selection has started.\n *\n * @return {Object} Action object.\n */\nexport function startMultiSelect() {\n\treturn {\n\t\ttype: 'START_MULTI_SELECT',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that block multi-selection stopped.\n *\n * @return {Object} Action object.\n */\nexport function stopMultiSelect() {\n\treturn {\n\t\ttype: 'STOP_MULTI_SELECT',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that block multi-selection changed.\n *\n * @param {string} start First block of the multi selection.\n * @param {string} end   Last block of the multiselection.\n *\n * @return {Object} Action object.\n */\nexport function multiSelect( start, end ) {\n\treturn {\n\t\ttype: 'MULTI_SELECT',\n\t\tstart,\n\t\tend,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the block selection is cleared.\n *\n * @return {Object} Action object.\n */\nexport function clearSelectedBlock() {\n\treturn {\n\t\ttype: 'CLEAR_SELECTED_BLOCK',\n\t};\n}\n\n/**\n * Returns an action object that enables or disables block selection.\n *\n * @param {boolean} [isSelectionEnabled=true] Whether block selection should\n *                                            be enabled.\n *\n * @return {Object} Action object.\n */\nexport function toggleSelection( isSelectionEnabled = true ) {\n\treturn {\n\t\ttype: 'TOGGLE_SELECTION',\n\t\tisSelectionEnabled,\n\t};\n}\n\nfunction getBlocksWithDefaultStylesApplied( blocks, blockEditorSettings ) {\n\tconst preferredStyleVariations = get(\n\t\tblockEditorSettings,\n\t\t[ '__experimentalPreferredStyleVariations', 'value' ],\n\t\t{}\n\t);\n\treturn blocks.map( ( block ) => {\n\t\tconst blockName = block.name;\n\t\tif ( ! hasBlockSupport( blockName, 'defaultStylePicker', true ) ) {\n\t\t\treturn block;\n\t\t}\n\t\tif ( ! preferredStyleVariations[ blockName ] ) {\n\t\t\treturn block;\n\t\t}\n\t\tconst className = get( block, [ 'attributes', 'className' ] );\n\t\tif ( includes( className, 'is-style-' ) ) {\n\t\t\treturn block;\n\t\t}\n\t\tconst { attributes = {} } = block;\n\t\tconst blockStyle = preferredStyleVariations[ blockName ];\n\t\treturn {\n\t\t\t...block,\n\t\t\tattributes: {\n\t\t\t\t...attributes,\n\t\t\t\tclassName: `${ className ||\n\t\t\t\t\t'' } is-style-${ blockStyle }`.trim(),\n\t\t\t},\n\t\t};\n\t} );\n}\n\n/**\n * Returns an action object signalling that a blocks should be replaced with\n * one or more replacement blocks.\n *\n * @param {(string|string[])} clientIds     Block client ID(s) to replace.\n * @param {(Object|Object[])} blocks        Replacement block(s).\n * @param {number}            indexToSelect Index of replacement block to\n *                                          select.\n *\n * @yield {Object} Action object.\n */\nexport function* replaceBlocks( clientIds, blocks, indexToSelect ) {\n\tclientIds = castArray( clientIds );\n\tblocks = getBlocksWithDefaultStylesApplied(\n\t\tcastArray( blocks ),\n\t\tyield select( 'core/block-editor', 'getSettings' )\n\t);\n\tconst rootClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockRootClientId',\n\t\tfirst( clientIds )\n\t);\n\t// Replace is valid if the new blocks can be inserted in the root block.\n\tfor ( let index = 0; index < blocks.length; index++ ) {\n\t\tconst block = blocks[ index ];\n\t\tconst canInsertBlock = yield select(\n\t\t\t'core/block-editor',\n\t\t\t'canInsertBlockType',\n\t\t\tblock.name,\n\t\t\trootClientId\n\t\t);\n\t\tif ( ! canInsertBlock ) {\n\t\t\treturn;\n\t\t}\n\t}\n\tyield {\n\t\ttype: 'REPLACE_BLOCKS',\n\t\tclientIds,\n\t\tblocks,\n\t\ttime: Date.now(),\n\t\tindexToSelect,\n\t};\n\tyield* ensureDefaultBlock();\n}\n\n/**\n * Returns an action object signalling that a single block should be replaced\n * with one or more replacement blocks.\n *\n * @param {(string|string[])} clientId Block client ID to replace.\n * @param {(Object|Object[])} block    Replacement block(s).\n *\n * @return {Object} Action object.\n */\nexport function replaceBlock( clientId, block ) {\n\treturn replaceBlocks( clientId, block );\n}\n\n/**\n * Higher-order action creator which, given the action type to dispatch creates\n * an action creator for managing block movement.\n *\n * @param {string} type Action type to dispatch.\n *\n * @return {Function} Action creator.\n */\nfunction createOnMove( type ) {\n\treturn ( clientIds, rootClientId ) => {\n\t\treturn {\n\t\t\tclientIds: castArray( clientIds ),\n\t\t\ttype,\n\t\t\trootClientId,\n\t\t};\n\t};\n}\n\nexport const moveBlocksDown = createOnMove( 'MOVE_BLOCKS_DOWN' );\nexport const moveBlocksUp = createOnMove( 'MOVE_BLOCKS_UP' );\n\n/**\n * Returns an action object signalling that an indexed block should be moved\n * to a new index.\n *\n * @param  {?string} clientId         The client ID of the block.\n * @param  {?string} fromRootClientId Root client ID source.\n * @param  {?string} toRootClientId   Root client ID destination.\n * @param  {number}  index            The index to move the block into.\n *\n * @yield {Object} Action object.\n */\nexport function* moveBlockToPosition(\n\tclientId,\n\tfromRootClientId = '',\n\ttoRootClientId = '',\n\tindex\n) {\n\tconst templateLock = yield select(\n\t\t'core/block-editor',\n\t\t'getTemplateLock',\n\t\tfromRootClientId\n\t);\n\n\t// If locking is equal to all on the original clientId (fromRootClientId),\n\t// it is not possible to move the block to any other position.\n\tif ( templateLock === 'all' ) {\n\t\treturn;\n\t}\n\n\tconst action = {\n\t\ttype: 'MOVE_BLOCK_TO_POSITION',\n\t\tfromRootClientId,\n\t\ttoRootClientId,\n\t\tclientId,\n\t\tindex,\n\t};\n\t// If moving inside the same root block the move is always possible.\n\tif ( fromRootClientId === toRootClientId ) {\n\t\tyield action;\n\t\treturn;\n\t}\n\n\t// If templateLock is insert we can not remove the block from the parent.\n\t// Given that here we know that we are moving the block to a different parent, the move should not be possible if the condition is true.\n\tif ( templateLock === 'insert' ) {\n\t\treturn;\n\t}\n\n\tconst blockName = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockName',\n\t\tclientId\n\t);\n\n\tconst canInsertBlock = yield select(\n\t\t'core/block-editor',\n\t\t'canInsertBlockType',\n\t\tblockName,\n\t\ttoRootClientId\n\t);\n\n\t// If moving to other parent block, the move is possible if we can insert a block of the same type inside the new parent block.\n\tif ( canInsertBlock ) {\n\t\tyield action;\n\t}\n}\n\n/**\n * Returns an action object used in signalling that a single block should be\n * inserted, optionally at a specific index respective a root block list.\n *\n * @param {Object}  block            Block object to insert.\n * @param {?number} index            Index at which block should be inserted.\n * @param {?string} rootClientId     Optional root client ID of block list on which to insert.\n * @param {?boolean} updateSelection If true block selection will be updated. If false, block selection will not change. Defaults to true.\n *\n * @return {Object} Action object.\n */\nexport function insertBlock(\n\tblock,\n\tindex,\n\trootClientId,\n\tupdateSelection = true\n) {\n\treturn insertBlocks( [ block ], index, rootClientId, updateSelection );\n}\n\n/**\n * Returns an action object used in signalling that an array of blocks should\n * be inserted, optionally at a specific index respective a root block list.\n *\n * @param {Object[]} blocks          Block objects to insert.\n * @param {?number}  index           Index at which block should be inserted.\n * @param {?string}  rootClientId    Optional root client ID of block list on which to insert.\n * @param {?boolean} updateSelection If true block selection will be updated.  If false, block selection will not change. Defaults to true.\n *\n *  @return {Object} Action object.\n */\nexport function* insertBlocks(\n\tblocks,\n\tindex,\n\trootClientId,\n\tupdateSelection = true\n) {\n\tblocks = getBlocksWithDefaultStylesApplied(\n\t\tcastArray( blocks ),\n\t\tyield select( 'core/block-editor', 'getSettings' )\n\t);\n\tconst allowedBlocks = [];\n\tfor ( const block of blocks ) {\n\t\tconst isValid = yield select(\n\t\t\t'core/block-editor',\n\t\t\t'canInsertBlockType',\n\t\t\tblock.name,\n\t\t\trootClientId\n\t\t);\n\t\tif ( isValid ) {\n\t\t\tallowedBlocks.push( block );\n\t\t}\n\t}\n\tif ( allowedBlocks.length ) {\n\t\treturn {\n\t\t\ttype: 'INSERT_BLOCKS',\n\t\t\tblocks: allowedBlocks,\n\t\t\tindex,\n\t\t\trootClientId,\n\t\t\ttime: Date.now(),\n\t\t\tupdateSelection,\n\t\t};\n\t}\n}\n\n/**\n * Returns an action object used in signalling that the insertion point should\n * be shown.\n *\n * @param {?string} rootClientId Optional root client ID of block list on\n *                               which to insert.\n * @param {?number} index        Index at which block should be inserted.\n *\n * @return {Object} Action object.\n */\nexport function showInsertionPoint( rootClientId, index ) {\n\treturn {\n\t\ttype: 'SHOW_INSERTION_POINT',\n\t\trootClientId,\n\t\tindex,\n\t};\n}\n\n/**\n * Returns an action object hiding the insertion point.\n *\n * @return {Object} Action object.\n */\nexport function hideInsertionPoint() {\n\treturn {\n\t\ttype: 'HIDE_INSERTION_POINT',\n\t};\n}\n\n/**\n * Returns an action object resetting the template validity.\n *\n * @param {boolean}  isValid  template validity flag.\n *\n * @return {Object} Action object.\n */\nexport function setTemplateValidity( isValid ) {\n\treturn {\n\t\ttype: 'SET_TEMPLATE_VALIDITY',\n\t\tisValid,\n\t};\n}\n\n/**\n * Returns an action object synchronize the template with the list of blocks\n *\n * @return {Object} Action object.\n */\nexport function synchronizeTemplate() {\n\treturn {\n\t\ttype: 'SYNCHRONIZE_TEMPLATE',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that two blocks should be merged\n *\n * @param {string} firstBlockClientId  Client ID of the first block to merge.\n * @param {string} secondBlockClientId Client ID of the second block to merge.\n *\n * @return {Object} Action object.\n */\nexport function mergeBlocks( firstBlockClientId, secondBlockClientId ) {\n\treturn {\n\t\ttype: 'MERGE_BLOCKS',\n\t\tblocks: [ firstBlockClientId, secondBlockClientId ],\n\t};\n}\n\n/**\n * Yields action objects used in signalling that the blocks corresponding to\n * the set of specified client IDs are to be removed.\n *\n * @param {string|string[]} clientIds      Client IDs of blocks to remove.\n * @param {boolean}         selectPrevious True if the previous block should be\n *                                         selected when a block is removed.\n */\nexport function* removeBlocks( clientIds, selectPrevious = true ) {\n\tif ( ! clientIds || ! clientIds.length ) {\n\t\treturn;\n\t}\n\n\tclientIds = castArray( clientIds );\n\tconst rootClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockRootClientId',\n\t\tclientIds[ 0 ]\n\t);\n\tconst isLocked = yield select(\n\t\t'core/block-editor',\n\t\t'getTemplateLock',\n\t\trootClientId\n\t);\n\tif ( isLocked ) {\n\t\treturn;\n\t}\n\n\tif ( selectPrevious ) {\n\t\tyield selectPreviousBlock( clientIds[ 0 ] );\n\t}\n\n\tyield {\n\t\ttype: 'REMOVE_BLOCKS',\n\t\tclientIds,\n\t};\n\n\t// To avoid a focus loss when removing the last block, assure there is\n\t// always a default block if the last of the blocks have been removed.\n\tyield* ensureDefaultBlock();\n}\n\n/**\n * Returns an action object used in signalling that the block with the\n * specified client ID is to be removed.\n *\n * @param {string}  clientId       Client ID of block to remove.\n * @param {boolean} selectPrevious True if the previous block should be\n *                                 selected when a block is removed.\n *\n * @return {Object} Action object.\n */\nexport function removeBlock( clientId, selectPrevious ) {\n\treturn removeBlocks( [ clientId ], selectPrevious );\n}\n\n/**\n * Returns an action object used in signalling that the inner blocks with the\n * specified client ID should be replaced.\n *\n * @param {string}   rootClientId    Client ID of the block whose InnerBlocks will re replaced.\n * @param {Object[]} blocks          Block objects to insert as new InnerBlocks\n * @param {?boolean} updateSelection If true block selection will be updated. If false, block selection will not change. Defaults to true.\n *\n * @return {Object} Action object.\n */\nexport function replaceInnerBlocks(\n\trootClientId,\n\tblocks,\n\tupdateSelection = true\n) {\n\treturn {\n\t\ttype: 'REPLACE_INNER_BLOCKS',\n\t\trootClientId,\n\t\tblocks,\n\t\tupdateSelection,\n\t\ttime: Date.now(),\n\t};\n}\n\n/**\n * Returns an action object used to toggle the block editing mode between\n * visual and HTML modes.\n *\n * @param {string} clientId Block client ID.\n *\n * @return {Object} Action object.\n */\nexport function toggleBlockMode( clientId ) {\n\treturn {\n\t\ttype: 'TOGGLE_BLOCK_MODE',\n\t\tclientId,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user has begun to type.\n *\n * @return {Object} Action object.\n */\nexport function startTyping() {\n\treturn {\n\t\ttype: 'START_TYPING',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user has stopped typing.\n *\n * @return {Object} Action object.\n */\nexport function stopTyping() {\n\treturn {\n\t\ttype: 'STOP_TYPING',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user has begun to drag blocks.\n *\n * @return {Object} Action object.\n */\nexport function startDraggingBlocks() {\n\treturn {\n\t\ttype: 'START_DRAGGING_BLOCKS',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user has stopped dragging blocks.\n *\n * @return {Object} Action object.\n */\nexport function stopDraggingBlocks() {\n\treturn {\n\t\ttype: 'STOP_DRAGGING_BLOCKS',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the caret has entered formatted text.\n *\n * @return {Object} Action object.\n */\nexport function enterFormattedText() {\n\treturn {\n\t\ttype: 'ENTER_FORMATTED_TEXT',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user caret has exited formatted text.\n *\n * @return {Object} Action object.\n */\nexport function exitFormattedText() {\n\treturn {\n\t\ttype: 'EXIT_FORMATTED_TEXT',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user caret has changed\n * position.\n *\n * @param {string} clientId     The selected block client ID.\n * @param {string} attributeKey The selected block attribute key.\n * @param {number} startOffset  The start offset.\n * @param {number} endOffset    The end offset.\n *\n * @return {Object} Action object.\n */\nexport function selectionChange(\n\tclientId,\n\tattributeKey,\n\tstartOffset,\n\tendOffset\n) {\n\treturn {\n\t\ttype: 'SELECTION_CHANGE',\n\t\tclientId,\n\t\tattributeKey,\n\t\tstartOffset,\n\t\tendOffset,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a new block of the default\n * type should be added to the block list.\n *\n * @param {?Object} attributes   Optional attributes of the block to assign.\n * @param {?string} rootClientId Optional root client ID of block list on which\n *                               to append.\n * @param {?number} index        Optional index where to insert the default block\n *\n * @return {Object} Action object\n */\nexport function insertDefaultBlock( attributes, rootClientId, index ) {\n\t// Abort if there is no default block type (if it has been unregistered).\n\tconst defaultBlockName = getDefaultBlockName();\n\tif ( ! defaultBlockName ) {\n\t\treturn;\n\t}\n\n\tconst block = createBlock( defaultBlockName, attributes );\n\n\treturn insertBlock( block, index, rootClientId );\n}\n\n/**\n * Returns an action object that changes the nested settings of a given block.\n *\n * @param {string} clientId Client ID of the block whose nested setting are\n *                          being received.\n * @param {Object} settings Object with the new settings for the nested block.\n *\n * @return {Object} Action object\n */\nexport function updateBlockListSettings( clientId, settings ) {\n\treturn {\n\t\ttype: 'UPDATE_BLOCK_LIST_SETTINGS',\n\t\tclientId,\n\t\tsettings,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the block editor settings have been updated.\n *\n * @param {Object} settings Updated settings\n *\n * @return {Object} Action object\n */\nexport function updateSettings( settings ) {\n\treturn {\n\t\ttype: 'UPDATE_SETTINGS',\n\t\tsettings,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a temporary reusable blocks have been saved\n * in order to switch its temporary id with the real id.\n *\n * @param {string} id        Reusable block's id.\n * @param {string} updatedId Updated block's id.\n *\n * @return {Object} Action object.\n */\nexport function __unstableSaveReusableBlock( id, updatedId ) {\n\treturn {\n\t\ttype: 'SAVE_REUSABLE_BLOCK_SUCCESS',\n\t\tid,\n\t\tupdatedId,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the last block change should be marked explicitely as persistent.\n *\n * @return {Object} Action object.\n */\nexport function __unstableMarkLastChangeAsPersistent() {\n\treturn { type: 'MARK_LAST_CHANGE_AS_PERSISTENT' };\n}\n\n/**\n * Returns an action object used in signalling that the next block change should be marked explicitly as not persistent.\n *\n * @return {Object} Action object.\n */\nexport function __unstableMarkNextChangeAsNotPersistent() {\n\treturn { type: 'MARK_NEXT_CHANGE_AS_NOT_PERSISTENT' };\n}\n\n/**\n * Returns an action object used in signalling that the last block change is\n * an automatic change, meaning it was not performed by the user, and can be\n * undone using the `Escape` and `Backspace` keys. This action must be called\n * after the change was made, and any actions that are a consequence of it, so\n * it is recommended to be called at the next idle period to ensure all\n * selection changes have been recorded.\n *\n * @return {Object} Action object.\n */\nexport function __unstableMarkAutomaticChange() {\n\treturn { type: 'MARK_AUTOMATIC_CHANGE' };\n}\n\n/**\n * Generators that triggers an action used to enable or disable the navigation mode.\n *\n * @param {string} isNavigationMode Enable/Disable navigation mode.\n */\nexport function* setNavigationMode( isNavigationMode = true ) {\n\tyield {\n\t\ttype: 'SET_NAVIGATION_MODE',\n\t\tisNavigationMode,\n\t};\n\n\tif ( isNavigationMode ) {\n\t\tspeak(\n\t\t\t__(\n\t\t\t\t'You are currently in navigation mode. Navigate blocks using the Tab key. To exit navigation mode and edit the selected block, press Enter.'\n\t\t\t)\n\t\t);\n\t} else {\n\t\tspeak(\n\t\t\t__(\n\t\t\t\t'You are currently in edit mode. To return to the navigation mode, press Escape.'\n\t\t\t)\n\t\t);\n\t}\n}\n\n/**\n * Generator that triggers an action used to duplicate a list of blocks.\n *\n * @param {string[]} clientIds\n */\nexport function* duplicateBlocks( clientIds ) {\n\tif ( ! clientIds && ! clientIds.length ) {\n\t\treturn;\n\t}\n\tconst blocks = yield select(\n\t\t'core/block-editor',\n\t\t'getBlocksByClientId',\n\t\tclientIds\n\t);\n\tconst rootClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockRootClientId',\n\t\tclientIds[ 0 ]\n\t);\n\t// Return early if blocks don't exist.\n\tif ( some( blocks, ( block ) => ! block ) ) {\n\t\treturn;\n\t}\n\tconst blockNames = blocks.map( ( block ) => block.name );\n\t// Return early if blocks don't support multipe  usage.\n\tif (\n\t\tsome(\n\t\t\tblockNames,\n\t\t\t( blockName ) => ! hasBlockSupport( blockName, 'multiple', true )\n\t\t)\n\t) {\n\t\treturn;\n\t}\n\n\tconst lastSelectedIndex = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockIndex',\n\t\tlast( castArray( clientIds ) ),\n\t\trootClientId\n\t);\n\tconst clonedBlocks = blocks.map( ( block ) => cloneBlock( block ) );\n\tyield insertBlocks( clonedBlocks, lastSelectedIndex + 1, rootClientId );\n\tif ( clonedBlocks.length > 1 ) {\n\t\tyield multiSelect(\n\t\t\tfirst( clonedBlocks ).clientId,\n\t\t\tlast( clonedBlocks ).clientId\n\t\t);\n\t}\n}\n\n/**\n * Generator used to insert an empty block after a given block.\n *\n * @param {string} clientId\n */\nexport function* insertBeforeBlock( clientId ) {\n\tif ( ! clientId ) {\n\t\treturn;\n\t}\n\tconst rootClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockRootClientId',\n\t\tclientId\n\t);\n\tconst isLocked = yield select(\n\t\t'core/block-editor',\n\t\t'getTemplateLock',\n\t\trootClientId\n\t);\n\tif ( isLocked ) {\n\t\treturn;\n\t}\n\n\tconst firstSelectedIndex = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockIndex',\n\t\tclientId,\n\t\trootClientId\n\t);\n\tyield insertDefaultBlock( {}, rootClientId, firstSelectedIndex );\n}\n\n/**\n * Generator used to insert an empty block before a given block.\n *\n * @param {string} clientId\n */\nexport function* insertAfterBlock( clientId ) {\n\tif ( ! clientId ) {\n\t\treturn;\n\t}\n\tconst rootClientId = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockRootClientId',\n\t\tclientId\n\t);\n\tconst isLocked = yield select(\n\t\t'core/block-editor',\n\t\t'getTemplateLock',\n\t\trootClientId\n\t);\n\tif ( isLocked ) {\n\t\treturn;\n\t}\n\n\tconst firstSelectedIndex = yield select(\n\t\t'core/block-editor',\n\t\t'getBlockIndex',\n\t\tclientId,\n\t\trootClientId\n\t);\n\tyield insertDefaultBlock( {}, rootClientId, firstSelectedIndex + 1 );\n}\n\n/**\n * Returns an action object that toggles the highlighted block state.\n *\n * @param {string} clientId The block's clientId.\n * @param {boolean} isHighlighted The highlight state.\n */\nexport function toggleBlockHighlight( clientId, isHighlighted ) {\n\treturn {\n\t\ttype: 'TOGGLE_BLOCK_HIGHLIGHT',\n\t\tclientId,\n\t\tisHighlighted,\n\t};\n}\n","/**\n * External dependencies\n */\nimport {\n\tcastArray,\n\tflatMap,\n\tfirst,\n\tget,\n\tincludes,\n\tisArray,\n\tisBoolean,\n\tlast,\n\tmap,\n\torderBy,\n\treduce,\n\tsome,\n\tfind,\n\tfilter,\n} from 'lodash';\nimport createSelector from 'rememo';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tgetBlockType,\n\tgetBlockTypes,\n\thasBlockSupport,\n\tparse,\n} from '@wordpress/blocks';\nimport { SVG, Rect, G, Path } from '@wordpress/components';\n\n/**\n * A block selection object.\n *\n * @typedef {Object} WPBlockSelection\n *\n * @property {string} clientId     A block client ID.\n * @property {string} attributeKey A block attribute key.\n * @property {number} offset       An attribute value offset, based on the rich\n *                                 text value. See `wp.richText.create`.\n */\n\n// Module constants\n\n/**\n * @private\n */\nexport const INSERTER_UTILITY_HIGH = 3;\n\n/**\n * @private\n */\nexport const INSERTER_UTILITY_MEDIUM = 2;\n\n/**\n * @private\n */\nexport const INSERTER_UTILITY_LOW = 1;\n\n/**\n * @private\n */\nexport const INSERTER_UTILITY_NONE = 0;\n\nconst MILLISECONDS_PER_HOUR = 3600 * 1000;\nconst MILLISECONDS_PER_DAY = 24 * 3600 * 1000;\nconst MILLISECONDS_PER_WEEK = 7 * 24 * 3600 * 1000;\nconst templateIcon = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Rect x=\"0\" fill=\"none\" width=\"24\" height=\"24\" />\n\t\t<G>\n\t\t\t<Path d=\"M19 3H5c-1.105 0-2 .895-2 2v14c0 1.105.895 2 2 2h14c1.105 0 2-.895 2-2V5c0-1.105-.895-2-2-2zM6 6h5v5H6V6zm4.5 13C9.12 19 8 17.88 8 16.5S9.12 14 10.5 14s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zm3-6l3-5 3 5h-6z\" />\n\t\t</G>\n\t</SVG>\n);\n\n/**\n * Shared reference to an empty array for cases where it is important to avoid\n * returning a new array reference on every invocation, as in a connected or\n * other pure component which performs `shouldComponentUpdate` check on props.\n * This should be used as a last resort, since the normalized data should be\n * maintained by the reducer result in state.\n *\n * @type {Array}\n */\nconst EMPTY_ARRAY = [];\n\n/**\n * Returns a block's name given its client ID, or null if no block exists with\n * the client ID.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {string} Block name.\n */\nexport function getBlockName( state, clientId ) {\n\tconst block = state.blocks.byClientId[ clientId ];\n\treturn block ? block.name : null;\n}\n\n/**\n * Returns whether a block is valid or not.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Is Valid.\n */\nexport function isBlockValid( state, clientId ) {\n\tconst block = state.blocks.byClientId[ clientId ];\n\treturn !! block && block.isValid;\n}\n\n/**\n * Returns a block's attributes given its client ID, or null if no block exists with\n * the client ID.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {Object?} Block attributes.\n */\nexport function getBlockAttributes( state, clientId ) {\n\tconst block = state.blocks.byClientId[ clientId ];\n\tif ( ! block ) {\n\t\treturn null;\n\t}\n\n\treturn state.blocks.attributes[ clientId ];\n}\n\n/**\n * Returns a block given its client ID. This is a parsed copy of the block,\n * containing its `blockName`, `clientId`, and current `attributes` state. This\n * is not the block's registration settings, which must be retrieved from the\n * blocks module registration store.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {Object} Parsed block object.\n */\nexport const getBlock = createSelector(\n\t( state, clientId ) => {\n\t\tconst block = state.blocks.byClientId[ clientId ];\n\t\tif ( ! block ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\t...block,\n\t\t\tattributes: getBlockAttributes( state, clientId ),\n\t\t\tinnerBlocks: getBlocks( state, clientId ),\n\t\t};\n\t},\n\t( state, clientId ) => [\n\t\t// Normally, we'd have both `getBlockAttributes` dependencies and\n\t\t// `getBlocks` (children) dependancies here but for performance reasons\n\t\t// we use a denormalized cache key computed in the reducer that takes both\n\t\t// the attributes and inner blocks into account. The value of the cache key\n\t\t// is being changed whenever one of these dependencies is out of date.\n\t\tstate.blocks.cache[ clientId ],\n\t]\n);\n\nexport const __unstableGetBlockWithoutInnerBlocks = createSelector(\n\t( state, clientId ) => {\n\t\tconst block = state.blocks.byClientId[ clientId ];\n\t\tif ( ! block ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\t...block,\n\t\t\tattributes: getBlockAttributes( state, clientId ),\n\t\t};\n\t},\n\t( state, clientId ) => [\n\t\tstate.blocks.byClientId[ clientId ],\n\t\tstate.blocks.attributes[ clientId ],\n\t]\n);\n\n/**\n * Returns all block objects for the current post being edited as an array in\n * the order they appear in the post.\n *\n * Note: It's important to memoize this selector to avoid return a new instance\n * on each call\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {Object[]} Post blocks.\n */\nexport const getBlocks = createSelector(\n\t( state, rootClientId ) => {\n\t\treturn map( getBlockOrder( state, rootClientId ), ( clientId ) =>\n\t\t\tgetBlock( state, clientId )\n\t\t);\n\t},\n\t( state ) => [\n\t\tstate.blocks.byClientId,\n\t\tstate.blocks.order,\n\t\tstate.blocks.attributes,\n\t]\n);\n\n/**\n * Returns an array containing the clientIds of all descendants\n * of the blocks given.\n *\n * @param {Object} state Global application state.\n * @param {Array} clientIds Array of blocks to inspect.\n *\n * @return {Array} ids of descendants.\n */\nexport const getClientIdsOfDescendants = ( state, clientIds ) =>\n\tflatMap( clientIds, ( clientId ) => {\n\t\tconst descendants = getBlockOrder( state, clientId );\n\t\treturn [\n\t\t\t...descendants,\n\t\t\t...getClientIdsOfDescendants( state, descendants ),\n\t\t];\n\t} );\n\n/**\n * Returns an array containing the clientIds of the top-level blocks\n * and their descendants of any depth (for nested blocks).\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} ids of top-level and descendant blocks.\n */\nexport const getClientIdsWithDescendants = createSelector(\n\t( state ) => {\n\t\tconst topLevelIds = getBlockOrder( state );\n\t\treturn [\n\t\t\t...topLevelIds,\n\t\t\t...getClientIdsOfDescendants( state, topLevelIds ),\n\t\t];\n\t},\n\t( state ) => [ state.blocks.order ]\n);\n\n/**\n * Returns the total number of blocks, or the total number of blocks with a specific name in a post.\n * The number returned includes nested blocks.\n *\n * @param {Object}  state     Global application state.\n * @param {?string} blockName Optional block name, if specified only blocks of that type will be counted.\n *\n * @return {number} Number of blocks in the post, or number of blocks with name equal to blockName.\n */\nexport const getGlobalBlockCount = createSelector(\n\t( state, blockName ) => {\n\t\tconst clientIds = getClientIdsWithDescendants( state );\n\t\tif ( ! blockName ) {\n\t\t\treturn clientIds.length;\n\t\t}\n\t\treturn reduce(\n\t\t\tclientIds,\n\t\t\t( accumulator, clientId ) => {\n\t\t\t\tconst block = state.blocks.byClientId[ clientId ];\n\t\t\t\treturn block.name === blockName ? accumulator + 1 : accumulator;\n\t\t\t},\n\t\t\t0\n\t\t);\n\t},\n\t( state ) => [ state.blocks.order, state.blocks.byClientId ]\n);\n\n/**\n * Given an array of block client IDs, returns the corresponding array of block\n * objects.\n *\n * @param {Object}   state     Editor state.\n * @param {string[]} clientIds Client IDs for which blocks are to be returned.\n *\n * @return {WPBlock[]} Block objects.\n */\nexport const getBlocksByClientId = createSelector(\n\t( state, clientIds ) =>\n\t\tmap( castArray( clientIds ), ( clientId ) =>\n\t\t\tgetBlock( state, clientId )\n\t\t),\n\t( state ) => [\n\t\tstate.blocks.byClientId,\n\t\tstate.blocks.order,\n\t\tstate.blocks.attributes,\n\t]\n);\n\n/**\n * Returns the number of blocks currently present in the post.\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {number} Number of blocks in the post.\n */\nexport function getBlockCount( state, rootClientId ) {\n\treturn getBlockOrder( state, rootClientId ).length;\n}\n\n/**\n * Returns the current selection start block client ID, attribute key and text\n * offset.\n *\n * @param {Object} state Block editor state.\n *\n * @return {WPBlockSelection} Selection start information.\n */\nexport function getSelectionStart( state ) {\n\treturn state.selectionStart;\n}\n\n/**\n * Returns the current selection end block client ID, attribute key and text\n * offset.\n *\n * @param {Object} state Block editor state.\n *\n * @return {WPBlockSelection} Selection end information.\n */\nexport function getSelectionEnd( state ) {\n\treturn state.selectionEnd;\n}\n\n/**\n * Returns the current block selection start. This value may be null, and it\n * may represent either a singular block selection or multi-selection start.\n * A selection is singular if its start and end match.\n *\n * @param {Object} state Global application state.\n *\n * @return {?string} Client ID of block selection start.\n */\nexport function getBlockSelectionStart( state ) {\n\treturn state.selectionStart.clientId;\n}\n\n/**\n * Returns the current block selection end. This value may be null, and it\n * may represent either a singular block selection or multi-selection end.\n * A selection is singular if its start and end match.\n *\n * @param {Object} state Global application state.\n *\n * @return {?string} Client ID of block selection end.\n */\nexport function getBlockSelectionEnd( state ) {\n\treturn state.selectionEnd.clientId;\n}\n\n/**\n * Returns the number of blocks currently selected in the post.\n *\n * @param {Object} state Global application state.\n *\n * @return {number} Number of blocks selected in the post.\n */\nexport function getSelectedBlockCount( state ) {\n\tconst multiSelectedBlockCount = getMultiSelectedBlockClientIds( state )\n\t\t.length;\n\n\tif ( multiSelectedBlockCount ) {\n\t\treturn multiSelectedBlockCount;\n\t}\n\n\treturn state.selectionStart.clientId ? 1 : 0;\n}\n\n/**\n * Returns true if there is a single selected block, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether a single block is selected.\n */\nexport function hasSelectedBlock( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\treturn (\n\t\t!! selectionStart.clientId &&\n\t\tselectionStart.clientId === selectionEnd.clientId\n\t);\n}\n\n/**\n * Returns the currently selected block client ID, or null if there is no\n * selected block.\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} Selected block client ID.\n */\nexport function getSelectedBlockClientId( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\tconst { clientId } = selectionStart;\n\n\tif ( ! clientId || clientId !== selectionEnd.clientId ) {\n\t\treturn null;\n\t}\n\n\treturn clientId;\n}\n\n/**\n * Returns the currently selected block, or null if there is no selected block.\n *\n * @param {Object} state Global application state.\n *\n * @return {?Object} Selected block.\n */\nexport function getSelectedBlock( state ) {\n\tconst clientId = getSelectedBlockClientId( state );\n\treturn clientId ? getBlock( state, clientId ) : null;\n}\n\n/**\n * Given a block client ID, returns the root block from which the block is\n * nested, an empty string for top-level blocks, or null if the block does not\n * exist.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block from which to find root client ID.\n *\n * @return {?string} Root client ID, if exists\n */\nexport function getBlockRootClientId( state, clientId ) {\n\treturn state.blocks.parents[ clientId ] !== undefined\n\t\t? state.blocks.parents[ clientId ]\n\t\t: null;\n}\n\n/**\n * Given a block client ID, returns the list of all its parents from top to bottom.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block from which to find root client ID.\n * @param {boolean} ascending Order results from bottom to top (true) or top to bottom (false).\n *\n * @return {Array} ClientIDs of the parent blocks.\n */\nexport const getBlockParents = createSelector(\n\t( state, clientId, ascending = false ) => {\n\t\tconst parents = [];\n\t\tlet current = clientId;\n\t\twhile ( !! state.blocks.parents[ current ] ) {\n\t\t\tcurrent = state.blocks.parents[ current ];\n\t\t\tparents.push( current );\n\t\t}\n\n\t\treturn ascending ? parents : parents.reverse();\n\t},\n\t( state ) => [ state.blocks.parents ]\n);\n\n/**\n * Given a block client ID and a block name,\n * returns the list of all its parents from top to bottom,\n * filtered by the given name.\n *\n * @param {Object} state     Editor state.\n * @param {string} clientId  Block from which to find root client ID.\n * @param {string} blockName Block name to filter.\n * @param {boolean} ascending Order results from bottom to top (true) or top to bottom (false).\n *\n * @return {Array} ClientIDs of the parent blocks.\n */\nexport const getBlockParentsByBlockName = createSelector(\n\t( state, clientId, blockName, ascending = false ) => {\n\t\tconst parents = getBlockParents( state, clientId, ascending );\n\t\treturn map(\n\t\t\tfilter(\n\t\t\t\tmap( parents, ( id ) => ( {\n\t\t\t\t\tid,\n\t\t\t\t\tname: getBlockName( state, id ),\n\t\t\t\t} ) ),\n\t\t\t\t{ name: blockName }\n\t\t\t),\n\t\t\t( { id } ) => id\n\t\t);\n\t},\n\t( state ) => [ state.blocks.parents ]\n);\n\n/**\n * Given a block client ID, returns the root of the hierarchy from which the block is nested, return the block itself for root level blocks.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block from which to find root client ID.\n *\n * @return {string} Root client ID\n */\nexport function getBlockHierarchyRootClientId( state, clientId ) {\n\tlet current = clientId;\n\tlet parent;\n\tdo {\n\t\tparent = current;\n\t\tcurrent = state.blocks.parents[ current ];\n\t} while ( current );\n\treturn parent;\n}\n\n/**\n * Given a block client ID, returns the lowest common ancestor with selected client ID.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block from which to find common ancestor client ID.\n *\n * @return {string} Common ancestor client ID or undefined\n */\nexport function getLowestCommonAncestorWithSelectedBlock( state, clientId ) {\n\tconst selectedId = getSelectedBlockClientId( state );\n\tconst clientParents = [ ...getBlockParents( state, clientId ), clientId ];\n\tconst selectedParents = [\n\t\t...getBlockParents( state, selectedId ),\n\t\tselectedId,\n\t];\n\n\tlet lowestCommonAncestor;\n\n\tconst maxDepth = Math.min( clientParents.length, selectedParents.length );\n\tfor ( let index = 0; index < maxDepth; index++ ) {\n\t\tif ( clientParents[ index ] === selectedParents[ index ] ) {\n\t\t\tlowestCommonAncestor = clientParents[ index ];\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn lowestCommonAncestor;\n}\n\n/**\n * Returns the client ID of the block adjacent one at the given reference\n * startClientId and modifier directionality. Defaults start startClientId to\n * the selected block, and direction as next block. Returns null if there is no\n * adjacent block.\n *\n * @param {Object}  state         Editor state.\n * @param {?string} startClientId Optional client ID of block from which to\n *                                search.\n * @param {?number} modifier      Directionality multiplier (1 next, -1\n *                                previous).\n *\n * @return {?string} Return the client ID of the block, or null if none exists.\n */\nexport function getAdjacentBlockClientId( state, startClientId, modifier = 1 ) {\n\t// Default to selected block.\n\tif ( startClientId === undefined ) {\n\t\tstartClientId = getSelectedBlockClientId( state );\n\t}\n\n\t// Try multi-selection starting at extent based on modifier.\n\tif ( startClientId === undefined ) {\n\t\tif ( modifier < 0 ) {\n\t\t\tstartClientId = getFirstMultiSelectedBlockClientId( state );\n\t\t} else {\n\t\t\tstartClientId = getLastMultiSelectedBlockClientId( state );\n\t\t}\n\t}\n\n\t// Validate working start client ID.\n\tif ( ! startClientId ) {\n\t\treturn null;\n\t}\n\n\t// Retrieve start block root client ID, being careful to allow the falsey\n\t// empty string top-level root by explicitly testing against null.\n\tconst rootClientId = getBlockRootClientId( state, startClientId );\n\tif ( rootClientId === null ) {\n\t\treturn null;\n\t}\n\n\tconst { order } = state.blocks;\n\tconst orderSet = order[ rootClientId ];\n\tconst index = orderSet.indexOf( startClientId );\n\tconst nextIndex = index + 1 * modifier;\n\n\t// Block was first in set and we're attempting to get previous.\n\tif ( nextIndex < 0 ) {\n\t\treturn null;\n\t}\n\n\t// Block was last in set and we're attempting to get next.\n\tif ( nextIndex === orderSet.length ) {\n\t\treturn null;\n\t}\n\n\t// Assume incremented index is within the set.\n\treturn orderSet[ nextIndex ];\n}\n\n/**\n * Returns the previous block's client ID from the given reference start ID.\n * Defaults start to the selected block. Returns null if there is no previous\n * block.\n *\n * @param {Object}  state         Editor state.\n * @param {?string} startClientId Optional client ID of block from which to\n *                                search.\n *\n * @return {?string} Adjacent block's client ID, or null if none exists.\n */\nexport function getPreviousBlockClientId( state, startClientId ) {\n\treturn getAdjacentBlockClientId( state, startClientId, -1 );\n}\n\n/**\n * Returns the next block's client ID from the given reference start ID.\n * Defaults start to the selected block. Returns null if there is no next\n * block.\n *\n * @param {Object}  state         Editor state.\n * @param {?string} startClientId Optional client ID of block from which to\n *                                search.\n *\n * @return {?string} Adjacent block's client ID, or null if none exists.\n */\nexport function getNextBlockClientId( state, startClientId ) {\n\treturn getAdjacentBlockClientId( state, startClientId, 1 );\n}\n\n/**\n * Returns the initial caret position for the selected block.\n * This position is to used to position the caret properly when the selected block changes.\n *\n * @param {Object} state Global application state.\n *\n * @return {?Object} Selected block.\n */\nexport function getSelectedBlocksInitialCaretPosition( state ) {\n\treturn state.initialPosition;\n}\n\n/**\n * Returns the current selection set of block client IDs (multiselection or single selection).\n *\n * @param {Object} state Editor state.\n *\n * @return {Array} Multi-selected block client IDs.\n */\nexport const getSelectedBlockClientIds = createSelector(\n\t( state ) => {\n\t\tconst { selectionStart, selectionEnd } = state;\n\n\t\tif (\n\t\t\tselectionStart.clientId === undefined ||\n\t\t\tselectionEnd.clientId === undefined\n\t\t) {\n\t\t\treturn EMPTY_ARRAY;\n\t\t}\n\n\t\tif ( selectionStart.clientId === selectionEnd.clientId ) {\n\t\t\treturn [ selectionStart.clientId ];\n\t\t}\n\n\t\t// Retrieve root client ID to aid in retrieving relevant nested block\n\t\t// order, being careful to allow the falsey empty string top-level root\n\t\t// by explicitly testing against null.\n\t\tconst rootClientId = getBlockRootClientId(\n\t\t\tstate,\n\t\t\tselectionStart.clientId\n\t\t);\n\t\tif ( rootClientId === null ) {\n\t\t\treturn EMPTY_ARRAY;\n\t\t}\n\n\t\tconst blockOrder = getBlockOrder( state, rootClientId );\n\t\tconst startIndex = blockOrder.indexOf( selectionStart.clientId );\n\t\tconst endIndex = blockOrder.indexOf( selectionEnd.clientId );\n\n\t\tif ( startIndex > endIndex ) {\n\t\t\treturn blockOrder.slice( endIndex, startIndex + 1 );\n\t\t}\n\n\t\treturn blockOrder.slice( startIndex, endIndex + 1 );\n\t},\n\t( state ) => [\n\t\tstate.blocks.order,\n\t\tstate.selectionStart.clientId,\n\t\tstate.selectionEnd.clientId,\n\t]\n);\n\n/**\n * Returns the current multi-selection set of block client IDs, or an empty\n * array if there is no multi-selection.\n *\n * @param {Object} state Editor state.\n *\n * @return {Array} Multi-selected block client IDs.\n */\nexport function getMultiSelectedBlockClientIds( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\n\tif ( selectionStart.clientId === selectionEnd.clientId ) {\n\t\treturn EMPTY_ARRAY;\n\t}\n\n\treturn getSelectedBlockClientIds( state );\n}\n\n/**\n * Returns the current multi-selection set of blocks, or an empty array if\n * there is no multi-selection.\n *\n * @param {Object} state Editor state.\n *\n * @return {Array} Multi-selected block objects.\n */\nexport const getMultiSelectedBlocks = createSelector(\n\t( state ) => {\n\t\tconst multiSelectedBlockClientIds = getMultiSelectedBlockClientIds(\n\t\t\tstate\n\t\t);\n\t\tif ( ! multiSelectedBlockClientIds.length ) {\n\t\t\treturn EMPTY_ARRAY;\n\t\t}\n\n\t\treturn multiSelectedBlockClientIds.map( ( clientId ) =>\n\t\t\tgetBlock( state, clientId )\n\t\t);\n\t},\n\t( state ) => [\n\t\t...getSelectedBlockClientIds.getDependants( state ),\n\t\tstate.blocks.byClientId,\n\t\tstate.blocks.order,\n\t\tstate.blocks.attributes,\n\t]\n);\n\n/**\n * Returns the client ID of the first block in the multi-selection set, or null\n * if there is no multi-selection.\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} First block client ID in the multi-selection set.\n */\nexport function getFirstMultiSelectedBlockClientId( state ) {\n\treturn first( getMultiSelectedBlockClientIds( state ) ) || null;\n}\n\n/**\n * Returns the client ID of the last block in the multi-selection set, or null\n * if there is no multi-selection.\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} Last block client ID in the multi-selection set.\n */\nexport function getLastMultiSelectedBlockClientId( state ) {\n\treturn last( getMultiSelectedBlockClientIds( state ) ) || null;\n}\n\n/**\n * Returns true if a multi-selection exists, and the block corresponding to the\n * specified client ID is the first block of the multi-selection set, or false\n * otherwise.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Whether block is first in multi-selection.\n */\nexport function isFirstMultiSelectedBlock( state, clientId ) {\n\treturn getFirstMultiSelectedBlockClientId( state ) === clientId;\n}\n\n/**\n * Returns true if the client ID occurs within the block multi-selection, or\n * false otherwise.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Whether block is in multi-selection set.\n */\nexport function isBlockMultiSelected( state, clientId ) {\n\treturn getMultiSelectedBlockClientIds( state ).indexOf( clientId ) !== -1;\n}\n\n/**\n * Returns true if an ancestor of the block is multi-selected, or false\n * otherwise.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Whether an ancestor of the block is in multi-selection\n *                   set.\n */\nexport const isAncestorMultiSelected = createSelector(\n\t( state, clientId ) => {\n\t\tlet ancestorClientId = clientId;\n\t\tlet isMultiSelected = false;\n\t\twhile ( ancestorClientId && ! isMultiSelected ) {\n\t\t\tancestorClientId = getBlockRootClientId( state, ancestorClientId );\n\t\t\tisMultiSelected = isBlockMultiSelected( state, ancestorClientId );\n\t\t}\n\t\treturn isMultiSelected;\n\t},\n\t( state ) => [\n\t\tstate.blocks.order,\n\t\tstate.selectionStart.clientId,\n\t\tstate.selectionEnd.clientId,\n\t]\n);\n/**\n * Returns the client ID of the block which begins the multi-selection set, or\n * null if there is no multi-selection.\n *\n * This is not necessarily the first client ID in the selection.\n *\n * @see getFirstMultiSelectedBlockClientId\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} Client ID of block beginning multi-selection.\n */\nexport function getMultiSelectedBlocksStartClientId( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\n\tif ( selectionStart.clientId === selectionEnd.clientId ) {\n\t\treturn null;\n\t}\n\n\treturn selectionStart.clientId || null;\n}\n\n/**\n * Returns the client ID of the block which ends the multi-selection set, or\n * null if there is no multi-selection.\n *\n * This is not necessarily the last client ID in the selection.\n *\n * @see getLastMultiSelectedBlockClientId\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} Client ID of block ending multi-selection.\n */\nexport function getMultiSelectedBlocksEndClientId( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\n\tif ( selectionStart.clientId === selectionEnd.clientId ) {\n\t\treturn null;\n\t}\n\n\treturn selectionEnd.clientId || null;\n}\n\n/**\n * Returns an array containing all block client IDs in the editor in the order\n * they appear. Optionally accepts a root client ID of the block list for which\n * the order should be returned, defaulting to the top-level block order.\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {Array} Ordered client IDs of editor blocks.\n */\nexport function getBlockOrder( state, rootClientId ) {\n\treturn state.blocks.order[ rootClientId || '' ] || EMPTY_ARRAY;\n}\n\n/**\n * Returns the index at which the block corresponding to the specified client\n * ID occurs within the block order, or `-1` if the block does not exist.\n *\n * @param {Object}  state        Editor state.\n * @param {string}  clientId     Block client ID.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {number} Index at which block exists in order.\n */\nexport function getBlockIndex( state, clientId, rootClientId ) {\n\treturn getBlockOrder( state, rootClientId ).indexOf( clientId );\n}\n\n/**\n * Returns true if the block corresponding to the specified client ID is\n * currently selected and no multi-selection exists, or false otherwise.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Whether block is selected and multi-selection exists.\n */\nexport function isBlockSelected( state, clientId ) {\n\tconst { selectionStart, selectionEnd } = state;\n\n\tif ( selectionStart.clientId !== selectionEnd.clientId ) {\n\t\treturn false;\n\t}\n\n\treturn selectionStart.clientId === clientId;\n}\n\n/**\n * Returns true if one of the block's inner blocks is selected.\n *\n * @param {Object}  state    Editor state.\n * @param {string}  clientId Block client ID.\n * @param {boolean} deep     Perform a deep check.\n *\n * @return {boolean} Whether the block as an inner block selected\n */\nexport function hasSelectedInnerBlock( state, clientId, deep = false ) {\n\treturn some(\n\t\tgetBlockOrder( state, clientId ),\n\t\t( innerClientId ) =>\n\t\t\tisBlockSelected( state, innerClientId ) ||\n\t\t\tisBlockMultiSelected( state, innerClientId ) ||\n\t\t\t( deep && hasSelectedInnerBlock( state, innerClientId, deep ) )\n\t);\n}\n\n/**\n * Returns true if the block corresponding to the specified client ID is\n * currently selected but isn't the last of the selected blocks. Here \"last\"\n * refers to the block sequence in the document, _not_ the sequence of\n * multi-selection, which is why `state.selectionEnd` isn't used.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {boolean} Whether block is selected and not the last in the\n *                   selection.\n */\nexport function isBlockWithinSelection( state, clientId ) {\n\tif ( ! clientId ) {\n\t\treturn false;\n\t}\n\n\tconst clientIds = getMultiSelectedBlockClientIds( state );\n\tconst index = clientIds.indexOf( clientId );\n\treturn index > -1 && index < clientIds.length - 1;\n}\n\n/**\n * Returns true if a multi-selection has been made, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether multi-selection has been made.\n */\nexport function hasMultiSelection( state ) {\n\tconst { selectionStart, selectionEnd } = state;\n\treturn selectionStart.clientId !== selectionEnd.clientId;\n}\n\n/**\n * Whether in the process of multi-selecting or not. This flag is only true\n * while the multi-selection is being selected (by mouse move), and is false\n * once the multi-selection has been settled.\n *\n * @see hasMultiSelection\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if multi-selecting, false if not.\n */\nexport function isMultiSelecting( state ) {\n\treturn state.isMultiSelecting;\n}\n\n/**\n * Selector that returns if multi-selection is enabled or not.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if it should be possible to multi-select blocks, false if multi-selection is disabled.\n */\nexport function isSelectionEnabled( state ) {\n\treturn state.isSelectionEnabled;\n}\n\n/**\n * Returns the block's editing mode, defaulting to \"visual\" if not explicitly\n * assigned.\n *\n * @param {Object} state    Editor state.\n * @param {string} clientId Block client ID.\n *\n * @return {Object} Block editing mode.\n */\nexport function getBlockMode( state, clientId ) {\n\treturn state.blocksMode[ clientId ] || 'visual';\n}\n\n/**\n * Returns true if the user is typing, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether user is typing.\n */\nexport function isTyping( state ) {\n\treturn state.isTyping;\n}\n\n/**\n * Returns true if the user is dragging blocks, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether user is dragging blocks.\n */\nexport function isDraggingBlocks( state ) {\n\treturn state.isDraggingBlocks;\n}\n\n/**\n * Returns true if the caret is within formatted text, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the caret is within formatted text.\n */\nexport function isCaretWithinFormattedText( state ) {\n\treturn state.isCaretWithinFormattedText;\n}\n\n/**\n * Returns the insertion point, the index at which the new inserted block would\n * be placed. Defaults to the last index.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} Insertion point object with `rootClientId`, `index`.\n */\nexport function getBlockInsertionPoint( state ) {\n\tlet rootClientId, index;\n\n\tconst { insertionPoint, selectionEnd } = state;\n\tif ( insertionPoint !== null ) {\n\t\treturn insertionPoint;\n\t}\n\n\tconst { clientId } = selectionEnd;\n\n\tif ( clientId ) {\n\t\trootClientId = getBlockRootClientId( state, clientId ) || undefined;\n\t\tindex = getBlockIndex( state, selectionEnd.clientId, rootClientId ) + 1;\n\t} else {\n\t\tindex = getBlockOrder( state ).length;\n\t}\n\n\treturn { rootClientId, index };\n}\n\n/**\n * Returns true if we should show the block insertion point.\n *\n * @param {Object} state Global application state.\n *\n * @return {?boolean} Whether the insertion point is visible or not.\n */\nexport function isBlockInsertionPointVisible( state ) {\n\treturn state.insertionPoint !== null;\n}\n\n/**\n * Returns whether the blocks matches the template or not.\n *\n * @param {boolean} state\n * @return {?boolean} Whether the template is valid or not.\n */\nexport function isValidTemplate( state ) {\n\treturn state.template.isValid;\n}\n\n/**\n * Returns the defined block template\n *\n * @param {boolean} state\n * @return {?Array}        Block Template\n */\nexport function getTemplate( state ) {\n\treturn state.settings.template;\n}\n\n/**\n * Returns the defined block template lock. Optionally accepts a root block\n * client ID as context, otherwise defaulting to the global context.\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional block root client ID.\n *\n * @return {?string} Block Template Lock\n */\nexport function getTemplateLock( state, rootClientId ) {\n\tif ( ! rootClientId ) {\n\t\treturn state.settings.templateLock;\n\t}\n\n\tconst blockListSettings = getBlockListSettings( state, rootClientId );\n\tif ( ! blockListSettings ) {\n\t\treturn null;\n\t}\n\n\treturn blockListSettings.templateLock;\n}\n\n/**\n * Determines if the given block type is allowed to be inserted into the block list.\n * This function is not exported and not memoized because using a memoized selector\n * inside another memoized selector is just a waste of time.\n *\n * @param {Object}  state        Editor state.\n * @param {string}  blockName    The name of the block type, e.g.' core/paragraph'.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {boolean} Whether the given block type is allowed to be inserted.\n */\nconst canInsertBlockTypeUnmemoized = (\n\tstate,\n\tblockName,\n\trootClientId = null\n) => {\n\tconst checkAllowList = ( list, item, defaultResult = null ) => {\n\t\tif ( isBoolean( list ) ) {\n\t\t\treturn list;\n\t\t}\n\t\tif ( isArray( list ) ) {\n\t\t\t// TODO: when there is a canonical way to detect that we are editing a post\n\t\t\t// the following check should be changed to something like:\n\t\t\t// if ( includes( list, 'core/post-content' ) && getEditorMode() === 'post-content' && item === null )\n\t\t\tif ( includes( list, 'core/post-content' ) && item === null ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn includes( list, item );\n\t\t}\n\t\treturn defaultResult;\n\t};\n\n\tconst blockType = getBlockType( blockName );\n\tif ( ! blockType ) {\n\t\treturn false;\n\t}\n\n\tconst { allowedBlockTypes } = getSettings( state );\n\n\tconst isBlockAllowedInEditor = checkAllowList(\n\t\tallowedBlockTypes,\n\t\tblockName,\n\t\ttrue\n\t);\n\tif ( ! isBlockAllowedInEditor ) {\n\t\treturn false;\n\t}\n\n\tconst isLocked = !! getTemplateLock( state, rootClientId );\n\tif ( isLocked ) {\n\t\treturn false;\n\t}\n\n\tconst parentBlockListSettings = getBlockListSettings( state, rootClientId );\n\tconst parentAllowedBlocks = get( parentBlockListSettings, [\n\t\t'allowedBlocks',\n\t] );\n\tconst hasParentAllowedBlock = checkAllowList(\n\t\tparentAllowedBlocks,\n\t\tblockName\n\t);\n\n\tconst blockAllowedParentBlocks = blockType.parent;\n\tconst parentName = getBlockName( state, rootClientId );\n\tconst hasBlockAllowedParent = checkAllowList(\n\t\tblockAllowedParentBlocks,\n\t\tparentName\n\t);\n\n\tif ( hasParentAllowedBlock !== null && hasBlockAllowedParent !== null ) {\n\t\treturn hasParentAllowedBlock || hasBlockAllowedParent;\n\t} else if ( hasParentAllowedBlock !== null ) {\n\t\treturn hasParentAllowedBlock;\n\t} else if ( hasBlockAllowedParent !== null ) {\n\t\treturn hasBlockAllowedParent;\n\t}\n\n\treturn true;\n};\n\n/**\n * Determines if the given block type is allowed to be inserted into the block list.\n *\n * @param {Object}  state        Editor state.\n * @param {string}  blockName    The name of the block type, e.g.' core/paragraph'.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {boolean} Whether the given block type is allowed to be inserted.\n */\nexport const canInsertBlockType = createSelector(\n\tcanInsertBlockTypeUnmemoized,\n\t( state, blockName, rootClientId ) => [\n\t\tstate.blockListSettings[ rootClientId ],\n\t\tstate.blocks.byClientId[ rootClientId ],\n\t\tstate.settings.allowedBlockTypes,\n\t\tstate.settings.templateLock,\n\t]\n);\n\n/**\n * Returns information about how recently and frequently a block has been inserted.\n *\n * @param {Object} state Global application state.\n * @param {string} id    A string which identifies the insert, e.g. 'core/block/12'\n *\n * @return {?{ time: number, count: number }} An object containing `time` which is when the last\n *                                            insert occurred as a UNIX epoch, and `count` which is\n *                                            the number of inserts that have occurred.\n */\nfunction getInsertUsage( state, id ) {\n\treturn get( state.preferences.insertUsage, [ id ], null );\n}\n\n/**\n * Returns whether we can show a block type in the inserter\n *\n * @param {Object} state Global State\n * @param {Object} blockType BlockType\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {boolean} Whether the given block type is allowed to be shown in the inserter.\n */\nconst canIncludeBlockTypeInInserter = ( state, blockType, rootClientId ) => {\n\tif ( ! hasBlockSupport( blockType, 'inserter', true ) ) {\n\t\treturn false;\n\t}\n\n\treturn canInsertBlockTypeUnmemoized( state, blockType.name, rootClientId );\n};\n\n/**\n * Determines the items that appear in the inserter. Includes both static\n * items (e.g. a regular block type) and dynamic items (e.g. a reusable block).\n *\n * Each item object contains what's necessary to display a button in the\n * inserter and handle its selection.\n *\n * The 'utility' property indicates how useful we think an item will be to the\n * user. There are 4 levels of utility:\n *\n * 1. Blocks that are contextually useful (utility = 3)\n * 2. Blocks that have been previously inserted (utility = 2)\n * 3. Blocks that are in the common category (utility = 1)\n * 4. All other blocks (utility = 0)\n *\n * The 'frecency' property is a heuristic (https://en.wikipedia.org/wiki/Frecency)\n * that combines block usage frequenty and recency.\n *\n * Items are returned ordered descendingly by their 'utility' and 'frecency'.\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {WPEditorInserterItem[]} Items that appear in inserter.\n *\n * @typedef {Object} WPEditorInserterItem\n * @property {string}   id                Unique identifier for the item.\n * @property {string}   name              The type of block to create.\n * @property {Object}   initialAttributes Attributes to pass to the newly created block.\n * @property {string}   title             Title of the item, as it appears in the inserter.\n * @property {string}   icon              Dashicon for the item, as it appears in the inserter.\n * @property {string}   category          Block category that the item is associated with.\n * @property {string[]} keywords          Keywords that can be searched to find this item.\n * @property {boolean}  isDisabled        Whether or not the user should be prevented from inserting\n *                                        this item.\n * @property {number}   utility           How useful we think this item is, between 0 and 3.\n * @property {number}   frecency          Hueristic that combines frequency and recency.\n */\nexport const getInserterItems = createSelector(\n\t( state, rootClientId = null ) => {\n\t\tconst calculateUtility = ( category, count, isContextual ) => {\n\t\t\tif ( isContextual ) {\n\t\t\t\treturn INSERTER_UTILITY_HIGH;\n\t\t\t} else if ( count > 0 ) {\n\t\t\t\treturn INSERTER_UTILITY_MEDIUM;\n\t\t\t} else if ( category === 'common' ) {\n\t\t\t\treturn INSERTER_UTILITY_LOW;\n\t\t\t}\n\t\t\treturn INSERTER_UTILITY_NONE;\n\t\t};\n\n\t\tconst calculateFrecency = ( time, count ) => {\n\t\t\tif ( ! time ) {\n\t\t\t\treturn count;\n\t\t\t}\n\n\t\t\t// The selector is cached, which means Date.now() is the last time that the\n\t\t\t// relevant state changed. This suits our needs.\n\t\t\tconst duration = Date.now() - time;\n\n\t\t\tswitch ( true ) {\n\t\t\t\tcase duration < MILLISECONDS_PER_HOUR:\n\t\t\t\t\treturn count * 4;\n\t\t\t\tcase duration < MILLISECONDS_PER_DAY:\n\t\t\t\t\treturn count * 2;\n\t\t\t\tcase duration < MILLISECONDS_PER_WEEK:\n\t\t\t\t\treturn count / 2;\n\t\t\t\tdefault:\n\t\t\t\t\treturn count / 4;\n\t\t\t}\n\t\t};\n\n\t\tconst buildBlockTypeInserterItem = ( blockType ) => {\n\t\t\tconst id = blockType.name;\n\n\t\t\tlet isDisabled = false;\n\t\t\tif ( ! hasBlockSupport( blockType.name, 'multiple', true ) ) {\n\t\t\t\tisDisabled = some(\n\t\t\t\t\tgetBlocksByClientId(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\tgetClientIdsWithDescendants( state )\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tname: blockType.name,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst isContextual = isArray( blockType.parent );\n\t\t\tconst { time, count = 0 } = getInsertUsage( state, id ) || {};\n\t\t\tconst inserterVariations = blockType.variations.filter(\n\t\t\t\t( { scope } ) => ! scope || scope.includes( 'inserter' )\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\tname: blockType.name,\n\t\t\t\tinitialAttributes: {},\n\t\t\t\ttitle: blockType.title,\n\t\t\t\tdescription: blockType.description,\n\t\t\t\ticon: blockType.icon,\n\t\t\t\tcategory: blockType.category,\n\t\t\t\tkeywords: blockType.keywords,\n\t\t\t\tvariations: inserterVariations,\n\t\t\t\texample: blockType.example,\n\t\t\t\tisDisabled,\n\t\t\t\tutility: calculateUtility(\n\t\t\t\t\tblockType.category,\n\t\t\t\t\tcount,\n\t\t\t\t\tisContextual\n\t\t\t\t),\n\t\t\t\tfrecency: calculateFrecency( time, count ),\n\t\t\t};\n\t\t};\n\n\t\tconst buildReusableBlockInserterItem = ( reusableBlock ) => {\n\t\t\tconst id = `core/block/${ reusableBlock.id }`;\n\n\t\t\tconst referencedBlocks = __experimentalGetParsedReusableBlock(\n\t\t\t\tstate,\n\t\t\t\treusableBlock.id\n\t\t\t);\n\t\t\tlet referencedBlockType;\n\t\t\tif ( referencedBlocks.length === 1 ) {\n\t\t\t\treferencedBlockType = getBlockType(\n\t\t\t\t\treferencedBlocks[ 0 ].name\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst { time, count = 0 } = getInsertUsage( state, id ) || {};\n\t\t\tconst utility = calculateUtility( 'reusable', count, false );\n\t\t\tconst frecency = calculateFrecency( time, count );\n\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\tname: 'core/block',\n\t\t\t\tinitialAttributes: { ref: reusableBlock.id },\n\t\t\t\ttitle: reusableBlock.title,\n\t\t\t\ticon: referencedBlockType\n\t\t\t\t\t? referencedBlockType.icon\n\t\t\t\t\t: templateIcon,\n\t\t\t\tcategory: 'reusable',\n\t\t\t\tkeywords: [],\n\t\t\t\tisDisabled: false,\n\t\t\t\tutility,\n\t\t\t\tfrecency,\n\t\t\t};\n\t\t};\n\n\t\tconst blockTypeInserterItems = getBlockTypes()\n\t\t\t.filter( ( blockType ) =>\n\t\t\t\tcanIncludeBlockTypeInInserter( state, blockType, rootClientId )\n\t\t\t)\n\t\t\t.map( buildBlockTypeInserterItem );\n\n\t\tconst reusableBlockInserterItems = canInsertBlockTypeUnmemoized(\n\t\t\tstate,\n\t\t\t'core/block',\n\t\t\trootClientId\n\t\t)\n\t\t\t? getReusableBlocks( state ).map( buildReusableBlockInserterItem )\n\t\t\t: [];\n\n\t\treturn orderBy(\n\t\t\t[ ...blockTypeInserterItems, ...reusableBlockInserterItems ],\n\t\t\t[ 'utility', 'frecency' ],\n\t\t\t[ 'desc', 'desc' ]\n\t\t);\n\t},\n\t( state, rootClientId ) => [\n\t\tstate.blockListSettings[ rootClientId ],\n\t\tstate.blocks.byClientId,\n\t\tstate.blocks.order,\n\t\tstate.preferences.insertUsage,\n\t\tstate.settings.allowedBlockTypes,\n\t\tstate.settings.templateLock,\n\t\tgetReusableBlocks( state ),\n\t\tgetBlockTypes(),\n\t]\n);\n\n/**\n * Determines whether there are items to show in the inserter.\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {boolean} Items that appear in inserter.\n */\nexport const hasInserterItems = createSelector(\n\t( state, rootClientId = null ) => {\n\t\tconst hasBlockType = some( getBlockTypes(), ( blockType ) =>\n\t\t\tcanIncludeBlockTypeInInserter( state, blockType, rootClientId )\n\t\t);\n\t\tif ( hasBlockType ) {\n\t\t\treturn true;\n\t\t}\n\t\tconst hasReusableBlock =\n\t\t\tcanInsertBlockTypeUnmemoized( state, 'core/block', rootClientId ) &&\n\t\t\tgetReusableBlocks( state ).length > 0;\n\n\t\treturn hasReusableBlock;\n\t},\n\t( state, rootClientId ) => [\n\t\tstate.blockListSettings[ rootClientId ],\n\t\tstate.blocks.byClientId,\n\t\tstate.settings.allowedBlockTypes,\n\t\tstate.settings.templateLock,\n\t\tgetReusableBlocks( state ),\n\t\tgetBlockTypes(),\n\t]\n);\n\n/**\n * Returns the list of allowed inserter blocks for inner blocks children\n *\n * @param {Object}  state        Editor state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {Array?} The list of allowed block types.\n */\nexport const __experimentalGetAllowedBlocks = createSelector(\n\t( state, rootClientId = null ) => {\n\t\tif ( ! rootClientId ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn filter( getBlockTypes(), ( blockType ) =>\n\t\t\tcanIncludeBlockTypeInInserter( state, blockType, rootClientId )\n\t\t);\n\t},\n\t( state, rootClientId ) => [\n\t\tstate.blockListSettings[ rootClientId ],\n\t\tstate.blocks.byClientId,\n\t\tstate.settings.allowedBlockTypes,\n\t\tstate.settings.templateLock,\n\t\tgetBlockTypes(),\n\t]\n);\n\n/**\n * Returns the Block List settings of a block, if any exist.\n *\n * @param {Object}  state    Editor state.\n * @param {?string} clientId Block client ID.\n *\n * @return {?Object} Block settings of the block if set.\n */\nexport function getBlockListSettings( state, clientId ) {\n\treturn state.blockListSettings[ clientId ];\n}\n\n/**\n * Returns the editor settings.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} The editor settings object.\n */\nexport function getSettings( state ) {\n\treturn state.settings;\n}\n\n/**\n * Returns true if the most recent block change is be considered persistent, or\n * false otherwise. A persistent change is one committed by BlockEditorProvider\n * via its `onChange` callback, in addition to `onInput`.\n *\n * @param {Object} state Block editor state.\n *\n * @return {boolean} Whether the most recent block change was persistent.\n */\nexport function isLastBlockChangePersistent( state ) {\n\treturn state.blocks.isPersistentChange;\n}\n\n/**\n * Returns the Block List settings for an array of blocks, if any exist.\n *\n * @param {Object}  state    Editor state.\n * @param {Array} clientIds Block client IDs.\n *\n * @return {Array} Block List Settings for each of the found blocks\n */\nexport const __experimentalGetBlockListSettingsForBlocks = createSelector(\n\t( state, clientIds ) => {\n\t\treturn filter( state.blockListSettings, ( value, key ) =>\n\t\t\tclientIds.includes( key )\n\t\t);\n\t},\n\t( state ) => [ state.blockListSettings ]\n);\n\n/**\n * Returns the parsed block saved as shared block with the given ID.\n *\n * @param {Object}        state Global application state.\n * @param {number|string} ref   The shared block's ID.\n *\n * @return {Object} The parsed block.\n */\nexport const __experimentalGetParsedReusableBlock = createSelector(\n\t( state, ref ) => {\n\t\tconst reusableBlock = find(\n\t\t\tgetReusableBlocks( state ),\n\t\t\t( block ) => block.id === ref\n\t\t);\n\t\tif ( ! reusableBlock ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn parse( reusableBlock.content );\n\t},\n\t( state ) => [ getReusableBlocks( state ) ]\n);\n\n/**\n * Returns true if the most recent block change is be considered ignored, or\n * false otherwise. An ignored change is one not to be committed by\n * BlockEditorProvider, neither via `onChange` nor `onInput`.\n *\n * @param {Object} state Block editor state.\n *\n * @return {boolean} Whether the most recent block change was ignored.\n */\nexport function __unstableIsLastBlockChangeIgnored( state ) {\n\t// TODO: Removal Plan: Changes incurred by RECEIVE_BLOCKS should not be\n\t// ignored if in-fact they result in a change in blocks state. The current\n\t// need to ignore changes not a result of user interaction should be\n\t// accounted for in the refactoring of reusable blocks as occurring within\n\t// their own separate block editor / state (#7119).\n\treturn state.blocks.isIgnoredChange;\n}\n\n/**\n * Returns the block attributes changed as a result of the last dispatched\n * action.\n *\n * @param {Object} state Block editor state.\n *\n * @return {Object<string,Object>} Subsets of block attributes changed, keyed\n *                                 by block client ID.\n */\nexport function __experimentalGetLastBlockAttributeChanges( state ) {\n\treturn state.lastBlockAttributesChange;\n}\n\n/**\n * Returns the available reusable blocks\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} Reusable blocks\n */\nfunction getReusableBlocks( state ) {\n\treturn get(\n\t\tstate,\n\t\t[ 'settings', '__experimentalReusableBlocks' ],\n\t\tEMPTY_ARRAY\n\t);\n}\n\n/**\n * Returns whether the navigation mode is enabled.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean}     Is navigation mode enabled.\n */\nexport function isNavigationMode( state ) {\n\treturn state.isNavigationMode;\n}\n\n/**\n * Returns true if the last change was an automatic change, false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the last change was automatic.\n */\nexport function didAutomaticChange( state ) {\n\treturn !! state.automaticChangeStatus;\n}\n\n/**\n * Returns true if the current highlighted block matches the block clientId.\n *\n * @param {Object} state Global application state.\n * @param {string} clientId The block to check.\n *\n * @return {boolean} Whether the block is currently highlighted.\n */\nexport function isBlockHighlighted( state, clientId ) {\n\treturn state.highlightedBlock === clientId;\n}\n","/**\n * External dependencies\n */\nimport { findKey } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport {\n\tgetBlockType,\n\tdoBlocksMatchTemplate,\n\tswitchToBlockType,\n\tsynchronizeBlocksWithTemplate,\n\tcloneBlock,\n} from '@wordpress/blocks';\nimport { _n, sprintf } from '@wordpress/i18n';\nimport { create, toHTMLString, insert, remove } from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nimport {\n\treplaceBlocks,\n\tselectBlock,\n\tsetTemplateValidity,\n\tresetBlocks,\n\tselectionChange,\n} from './actions';\nimport {\n\tgetBlock,\n\tgetBlocks,\n\tgetSelectedBlockCount,\n\tgetTemplateLock,\n\tgetTemplate,\n\tisValidTemplate,\n\tgetSelectionStart,\n} from './selectors';\n\n/**\n * Block validity is a function of blocks state (at the point of a\n * reset) and the template setting. As a compromise to its placement\n * across distinct parts of state, it is implemented here as a side-\n * effect of the block reset action.\n *\n * @param {Object} action RESET_BLOCKS action.\n * @param {Object} store  Store instance.\n *\n * @return {?Object} New validity set action if validity has changed.\n */\nexport function validateBlocksToTemplate( action, store ) {\n\tconst state = store.getState();\n\tconst template = getTemplate( state );\n\tconst templateLock = getTemplateLock( state );\n\n\t// Unlocked templates are considered always valid because they act\n\t// as default values only.\n\tconst isBlocksValidToTemplate =\n\t\t! template ||\n\t\ttemplateLock !== 'all' ||\n\t\tdoBlocksMatchTemplate( action.blocks, template );\n\n\t// Update if validity has changed.\n\tif ( isBlocksValidToTemplate !== isValidTemplate( state ) ) {\n\t\treturn setTemplateValidity( isBlocksValidToTemplate );\n\t}\n}\n\nexport default {\n\tMERGE_BLOCKS( action, store ) {\n\t\tconst { dispatch } = store;\n\t\tconst state = store.getState();\n\t\tconst [ clientIdA, clientIdB ] = action.blocks;\n\t\tconst blockA = getBlock( state, clientIdA );\n\t\tconst blockAType = getBlockType( blockA.name );\n\n\t\t// Only focus the previous block if it's not mergeable\n\t\tif ( ! blockAType.merge ) {\n\t\t\tdispatch( selectBlock( blockA.clientId ) );\n\t\t\treturn;\n\t\t}\n\n\t\tconst blockB = getBlock( state, clientIdB );\n\t\tconst blockBType = getBlockType( blockB.name );\n\t\tconst { clientId, attributeKey, offset } = getSelectionStart( state );\n\t\tconst selectedBlockType =\n\t\t\tclientId === clientIdA ? blockAType : blockBType;\n\t\tconst attributeDefinition =\n\t\t\tselectedBlockType.attributes[ attributeKey ];\n\t\tconst canRestoreTextSelection =\n\t\t\t( clientId === clientIdA || clientId === clientIdB ) &&\n\t\t\tattributeKey !== undefined &&\n\t\t\toffset !== undefined &&\n\t\t\t// We cannot restore text selection if the RichText identifier\n\t\t\t// is not a defined block attribute key. This can be the case if the\n\t\t\t// fallback intance ID is used to store selection (and no RichText\n\t\t\t// identifier is set), or when the identifier is wrong.\n\t\t\t!! attributeDefinition;\n\n\t\tif ( ! attributeDefinition ) {\n\t\t\tif ( typeof attributeKey === 'number' ) {\n\t\t\t\twindow.console.error(\n\t\t\t\t\t`RichText needs an identifier prop that is the block attribute key of the attribute it controls. Its type is expected to be a string, but was ${ typeof attributeKey }`\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindow.console.error(\n\t\t\t\t\t'The RichText identifier prop does not match any attributes defined by the block.'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// A robust way to retain selection position through various transforms\n\t\t// is to insert a special character at the position and then recover it.\n\t\tconst START_OF_SELECTED_AREA = '\\u0086';\n\n\t\t// Clone the blocks so we don't insert the character in a \"live\" block.\n\t\tconst cloneA = cloneBlock( blockA );\n\t\tconst cloneB = cloneBlock( blockB );\n\n\t\tif ( canRestoreTextSelection ) {\n\t\t\tconst selectedBlock = clientId === clientIdA ? cloneA : cloneB;\n\t\t\tconst html = selectedBlock.attributes[ attributeKey ];\n\t\t\tconst {\n\t\t\t\tmultiline: multilineTag,\n\t\t\t\t__unstableMultilineWrapperTags: multilineWrapperTags,\n\t\t\t\t__unstablePreserveWhiteSpace: preserveWhiteSpace,\n\t\t\t} = attributeDefinition;\n\t\t\tconst value = insert(\n\t\t\t\tcreate( {\n\t\t\t\t\thtml,\n\t\t\t\t\tmultilineTag,\n\t\t\t\t\tmultilineWrapperTags,\n\t\t\t\t\tpreserveWhiteSpace,\n\t\t\t\t} ),\n\t\t\t\tSTART_OF_SELECTED_AREA,\n\t\t\t\toffset,\n\t\t\t\toffset\n\t\t\t);\n\n\t\t\tselectedBlock.attributes[ attributeKey ] = toHTMLString( {\n\t\t\t\tvalue,\n\t\t\t\tmultilineTag,\n\t\t\t\tpreserveWhiteSpace,\n\t\t\t} );\n\t\t}\n\n\t\t// We can only merge blocks with similar types\n\t\t// thus, we transform the block to merge first\n\t\tconst blocksWithTheSameType =\n\t\t\tblockA.name === blockB.name\n\t\t\t\t? [ cloneB ]\n\t\t\t\t: switchToBlockType( cloneB, blockA.name );\n\n\t\t// If the block types can not match, do nothing\n\t\tif ( ! blocksWithTheSameType || ! blocksWithTheSameType.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Calling the merge to update the attributes and remove the block to be merged\n\t\tconst updatedAttributes = blockAType.merge(\n\t\t\tcloneA.attributes,\n\t\t\tblocksWithTheSameType[ 0 ].attributes\n\t\t);\n\n\t\tif ( canRestoreTextSelection ) {\n\t\t\tconst newAttributeKey = findKey(\n\t\t\t\tupdatedAttributes,\n\t\t\t\t( v ) =>\n\t\t\t\t\ttypeof v === 'string' &&\n\t\t\t\t\tv.indexOf( START_OF_SELECTED_AREA ) !== -1\n\t\t\t);\n\t\t\tconst convertedHtml = updatedAttributes[ newAttributeKey ];\n\t\t\tconst {\n\t\t\t\tmultiline: multilineTag,\n\t\t\t\t__unstableMultilineWrapperTags: multilineWrapperTags,\n\t\t\t\t__unstablePreserveWhiteSpace: preserveWhiteSpace,\n\t\t\t} = blockAType.attributes[ newAttributeKey ];\n\t\t\tconst convertedValue = create( {\n\t\t\t\thtml: convertedHtml,\n\t\t\t\tmultilineTag,\n\t\t\t\tmultilineWrapperTags,\n\t\t\t\tpreserveWhiteSpace,\n\t\t\t} );\n\t\t\tconst newOffset = convertedValue.text.indexOf(\n\t\t\t\tSTART_OF_SELECTED_AREA\n\t\t\t);\n\t\t\tconst newValue = remove( convertedValue, newOffset, newOffset + 1 );\n\t\t\tconst newHtml = toHTMLString( {\n\t\t\t\tvalue: newValue,\n\t\t\t\tmultilineTag,\n\t\t\t\tpreserveWhiteSpace,\n\t\t\t} );\n\n\t\t\tupdatedAttributes[ newAttributeKey ] = newHtml;\n\n\t\t\tdispatch(\n\t\t\t\tselectionChange(\n\t\t\t\t\tblockA.clientId,\n\t\t\t\t\tnewAttributeKey,\n\t\t\t\t\tnewOffset,\n\t\t\t\t\tnewOffset\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tdispatch(\n\t\t\treplaceBlocks(\n\t\t\t\t[ blockA.clientId, blockB.clientId ],\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\t...blockA,\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t...blockA.attributes,\n\t\t\t\t\t\t\t...updatedAttributes,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t...blocksWithTheSameType.slice( 1 ),\n\t\t\t\t]\n\t\t\t)\n\t\t);\n\t},\n\tRESET_BLOCKS: [ validateBlocksToTemplate ],\n\tMULTI_SELECT: ( action, { getState } ) => {\n\t\tconst blockCount = getSelectedBlockCount( getState() );\n\n\t\tspeak(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: number of selected blocks */\n\t\t\t\t_n( '%s block selected.', '%s blocks selected.', blockCount ),\n\t\t\t\tblockCount\n\t\t\t),\n\t\t\t'assertive'\n\t\t);\n\t},\n\tSYNCHRONIZE_TEMPLATE( action, { getState } ) {\n\t\tconst state = getState();\n\t\tconst blocks = getBlocks( state );\n\t\tconst template = getTemplate( state );\n\t\tconst updatedBlockList = synchronizeBlocksWithTemplate(\n\t\t\tblocks,\n\t\t\ttemplate\n\t\t);\n\n\t\treturn resetBlocks( updatedBlockList );\n\t},\n\tMARK_AUTOMATIC_CHANGE( action, store ) {\n\t\tconst {\n\t\t\tsetTimeout,\n\t\t\trequestIdleCallback = ( callback ) => setTimeout( callback, 100 ),\n\t\t} = window;\n\n\t\trequestIdleCallback( () => {\n\t\t\tstore.dispatch( { type: 'MARK_AUTOMATIC_CHANGE_FINAL' } );\n\t\t} );\n\t},\n};\n","/**\n * External dependencies\n */\nimport refx from 'refx';\nimport multi from 'redux-multi';\nimport { flowRight } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport effects from './effects';\n\n/**\n * Applies the custom middlewares used specifically in the editor module.\n *\n * @param {Object} store Store Object.\n *\n * @return {Object} Update Store Object.\n */\nfunction applyMiddlewares( store ) {\n\tconst middlewares = [ refx( effects ), multi ];\n\n\tlet enhancedDispatch = () => {\n\t\tthrow new Error(\n\t\t\t'Dispatching while constructing your middleware is not allowed. ' +\n\t\t\t\t'Other middleware would not be applied to this dispatch.'\n\t\t);\n\t};\n\tlet chain = [];\n\n\tconst middlewareAPI = {\n\t\tgetState: store.getState,\n\t\tdispatch: ( ...args ) => enhancedDispatch( ...args ),\n\t};\n\tchain = middlewares.map( ( middleware ) => middleware( middlewareAPI ) );\n\tenhancedDispatch = flowRight( ...chain )( store.dispatch );\n\n\tstore.dispatch = enhancedDispatch;\n\treturn store;\n}\n\nexport default applyMiddlewares;\n","/**\n * WordPress dependencies\n */\nimport { registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport applyMiddlewares from './middlewares';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport controls from './controls';\n\n/**\n * Module Constants\n */\nconst MODULE_KEY = 'core/block-editor';\n\n/**\n * Block editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/data/README.md#registerStore\n *\n * @type {Object}\n */\nexport const storeConfig = {\n\treducer,\n\tselectors,\n\tactions,\n\tcontrols,\n};\n\nconst store = registerStore( MODULE_KEY, {\n\t...storeConfig,\n\tpersist: [ 'preferences' ],\n} );\napplyMiddlewares( store );\n\nexport default store;\n","/**\n * WordPress dependencies\n */\nimport { useState, useEffect } from '@wordpress/element';\nimport {\n\twithRegistry,\n\tcreateRegistry,\n\tRegistryProvider,\n} from '@wordpress/data';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { storeConfig } from '../../store';\nimport applyMiddlewares from '../../store/middlewares';\n\nconst withRegistryProvider = createHigherOrderComponent(\n\t( WrappedComponent ) => {\n\t\treturn withRegistry(\n\t\t\t( { useSubRegistry = true, registry, ...props } ) => {\n\t\t\t\tif ( ! useSubRegistry ) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<WrappedComponent registry={ registry } { ...props } />\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tconst [ subRegistry, setSubRegistry ] = useState( null );\n\t\t\t\tuseEffect( () => {\n\t\t\t\t\tconst newRegistry = createRegistry( {}, registry );\n\t\t\t\t\tconst store = newRegistry.registerStore(\n\t\t\t\t\t\t'core/block-editor',\n\t\t\t\t\t\tstoreConfig\n\t\t\t\t\t);\n\t\t\t\t\t// This should be removed after the refactoring of the effects to controls.\n\t\t\t\t\tapplyMiddlewares( store );\n\t\t\t\t\tsetSubRegistry( newRegistry );\n\t\t\t\t}, [ registry ] );\n\n\t\t\t\tif ( ! subRegistry ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<RegistryProvider value={ subRegistry }>\n\t\t\t\t\t\t<WrappedComponent\n\t\t\t\t\t\t\tregistry={ subRegistry }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</RegistryProvider>\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t},\n\t'withRegistryProvider'\n);\n\nexport default withRegistryProvider;\n","/**\n * External dependencies\n */\nimport { last, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport withRegistryProvider from './with-registry-provider';\n\n/** @typedef {import('@wordpress/data').WPDataRegistry} WPDataRegistry */\n\nclass BlockEditorProvider extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.updateSettings( this.props.settings );\n\t\tthis.props.resetBlocks( this.props.value );\n\t\tthis.attachChangeObserver( this.props.registry );\n\t\tthis.isSyncingOutcomingValue = [];\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst {\n\t\t\tsettings,\n\t\t\tupdateSettings,\n\t\t\tvalue,\n\t\t\tresetBlocks,\n\t\t\tselectionStart,\n\t\t\tselectionEnd,\n\t\t\tresetSelection,\n\t\t\tregistry,\n\t\t} = this.props;\n\n\t\tif ( settings !== prevProps.settings ) {\n\t\t\tupdateSettings( settings );\n\t\t}\n\n\t\tif ( registry !== prevProps.registry ) {\n\t\t\tthis.attachChangeObserver( registry );\n\t\t}\n\n\t\tif ( this.isSyncingOutcomingValue.includes( value ) ) {\n\t\t\t// Skip block reset if the value matches expected outbound sync\n\t\t\t// triggered by this component by a preceding change detection.\n\t\t\t// Only skip if the value matches expectation, since a reset should\n\t\t\t// still occur if the value is modified (not equal by reference),\n\t\t\t// to allow that the consumer may apply modifications to reflect\n\t\t\t// back on the editor.\n\t\t\tif ( last( this.isSyncingOutcomingValue ) === value ) {\n\t\t\t\tthis.isSyncingOutcomingValue = [];\n\t\t\t}\n\t\t} else if ( value !== prevProps.value ) {\n\t\t\t// Reset changing value in all other cases than the sync described\n\t\t\t// above. Since this can be reached in an update following an out-\n\t\t\t// bound sync, unset the outbound value to avoid considering it in\n\t\t\t// subsequent renders.\n\t\t\tthis.isSyncingOutcomingValue = [];\n\t\t\tthis.isSyncingIncomingValue = value;\n\t\t\tresetBlocks( value );\n\n\t\t\tif ( selectionStart && selectionEnd ) {\n\t\t\t\tresetSelection( selectionStart, selectionEnd );\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif ( this.unsubscribe ) {\n\t\t\tthis.unsubscribe();\n\t\t}\n\t}\n\n\t/**\n\t * Given a registry object, overrides the default dispatch behavior for the\n\t * `core/block-editor` store to interpret a state change and decide whether\n\t * we should call `onChange` or `onInput` depending on whether the change\n\t * is persistent or not.\n\t *\n\t * This needs to be done synchronously after state changes (instead of using\n\t * `componentDidUpdate`) in order to avoid batching these changes.\n\t *\n\t * @param {WPDataRegistry} registry Registry from which block editor\n\t *                                  dispatch is to be overridden.\n\t */\n\tattachChangeObserver( registry ) {\n\t\tif ( this.unsubscribe ) {\n\t\t\tthis.unsubscribe();\n\t\t}\n\n\t\tconst {\n\t\t\tgetBlocks,\n\t\t\tgetSelectionStart,\n\t\t\tgetSelectionEnd,\n\t\t\tisLastBlockChangePersistent,\n\t\t\t__unstableIsLastBlockChangeIgnored,\n\t\t} = registry.select( 'core/block-editor' );\n\n\t\tlet blocks = getBlocks();\n\t\tlet isPersistent = isLastBlockChangePersistent();\n\n\t\tthis.unsubscribe = registry.subscribe( () => {\n\t\t\tconst { onChange = noop, onInput = noop } = this.props;\n\n\t\t\tconst newBlocks = getBlocks();\n\t\t\tconst newIsPersistent = isLastBlockChangePersistent();\n\n\t\t\tif (\n\t\t\t\tnewBlocks !== blocks &&\n\t\t\t\t( this.isSyncingIncomingValue ||\n\t\t\t\t\t__unstableIsLastBlockChangeIgnored() )\n\t\t\t) {\n\t\t\t\tthis.isSyncingIncomingValue = null;\n\t\t\t\tblocks = newBlocks;\n\t\t\t\tisPersistent = newIsPersistent;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tnewBlocks !== blocks ||\n\t\t\t\t// This happens when a previous input is explicitely marked as persistent.\n\t\t\t\t( newIsPersistent && ! isPersistent )\n\t\t\t) {\n\t\t\t\t// When knowing the blocks value is changing, assign instance\n\t\t\t\t// value to skip reset in subsequent `componentDidUpdate`.\n\t\t\t\tif ( newBlocks !== blocks ) {\n\t\t\t\t\tthis.isSyncingOutcomingValue.push( newBlocks );\n\t\t\t\t}\n\n\t\t\t\tblocks = newBlocks;\n\t\t\t\tisPersistent = newIsPersistent;\n\n\t\t\t\tconst selectionStart = getSelectionStart();\n\t\t\t\tconst selectionEnd = getSelectionEnd();\n\n\t\t\t\tif ( isPersistent ) {\n\t\t\t\t\tonChange( blocks, { selectionStart, selectionEnd } );\n\t\t\t\t} else {\n\t\t\t\t\tonInput( blocks, { selectionStart, selectionEnd } );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { children } = this.props;\n\n\t\treturn children;\n\t}\n}\n\nexport default compose( [\n\twithRegistryProvider,\n\twithDispatch( ( dispatch ) => {\n\t\tconst { updateSettings, resetBlocks, resetSelection } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\treturn {\n\t\t\tupdateSettings,\n\t\t\tresetBlocks,\n\t\t\tresetSelection,\n\t\t};\n\t} ),\n] )( BlockEditorProvider );\n","/**\n * External dependencies\n */\nimport { includes, debounce } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, Component } from '@wordpress/element';\nimport { focus } from '@wordpress/dom';\n\nconst { Consumer, Provider } = createContext( false );\n\n/**\n * Names of control nodes which qualify for disabled behavior.\n *\n * See WHATWG HTML Standard: 4.10.18.5: \"Enabling and disabling form controls: the disabled attribute\".\n *\n * @see https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#enabling-and-disabling-form-controls:-the-disabled-attribute\n *\n * @type {string[]}\n */\nconst DISABLED_ELIGIBLE_NODE_NAMES = [\n\t'BUTTON',\n\t'FIELDSET',\n\t'INPUT',\n\t'OPTGROUP',\n\t'OPTION',\n\t'SELECT',\n\t'TEXTAREA',\n];\n\nclass Disabled extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.bindNode = this.bindNode.bind( this );\n\t\tthis.disable = this.disable.bind( this );\n\n\t\t// Debounce re-disable since disabling process itself will incur\n\t\t// additional mutations which should be ignored.\n\t\tthis.debouncedDisable = debounce( this.disable, { leading: true } );\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.disable();\n\n\t\tthis.observer = new window.MutationObserver( this.debouncedDisable );\n\t\tthis.observer.observe( this.node, {\n\t\t\tchildList: true,\n\t\t\tattributes: true,\n\t\t\tsubtree: true,\n\t\t} );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.observer.disconnect();\n\t\tthis.debouncedDisable.cancel();\n\t}\n\n\tbindNode( node ) {\n\t\tthis.node = node;\n\t}\n\n\tdisable() {\n\t\tfocus.focusable.find( this.node ).forEach( ( focusable ) => {\n\t\t\tif (\n\t\t\t\tincludes( DISABLED_ELIGIBLE_NODE_NAMES, focusable.nodeName )\n\t\t\t) {\n\t\t\t\tfocusable.setAttribute( 'disabled', '' );\n\t\t\t}\n\n\t\t\tif ( focusable.hasAttribute( 'tabindex' ) ) {\n\t\t\t\tfocusable.removeAttribute( 'tabindex' );\n\t\t\t}\n\n\t\t\tif ( focusable.hasAttribute( 'contenteditable' ) ) {\n\t\t\t\tfocusable.setAttribute( 'contenteditable', 'false' );\n\t\t\t}\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { className, ...props } = this.props;\n\t\treturn (\n\t\t\t<Provider value={ true }>\n\t\t\t\t<div\n\t\t\t\t\tref={ this.bindNode }\n\t\t\t\t\tclassName={ classnames( className, 'components-disabled' ) }\n\t\t\t\t\t{ ...props }\n\t\t\t\t>\n\t\t\t\t\t{ this.props.children }\n\t\t\t\t</div>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\nDisabled.Consumer = Consumer;\n\nexport default Disabled;\n","/**\n * External dependencies\n */\nimport useResizeAware from 'react-resize-aware';\n\n/**\n * Hook which allows to listen the resize event of any target element when it changes sizes.\n * _Note: `useResizeObserver` will report `null` until after first render_\n *\n * @return {Array} An array of {Element} `resizeListener` and {?Object} `sizes` with properties `width` and `height`\n *\n * @example\n *\n * ```js\n * const App = () => {\n * \tconst [ resizeListener, sizes ] = useResizeObserver();\n *\n * \treturn (\n * \t\t<div>\n * \t\t\t{ resizeListener }\n * \t\t\tYour content here\n * \t\t</div>\n * \t);\n * };\n * ```\n *\n */\nexport default useResizeAware;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\n\nimport { Component, createRef } from '@wordpress/element';\nimport { ESCAPE } from '@wordpress/keycodes';\nimport { focus } from '@wordpress/dom';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport IsolatedEventContainer from '../isolated-event-container';\nimport withFocusOutside from '../higher-order/with-focus-outside';\nimport withFocusReturn from '../higher-order/with-focus-return';\nimport withConstrainedTabbing from '../higher-order/with-constrained-tabbing';\n\nclass ModalFrame extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.containerRef = createRef();\n\t\tthis.handleKeyDown = this.handleKeyDown.bind( this );\n\t\tthis.handleFocusOutside = this.handleFocusOutside.bind( this );\n\t\tthis.focusFirstTabbable = this.focusFirstTabbable.bind( this );\n\t}\n\n\t/**\n\t * Focuses the first tabbable element when props.focusOnMount is true.\n\t */\n\tcomponentDidMount() {\n\t\t// Focus on mount\n\t\tif ( this.props.focusOnMount ) {\n\t\t\tthis.focusFirstTabbable();\n\t\t}\n\t}\n\n\t/**\n\t * Focuses the first tabbable element.\n\t */\n\tfocusFirstTabbable() {\n\t\tconst tabbables = focus.tabbable.find( this.containerRef.current );\n\t\tif ( tabbables.length ) {\n\t\t\ttabbables[ 0 ].focus();\n\t\t}\n\t}\n\n\t/**\n\t * Callback function called when clicked outside the modal.\n\t *\n\t * @param {Object} event Mouse click event.\n\t */\n\thandleFocusOutside( event ) {\n\t\tif ( this.props.shouldCloseOnClickOutside ) {\n\t\t\tthis.onRequestClose( event );\n\t\t}\n\t}\n\n\t/**\n\t * Callback function called when a key is pressed.\n\t *\n\t * @param {KeyboardEvent} event Key down event.\n\t */\n\thandleKeyDown( event ) {\n\t\tif ( event.keyCode === ESCAPE ) {\n\t\t\tthis.handleEscapeKeyDown( event );\n\t\t}\n\t}\n\n\t/**\n\t * Handles a escape key down event.\n\t *\n\t * Calls onRequestClose and prevents propagation of the event outside the modal.\n\t *\n\t * @param {Object} event Key down event.\n\t */\n\thandleEscapeKeyDown( event ) {\n\t\tif ( this.props.shouldCloseOnEsc ) {\n\t\t\tevent.stopPropagation();\n\t\t\tthis.onRequestClose( event );\n\t\t}\n\t}\n\n\t/**\n\t * Calls the onRequestClose callback props when it is available.\n\t *\n\t * @param {Object} event Event object.\n\t */\n\tonRequestClose( event ) {\n\t\tconst { onRequestClose } = this.props;\n\t\tif ( onRequestClose ) {\n\t\t\tonRequestClose( event );\n\t\t}\n\t}\n\n\t/**\n\t * Renders the modal frame element.\n\t *\n\t * @return {WPElement} The modal frame element.\n\t */\n\trender() {\n\t\tconst {\n\t\t\toverlayClassName,\n\t\t\tcontentLabel,\n\t\t\taria: { describedby, labelledby },\n\t\t\tchildren,\n\t\t\tclassName,\n\t\t\trole,\n\t\t\tstyle,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<IsolatedEventContainer\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'components-modal__screen-overlay',\n\t\t\t\t\toverlayClassName\n\t\t\t\t) }\n\t\t\t\tonKeyDown={ this.handleKeyDown }\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'components-modal__frame',\n\t\t\t\t\t\tclassName\n\t\t\t\t\t) }\n\t\t\t\t\tstyle={ style }\n\t\t\t\t\tref={ this.containerRef }\n\t\t\t\t\trole={ role }\n\t\t\t\t\taria-label={ contentLabel }\n\t\t\t\t\taria-labelledby={ contentLabel ? null : labelledby }\n\t\t\t\t\taria-describedby={ describedby }\n\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t>\n\t\t\t\t\t{ children }\n\t\t\t\t</div>\n\t\t\t</IsolatedEventContainer>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithFocusReturn,\n\twithConstrainedTabbing,\n\twithFocusOutside,\n] )( ModalFrame );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { close } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\n\nconst ModalHeader = ( {\n\ticon,\n\ttitle,\n\tonClose,\n\tcloseLabel,\n\theadingId,\n\tisDismissible,\n} ) => {\n\tconst label = closeLabel ? closeLabel : __( 'Close dialog' );\n\n\treturn (\n\t\t<div className=\"components-modal__header\">\n\t\t\t<div className=\"components-modal__header-heading-container\">\n\t\t\t\t{ icon && (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"components-modal__icon-container\"\n\t\t\t\t\t\taria-hidden\n\t\t\t\t\t>\n\t\t\t\t\t\t{ icon }\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t\t{ title && (\n\t\t\t\t\t<h1\n\t\t\t\t\t\tid={ headingId }\n\t\t\t\t\t\tclassName=\"components-modal__header-heading\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</h1>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ isDismissible && (\n\t\t\t\t<Button onClick={ onClose } icon={ close } label={ label } />\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nexport default ModalHeader;\n","/**\n * External dependencies\n */\nimport { forEach } from 'lodash';\n\nconst LIVE_REGION_ARIA_ROLES = new Set( [\n\t'alert',\n\t'status',\n\t'log',\n\t'marquee',\n\t'timer',\n] );\n\nlet hiddenElements = [],\n\tisHidden = false;\n\n/**\n * Hides all elements in the body element from screen-readers except\n * the provided element and elements that should not be hidden from\n * screen-readers.\n *\n * The reason we do this is because `aria-modal=\"true\"` currently is bugged\n * in Safari, and support is spotty in other browsers overall. In the future\n * we should consider removing these helper functions in favor of\n * `aria-modal=\"true\"`.\n *\n * @param {Element} unhiddenElement The element that should not be hidden.\n */\nexport function hideApp( unhiddenElement ) {\n\tif ( isHidden ) {\n\t\treturn;\n\t}\n\tconst elements = document.body.children;\n\tforEach( elements, ( element ) => {\n\t\tif ( element === unhiddenElement ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( elementShouldBeHidden( element ) ) {\n\t\t\telement.setAttribute( 'aria-hidden', 'true' );\n\t\t\thiddenElements.push( element );\n\t\t}\n\t} );\n\tisHidden = true;\n}\n\n/**\n * Determines if the passed element should not be hidden from screen readers.\n *\n * @param {HTMLElement} element The element that should be checked.\n *\n * @return {boolean} Whether the element should not be hidden from screen-readers.\n */\nexport function elementShouldBeHidden( element ) {\n\tconst role = element.getAttribute( 'role' );\n\treturn ! (\n\t\telement.tagName === 'SCRIPT' ||\n\t\telement.hasAttribute( 'aria-hidden' ) ||\n\t\telement.hasAttribute( 'aria-live' ) ||\n\t\tLIVE_REGION_ARIA_ROLES.has( role )\n\t);\n}\n\n/**\n * Makes all elements in the body that have been hidden by `hideApp`\n * visible again to screen-readers.\n */\nexport function showApp() {\n\tif ( ! isHidden ) {\n\t\treturn;\n\t}\n\tforEach( hiddenElements, ( element ) => {\n\t\telement.removeAttribute( 'aria-hidden' );\n\t} );\n\thiddenElements = [];\n\tisHidden = false;\n}\n","/**\n * WordPress dependencies\n */\nimport { Component, createPortal } from '@wordpress/element';\nimport { withInstanceId } from '@wordpress/compose';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport ModalFrame from './frame';\nimport ModalHeader from './header';\nimport * as ariaHelper from './aria-helper';\n\n// Used to count the number of open modals.\nlet parentElement,\n\topenModalCount = 0;\n\nclass Modal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.prepareDOM();\n\t}\n\n\t/**\n\t * Appends the modal's node to the DOM, so the portal can render the\n\t * modal in it. Also calls the openFirstModal when this is the first modal to be\n\t * opened.\n\t */\n\tcomponentDidMount() {\n\t\topenModalCount++;\n\n\t\tif ( openModalCount === 1 ) {\n\t\t\tthis.openFirstModal();\n\t\t}\n\t}\n\n\t/**\n\t * Removes the modal's node from the DOM. Also calls closeLastModal when this is\n\t * the last modal to be closed.\n\t */\n\tcomponentWillUnmount() {\n\t\topenModalCount--;\n\n\t\tif ( openModalCount === 0 ) {\n\t\t\tthis.closeLastModal();\n\t\t}\n\n\t\tthis.cleanDOM();\n\t}\n\n\t/**\n\t * Prepares the DOM for the modals to be rendered.\n\t *\n\t * Every modal is mounted in a separate div appended to a parent div\n\t * that is appended to the document body.\n\t *\n\t * The parent div will be created if it does not yet exist, and the\n\t * separate div for this specific modal will be appended to that.\n\t */\n\tprepareDOM() {\n\t\tif ( ! parentElement ) {\n\t\t\tparentElement = document.createElement( 'div' );\n\t\t\tdocument.body.appendChild( parentElement );\n\t\t}\n\t\tthis.node = document.createElement( 'div' );\n\t\tparentElement.appendChild( this.node );\n\t}\n\n\t/**\n\t * Removes the specific mounting point for this modal from the DOM.\n\t */\n\tcleanDOM() {\n\t\tparentElement.removeChild( this.node );\n\t}\n\n\t/**\n\t * Prepares the DOM for this modal and any additional modal to be mounted.\n\t *\n\t * It appends an additional div to the body for the modals to be rendered in,\n\t * it hides any other elements from screen-readers and adds an additional class\n\t * to the body to prevent scrolling while the modal is open.\n\t */\n\topenFirstModal() {\n\t\tariaHelper.hideApp( parentElement );\n\t\tdocument.body.classList.add( this.props.bodyOpenClassName );\n\t}\n\n\t/**\n\t * Cleans up the DOM after the last modal is closed and makes the app available\n\t * for screen-readers again.\n\t */\n\tcloseLastModal() {\n\t\tdocument.body.classList.remove( this.props.bodyOpenClassName );\n\t\tariaHelper.showApp();\n\t}\n\n\t/**\n\t * Renders the modal.\n\t *\n\t * @return {WPElement} The modal element.\n\t */\n\trender() {\n\t\tconst {\n\t\t\tonRequestClose,\n\t\t\ttitle,\n\t\t\ticon,\n\t\t\tcloseButtonLabel,\n\t\t\tchildren,\n\t\t\taria,\n\t\t\tinstanceId,\n\t\t\tisDismissible,\n\t\t\tisDismissable, //Deprecated\n\t\t\t// Many of the documented props for Modal are passed straight through\n\t\t\t// to the ModalFrame component and handled there.\n\t\t\t...otherProps\n\t\t} = this.props;\n\n\t\tconst headingId =\n\t\t\taria.labelledby || `components-modal-header-${ instanceId }`;\n\n\t\tif ( isDismissable ) {\n\t\t\tdeprecated( 'isDismissable prop of the Modal component', {\n\t\t\t\talternative:\n\t\t\t\t\t'isDismissible prop (renamed) of the Modal component',\n\t\t\t} );\n\t\t}\n\t\t// Disable reason: this stops mouse events from triggering tooltips and\n\t\t// other elements underneath the modal overlay.\n\t\treturn createPortal(\n\t\t\t<ModalFrame\n\t\t\t\tonRequestClose={ onRequestClose }\n\t\t\t\taria={ {\n\t\t\t\t\tlabelledby: title ? headingId : null,\n\t\t\t\t\tdescribedby: aria.describedby,\n\t\t\t\t} }\n\t\t\t\t{ ...otherProps }\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={ 'components-modal__content' }\n\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\trole=\"document\"\n\t\t\t\t>\n\t\t\t\t\t<ModalHeader\n\t\t\t\t\t\tcloseLabel={ closeButtonLabel }\n\t\t\t\t\t\theadingId={ headingId }\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\tisDismissible={ isDismissible || isDismissable }\n\t\t\t\t\t\tonClose={ onRequestClose }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t/>\n\t\t\t\t\t{ children }\n\t\t\t\t</div>\n\t\t\t</ModalFrame>,\n\t\t\tthis.node\n\t\t);\n\t}\n}\n\nModal.defaultProps = {\n\tbodyOpenClassName: 'modal-open',\n\trole: 'dialog',\n\ttitle: null,\n\tfocusOnMount: true,\n\tshouldCloseOnEsc: true,\n\tshouldCloseOnClickOutside: true,\n\tisDismissible: true,\n\t/* accessibility */\n\taria: {\n\t\tlabelledby: null,\n\t\tdescribedby: null,\n\t},\n};\n\nexport default withInstanceId( Modal );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Children } from '@wordpress/element';\nimport { useInstanceId } from '@wordpress/compose';\n\nexport function MenuGroup( { children, className = '', label } ) {\n\tconst instanceId = useInstanceId( MenuGroup );\n\n\tif ( ! Children.count( children ) ) {\n\t\treturn null;\n\t}\n\n\tconst labelId = `components-menu-group-label-${ instanceId }`;\n\tconst classNames = classnames( className, 'components-menu-group' );\n\n\treturn (\n\t\t<div className={ classNames }>\n\t\t\t{ label && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"components-menu-group__label\"\n\t\t\t\t\tid={ labelId }\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t>\n\t\t\t\t\t{ label }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<div role=\"group\" aria-labelledby={ label ? labelId : null }>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default MenuGroup;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isString } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Shortcut from '../shortcut';\nimport Button from '../button';\n\n/**\n * Renders a generic menu item for use inside the more menu.\n *\n * @return {WPComponent} The component to be rendered.\n */\nexport function MenuItem( {\n\tchildren,\n\tinfo,\n\tclassName,\n\ticon,\n\tshortcut,\n\tisSelected,\n\trole = 'menuitem',\n\t...props\n} ) {\n\tclassName = classnames( 'components-menu-item__button', className );\n\n\tif ( info ) {\n\t\tchildren = (\n\t\t\t<span className=\"components-menu-item__info-wrapper\">\n\t\t\t\t{ children }\n\t\t\t\t<span className=\"components-menu-item__info\">{ info }</span>\n\t\t\t</span>\n\t\t);\n\t}\n\n\tif ( icon && ! isString( icon ) ) {\n\t\ticon = cloneElement( icon, {\n\t\t\tclassName: 'components-menu-items__item-icon',\n\t\t} );\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\ticon={ icon }\n\t\t\t// Make sure aria-checked matches spec https://www.w3.org/TR/wai-aria-1.1/#aria-checked\n\t\t\taria-checked={\n\t\t\t\trole === 'menuitemcheckbox' || role === 'menuitemradio'\n\t\t\t\t\t? isSelected\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\trole={ role }\n\t\t\tclassName={ className }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ children }\n\t\t\t<Shortcut\n\t\t\t\tclassName=\"components-menu-item__shortcut\"\n\t\t\t\tshortcut={ shortcut }\n\t\t\t/>\n\t\t</Button>\n\t);\n}\n\nexport default MenuItem;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst moreHorizontal = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11 13h2v-2h-2v2zm-6 0h2v-2H5v2zm12-2v2h2v-2h-2z\" />\n\t</SVG>\n);\n\nexport default moreHorizontal;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Children } from '@wordpress/element';\nimport { Dropdown, Button, MenuGroup, MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { moreHorizontal } from '@wordpress/icons';\n\nfunction Warning( { className, actions, children, secondaryActions } ) {\n\treturn (\n\t\t<div className={ classnames( className, 'block-editor-warning' ) }>\n\t\t\t<div className=\"block-editor-warning__contents\">\n\t\t\t\t<p className=\"block-editor-warning__message\">{ children }</p>\n\n\t\t\t\t{ ( Children.count( actions ) > 0 || secondaryActions ) && (\n\t\t\t\t\t<div className=\"block-editor-warning__actions\">\n\t\t\t\t\t\t{ Children.count( actions ) > 0 &&\n\t\t\t\t\t\t\tChildren.map( actions, ( action, i ) => (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tkey={ i }\n\t\t\t\t\t\t\t\t\tclassName=\"block-editor-warning__action\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ action }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t{ secondaryActions && (\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tclassName=\"block-editor-warning__secondary\"\n\t\t\t\t\t\t\t\tposition=\"bottom left\"\n\t\t\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ticon={ moreHorizontal }\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'More options' ) }\n\t\t\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t\t{ secondaryActions.map(\n\t\t\t\t\t\t\t\t\t\t\t( item, pos ) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ item.onClick }\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ pos }\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ item.title }\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Warning;\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\n\nconst BlockView = ( {\n\ttitle,\n\trawContent,\n\trenderedContent,\n\taction,\n\tactionText,\n\tclassName,\n} ) => {\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<div className=\"block-editor-block-compare__content\">\n\t\t\t\t<h2 className=\"block-editor-block-compare__heading\">\n\t\t\t\t\t{ title }\n\t\t\t\t</h2>\n\n\t\t\t\t<div className=\"block-editor-block-compare__html\">\n\t\t\t\t\t{ rawContent }\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"block-editor-block-compare__preview edit-post-visual-editor\">\n\t\t\t\t\t{ renderedContent }\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"block-editor-block-compare__action\">\n\t\t\t\t<Button isSecondary tabIndex=\"0\" onClick={ action }>\n\t\t\t\t\t{ actionText }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default BlockView;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { castArray } from 'lodash';\nimport { diffChars } from 'diff';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { getSaveContent, getSaveElement } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport BlockView from './block-view';\n\nclass BlockCompare extends Component {\n\tgetDifference( originalContent, newContent ) {\n\t\tconst difference = diffChars( originalContent, newContent );\n\n\t\treturn difference.map( ( item, pos ) => {\n\t\t\tconst classes = classnames( {\n\t\t\t\t'block-editor-block-compare__added': item.added,\n\t\t\t\t'block-editor-block-compare__removed': item.removed,\n\t\t\t} );\n\n\t\t\treturn (\n\t\t\t\t<span key={ pos } className={ classes }>\n\t\t\t\t\t{ item.value }\n\t\t\t\t</span>\n\t\t\t);\n\t\t} );\n\t}\n\n\tgetOriginalContent( block ) {\n\t\treturn {\n\t\t\trawContent: block.originalContent,\n\t\t\trenderedContent: getSaveElement( block.name, block.attributes ),\n\t\t};\n\t}\n\n\tgetConvertedContent( block ) {\n\t\t// The convertor may return an array of items or a single item\n\t\tconst newBlocks = castArray( block );\n\n\t\t// Get converted block details\n\t\tconst newContent = newBlocks.map( ( item ) =>\n\t\t\tgetSaveContent( item.name, item.attributes, item.innerBlocks )\n\t\t);\n\t\tconst renderedContent = newBlocks.map( ( item ) =>\n\t\t\tgetSaveElement( item.name, item.attributes, item.innerBlocks )\n\t\t);\n\n\t\treturn {\n\t\t\trawContent: newContent.join( '' ),\n\t\t\trenderedContent,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tblock,\n\t\t\tonKeep,\n\t\t\tonConvert,\n\t\t\tconvertor,\n\t\t\tconvertButtonText,\n\t\t} = this.props;\n\t\tconst original = this.getOriginalContent( block );\n\t\tconst converted = this.getConvertedContent( convertor( block ) );\n\t\tconst difference = this.getDifference(\n\t\t\toriginal.rawContent,\n\t\t\tconverted.rawContent\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"block-editor-block-compare__wrapper\">\n\t\t\t\t<BlockView\n\t\t\t\t\ttitle={ __( 'Current' ) }\n\t\t\t\t\tclassName=\"block-editor-block-compare__current\"\n\t\t\t\t\taction={ onKeep }\n\t\t\t\t\tactionText={ __( 'Convert to HTML' ) }\n\t\t\t\t\trawContent={ original.rawContent }\n\t\t\t\t\trenderedContent={ original.renderedContent }\n\t\t\t\t/>\n\n\t\t\t\t<BlockView\n\t\t\t\t\ttitle={ __( 'After Conversion' ) }\n\t\t\t\t\tclassName=\"block-editor-block-compare__converted\"\n\t\t\t\t\taction={ onConvert }\n\t\t\t\t\tactionText={ convertButtonText }\n\t\t\t\t\trawContent={ difference }\n\t\t\t\t\trenderedContent={ converted.renderedContent }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default BlockCompare;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { Button, Modal } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { getBlockType, createBlock, rawHandler } from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport { withDispatch, withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport Warning from '../warning';\nimport BlockCompare from '../block-compare';\n\nexport class BlockInvalidWarning extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = { compare: false };\n\t\tthis.onCompare = this.onCompare.bind( this );\n\t\tthis.onCompareClose = this.onCompareClose.bind( this );\n\t}\n\n\tonCompare() {\n\t\tthis.setState( { compare: true } );\n\t}\n\n\tonCompareClose() {\n\t\tthis.setState( { compare: false } );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tconvertToHTML,\n\t\t\tconvertToBlocks,\n\t\t\tconvertToClassic,\n\t\t\tattemptBlockRecovery,\n\t\t\tblock,\n\t\t} = this.props;\n\t\tconst hasHTMLBlock = !! getBlockType( 'core/html' );\n\t\tconst { compare } = this.state;\n\t\tconst hiddenActions = [\n\t\t\t{\n\t\t\t\ttitle: __( 'Convert to Classic Block' ),\n\t\t\t\tonClick: convertToClassic,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: __( 'Attempt Block Recovery' ),\n\t\t\t\tonClick: attemptBlockRecovery,\n\t\t\t},\n\t\t];\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Warning\n\t\t\t\t\tactions={ [\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey=\"convert\"\n\t\t\t\t\t\t\tonClick={ this.onCompare }\n\t\t\t\t\t\t\tisSecondary={ hasHTMLBlock }\n\t\t\t\t\t\t\tisPrimary={ ! hasHTMLBlock }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ // translators: Button to fix block content\n\t\t\t\t\t\t\t_x( 'Resolve', 'imperative verb' ) }\n\t\t\t\t\t\t</Button>,\n\t\t\t\t\t\thasHTMLBlock && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey=\"edit\"\n\t\t\t\t\t\t\t\tonClick={ convertToHTML }\n\t\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Convert to HTML' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t),\n\t\t\t\t\t] }\n\t\t\t\t\tsecondaryActions={ hiddenActions }\n\t\t\t\t>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'This block contains unexpected or invalid content.'\n\t\t\t\t\t) }\n\t\t\t\t</Warning>\n\t\t\t\t{ compare && (\n\t\t\t\t\t<Modal\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t// translators: Dialog title to fix block content\n\t\t\t\t\t\t\t__( 'Resolve Block' )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonRequestClose={ this.onCompareClose }\n\t\t\t\t\t\tclassName=\"block-editor-block-compare\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockCompare\n\t\t\t\t\t\t\tblock={ block }\n\t\t\t\t\t\t\tonKeep={ convertToHTML }\n\t\t\t\t\t\t\tonConvert={ convertToBlocks }\n\t\t\t\t\t\t\tconvertor={ blockToBlocks }\n\t\t\t\t\t\t\tconvertButtonText={ __( 'Convert to Blocks' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Modal>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n}\n\nconst blockToClassic = ( block ) =>\n\tcreateBlock( 'core/freeform', {\n\t\tcontent: block.originalContent,\n\t} );\nconst blockToHTML = ( block ) =>\n\tcreateBlock( 'core/html', {\n\t\tcontent: block.originalContent,\n\t} );\nconst blockToBlocks = ( block ) =>\n\trawHandler( {\n\t\tHTML: block.originalContent,\n\t} );\nconst recoverBlock = ( { name, attributes, innerBlocks } ) =>\n\tcreateBlock( name, attributes, innerBlocks );\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => ( {\n\t\tblock: select( 'core/block-editor' ).getBlock( clientId ),\n\t} ) ),\n\twithDispatch( ( dispatch, { block } ) => {\n\t\tconst { replaceBlock } = dispatch( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tconvertToClassic() {\n\t\t\t\treplaceBlock( block.clientId, blockToClassic( block ) );\n\t\t\t},\n\t\t\tconvertToHTML() {\n\t\t\t\treplaceBlock( block.clientId, blockToHTML( block ) );\n\t\t\t},\n\t\t\tconvertToBlocks() {\n\t\t\t\treplaceBlock( block.clientId, blockToBlocks( block ) );\n\t\t\t},\n\t\t\tattemptBlockRecovery() {\n\t\t\t\treplaceBlock( block.clientId, recoverBlock( block ) );\n\t\t\t},\n\t\t};\n\t} ),\n] )( BlockInvalidWarning );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport Warning from '../warning';\n\nconst warning = (\n\t<Warning className=\"block-editor-block-list__block-crash-warning\">\n\t\t{ __( 'This block has encountered an error and cannot be previewed.' ) }\n\t</Warning>\n);\n\nexport default () => warning;\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\nclass BlockCrashBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\thasError: false,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tthis.props.onError( error );\n\n\t\tthis.setState( {\n\t\t\thasError: true,\n\t\t} );\n\t}\n\n\trender() {\n\t\tif ( this.state.hasError ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.props.children;\n\t}\n}\n\nexport default BlockCrashBoundary;\n","/**\n * External dependencies\n */\nimport TextareaAutosize from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tgetBlockAttributes,\n\tgetBlockContent,\n\tgetBlockType,\n\tisValidBlockContent,\n\tgetSaveContent,\n} from '@wordpress/blocks';\n\nfunction BlockHTML( { clientId } ) {\n\tconst [ html, setHtml ] = useState( '' );\n\tconst { block } = useSelect(\n\t\t( select ) => ( {\n\t\t\tblock: select( 'core/block-editor' ).getBlock( clientId ),\n\t\t} ),\n\t\t[ clientId ]\n\t);\n\tconst { updateBlock } = useDispatch( 'core/block-editor' );\n\tconst onChange = () => {\n\t\tconst blockType = getBlockType( block.name );\n\t\tconst attributes = getBlockAttributes(\n\t\t\tblockType,\n\t\t\thtml,\n\t\t\tblock.attributes\n\t\t);\n\n\t\t// If html is empty  we reset the block to the default HTML and mark it as valid to avoid triggering an error\n\t\tconst content = html ? html : getSaveContent( blockType, attributes );\n\t\tconst isValid = html\n\t\t\t? isValidBlockContent( blockType, attributes, content )\n\t\t\t: true;\n\n\t\tupdateBlock( clientId, {\n\t\t\tattributes,\n\t\t\toriginalContent: content,\n\t\t\tisValid,\n\t\t} );\n\n\t\t// Ensure the state is updated if we reset so it displays the default content\n\t\tif ( ! html ) {\n\t\t\tsetHtml( { content } );\n\t\t}\n\t};\n\n\tuseEffect( () => {\n\t\tsetHtml( getBlockContent( block ) );\n\t}, [ block ] );\n\n\treturn (\n\t\t<TextareaAutosize\n\t\t\tclassName=\"block-editor-block-list__block-html-textarea\"\n\t\t\tvalue={ html }\n\t\t\tonBlur={ onChange }\n\t\t\tonChange={ ( event ) => setHtml( event.target.value ) }\n\t\t/>\n\t);\n}\n\nexport default BlockHTML;\n","/**\n * Given a block client ID, returns the corresponding DOM node for the block,\n * if exists. As much as possible, this helper should be avoided, and used only\n * in cases where isolated behaviors need remote access to a block node.\n *\n * @param {string} clientId Block client ID.\n *\n * @return {Element?} Block DOM node.\n */\nexport function getBlockDOMNode( clientId ) {\n\treturn document.getElementById( 'block-' + clientId );\n}\n\n/**\n * Returns the preview container DOM node for a given block client ID, or\n * undefined if the container cannot be determined.\n *\n * @param {string} clientId Block client ID.\n *\n * @return {Node|undefined} Preview container DOM node.\n */\nexport function getBlockPreviewContainerDOMNode( clientId ) {\n\tconst domNode = getBlockDOMNode( clientId );\n\n\tif ( ! domNode ) {\n\t\treturn;\n\t}\n\n\treturn domNode.firstChild || domNode;\n}\n\n/**\n * Returns true if the given element is a block focus stop. Blocks without their\n * own text fields rely on the focus stop to be keyboard navigable.\n *\n * @param {Element} element Element to test.\n *\n * @return {boolean} Whether element is a block focus stop.\n */\nexport function isBlockFocusStop( element ) {\n\treturn element.classList.contains( 'block-editor-block-list__block' );\n}\n\n/**\n * Returns true if two elements are contained within the same block.\n *\n * @param {Element} a First element.\n * @param {Element} b Second element.\n *\n * @return {boolean} Whether elements are in the same block.\n */\nexport function isInSameBlock( a, b ) {\n\treturn (\n\t\ta.closest( '.block-editor-block-list__block' ) ===\n\t\tb.closest( '.block-editor-block-list__block' )\n\t);\n}\n\n/**\n * Returns true if an element is considered part of the block and not its\n * children.\n *\n * @param {Element} blockElement Block container element.\n * @param {Element} element      Element.\n *\n * @return {boolean} Whether element is in the block Element but not its\n *                   children.\n */\nexport function isInsideRootBlock( blockElement, element ) {\n\tconst parentBlock = element.closest( '.block-editor-block-list__block' );\n\treturn parentBlock === blockElement;\n}\n\n/**\n * Returns true if the given element contains inner blocks (an InnerBlocks\n * element).\n *\n * @param {Element} element Element to test.\n *\n * @return {boolean} Whether element contains inner blocks.\n */\nexport function hasInnerBlocksContext( element ) {\n\treturn (\n\t\telement.classList.contains( 'block-editor-block-list__layout' ) ||\n\t\t!! element.querySelector( '.block-editor-block-list__layout' )\n\t);\n}\n\n/**\n * Finds the block client ID given any DOM node inside the block.\n *\n * @param {Node?} node DOM node.\n *\n * @return {string|undefined} Client ID or undefined if the node is not part of\n *                            a block.\n */\nexport function getBlockClientId( node ) {\n\twhile ( node && node.nodeType !== window.Node.ELEMENT_NODE ) {\n\t\tnode = node.parentNode;\n\t}\n\n\tif ( ! node ) {\n\t\treturn;\n\t}\n\n\tconst elementNode = /** @type {Element} */ ( node );\n\tconst blockNode = elementNode.closest( '.block-editor-block-list__block' );\n\n\tif ( ! blockNode ) {\n\t\treturn;\n\t}\n\n\treturn blockNode.id.slice( 'block-'.length );\n}\n","/**\n * Internal dependencies\n */\nimport useMediaQuery from '../use-media-query';\n\n/**\n * Whether or not the user agent is Internet Explorer.\n *\n * @type {boolean}\n */\nconst IS_IE =\n\ttypeof window !== 'undefined' &&\n\twindow.navigator.userAgent.indexOf( 'Trident' ) >= 0;\n\n/**\n * Hook returning whether the user has a preference for reduced motion.\n *\n * @return {boolean} Reduced motion preference value.\n */\nconst useReducedMotion =\n\tprocess.env.FORCE_REDUCED_MOTION || IS_IE\n\t\t? () => true\n\t\t: () => useMediaQuery( '(prefers-reduced-motion: reduce)' );\n\nexport default useReducedMotion;\n","/**\n * External dependencies\n */\nimport { useSpring, interpolate } from 'react-spring/web.cjs';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseState,\n\tuseLayoutEffect,\n\tuseReducer,\n\tuseRef,\n} from '@wordpress/element';\nimport { useReducedMotion } from '@wordpress/compose';\nimport { getScrollContainer } from '@wordpress/dom';\n\n/**\n * Simple reducer used to increment a counter.\n *\n * @param {number} state  Previous counter value.\n * @return {number} New state value.\n */\nconst counterReducer = ( state ) => state + 1;\n\nconst getAbsolutePosition = ( element ) => {\n\treturn {\n\t\ttop: element.offsetTop,\n\t\tleft: element.offsetLeft,\n\t};\n};\n\n/**\n * Hook used to compute the styles required to move a div into a new position.\n *\n * The way this animation works is the following:\n *  - It first renders the element as if there was no animation.\n *  - It takes a snapshot of the position of the block to use it\n *    as a destination point for the animation.\n *  - It restores the element to the previous position using a CSS transform\n *  - It uses the \"resetAnimation\" flag to reset the animation\n *    from the beginning in order to animate to the new destination point.\n *\n * @param {Object}  ref                      Reference to the element to animate.\n * @param {boolean} isSelected               Whether it's the current block or not.\n * @param {boolean} adjustScrolling          Adjust the scroll position to the current block.\n * @param {boolean} enableAnimation          Enable/Disable animation.\n * @param {*}       triggerAnimationOnChange Variable used to trigger the animation if it changes.\n *\n * @return {Object} Style object.\n */\nfunction useMovingAnimation(\n\tref,\n\tisSelected,\n\tadjustScrolling,\n\tenableAnimation,\n\ttriggerAnimationOnChange\n) {\n\tconst prefersReducedMotion = useReducedMotion() || ! enableAnimation;\n\tconst [ triggeredAnimation, triggerAnimation ] = useReducer(\n\t\tcounterReducer,\n\t\t0\n\t);\n\tconst [ finishedAnimation, endAnimation ] = useReducer( counterReducer, 0 );\n\tconst [ transform, setTransform ] = useState( {\n\t\tx: 0,\n\t\ty: 0,\n\t\tscrollTop: 0,\n\t} );\n\n\tconst previous = ref.current ? getAbsolutePosition( ref.current ) : null;\n\tconst scrollContainer = useRef();\n\n\tuseLayoutEffect( () => {\n\t\tif ( triggeredAnimation ) {\n\t\t\tendAnimation();\n\t\t}\n\t}, [ triggeredAnimation ] );\n\tuseLayoutEffect( () => {\n\t\tscrollContainer.current = getScrollContainer( ref.current );\n\t\tif ( prefersReducedMotion ) {\n\t\t\tif ( adjustScrolling && scrollContainer.current && previous ) {\n\t\t\t\t// if the animation is disabled and the scroll needs to be adjusted,\n\t\t\t\t// just move directly to the final scroll position\n\t\t\t\tref.current.style.transform = 'none';\n\t\t\t\tconst destination = getAbsolutePosition( ref.current );\n\t\t\t\tscrollContainer.current.scrollTop =\n\t\t\t\t\tscrollContainer.current.scrollTop -\n\t\t\t\t\tprevious.top +\n\t\t\t\t\tdestination.top;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\t\tref.current.style.transform = 'none';\n\t\tconst destination = getAbsolutePosition( ref.current );\n\t\tconst newTransform = {\n\t\t\tx: previous ? previous.left - destination.left : 0,\n\t\t\ty: previous ? previous.top - destination.top : 0,\n\t\t\tscrollTop:\n\t\t\t\tprevious && scrollContainer.current\n\t\t\t\t\t? scrollContainer.current.scrollTop -\n\t\t\t\t\t  previous.top +\n\t\t\t\t\t  destination.top\n\t\t\t\t\t: 0,\n\t\t};\n\t\tref.current.style.transform =\n\t\t\tnewTransform.x === 0 && newTransform.y === 0\n\t\t\t\t? undefined\n\t\t\t\t: `translate3d(${ newTransform.x }px,${ newTransform.y }px,0)`;\n\t\ttriggerAnimation();\n\t\tsetTransform( newTransform );\n\t}, [ triggerAnimationOnChange ] );\n\n\tconst animationProps = useSpring( {\n\t\tfrom: {\n\t\t\tx: transform.x,\n\t\t\ty: transform.y,\n\t\t},\n\t\tto: {\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t},\n\t\treset: triggeredAnimation !== finishedAnimation,\n\t\tconfig: { mass: 5, tension: 2000, friction: 200 },\n\t\timmediate: prefersReducedMotion,\n\t\tonFrame: ( props ) => {\n\t\t\tif (\n\t\t\t\tadjustScrolling &&\n\t\t\t\tscrollContainer.current &&\n\t\t\t\t! prefersReducedMotion &&\n\t\t\t\tprops.y\n\t\t\t) {\n\t\t\t\tscrollContainer.current.scrollTop =\n\t\t\t\t\ttransform.scrollTop + props.y;\n\t\t\t}\n\t\t},\n\t} );\n\n\t// Dismiss animations if disabled.\n\treturn prefersReducedMotion\n\t\t? {}\n\t\t: {\n\t\t\t\ttransformOrigin: 'center',\n\t\t\t\ttransform: interpolate(\n\t\t\t\t\t[ animationProps.x, animationProps.y ],\n\t\t\t\t\t( x, y ) =>\n\t\t\t\t\t\tx === 0 && y === 0\n\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t: `translate3d(${ x }px,${ y }px,0)`\n\t\t\t\t),\n\t\t\t\tzIndex: interpolate(\n\t\t\t\t\t[ animationProps.x, animationProps.y ],\n\t\t\t\t\t( x, y ) =>\n\t\t\t\t\t\t! isSelected || ( x === 0 && y === 0 ) ? undefined : `1`\n\t\t\t\t),\n\t\t  };\n}\n\nexport default useMovingAnimation;\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useRef, useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { getBlockClientId, getBlockDOMNode } from '../../utils/dom';\n\n/**\n * Returns for the deepest node at the start or end of a container node. Ignores\n * any text nodes that only contain HTML formatting whitespace.\n *\n * @param {Element} node Container to search.\n * @param {string} type 'start' or 'end'.\n */\nfunction getDeepestNode( node, type ) {\n\tconst child = type === 'start' ? 'firstChild' : 'lastChild';\n\tconst sibling = type === 'start' ? 'nextSibling' : 'previousSibling';\n\n\twhile ( node[ child ] ) {\n\t\tnode = node[ child ];\n\n\t\twhile (\n\t\t\tnode.nodeType === node.TEXT_NODE &&\n\t\t\t/^[ \\t\\n]*$/.test( node.data ) &&\n\t\t\tnode[ sibling ]\n\t\t) {\n\t\t\tnode = node[ sibling ];\n\t\t}\n\t}\n\n\treturn node;\n}\n\nfunction selector( select ) {\n\tconst {\n\t\tisSelectionEnabled,\n\t\tisMultiSelecting,\n\t\tgetMultiSelectedBlockClientIds,\n\t\thasMultiSelection,\n\t\tgetBlockParents,\n\t\tgetSelectedBlockClientId,\n\t} = select( 'core/block-editor' );\n\n\treturn {\n\t\tisSelectionEnabled: isSelectionEnabled(),\n\t\tisMultiSelecting: isMultiSelecting(),\n\t\tmultiSelectedBlockClientIds: getMultiSelectedBlockClientIds(),\n\t\thasMultiSelection: hasMultiSelection(),\n\t\tgetBlockParents,\n\t\tselectedBlockClientId: getSelectedBlockClientId(),\n\t};\n}\n\nfunction toggleRichText( container, toggle ) {\n\tArray.from( container.querySelectorAll( '.rich-text' ) ).forEach(\n\t\t( node ) => {\n\t\t\tif ( toggle ) {\n\t\t\t\tnode.setAttribute( 'contenteditable', true );\n\t\t\t} else {\n\t\t\t\tnode.removeAttribute( 'contenteditable' );\n\t\t\t}\n\t\t}\n\t);\n}\n\nexport default function useMultiSelection( ref ) {\n\tconst {\n\t\tisSelectionEnabled,\n\t\tisMultiSelecting,\n\t\tmultiSelectedBlockClientIds,\n\t\thasMultiSelection,\n\t\tgetBlockParents,\n\t\tselectedBlockClientId,\n\t} = useSelect( selector, [] );\n\tconst {\n\t\tstartMultiSelect,\n\t\tstopMultiSelect,\n\t\tmultiSelect,\n\t\tselectBlock,\n\t} = useDispatch( 'core/block-editor' );\n\tconst rafId = useRef();\n\tconst startClientId = useRef();\n\tconst anchorElement = useRef();\n\n\t/**\n\t * When the component updates, and there is multi selection, we need to\n\t * select the entire block contents.\n\t */\n\tuseEffect( () => {\n\t\tif ( ! hasMultiSelection || isMultiSelecting ) {\n\t\t\tif ( ! selectedBlockClientId || isMultiSelecting ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selection = window.getSelection();\n\n\t\t\tif ( selection.rangeCount && ! selection.isCollapsed ) {\n\t\t\t\tconst blockNode = getBlockDOMNode( selectedBlockClientId );\n\t\t\t\tconst { startContainer, endContainer } = selection.getRangeAt(\n\t\t\t\t\t0\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\t!! blockNode &&\n\t\t\t\t\t( ! blockNode.contains( startContainer ) ||\n\t\t\t\t\t\t! blockNode.contains( endContainer ) )\n\t\t\t\t) {\n\t\t\t\t\tselection.removeAllRanges();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst { length } = multiSelectedBlockClientIds;\n\n\t\tif ( length < 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// These must be in the right DOM order.\n\t\tconst start = multiSelectedBlockClientIds[ 0 ];\n\t\tconst end = multiSelectedBlockClientIds[ length - 1 ];\n\n\t\tlet startNode = getBlockDOMNode( start );\n\t\tlet endNode = getBlockDOMNode( end );\n\n\t\tconst selection = window.getSelection();\n\t\tconst range = document.createRange();\n\n\t\t// The most stable way to select the whole block contents is to start\n\t\t// and end at the deepest points.\n\t\tstartNode = getDeepestNode( startNode, 'start' );\n\t\tendNode = getDeepestNode( endNode, 'end' );\n\n\t\trange.setStartBefore( startNode );\n\t\trange.setEndAfter( endNode );\n\n\t\tselection.removeAllRanges();\n\t\tselection.addRange( range );\n\t}, [\n\t\thasMultiSelection,\n\t\tisMultiSelecting,\n\t\tmultiSelectedBlockClientIds,\n\t\tselectBlock,\n\t\tselectedBlockClientId,\n\t] );\n\n\tconst onSelectionChange = useCallback(\n\t\t( { isSelectionEnd } ) => {\n\t\t\tconst selection = window.getSelection();\n\n\t\t\t// If no selection is found, end multi selection and enable all rich\n\t\t\t// text areas.\n\t\t\tif ( ! selection.rangeCount || selection.isCollapsed ) {\n\t\t\t\ttoggleRichText( ref.current, true );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst clientId = getBlockClientId( selection.focusNode );\n\t\t\tconst isSingularSelection = startClientId.current === clientId;\n\n\t\t\tif ( isSingularSelection ) {\n\t\t\t\tselectBlock( clientId );\n\n\t\t\t\t// If the selection is complete (on mouse up), and no multiple\n\t\t\t\t// blocks have been selected, set focus back to the anchor element\n\t\t\t\t// if the anchor element contains the selection. Additionally, rich\n\t\t\t\t// text elements that were previously disabled can now be enabled\n\t\t\t\t// again.\n\t\t\t\tif ( isSelectionEnd ) {\n\t\t\t\t\ttoggleRichText( ref.current, true );\n\n\t\t\t\t\tif ( selection.rangeCount ) {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tcommonAncestorContainer,\n\t\t\t\t\t\t} = selection.getRangeAt( 0 );\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tanchorElement.current.contains(\n\t\t\t\t\t\t\t\tcommonAncestorContainer\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tanchorElement.current.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst startPath = [\n\t\t\t\t\t...getBlockParents( startClientId.current ),\n\t\t\t\t\tstartClientId.current,\n\t\t\t\t];\n\t\t\t\tconst endPath = [ ...getBlockParents( clientId ), clientId ];\n\t\t\t\tconst depth = Math.min( startPath.length, endPath.length ) - 1;\n\n\t\t\t\tmultiSelect( startPath[ depth ], endPath[ depth ] );\n\t\t\t}\n\t\t},\n\t\t[ selectBlock, getBlockParents, multiSelect ]\n\t);\n\n\t/**\n\t * Handles a mouseup event to end the current mouse multi-selection.\n\t */\n\tconst onSelectionEnd = useCallback( () => {\n\t\tdocument.removeEventListener( 'selectionchange', onSelectionChange );\n\t\t// Equivalent to attaching the listener once.\n\t\twindow.removeEventListener( 'mouseup', onSelectionEnd );\n\t\t// The browser selection won't have updated yet at this point, so wait\n\t\t// until the next animation frame to get the browser selection.\n\t\trafId.current = window.requestAnimationFrame( () => {\n\t\t\tonSelectionChange( { isSelectionEnd: true } );\n\t\t\tstopMultiSelect();\n\t\t} );\n\t}, [ onSelectionChange, stopMultiSelect ] );\n\n\t// Only clean up when unmounting, these are added and cleaned up elsewhere.\n\tuseEffect(\n\t\t() => () => {\n\t\t\tdocument.removeEventListener(\n\t\t\t\t'selectionchange',\n\t\t\t\tonSelectionChange\n\t\t\t);\n\t\t\twindow.removeEventListener( 'mouseup', onSelectionEnd );\n\t\t\twindow.cancelAnimationFrame( rafId.current );\n\t\t},\n\t\t[ onSelectionChange, onSelectionEnd ]\n\t);\n\n\t/**\n\t * Binds event handlers to the document for tracking a pending multi-select\n\t * in response to a mousedown event occurring in a rendered block.\n\t */\n\treturn useCallback(\n\t\t( clientId ) => {\n\t\t\tif ( ! isSelectionEnabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstartClientId.current = clientId;\n\t\t\tanchorElement.current = document.activeElement;\n\t\t\tstartMultiSelect();\n\n\t\t\t// `onSelectionStart` is called after `mousedown` and `mouseleave`\n\t\t\t// (from a block). The selection ends when `mouseup` happens anywhere\n\t\t\t// in the window.\n\t\t\tdocument.addEventListener( 'selectionchange', onSelectionChange );\n\t\t\twindow.addEventListener( 'mouseup', onSelectionEnd );\n\n\t\t\t// Removing the contenteditable attributes within the block editor is\n\t\t\t// essential for selection to work across editable areas. The edible\n\t\t\t// hosts are removed, allowing selection to be extended outside the\n\t\t\t// DOM element. `startMultiSelect` sets a flag in the store so the rich\n\t\t\t// text components are updated, but the rerender may happen very slowly,\n\t\t\t// especially in Safari for the blocks that are asynchonously rendered.\n\t\t\t// To ensure the browser instantly removes the selection boundaries, we\n\t\t\t// remove the contenteditable attributes manually.\n\t\t\ttoggleRichText( ref.current, false );\n\t\t},\n\t\t[ isSelectionEnabled, startMultiSelect, onSelectionEnd ]\n\t);\n}\n","/**\n * External dependencies\n */\nimport { first, last } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\nimport { focus } from '@wordpress/dom';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { getBlockDOMNode } from '../../utils/dom';\n\n/**\n * Renders focus capturing areas to redirect focus to the selected block if not\n * in Navigation mode.\n *\n * @param {string}  selectedClientId Client ID of the selected block.\n * @param {boolean} isReverse        Set to true if the component is rendered\n *                                   after the block list, false if rendered\n *                                   before.\n * @param {Object}  containerRef     Reference containing the element reference\n *                                   of the block list container.\n * @param {boolean} noCapture        Reference containing the flag for enabling\n *                                   or disabling capturing.\n *\n * @return {WPElement} The focus capture element.\n */\nconst FocusCapture = forwardRef(\n\t(\n\t\t{\n\t\t\tselectedClientId,\n\t\t\tisReverse,\n\t\t\tcontainerRef,\n\t\t\tnoCapture,\n\t\t\thasMultiSelection,\n\t\t\tmultiSelectionContainer,\n\t\t},\n\t\tref\n\t) => {\n\t\tconst isNavigationMode = useSelect( ( select ) =>\n\t\t\tselect( 'core/block-editor' ).isNavigationMode()\n\t\t);\n\t\tconst { setNavigationMode } = useDispatch( 'core/block-editor' );\n\n\t\tfunction onFocus() {\n\t\t\t// Do not capture incoming focus if set by us in WritingFlow.\n\t\t\tif ( noCapture.current ) {\n\t\t\t\tnoCapture.current = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// When focus coming in from out of the block list, and no block is\n\t\t\t// selected, enable Navigation mode and select the first or last block\n\t\t\t// depending on the direction.\n\t\t\tif ( ! selectedClientId ) {\n\t\t\t\tif ( hasMultiSelection ) {\n\t\t\t\t\tmultiSelectionContainer.current.focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetNavigationMode( true );\n\n\t\t\t\tconst tabbables = focus.tabbable.find( containerRef.current );\n\n\t\t\t\tif ( tabbables.length ) {\n\t\t\t\t\tif ( isReverse ) {\n\t\t\t\t\t\tlast( tabbables ).focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfirst( tabbables ).focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If there is a selected block, move focus to the first or last\n\t\t\t// tabbable element depending on the direction.\n\t\t\tconst wrapper = getBlockDOMNode( selectedClientId );\n\n\t\t\tif ( isReverse ) {\n\t\t\t\tconst tabbables = focus.tabbable.find( wrapper );\n\t\t\t\tconst lastTabbable = last( tabbables ) || wrapper;\n\t\t\t\tlastTabbable.focus();\n\t\t\t} else {\n\t\t\t\twrapper.focus();\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ ref }\n\t\t\t\t// Don't allow tabbing to this element in Navigation mode.\n\t\t\t\ttabIndex={ ! isNavigationMode ? '0' : undefined }\n\t\t\t\tonFocus={ onFocus }\n\t\t\t\t// Needs to be positioned within the viewport, so focus to this\n\t\t\t\t// element does not scroll the page.\n\t\t\t\tstyle={ { position: 'fixed' } }\n\t\t\t/>\n\t\t);\n\t}\n);\n\nexport default FocusCapture;\n","/**\n * External dependencies\n */\nimport { overEvery, find, findLast, reverse, first, last } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport {\n\tcomputeCaretRect,\n\tfocus,\n\tisHorizontalEdge,\n\tisTextField,\n\tisVerticalEdge,\n\tplaceCaretAtHorizontalEdge,\n\tplaceCaretAtVerticalEdge,\n\tisEntirelySelected,\n} from '@wordpress/dom';\nimport {\n\tUP,\n\tDOWN,\n\tLEFT,\n\tRIGHT,\n\tTAB,\n\tisKeyboardEvent,\n\tESCAPE,\n} from '@wordpress/keycodes';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tisBlockFocusStop,\n\tisInSameBlock,\n\thasInnerBlocksContext,\n\tisInsideRootBlock,\n\tgetBlockDOMNode,\n\tgetBlockClientId,\n} from '../../utils/dom';\nimport FocusCapture from './focus-capture';\n\n/**\n * Browser constants\n */\n\nconst { getSelection, getComputedStyle } = window;\n\n/**\n * Given an element, returns true if the element is a tabbable text field, or\n * false otherwise.\n *\n * @param {Element} element Element to test.\n *\n * @return {boolean} Whether element is a tabbable text field.\n */\nconst isTabbableTextField = overEvery( [\n\tisTextField,\n\tfocus.tabbable.isTabbableIndex,\n] );\n\n/**\n * Returns true if the element should consider edge navigation upon a keyboard\n * event of the given directional key code, or false otherwise.\n *\n * @param {Element} element     HTML element to test.\n * @param {number}  keyCode     KeyboardEvent keyCode to test.\n * @param {boolean} hasModifier Whether a modifier is pressed.\n *\n * @return {boolean} Whether element should consider edge navigation.\n */\nexport function isNavigationCandidate( element, keyCode, hasModifier ) {\n\tconst isVertical = keyCode === UP || keyCode === DOWN;\n\n\t// Currently, all elements support unmodified vertical navigation.\n\tif ( isVertical && ! hasModifier ) {\n\t\treturn true;\n\t}\n\n\t// Native inputs should not navigate horizontally.\n\tconst { tagName } = element;\n\treturn tagName !== 'INPUT' && tagName !== 'TEXTAREA';\n}\n\n/**\n * Returns the optimal tab target from the given focused element in the\n * desired direction. A preference is made toward text fields, falling back\n * to the block focus stop if no other candidates exist for the block.\n *\n * @param {Element} target           Currently focused text field.\n * @param {boolean} isReverse        True if considering as the first field.\n * @param {Element} containerElement Element containing all blocks.\n *\n * @return {?Element} Optimal tab target, if one exists.\n */\nexport function getClosestTabbable( target, isReverse, containerElement ) {\n\t// Since the current focus target is not guaranteed to be a text field,\n\t// find all focusables. Tabbability is considered later.\n\tlet focusableNodes = focus.focusable.find( containerElement );\n\n\tif ( isReverse ) {\n\t\tfocusableNodes = reverse( focusableNodes );\n\t}\n\n\t// Consider as candidates those focusables after the current target.\n\t// It's assumed this can only be reached if the target is focusable\n\t// (on its keydown event), so no need to verify it exists in the set.\n\tfocusableNodes = focusableNodes.slice(\n\t\tfocusableNodes.indexOf( target ) + 1\n\t);\n\n\tfunction isTabCandidate( node, i, array ) {\n\t\t// Not a candidate if the node is not tabbable.\n\t\tif ( ! focus.tabbable.isTabbableIndex( node ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Prefer text fields...\n\t\tif ( isTextField( node ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// ...but settle for block focus stop.\n\t\tif ( ! isBlockFocusStop( node ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If element contains inner blocks, stop immediately at its focus\n\t\t// wrapper.\n\t\tif ( hasInnerBlocksContext( node ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If navigating out of a block (in reverse), don't consider its\n\t\t// block focus stop.\n\t\tif ( node.contains( target ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// In case of block focus stop, check to see if there's a better\n\t\t// text field candidate within.\n\t\tfor (\n\t\t\tlet offset = 1, nextNode;\n\t\t\t( nextNode = array[ i + offset ] );\n\t\t\toffset++\n\t\t) {\n\t\t\t// Abort if no longer testing descendents of focus stop.\n\t\t\tif ( ! node.contains( nextNode ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Apply same tests by recursion. This is important to consider\n\t\t\t// nestable blocks where we don't want to settle for the inner\n\t\t\t// block focus stop.\n\t\t\tif ( isTabCandidate( nextNode, i + offset, array ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn find( focusableNodes, isTabCandidate );\n}\n\nfunction selector( select ) {\n\tconst {\n\t\tgetSelectedBlockClientId,\n\t\tgetMultiSelectedBlocksStartClientId,\n\t\tgetMultiSelectedBlocksEndClientId,\n\t\tgetPreviousBlockClientId,\n\t\tgetNextBlockClientId,\n\t\tgetFirstMultiSelectedBlockClientId,\n\t\tgetLastMultiSelectedBlockClientId,\n\t\thasMultiSelection,\n\t\tgetBlockOrder,\n\t\tisNavigationMode,\n\t\tisSelectionEnabled,\n\t\tgetBlockSelectionStart,\n\t\tisMultiSelecting,\n\t} = select( 'core/block-editor' );\n\n\tconst selectedBlockClientId = getSelectedBlockClientId();\n\tconst selectionStartClientId = getMultiSelectedBlocksStartClientId();\n\tconst selectionEndClientId = getMultiSelectedBlocksEndClientId();\n\n\treturn {\n\t\tselectedBlockClientId,\n\t\tselectionStartClientId,\n\t\tselectionBeforeEndClientId: getPreviousBlockClientId(\n\t\t\tselectionEndClientId || selectedBlockClientId\n\t\t),\n\t\tselectionAfterEndClientId: getNextBlockClientId(\n\t\t\tselectionEndClientId || selectedBlockClientId\n\t\t),\n\t\tselectedFirstClientId: getFirstMultiSelectedBlockClientId(),\n\t\tselectedLastClientId: getLastMultiSelectedBlockClientId(),\n\t\thasMultiSelection: hasMultiSelection(),\n\t\tblocks: getBlockOrder(),\n\t\tisNavigationMode: isNavigationMode(),\n\t\tisSelectionEnabled: isSelectionEnabled(),\n\t\tblockSelectionStart: getBlockSelectionStart(),\n\t\tisMultiSelecting: isMultiSelecting(),\n\t};\n}\n\n/**\n * Handles selection and navigation across blocks. This component should be\n * wrapped around BlockList.\n */\nexport default function WritingFlow( { children } ) {\n\tconst container = useRef();\n\tconst focusCaptureBeforeRef = useRef();\n\tconst focusCaptureAfterRef = useRef();\n\tconst multiSelectionContainer = useRef();\n\n\tconst entirelySelected = useRef();\n\n\t// Reference that holds the a flag for enabling or disabling\n\t// capturing on the focus capture elements.\n\tconst noCapture = useRef();\n\n\t// Here a DOMRect is stored while moving the caret vertically so vertical\n\t// position of the start position can be restored. This is to recreate\n\t// browser behaviour across blocks.\n\tconst verticalRect = useRef();\n\n\tconst {\n\t\tselectedBlockClientId,\n\t\tselectionStartClientId,\n\t\tselectionBeforeEndClientId,\n\t\tselectionAfterEndClientId,\n\t\tselectedFirstClientId,\n\t\tselectedLastClientId,\n\t\thasMultiSelection,\n\t\tblocks,\n\t\tisNavigationMode,\n\t\tisSelectionEnabled,\n\t\tblockSelectionStart,\n\t\tisMultiSelecting,\n\t} = useSelect( selector, [] );\n\tconst {\n\t\tmultiSelect,\n\t\tselectBlock,\n\t\tclearSelectedBlock,\n\t\tsetNavigationMode,\n\t} = useDispatch( 'core/block-editor' );\n\n\tfunction onMouseDown( event ) {\n\t\tverticalRect.current = null;\n\n\t\t// Clicking inside a selected block should exit navigation mode.\n\t\tif (\n\t\t\tisNavigationMode &&\n\t\t\tselectedBlockClientId &&\n\t\t\tisInsideRootBlock(\n\t\t\t\tgetBlockDOMNode( selectedBlockClientId ),\n\t\t\t\tevent.target\n\t\t\t)\n\t\t) {\n\t\t\tsetNavigationMode( false );\n\t\t}\n\n\t\t// Multi-select blocks when Shift+clicking.\n\t\tif (\n\t\t\tisSelectionEnabled &&\n\t\t\t// The main button.\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n\t\t\tevent.button === 0\n\t\t) {\n\t\t\tconst clientId = getBlockClientId( event.target );\n\n\t\t\tif ( clientId ) {\n\t\t\t\tif ( event.shiftKey ) {\n\t\t\t\t\tif ( blockSelectionStart !== clientId ) {\n\t\t\t\t\t\tmultiSelect( blockSelectionStart, clientId );\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\t// Allow user to escape out of a multi-selection to a singular\n\t\t\t\t\t// selection of a block via click. This is handled here since\n\t\t\t\t\t// focus handling excludes blocks when there is multiselection,\n\t\t\t\t\t// as focus can be incurred by starting a multiselection (focus\n\t\t\t\t\t// moved to first block's multi-controls).\n\t\t\t\t} else if ( hasMultiSelection ) {\n\t\t\t\t\tselectBlock( clientId );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction expandSelection( isReverse ) {\n\t\tconst nextSelectionEndClientId = isReverse\n\t\t\t? selectionBeforeEndClientId\n\t\t\t: selectionAfterEndClientId;\n\n\t\tif ( nextSelectionEndClientId ) {\n\t\t\tmultiSelect(\n\t\t\t\tselectionStartClientId || selectedBlockClientId,\n\t\t\t\tnextSelectionEndClientId\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction moveSelection( isReverse ) {\n\t\tconst focusedBlockClientId = isReverse\n\t\t\t? selectedFirstClientId\n\t\t\t: selectedLastClientId;\n\n\t\tif ( focusedBlockClientId ) {\n\t\t\tselectBlock( focusedBlockClientId );\n\t\t}\n\t}\n\n\t/**\n\t * Returns true if the given target field is the last in its block which\n\t * can be considered for tab transition. For example, in a block with two\n\t * text fields, this would return true when reversing from the first of the\n\t * two fields, but false when reversing from the second.\n\t *\n\t * @param {Element} target    Currently focused text field.\n\t * @param {boolean} isReverse True if considering as the first field.\n\t *\n\t * @return {boolean} Whether field is at edge for tab transition.\n\t */\n\tfunction isTabbableEdge( target, isReverse ) {\n\t\tconst closestTabbable = getClosestTabbable(\n\t\t\ttarget,\n\t\t\tisReverse,\n\t\t\tcontainer.current\n\t\t);\n\t\treturn ! closestTabbable || ! isInSameBlock( target, closestTabbable );\n\t}\n\n\tfunction onKeyDown( event ) {\n\t\tconst { keyCode, target } = event;\n\t\tconst isUp = keyCode === UP;\n\t\tconst isDown = keyCode === DOWN;\n\t\tconst isLeft = keyCode === LEFT;\n\t\tconst isRight = keyCode === RIGHT;\n\t\tconst isTab = keyCode === TAB;\n\t\tconst isEscape = keyCode === ESCAPE;\n\t\tconst isReverse = isUp || isLeft;\n\t\tconst isHorizontal = isLeft || isRight;\n\t\tconst isVertical = isUp || isDown;\n\t\tconst isNav = isHorizontal || isVertical;\n\t\tconst isShift = event.shiftKey;\n\t\tconst hasModifier =\n\t\t\tisShift || event.ctrlKey || event.altKey || event.metaKey;\n\t\tconst isNavEdge = isVertical ? isVerticalEdge : isHorizontalEdge;\n\n\t\t// In navigation mode, tab and arrows navigate from block to block.\n\t\tif ( isNavigationMode ) {\n\t\t\tconst navigateUp = ( isTab && isShift ) || isUp;\n\t\t\tconst navigateDown = ( isTab && ! isShift ) || isDown;\n\t\t\tconst focusedBlockUid = navigateUp\n\t\t\t\t? selectionBeforeEndClientId\n\t\t\t\t: selectionAfterEndClientId;\n\n\t\t\tif ( navigateDown || navigateUp ) {\n\t\t\t\tif ( focusedBlockUid ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tselectBlock( focusedBlockUid );\n\t\t\t\t} else if ( isTab && selectedBlockClientId ) {\n\t\t\t\t\tconst wrapper = getBlockDOMNode( selectedBlockClientId );\n\t\t\t\t\tlet nextTabbable;\n\n\t\t\t\t\tif ( navigateDown ) {\n\t\t\t\t\t\tnextTabbable = focus.tabbable.findNext( wrapper );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextTabbable = focus.tabbable.findPrevious( wrapper );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( nextTabbable ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tnextTabbable.focus();\n\t\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// In Edit mode, Tab should focus the first tabbable element after the\n\t\t// content, which is normally the sidebar (with block controls) and\n\t\t// Shift+Tab should focus the first tabbable element before the content,\n\t\t// which is normally the block toolbar.\n\t\t// Arrow keys can be used, and Tab and arrow keys can be used in\n\t\t// Navigation mode (press Esc), to navigate through blocks.\n\t\tif ( selectedBlockClientId ) {\n\t\t\tif ( isTab ) {\n\t\t\t\tconst wrapper = getBlockDOMNode( selectedBlockClientId );\n\n\t\t\t\tif ( isShift ) {\n\t\t\t\t\tif ( target === wrapper ) {\n\t\t\t\t\t\t// Disable focus capturing on the focus capture element, so\n\t\t\t\t\t\t// it doesn't refocus this block and so it allows default\n\t\t\t\t\t\t// behaviour (moving focus to the next tabbable element).\n\t\t\t\t\t\tnoCapture.current = true;\n\t\t\t\t\t\tfocusCaptureBeforeRef.current.focus();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst tabbables = focus.tabbable.find( wrapper );\n\t\t\t\t\tconst lastTabbable = last( tabbables ) || wrapper;\n\n\t\t\t\t\tif ( target === lastTabbable ) {\n\t\t\t\t\t\t// See comment above.\n\t\t\t\t\t\tnoCapture.current = true;\n\t\t\t\t\t\tfocusCaptureAfterRef.current.focus();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if ( isEscape ) {\n\t\t\t\tsetNavigationMode( true );\n\t\t\t}\n\t\t} else if (\n\t\t\thasMultiSelection &&\n\t\t\tisTab &&\n\t\t\ttarget === multiSelectionContainer.current\n\t\t) {\n\t\t\t// See comment above.\n\t\t\tnoCapture.current = true;\n\n\t\t\tif ( isShift ) {\n\t\t\t\tfocusCaptureBeforeRef.current.focus();\n\t\t\t} else {\n\t\t\t\tfocusCaptureAfterRef.current.focus();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// When presing any key other than up or down, the initial vertical\n\t\t// position must ALWAYS be reset. The vertical position is saved so it\n\t\t// can be restored as well as possible on sebsequent vertical arrow key\n\t\t// presses. It may not always be possible to restore the exact same\n\t\t// position (such as at an empty line), so it wouldn't be good to\n\t\t// compute the position right before any vertical arrow key press.\n\t\tif ( ! isVertical ) {\n\t\t\tverticalRect.current = null;\n\t\t} else if ( ! verticalRect.current ) {\n\t\t\tverticalRect.current = computeCaretRect();\n\t\t}\n\n\t\t// This logic inside this condition needs to be checked before\n\t\t// the check for event.nativeEvent.defaultPrevented.\n\t\t// The logic handles meta+a keypress and this event is default prevented\n\t\t// by RichText.\n\t\tif ( ! isNav ) {\n\t\t\t// Set immediately before the meta+a combination can be pressed.\n\t\t\tif ( isKeyboardEvent.primary( event ) ) {\n\t\t\t\tentirelySelected.current = isEntirelySelected( target );\n\t\t\t}\n\n\t\t\tif ( isKeyboardEvent.primary( event, 'a' ) ) {\n\t\t\t\t// When the target is contentEditable, selection will already\n\t\t\t\t// have been set by the browser earlier in this call stack. We\n\t\t\t\t// need check the previous result, otherwise all blocks will be\n\t\t\t\t// selected right away.\n\t\t\t\tif (\n\t\t\t\t\ttarget.isContentEditable\n\t\t\t\t\t\t? entirelySelected.current\n\t\t\t\t\t\t: isEntirelySelected( target )\n\t\t\t\t) {\n\t\t\t\t\tmultiSelect( first( blocks ), last( blocks ) );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// After pressing primary + A we can assume isEntirelySelected is true.\n\t\t\t\t// Calling right away isEntirelySelected after primary + A may still return false on some browsers.\n\t\t\t\tentirelySelected.current = true;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Abort if navigation has already been handled (e.g. RichText inline\n\t\t// boundaries).\n\t\tif ( event.nativeEvent.defaultPrevented ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Abort if our current target is not a candidate for navigation (e.g.\n\t\t// preserve native input behaviors).\n\t\tif ( ! isNavigationCandidate( target, keyCode, hasModifier ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// In the case of RTL scripts, right means previous and left means next,\n\t\t// which is the exact reverse of LTR.\n\t\tconst { direction } = getComputedStyle( target );\n\t\tconst isReverseDir = direction === 'rtl' ? ! isReverse : isReverse;\n\n\t\tif ( isShift ) {\n\t\t\tif (\n\t\t\t\t// Ensure that there is a target block.\n\t\t\t\t( ( isReverse && selectionBeforeEndClientId ) ||\n\t\t\t\t\t( ! isReverse && selectionAfterEndClientId ) ) &&\n\t\t\t\t( hasMultiSelection ||\n\t\t\t\t\t( isTabbableEdge( target, isReverse ) &&\n\t\t\t\t\t\tisNavEdge( target, isReverse ) ) )\n\t\t\t) {\n\t\t\t\t// Shift key is down, and there is multi selection or we're at\n\t\t\t\t// the end of the current block.\n\t\t\t\texpandSelection( isReverse );\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t} else if ( hasMultiSelection ) {\n\t\t\t// Moving from block multi-selection to single block selection\n\t\t\tmoveSelection( isReverse );\n\t\t\tevent.preventDefault();\n\t\t} else if ( isVertical && isVerticalEdge( target, isReverse ) ) {\n\t\t\tconst closestTabbable = getClosestTabbable(\n\t\t\t\ttarget,\n\t\t\t\tisReverse,\n\t\t\t\tcontainer.current\n\t\t\t);\n\n\t\t\tif ( closestTabbable ) {\n\t\t\t\tplaceCaretAtVerticalEdge(\n\t\t\t\t\tclosestTabbable,\n\t\t\t\t\tisReverse,\n\t\t\t\t\tverticalRect.current\n\t\t\t\t);\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t} else if (\n\t\t\tisHorizontal &&\n\t\t\tgetSelection().isCollapsed &&\n\t\t\tisHorizontalEdge( target, isReverseDir )\n\t\t) {\n\t\t\tconst closestTabbable = getClosestTabbable(\n\t\t\t\ttarget,\n\t\t\t\tisReverseDir,\n\t\t\t\tcontainer.current\n\t\t\t);\n\t\t\tplaceCaretAtHorizontalEdge( closestTabbable, isReverseDir );\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\tfunction focusLastTextField() {\n\t\tconst focusableNodes = focus.focusable.find( container.current );\n\t\tconst target = findLast( focusableNodes, isTabbableTextField );\n\t\tif ( target ) {\n\t\t\tplaceCaretAtHorizontalEdge( target, true );\n\t\t}\n\t}\n\n\tuseEffect( () => {\n\t\tif ( hasMultiSelection && ! isMultiSelecting ) {\n\t\t\tmultiSelectionContainer.current.focus();\n\t\t}\n\t}, [ hasMultiSelection, isMultiSelecting ] );\n\n\tconst className = classnames( 'block-editor-writing-flow', {\n\t\t'is-navigate-mode': isNavigationMode,\n\t} );\n\n\t// Disable reason: Wrapper itself is non-interactive, but must capture\n\t// bubbling events from children to determine focus transition intents.\n\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\treturn (\n\t\t<div className={ className }>\n\t\t\t<FocusCapture\n\t\t\t\tref={ focusCaptureBeforeRef }\n\t\t\t\tselectedClientId={ selectedBlockClientId }\n\t\t\t\tcontainerRef={ container }\n\t\t\t\tnoCapture={ noCapture }\n\t\t\t\thasMultiSelection={ hasMultiSelection }\n\t\t\t\tmultiSelectionContainer={ multiSelectionContainer }\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tref={ container }\n\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\tonMouseDown={ onMouseDown }\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tref={ multiSelectionContainer }\n\t\t\t\t\ttabIndex={ hasMultiSelection ? '0' : undefined }\n\t\t\t\t\taria-label={\n\t\t\t\t\t\thasMultiSelection\n\t\t\t\t\t\t\t? __( 'Multiple selected blocks' )\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\t// Needs to be positioned within the viewport, so focus to this\n\t\t\t\t\t// element does not scroll the page.\n\t\t\t\t\tstyle={ { position: 'fixed' } }\n\t\t\t\t/>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t\t<FocusCapture\n\t\t\t\tref={ focusCaptureAfterRef }\n\t\t\t\tselectedClientId={ selectedBlockClientId }\n\t\t\t\tcontainerRef={ container }\n\t\t\t\tnoCapture={ noCapture }\n\t\t\t\thasMultiSelection={ hasMultiSelection }\n\t\t\t\tmultiSelectionContainer={ multiSelectionContainer }\n\t\t\t\tisReverse\n\t\t\t/>\n\t\t\t<div\n\t\t\t\taria-hidden\n\t\t\t\ttabIndex={ -1 }\n\t\t\t\tonClick={ focusLastTextField }\n\t\t\t\tclassName=\"block-editor-writing-flow__click-redirect\"\n\t\t\t/>\n\t\t</div>\n\t);\n\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useState, useRef } from '@wordpress/element';\nimport { Popover } from '@wordpress/components';\nimport { placeCaretAtVerticalEdge } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\nimport { getClosestTabbable } from '../writing-flow';\nimport { getBlockDOMNode } from '../../utils/dom';\n\nfunction Indicator( { clientId } ) {\n\tconst showInsertionPoint = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockIndex,\n\t\t\t\tgetBlockInsertionPoint,\n\t\t\t\tisBlockInsertionPointVisible,\n\t\t\t\tgetBlockRootClientId,\n\t\t\t} = select( 'core/block-editor' );\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\n\t\t\tconst blockIndex = getBlockIndex( clientId, rootClientId );\n\t\t\tconst insertionPoint = getBlockInsertionPoint();\n\t\t\treturn (\n\t\t\t\tisBlockInsertionPointVisible() &&\n\t\t\t\tinsertionPoint.index === blockIndex &&\n\t\t\t\tinsertionPoint.rootClientId === rootClientId\n\t\t\t);\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tif ( ! showInsertionPoint ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"block-editor-block-list__insertion-point-indicator\" />\n\t);\n}\n\nexport default function InsertionPoint( {\n\tisMultiSelecting,\n\thasMultiSelection,\n\tselectedBlockClientId,\n\tchildren,\n\tcontainerRef,\n} ) {\n\tconst [ isInserterShown, setIsInserterShown ] = useState( false );\n\tconst [ isInserterForced, setIsInserterForced ] = useState( false );\n\tconst [ inserterElement, setInserterElement ] = useState( null );\n\tconst [ inserterClientId, setInserterClientId ] = useState( null );\n\tconst ref = useRef();\n\tconst { multiSelectedBlockClientIds } = useSelect( ( select ) => {\n\t\tconst { getMultiSelectedBlockClientIds } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\treturn {\n\t\t\tmultiSelectedBlockClientIds: getMultiSelectedBlockClientIds(),\n\t\t};\n\t} );\n\n\tfunction onMouseMove( event ) {\n\t\tif (\n\t\t\t! event.target.classList.contains(\n\t\t\t\t'block-editor-block-list__layout'\n\t\t\t)\n\t\t) {\n\t\t\tif ( isInserterShown ) {\n\t\t\t\tsetIsInserterShown( false );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tconst rect = event.target.getBoundingClientRect();\n\t\tconst offset = event.clientY - rect.top;\n\t\tconst element = Array.from( event.target.children ).find(\n\t\t\t( blockEl ) => {\n\t\t\t\treturn blockEl.offsetTop > offset;\n\t\t\t}\n\t\t);\n\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst clientId = element.id.slice( 'block-'.length );\n\n\t\tif ( ! clientId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst elementRect = element.getBoundingClientRect();\n\n\t\tif (\n\t\t\tevent.clientX > elementRect.right ||\n\t\t\tevent.clientX < elementRect.left\n\t\t) {\n\t\t\tif ( isInserterShown ) {\n\t\t\t\tsetIsInserterShown( false );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsInserterShown( true );\n\t\tsetInserterElement( element );\n\t\tsetInserterClientId( clientId );\n\t}\n\n\tfunction focusClosestTabbable( event ) {\n\t\tconst { clientX, clientY, target } = event;\n\n\t\t// Only handle click on the wrapper specifically, and not an event\n\t\t// bubbled from the inserter itself.\n\t\tif ( target !== ref.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst targetRect = target.getBoundingClientRect();\n\t\tconst isReverse = clientY < targetRect.top + targetRect.height / 2;\n\t\tconst blockNode = getBlockDOMNode( inserterClientId );\n\t\tconst container = isReverse ? containerRef.current : blockNode;\n\t\tconst closest =\n\t\t\tgetClosestTabbable( blockNode, true, container ) || blockNode;\n\t\tconst rect = new window.DOMRect( clientX, clientY, 0, 16 );\n\n\t\tplaceCaretAtVerticalEdge( closest, isReverse, rect, false );\n\t}\n\n\t// Hide the inserter above the selected block and during multi-selection.\n\tconst isInserterHidden = hasMultiSelection\n\t\t? multiSelectedBlockClientIds.includes( inserterClientId )\n\t\t: inserterClientId === selectedBlockClientId;\n\n\treturn (\n\t\t<>\n\t\t\t{ ! isMultiSelecting && ( isInserterShown || isInserterForced ) && (\n\t\t\t\t<Popover\n\t\t\t\t\tnoArrow\n\t\t\t\t\tanimate={ false }\n\t\t\t\t\tanchorRef={ inserterElement }\n\t\t\t\t\tposition=\"top right left\"\n\t\t\t\t\tfocusOnMount={ false }\n\t\t\t\t\tclassName=\"block-editor-block-list__insertion-point-popover\"\n\t\t\t\t\t__unstableSlotName=\"block-toolbar\"\n\t\t\t\t\t__unstableFixedPosition={ false }\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"block-editor-block-list__insertion-point\"\n\t\t\t\t\t\tstyle={ { width: inserterElement.offsetWidth } }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Indicator clientId={ inserterClientId } />\n\t\t\t\t\t\t{ /* eslint-disable-next-line jsx-a11y/no-static-element-interactions, jsx-a11y/click-events-have-key-events */ }\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\t\tonFocus={ () => setIsInserterForced( true ) }\n\t\t\t\t\t\t\tonBlur={ () => setIsInserterForced( false ) }\n\t\t\t\t\t\t\tonClick={ focusClosestTabbable }\n\t\t\t\t\t\t\t// While ideally it would be enough to capture the\n\t\t\t\t\t\t\t// bubbling focus event from the Inserter, due to the\n\t\t\t\t\t\t\t// characteristics of click focusing of `button`s in\n\t\t\t\t\t\t\t// Firefox and Safari, it is not reliable.\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// See: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n\t\t\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t'block-editor-block-list__insertion-point-inserter',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'is-inserter-hidden': isInserterHidden,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Inserter\n\t\t\t\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\t\t\t\tclientId={ inserterClientId }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Popover>\n\t\t\t) }\n\t\t\t<div\n\t\t\t\tonMouseMove={\n\t\t\t\t\t! isInserterForced && ! isMultiSelecting\n\t\t\t\t\t\t? onMouseMove\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect, useRef } from '@wordpress/element';\nimport { BACKSPACE, DELETE } from '@wordpress/keycodes';\nimport {\n\tgetBlockType,\n\t__experimentalGetAccessibleBlockLabel as getAccessibleBlockLabel,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport BlockTitle from '../block-title';\n\n/**\n * Block breadcrumb component, displaying the label of the block. If the block\n * descends from a root block, a button is displayed enabling the user to select\n * the root block.\n *\n * @param {string} props          Component props.\n * @param {string} props.clientId Client ID of block.\n *\n * @return {WPComponent} The component to be rendered.\n */\nfunction BlockBreadcrumb( {\n\tclientId,\n\trootClientId,\n\tmoverDirection,\n\t...props\n} ) {\n\tconst selected = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\t__unstableGetBlockWithoutInnerBlocks,\n\t\t\t\tgetBlockIndex,\n\t\t\t} = select( 'core/block-editor' );\n\t\t\tconst index = getBlockIndex( clientId, rootClientId );\n\t\t\tconst { name, attributes } = __unstableGetBlockWithoutInnerBlocks(\n\t\t\t\tclientId\n\t\t\t);\n\t\t\treturn { index, name, attributes };\n\t\t},\n\t\t[ clientId, rootClientId ]\n\t);\n\tconst { index, name, attributes } = selected;\n\tconst { setNavigationMode, removeBlock } = useDispatch(\n\t\t'core/block-editor'\n\t);\n\tconst ref = useRef();\n\n\t// Focus the breadcrumb in navigation mode.\n\tuseEffect( () => {\n\t\tref.current.focus();\n\t} );\n\n\tfunction onKeyDown( event ) {\n\t\tconst { keyCode } = event;\n\n\t\tif ( keyCode === BACKSPACE || keyCode === DELETE ) {\n\t\t\tremoveBlock( clientId );\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\tconst blockType = getBlockType( name );\n\tconst label = getAccessibleBlockLabel(\n\t\tblockType,\n\t\tattributes,\n\t\tindex + 1,\n\t\tmoverDirection\n\t);\n\n\treturn (\n\t\t<div className=\"block-editor-block-list__breadcrumb\" { ...props }>\n\t\t\t<Button\n\t\t\t\tref={ ref }\n\t\t\t\tonClick={ () => setNavigationMode( false ) }\n\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\tlabel={ label }\n\t\t\t>\n\t\t\t\t<BlockTitle clientId={ clientId } />\n\t\t\t</Button>\n\t\t</div>\n\t);\n}\n\nexport default BlockBreadcrumb;\n","/**\n * WordPress dependencies\n */\nimport { NavigableMenu } from '@wordpress/components';\nimport { useRef, useEffect, useCallback } from '@wordpress/element';\nimport { focus } from '@wordpress/dom';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\n\nfunction NavigableToolbar( { children, focusOnMount, ...props } ) {\n\tconst wrapper = useRef();\n\tconst focusToolbar = useCallback( () => {\n\t\tconst tabbables = focus.tabbable.find( wrapper.current );\n\t\tif ( tabbables.length ) {\n\t\t\ttabbables[ 0 ].focus();\n\t\t}\n\t}, [] );\n\tuseShortcut( 'core/block-editor/focus-toolbar', focusToolbar, {\n\t\tbindGlobal: true,\n\t\teventName: 'keydown',\n\t} );\n\tuseEffect( () => {\n\t\tif ( focusOnMount ) {\n\t\t\tfocusToolbar();\n\t\t}\n\t}, [] );\n\n\treturn (\n\t\t<NavigableMenu\n\t\t\torientation=\"horizontal\"\n\t\t\trole=\"toolbar\"\n\t\t\tref={ wrapper }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ children }\n\t\t</NavigableMenu>\n\t);\n}\n\nexport default NavigableToolbar;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport NavigableToolbar from '../navigable-toolbar';\nimport { BlockToolbar } from '../';\n\nfunction BlockContextualToolbar( { focusOnMount, ...props } ) {\n\treturn (\n\t\t<div className=\"block-editor-block-contextual-toolbar-wrapper\">\n\t\t\t<NavigableToolbar\n\t\t\t\tfocusOnMount={ focusOnMount }\n\t\t\t\tclassName=\"block-editor-block-contextual-toolbar\"\n\t\t\t\t/* translators: accessibility text for the block toolbar */\n\t\t\t\taria-label={ __( 'Block tools' ) }\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t<BlockToolbar />\n\t\t\t</NavigableToolbar>\n\t\t</div>\n\t);\n}\n\nexport default BlockContextualToolbar;\n","/**\n * External dependencies\n */\nimport { findIndex } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useCallback, useContext } from '@wordpress/element';\nimport { isUnmodifiedDefaultBlock } from '@wordpress/blocks';\nimport { Popover } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockBreadcrumb from './breadcrumb';\nimport BlockContextualToolbar from './block-contextual-toolbar';\nimport Inserter from '../inserter';\nimport { BlockNodes } from './root-container';\n\nfunction selector( select ) {\n\tconst {\n\t\tisNavigationMode,\n\t\tisMultiSelecting,\n\t\thasMultiSelection,\n\t\tisTyping,\n\t\tisCaretWithinFormattedText,\n\t\tgetSettings,\n\t\tgetLastMultiSelectedBlockClientId,\n\t} = select( 'core/block-editor' );\n\treturn {\n\t\tisNavigationMode: isNavigationMode(),\n\t\tisMultiSelecting: isMultiSelecting(),\n\t\tisTyping: isTyping(),\n\t\tisCaretWithinFormattedText: isCaretWithinFormattedText(),\n\t\thasMultiSelection: hasMultiSelection(),\n\t\thasFixedToolbar: getSettings().hasFixedToolbar,\n\t\tlastClientId: getLastMultiSelectedBlockClientId(),\n\t};\n}\n\nfunction BlockPopover( {\n\tclientId,\n\trootClientId,\n\talign,\n\tisValid,\n\tmoverDirection,\n\tisEmptyDefaultBlock,\n\tcapturingClientId,\n} ) {\n\tconst {\n\t\tisNavigationMode,\n\t\tisMultiSelecting,\n\t\tisTyping,\n\t\tisCaretWithinFormattedText,\n\t\thasMultiSelection,\n\t\thasFixedToolbar,\n\t\tlastClientId,\n\t} = useSelect( selector, [] );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst [ isToolbarForced, setIsToolbarForced ] = useState( false );\n\tconst [ isInserterShown, setIsInserterShown ] = useState( false );\n\tconst [ blockNodes ] = useContext( BlockNodes );\n\n\tconst showEmptyBlockSideInserter =\n\t\t! isNavigationMode && isEmptyDefaultBlock && isValid;\n\tconst shouldShowBreadcrumb = isNavigationMode;\n\tconst shouldShowContextualToolbar =\n\t\t! isNavigationMode &&\n\t\t! hasFixedToolbar &&\n\t\tisLargeViewport &&\n\t\t! showEmptyBlockSideInserter &&\n\t\t! isMultiSelecting &&\n\t\t( ! isTyping || isCaretWithinFormattedText );\n\tconst canFocusHiddenToolbar =\n\t\t! isNavigationMode &&\n\t\t! shouldShowContextualToolbar &&\n\t\t! hasFixedToolbar &&\n\t\t! isEmptyDefaultBlock;\n\n\tuseShortcut(\n\t\t'core/block-editor/focus-toolbar',\n\t\tuseCallback( () => setIsToolbarForced( true ), [] ),\n\t\t{\n\t\t\tbindGlobal: true,\n\t\t\teventName: 'keydown',\n\t\t\tisDisabled: ! canFocusHiddenToolbar,\n\t\t}\n\t);\n\n\tif (\n\t\t! shouldShowBreadcrumb &&\n\t\t! shouldShowContextualToolbar &&\n\t\t! isToolbarForced &&\n\t\t! showEmptyBlockSideInserter\n\t) {\n\t\treturn null;\n\t}\n\n\tlet node = blockNodes[ clientId ];\n\n\tif ( capturingClientId ) {\n\t\tnode = document.getElementById( 'block-' + capturingClientId );\n\t}\n\n\tif ( ! node ) {\n\t\treturn null;\n\t}\n\n\t// A block may specify a different target element for the toolbar.\n\tif ( node.classList.contains( 'is-block-collapsed' ) ) {\n\t\tnode = node.querySelector( '.is-block-content' ) || node;\n\t}\n\n\tlet anchorRef = node;\n\n\tif ( hasMultiSelection ) {\n\t\tconst bottomNode = blockNodes[ lastClientId ];\n\n\t\t// Wait to render the popover until the bottom reference is available\n\t\t// as well.\n\t\tif ( ! bottomNode ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tanchorRef = {\n\t\t\ttop: node,\n\t\t\tbottom: bottomNode,\n\t\t};\n\t}\n\n\tfunction onFocus() {\n\t\tsetIsInserterShown( true );\n\t}\n\n\tfunction onBlur() {\n\t\tsetIsInserterShown( false );\n\t}\n\n\t// Position above the anchor, pop out towards the right, and position in the\n\t// left corner. For the side inserter, pop out towards the left, and\n\t// position in the right corner.\n\t// To do: refactor `Popover` to make this prop clearer.\n\tconst popoverPosition = showEmptyBlockSideInserter\n\t\t? 'top left right'\n\t\t: 'top right left';\n\n\treturn (\n\t\t<Popover\n\t\t\tnoArrow\n\t\t\tanimate={ false }\n\t\t\tposition={ popoverPosition }\n\t\t\tfocusOnMount={ false }\n\t\t\tanchorRef={ anchorRef }\n\t\t\tclassName=\"block-editor-block-list__block-popover\"\n\t\t\t__unstableSticky={ ! showEmptyBlockSideInserter }\n\t\t\t__unstableSlotName=\"block-toolbar\"\n\t\t\t__unstableBoundaryParent\n\t\t\t// Allow subpixel positioning for the block movement animation.\n\t\t\t__unstableAllowVerticalSubpixelPosition={\n\t\t\t\tmoverDirection !== 'horizontal' && node\n\t\t\t}\n\t\t\t__unstableAllowHorizontalSubpixelPosition={\n\t\t\t\tmoverDirection === 'horizontal' && node\n\t\t\t}\n\t\t\tonBlur={ () => setIsToolbarForced( false ) }\n\t\t\tshouldAnchorIncludePadding\n\t\t\t// Popover calculates the width once. Trigger a reset by remounting\n\t\t\t// the component.\n\t\t\tkey={ shouldShowContextualToolbar }\n\t\t>\n\t\t\t{ ( shouldShowContextualToolbar || isToolbarForced ) && (\n\t\t\t\t<div\n\t\t\t\t\tonFocus={ onFocus }\n\t\t\t\t\tonBlur={ onBlur }\n\t\t\t\t\t// While ideally it would be enough to capture the\n\t\t\t\t\t// bubbling focus event from the Inserter, due to the\n\t\t\t\t\t// characteristics of click focusing of `button`s in\n\t\t\t\t\t// Firefox and Safari, it is not reliable.\n\t\t\t\t\t//\n\t\t\t\t\t// See: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n\t\t\t\t\ttabIndex={ -1 }\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'block-editor-block-list__block-popover-inserter',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'is-visible': isInserterShown,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<Inserter\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ ( shouldShowContextualToolbar || isToolbarForced ) && (\n\t\t\t\t<BlockContextualToolbar\n\t\t\t\t\t// If the toolbar is being shown because of being forced\n\t\t\t\t\t// it should focus the toolbar right after the mount.\n\t\t\t\t\tfocusOnMount={ isToolbarForced }\n\t\t\t\t\tdata-align={ align }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ shouldShowBreadcrumb && (\n\t\t\t\t<BlockBreadcrumb\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\tmoverDirection={ moverDirection }\n\t\t\t\t\tdata-align={ align }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ showEmptyBlockSideInserter && (\n\t\t\t\t<div className=\"block-editor-block-list__empty-block-inserter\">\n\t\t\t\t\t<Inserter\n\t\t\t\t\t\tposition=\"top right\"\n\t\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</Popover>\n\t);\n}\n\nfunction wrapperSelector( select ) {\n\tconst {\n\t\tgetSelectedBlockClientId,\n\t\tgetFirstMultiSelectedBlockClientId,\n\t\tgetBlockRootClientId,\n\t\t__unstableGetBlockWithoutInnerBlocks,\n\t\tgetBlockParents,\n\t\tgetBlockListSettings,\n\t\t__experimentalGetBlockListSettingsForBlocks,\n\t} = select( 'core/block-editor' );\n\n\tconst clientId =\n\t\tgetSelectedBlockClientId() || getFirstMultiSelectedBlockClientId();\n\n\tif ( ! clientId ) {\n\t\treturn;\n\t}\n\n\tconst rootClientId = getBlockRootClientId( clientId );\n\tconst { name, attributes = {}, isValid } =\n\t\t__unstableGetBlockWithoutInnerBlocks( clientId ) || {};\n\tconst blockParentsClientIds = getBlockParents( clientId );\n\tconst { __experimentalMoverDirection } =\n\t\tgetBlockListSettings( rootClientId ) || {};\n\n\t// Get Block List Settings for all ancestors of the current Block clientId\n\tconst ancestorBlockListSettings = __experimentalGetBlockListSettingsForBlocks(\n\t\tblockParentsClientIds\n\t);\n\n\t// Find the index of the first Block with the `captureDescendantsToolbars` prop defined\n\t// This will be the top most ancestor because getBlockParents() returns tree from top -> bottom\n\tconst topmostAncestorWithCaptureDescendantsToolbarsIndex = findIndex(\n\t\tancestorBlockListSettings,\n\t\t[ '__experimentalCaptureToolbars', true ]\n\t);\n\n\tlet capturingClientId;\n\n\tif ( topmostAncestorWithCaptureDescendantsToolbarsIndex !== -1 ) {\n\t\tcapturingClientId =\n\t\t\tblockParentsClientIds[\n\t\t\t\ttopmostAncestorWithCaptureDescendantsToolbarsIndex\n\t\t\t];\n\t}\n\n\treturn {\n\t\tclientId,\n\t\trootClientId: getBlockRootClientId( clientId ),\n\t\tname,\n\t\talign: attributes.align,\n\t\tisValid,\n\t\tmoverDirection: __experimentalMoverDirection,\n\t\tisEmptyDefaultBlock:\n\t\t\tname && isUnmodifiedDefaultBlock( { name, attributes } ),\n\t\tcapturingClientId,\n\t};\n}\n\nexport default function WrappedBlockPopover() {\n\tconst selected = useSelect( wrapperSelector, [] );\n\n\tif ( ! selected ) {\n\t\treturn null;\n\t}\n\n\tconst {\n\t\tclientId,\n\t\trootClientId,\n\t\tname,\n\t\talign,\n\t\tisValid,\n\t\tmoverDirection,\n\t\tisEmptyDefaultBlock,\n\t\tcapturingClientId,\n\t} = selected;\n\n\tif ( ! name ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockPopover\n\t\t\tclientId={ clientId }\n\t\t\trootClientId={ rootClientId }\n\t\t\talign={ align }\n\t\t\tisValid={ isValid }\n\t\t\tmoverDirection={ moverDirection }\n\t\t\tisEmptyDefaultBlock={ isEmptyDefaultBlock }\n\t\t\tcapturingClientId={ capturingClientId }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, forwardRef, useState } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport useMultiSelection from './use-multi-selection';\nimport { getBlockClientId } from '../../utils/dom';\nimport InsertionPoint from './insertion-point';\nimport BlockPopover from './block-popover';\n\n/** @typedef {import('@wordpress/element').WPSyntheticEvent} WPSyntheticEvent */\n\nexport const Context = createContext();\nexport const BlockNodes = createContext();\n\nfunction selector( select ) {\n\tconst {\n\t\tgetSelectedBlockClientId,\n\t\thasMultiSelection,\n\t\tisMultiSelecting,\n\t} = select( 'core/block-editor' );\n\n\treturn {\n\t\tselectedBlockClientId: getSelectedBlockClientId(),\n\t\thasMultiSelection: hasMultiSelection(),\n\t\tisMultiSelecting: isMultiSelecting(),\n\t};\n}\n\n/**\n * Prevents default dragging behavior within a block.\n * To do: we must handle this in the future and clean up the drag target.\n * Previously dragging was prevented for multi-selected, but this is no longer\n * needed.\n *\n * @param {WPSyntheticEvent} event Synthetic drag event.\n */\nfunction onDragStart( event ) {\n\t// Ensure we target block content, not block controls.\n\tif ( getBlockClientId( event.target ) ) {\n\t\tevent.preventDefault();\n\t}\n}\n\nfunction RootContainer( { children, className }, ref ) {\n\tconst {\n\t\tselectedBlockClientId,\n\t\thasMultiSelection,\n\t\tisMultiSelecting,\n\t} = useSelect( selector, [] );\n\tconst { selectBlock } = useDispatch( 'core/block-editor' );\n\tconst onSelectionStart = useMultiSelection( ref );\n\n\t/**\n\t * Marks the block as selected when focused and not already selected. This\n\t * specifically handles the case where block does not set focus on its own\n\t * (via `setFocus`), typically if there is no focusable input in the block.\n\t *\n\t * @param {WPSyntheticEvent} event\n\t */\n\tfunction onFocus( event ) {\n\t\tif ( hasMultiSelection ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst clientId = getBlockClientId( event.target );\n\n\t\tif ( clientId && clientId !== selectedBlockClientId ) {\n\t\t\tselectBlock( clientId );\n\t\t}\n\t}\n\n\treturn (\n\t\t<InsertionPoint\n\t\t\tisMultiSelecting={ isMultiSelecting }\n\t\t\thasMultiSelection={ hasMultiSelection }\n\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\tcontainerRef={ ref }\n\t\t>\n\t\t\t<BlockNodes.Provider value={ useState( {} ) }>\n\t\t\t\t<BlockPopover />\n\t\t\t\t<div\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tclassName={ classnames( className, 'is-root-container' ) }\n\t\t\t\t\tonFocus={ onFocus }\n\t\t\t\t\tonDragStart={ onDragStart }\n\t\t\t\t>\n\t\t\t\t\t<Context.Provider value={ onSelectionStart }>\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t</Context.Provider>\n\t\t\t\t</div>\n\t\t\t</BlockNodes.Provider>\n\t\t</InsertionPoint>\n\t);\n}\n\nexport default forwardRef( RootContainer );\n","const ELEMENTS = [\n\t'p',\n\t'div',\n\t'h1',\n\t'h2',\n\t'h3',\n\t'h4',\n\t'h5',\n\t'h6',\n\t'ol',\n\t'ul',\n\t'li',\n\t'figure',\n\t'nav',\n\t'pre',\n\t'header',\n\t'section',\n\t'aside',\n\t'footer',\n\t'main',\n];\n\nexport default ELEMENTS;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { first, last, omit } from 'lodash';\nimport { animated } from 'react-spring/web.cjs';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseRef,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseContext,\n\tforwardRef,\n} from '@wordpress/element';\nimport { focus, isTextField, placeCaretAtHorizontalEdge } from '@wordpress/dom';\nimport { BACKSPACE, DELETE, ENTER } from '@wordpress/keycodes';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { isInsideRootBlock } from '../../utils/dom';\nimport useMovingAnimation from './moving-animation';\nimport { Context, BlockNodes } from './root-container';\nimport { BlockContext } from './block';\nimport ELEMENTS from './block-elements';\n\nconst BlockComponent = forwardRef(\n\t( { children, tagName = 'div', __unstableIsHtml, ...props }, wrapper ) => {\n\t\tconst onSelectionStart = useContext( Context );\n\t\tconst [ , setBlockNodes ] = useContext( BlockNodes );\n\t\tconst {\n\t\t\tclientId,\n\t\t\trootClientId,\n\t\t\tisSelected,\n\t\t\tisFirstMultiSelected,\n\t\t\tisLastMultiSelected,\n\t\t\tisMultiSelecting,\n\t\t\tisNavigationMode,\n\t\t\tisPartOfMultiSelection,\n\t\t\tenableAnimation,\n\t\t\tindex,\n\t\t\tclassName,\n\t\t\tisLocked,\n\t\t\tname,\n\t\t\tmode,\n\t\t\tblockTitle,\n\t\t\twrapperProps,\n\t\t} = useContext( BlockContext );\n\t\tconst { initialPosition } = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tif ( ! isSelected ) {\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tinitialPosition: select(\n\t\t\t\t\t\t'core/block-editor'\n\t\t\t\t\t).getSelectedBlocksInitialCaretPosition(),\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ isSelected ]\n\t\t);\n\t\tconst { removeBlock, insertDefaultBlock } = useDispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\t\tconst fallbackRef = useRef();\n\n\t\twrapper = wrapper || fallbackRef;\n\n\t\t// Provide the selected node, or the first and last nodes of a multi-\n\t\t// selection, so it can be used to position the contextual block toolbar.\n\t\t// We only provide what is necessary, and remove the nodes again when they\n\t\t// are no longer selected.\n\t\tuseLayoutEffect( () => {\n\t\t\tif ( isSelected || isFirstMultiSelected || isLastMultiSelected ) {\n\t\t\t\tconst node = wrapper.current;\n\t\t\t\tsetBlockNodes( ( nodes ) => ( {\n\t\t\t\t\t...nodes,\n\t\t\t\t\t[ clientId ]: node,\n\t\t\t\t} ) );\n\t\t\t\treturn () => {\n\t\t\t\t\tsetBlockNodes( ( nodes ) => omit( nodes, clientId ) );\n\t\t\t\t};\n\t\t\t}\n\t\t}, [ isSelected, isFirstMultiSelected, isLastMultiSelected ] );\n\n\t\t// translators: %s: Type of block (i.e. Text, Image etc)\n\t\tconst blockLabel = sprintf( __( 'Block: %s' ), blockTitle );\n\n\t\t// Handing the focus of the block on creation and update\n\n\t\t/**\n\t\t * When a block becomes selected, transition focus to an inner tabbable.\n\t\t */\n\t\tconst focusTabbable = () => {\n\t\t\t// Focus is captured by the wrapper node, so while focus transition\n\t\t\t// should only consider tabbables within editable display, since it\n\t\t\t// may be the wrapper itself or a side control which triggered the\n\t\t\t// focus event, don't unnecessary transition to an inner tabbable.\n\t\t\tif (\n\t\t\t\tdocument.activeElement &&\n\t\t\t\tisInsideRootBlock( wrapper.current, document.activeElement )\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Find all tabbables within node.\n\t\t\tconst textInputs = focus.tabbable\n\t\t\t\t.find( wrapper.current )\n\t\t\t\t.filter( isTextField )\n\t\t\t\t// Exclude inner blocks and block appenders\n\t\t\t\t.filter(\n\t\t\t\t\t( node ) =>\n\t\t\t\t\t\tisInsideRootBlock( wrapper.current, node ) &&\n\t\t\t\t\t\t! node.closest( '.block-list-appender' )\n\t\t\t\t);\n\n\t\t\t// If reversed (e.g. merge via backspace), use the last in the set of\n\t\t\t// tabbables.\n\t\t\tconst isReverse = -1 === initialPosition;\n\t\t\tconst target =\n\t\t\t\t( isReverse ? last : first )( textInputs ) || wrapper.current;\n\n\t\t\tplaceCaretAtHorizontalEdge( target, isReverse );\n\t\t};\n\n\t\tuseEffect( () => {\n\t\t\tif ( ! isMultiSelecting && ! isNavigationMode && isSelected ) {\n\t\t\t\tfocusTabbable();\n\t\t\t}\n\t\t}, [ isSelected, isMultiSelecting, isNavigationMode ] );\n\n\t\t// Block Reordering animation\n\t\tconst animationStyle = useMovingAnimation(\n\t\t\twrapper,\n\t\t\tisSelected || isPartOfMultiSelection,\n\t\t\tisSelected || isFirstMultiSelected,\n\t\t\tenableAnimation,\n\t\t\tindex\n\t\t);\n\n\t\t/**\n\t\t * Interprets keydown event intent to remove or insert after block if key\n\t\t * event occurs on wrapper node. This can occur when the block has no text\n\t\t * fields of its own, particularly after initial insertion, to allow for\n\t\t * easy deletion and continuous writing flow to add additional content.\n\t\t *\n\t\t * @param {KeyboardEvent} event Keydown event.\n\t\t */\n\t\tconst onKeyDown = ( event ) => {\n\t\t\tconst { keyCode, target } = event;\n\n\t\t\tif ( props.onKeyDown ) {\n\t\t\t\tprops.onKeyDown( event );\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tkeyCode !== ENTER &&\n\t\t\t\tkeyCode !== BACKSPACE &&\n\t\t\t\tkeyCode !== DELETE\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( target !== wrapper.current || isTextField( target ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( keyCode === ENTER ) {\n\t\t\t\tinsertDefaultBlock( {}, rootClientId, index + 1 );\n\t\t\t} else {\n\t\t\t\tremoveBlock( clientId );\n\t\t\t}\n\t\t};\n\n\t\tconst onMouseLeave = ( { which, buttons } ) => {\n\t\t\t// The primary button must be pressed to initiate selection. Fall back\n\t\t\t// to `which` if the standard `buttons` property is falsy. There are\n\t\t\t// cases where Firefox might always set `buttons` to `0`.\n\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\n\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\t\t\tif ( ( buttons || which ) === 1 ) {\n\t\t\t\tonSelectionStart( clientId );\n\t\t\t}\n\t\t};\n\n\t\tconst htmlSuffix =\n\t\t\tmode === 'html' && ! __unstableIsHtml ? '-visual' : '';\n\t\tconst blockElementId = `block-${ clientId }${ htmlSuffix }`;\n\t\tconst Animated = animated[ tagName ];\n\n\t\treturn (\n\t\t\t<Animated\n\t\t\t\t// Overrideable props.\n\t\t\t\taria-label={ blockLabel }\n\t\t\t\trole=\"group\"\n\t\t\t\t{ ...wrapperProps }\n\t\t\t\t{ ...props }\n\t\t\t\tid={ blockElementId }\n\t\t\t\tref={ wrapper }\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\tclassName,\n\t\t\t\t\tprops.className,\n\t\t\t\t\twrapperProps && wrapperProps.className\n\t\t\t\t) }\n\t\t\t\tdata-block={ clientId }\n\t\t\t\tdata-type={ name }\n\t\t\t\tdata-title={ blockTitle }\n\t\t\t\t// Only allow shortcuts when a blocks is selected and not locked.\n\t\t\t\tonKeyDown={ isSelected && ! isLocked ? onKeyDown : undefined }\n\t\t\t\t// Only allow selection to be started from a selected block.\n\t\t\t\tonMouseLeave={ isSelected ? onMouseLeave : undefined }\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\tstyle={ {\n\t\t\t\t\t...( wrapperProps ? wrapperProps.style : {} ),\n\t\t\t\t\t...( props.style || {} ),\n\t\t\t\t\t...animationStyle,\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Animated>\n\t\t);\n\t}\n);\n\nconst ExtendedBlockComponent = ELEMENTS.reduce( ( acc, element ) => {\n\tacc[ element ] = forwardRef( ( props, ref ) => {\n\t\treturn <BlockComponent { ...props } ref={ ref } tagName={ element } />;\n\t} );\n\treturn acc;\n}, BlockComponent );\n\nexport const Block = ExtendedBlockComponent;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useState, createContext, useMemo } from '@wordpress/element';\nimport {\n\tgetBlockType,\n\tgetSaveElement,\n\tisReusableBlock,\n\tisUnmodifiedDefaultBlock,\n\tgetUnregisteredTypeHandlerName,\n\thasBlockSupport,\n\tgetBlockDefaultClassName,\n} from '@wordpress/blocks';\nimport { withFilters } from '@wordpress/components';\nimport { withDispatch, withSelect, useSelect } from '@wordpress/data';\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { compose, pure, ifCondition } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockEdit from '../block-edit';\nimport BlockInvalidWarning from './block-invalid-warning';\nimport BlockCrashWarning from './block-crash-warning';\nimport BlockCrashBoundary from './block-crash-boundary';\nimport BlockHtml from './block-html';\nimport { Block } from './block-wrapper';\n\nexport const BlockContext = createContext();\n\nfunction BlockListBlock( {\n\tmode,\n\tisFocusMode,\n\tisLocked,\n\tclientId,\n\trootClientId,\n\tisHighlighted,\n\tisSelected,\n\tisMultiSelected,\n\tisPartOfMultiSelection,\n\tisFirstMultiSelected,\n\tisLastMultiSelected,\n\tisTypingWithinBlock,\n\tisAncestorOfSelectedBlock,\n\tisSelectionEnabled,\n\tclassName,\n\tname,\n\tisValid,\n\tattributes,\n\twrapperProps,\n\tsetAttributes,\n\tonReplace,\n\tonInsertBlocksAfter,\n\tonMerge,\n\ttoggleSelection,\n\tindex,\n\tenableAnimation,\n\tisNavigationMode,\n\tisMultiSelecting,\n} ) {\n\t// In addition to withSelect, we should favor using useSelect in this\n\t// component going forward to avoid leaking new props to the public API\n\t// (editor.BlockListBlock filter)\n\tconst { isDraggingBlocks } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tisDraggingBlocks: select( 'core/block-editor' ).isDraggingBlocks(),\n\t\t};\n\t}, [] );\n\n\t// Handling the error state\n\tconst [ hasError, setErrorState ] = useState( false );\n\tconst onBlockError = () => setErrorState( true );\n\n\tconst blockType = getBlockType( name );\n\tconst lightBlockWrapper = hasBlockSupport(\n\t\tblockType,\n\t\t'lightBlockWrapper',\n\t\tfalse\n\t);\n\tconst isUnregisteredBlock = name === getUnregisteredTypeHandlerName();\n\tconst isDragging =\n\t\tisDraggingBlocks && ( isSelected || isPartOfMultiSelection );\n\n\t// Determine whether the block has props to apply to the wrapper.\n\tif ( blockType.getEditWrapperProps ) {\n\t\twrapperProps = {\n\t\t\t...wrapperProps,\n\t\t\t...blockType.getEditWrapperProps( attributes ),\n\t\t};\n\t}\n\n\tconst isAligned = wrapperProps && wrapperProps[ 'data-align' ];\n\tconst generatedClassName =\n\t\tlightBlockWrapper && hasBlockSupport( blockType, 'className', true )\n\t\t\t? getBlockDefaultClassName( name )\n\t\t\t: null;\n\tconst customClassName = lightBlockWrapper ? attributes.className : null;\n\n\t// The wp-block className is important for editor styles.\n\t// Generate the wrapper class names handling the different states of the\n\t// block.\n\tconst wrapperClassName = classnames(\n\t\tgeneratedClassName,\n\t\tcustomClassName,\n\t\t'wp-block block-editor-block-list__block',\n\t\t{\n\t\t\t'has-warning': ! isValid || !! hasError || isUnregisteredBlock,\n\t\t\t'is-selected': isSelected,\n\t\t\t'is-highlighted': isHighlighted,\n\t\t\t'is-multi-selected': isMultiSelected,\n\t\t\t'is-reusable': isReusableBlock( blockType ),\n\t\t\t'is-dragging': isDragging,\n\t\t\t'is-typing': isTypingWithinBlock,\n\t\t\t'is-focused':\n\t\t\t\tisFocusMode && ( isSelected || isAncestorOfSelectedBlock ),\n\t\t\t'is-focus-mode': isFocusMode,\n\t\t\t'has-child-selected': isAncestorOfSelectedBlock,\n\t\t\t'is-block-collapsed': isAligned,\n\t\t},\n\t\tclassName\n\t);\n\n\t// We wrap the BlockEdit component in a div that hides it when editing in\n\t// HTML mode. This allows us to render all of the ancillary pieces\n\t// (InspectorControls, etc.) which are inside `BlockEdit` but not\n\t// `BlockHTML`, even in HTML mode.\n\tlet blockEdit = (\n\t\t<BlockEdit\n\t\t\tname={ name }\n\t\t\tisSelected={ isSelected }\n\t\t\tattributes={ attributes }\n\t\t\tsetAttributes={ setAttributes }\n\t\t\tinsertBlocksAfter={ isLocked ? undefined : onInsertBlocksAfter }\n\t\t\tonReplace={ isLocked ? undefined : onReplace }\n\t\t\tmergeBlocks={ isLocked ? undefined : onMerge }\n\t\t\tclientId={ clientId }\n\t\t\tisSelectionEnabled={ isSelectionEnabled }\n\t\t\ttoggleSelection={ toggleSelection }\n\t\t/>\n\t);\n\n\t// For aligned blocks, provide a wrapper element so the block can be\n\t// positioned relative to the block column. This is enabled with the\n\t// .is-block-content className.\n\tif ( ! lightBlockWrapper && isAligned ) {\n\t\tblockEdit = <div className=\"is-block-content\">{ blockEdit }</div>;\n\t}\n\n\tif ( mode !== 'visual' ) {\n\t\tblockEdit = <div style={ { display: 'none' } }>{ blockEdit }</div>;\n\t}\n\n\tconst value = {\n\t\tclientId,\n\t\trootClientId,\n\t\tisSelected,\n\t\tisFirstMultiSelected,\n\t\tisLastMultiSelected,\n\t\tisMultiSelecting,\n\t\tisNavigationMode,\n\t\tisPartOfMultiSelection,\n\t\tenableAnimation,\n\t\tindex,\n\t\tclassName: wrapperClassName,\n\t\tisLocked,\n\t\tname,\n\t\tmode,\n\t\tblockTitle: blockType.title,\n\t\twrapperProps,\n\t};\n\tconst memoizedValue = useMemo( () => value, Object.values( value ) );\n\n\treturn (\n\t\t<BlockContext.Provider value={ memoizedValue }>\n\t\t\t<BlockCrashBoundary onError={ onBlockError }>\n\t\t\t\t{ isValid && lightBlockWrapper && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ blockEdit }\n\t\t\t\t\t\t{ mode === 'html' && (\n\t\t\t\t\t\t\t<Block.div __unstableIsHtml>\n\t\t\t\t\t\t\t\t<BlockHtml clientId={ clientId } />\n\t\t\t\t\t\t\t</Block.div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t\t{ isValid && ! lightBlockWrapper && (\n\t\t\t\t\t<Block.div { ...wrapperProps }>\n\t\t\t\t\t\t{ blockEdit }\n\t\t\t\t\t\t{ mode === 'html' && (\n\t\t\t\t\t\t\t<BlockHtml clientId={ clientId } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Block.div>\n\t\t\t\t) }\n\t\t\t\t{ ! isValid && (\n\t\t\t\t\t<Block.div>\n\t\t\t\t\t\t<BlockInvalidWarning clientId={ clientId } />\n\t\t\t\t\t\t<div>{ getSaveElement( blockType, attributes ) }</div>\n\t\t\t\t\t</Block.div>\n\t\t\t\t) }\n\t\t\t</BlockCrashBoundary>\n\t\t\t{ !! hasError && (\n\t\t\t\t<Block.div>\n\t\t\t\t\t<BlockCrashWarning />\n\t\t\t\t</Block.div>\n\t\t\t) }\n\t\t</BlockContext.Provider>\n\t);\n}\n\nconst applyWithSelect = withSelect(\n\t( select, { clientId, rootClientId, isLargeViewport } ) => {\n\t\tconst {\n\t\t\tisBlockSelected,\n\t\t\tisAncestorMultiSelected,\n\t\t\tisBlockMultiSelected,\n\t\t\tisFirstMultiSelectedBlock,\n\t\t\tgetLastMultiSelectedBlockClientId,\n\t\t\tisTyping,\n\t\t\tgetBlockMode,\n\t\t\tisSelectionEnabled,\n\t\t\tgetSettings,\n\t\t\thasSelectedInnerBlock,\n\t\t\tgetTemplateLock,\n\t\t\t__unstableGetBlockWithoutInnerBlocks,\n\t\t\tisNavigationMode,\n\t\t\tisBlockHighlighted,\n\t\t} = select( 'core/block-editor' );\n\t\tconst block = __unstableGetBlockWithoutInnerBlocks( clientId );\n\t\tconst isSelected = isBlockSelected( clientId );\n\t\tconst { focusMode, isRTL } = getSettings();\n\t\tconst templateLock = getTemplateLock( rootClientId );\n\t\tconst checkDeep = true;\n\n\t\t// \"ancestor\" is the more appropriate label due to \"deep\" check\n\t\tconst isAncestorOfSelectedBlock = hasSelectedInnerBlock(\n\t\t\tclientId,\n\t\t\tcheckDeep\n\t\t);\n\n\t\t// The fallback to `{}` is a temporary fix.\n\t\t// This function should never be called when a block is not present in\n\t\t// the state. It happens now because the order in withSelect rendering\n\t\t// is not correct.\n\t\tconst { name, attributes, isValid } = block || {};\n\n\t\treturn {\n\t\t\tisHighlighted: isBlockHighlighted( clientId ),\n\t\t\tisMultiSelected: isBlockMultiSelected( clientId ),\n\t\t\tisPartOfMultiSelection:\n\t\t\t\tisBlockMultiSelected( clientId ) ||\n\t\t\t\tisAncestorMultiSelected( clientId ),\n\t\t\tisFirstMultiSelected: isFirstMultiSelectedBlock( clientId ),\n\t\t\tisLastMultiSelected:\n\t\t\t\tgetLastMultiSelectedBlockClientId() === clientId,\n\n\t\t\t// We only care about this prop when the block is selected\n\t\t\t// Thus to avoid unnecessary rerenders we avoid updating the prop if\n\t\t\t// the block is not selected.\n\t\t\tisTypingWithinBlock:\n\t\t\t\t( isSelected || isAncestorOfSelectedBlock ) && isTyping(),\n\n\t\t\tmode: getBlockMode( clientId ),\n\t\t\tisSelectionEnabled: isSelectionEnabled(),\n\t\t\tisLocked: !! templateLock,\n\t\t\tisFocusMode: focusMode && isLargeViewport,\n\t\t\tisNavigationMode: isNavigationMode(),\n\t\t\tisRTL,\n\n\t\t\t// Users of the editor.BlockListBlock filter used to be able to\n\t\t\t// access the block prop.\n\t\t\t// Ideally these blocks would rely on the clientId prop only.\n\t\t\t// This is kept for backward compatibility reasons.\n\t\t\tblock,\n\n\t\t\tname,\n\t\t\tattributes,\n\t\t\tisValid,\n\t\t\tisSelected,\n\t\t\tisAncestorOfSelectedBlock,\n\t\t};\n\t}\n);\n\nconst applyWithDispatch = withDispatch( ( dispatch, ownProps, { select } ) => {\n\tconst {\n\t\tupdateBlockAttributes,\n\t\tinsertBlocks,\n\t\tmergeBlocks,\n\t\treplaceBlocks,\n\t\ttoggleSelection,\n\t\t__unstableMarkLastChangeAsPersistent,\n\t} = dispatch( 'core/block-editor' );\n\n\treturn {\n\t\tsetAttributes( newAttributes ) {\n\t\t\tconst { clientId } = ownProps;\n\t\t\tupdateBlockAttributes( clientId, newAttributes );\n\t\t},\n\t\tonInsertBlocks( blocks, index ) {\n\t\t\tconst { rootClientId } = ownProps;\n\t\t\tinsertBlocks( blocks, index, rootClientId );\n\t\t},\n\t\tonInsertBlocksAfter( blocks ) {\n\t\t\tconst { clientId, rootClientId } = ownProps;\n\t\t\tconst { getBlockIndex } = select( 'core/block-editor' );\n\t\t\tconst index = getBlockIndex( clientId, rootClientId );\n\t\t\tinsertBlocks( blocks, index + 1, rootClientId );\n\t\t},\n\t\tonMerge( forward ) {\n\t\t\tconst { clientId } = ownProps;\n\t\t\tconst { getPreviousBlockClientId, getNextBlockClientId } = select(\n\t\t\t\t'core/block-editor'\n\t\t\t);\n\n\t\t\tif ( forward ) {\n\t\t\t\tconst nextBlockClientId = getNextBlockClientId( clientId );\n\t\t\t\tif ( nextBlockClientId ) {\n\t\t\t\t\tmergeBlocks( clientId, nextBlockClientId );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst previousBlockClientId = getPreviousBlockClientId(\n\t\t\t\t\tclientId\n\t\t\t\t);\n\t\t\t\tif ( previousBlockClientId ) {\n\t\t\t\t\tmergeBlocks( previousBlockClientId, clientId );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonReplace( blocks, indexToSelect ) {\n\t\t\tif (\n\t\t\t\tblocks.length &&\n\t\t\t\t! isUnmodifiedDefaultBlock( blocks[ blocks.length - 1 ] )\n\t\t\t) {\n\t\t\t\t__unstableMarkLastChangeAsPersistent();\n\t\t\t}\n\t\t\treplaceBlocks( [ ownProps.clientId ], blocks, indexToSelect );\n\t\t},\n\t\ttoggleSelection( selectionEnabled ) {\n\t\t\ttoggleSelection( selectionEnabled );\n\t\t},\n\t};\n} );\n\nexport default compose(\n\tpure,\n\twithViewportMatch( { isLargeViewport: 'medium' } ),\n\tapplyWithSelect,\n\tapplyWithDispatch,\n\t// block is sometimes not mounted at the right time, causing it be undefined\n\t// see issue for more info\n\t// https://github.com/WordPress/gutenberg/issues/17013\n\tifCondition( ( { block } ) => !! block ),\n\twithFilters( 'editor.BlockListBlock' )\n)( BlockListBlock );\n","/**\n * External dependencies\n */\nimport TextareaAutosize from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { compose } from '@wordpress/compose';\nimport { getDefaultBlockName } from '@wordpress/blocks';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\n\nexport function DefaultBlockAppender( {\n\tisLocked,\n\tisVisible,\n\tonAppend,\n\tshowPrompt,\n\tplaceholder,\n\trootClientId,\n} ) {\n\tif ( isLocked || ! isVisible ) {\n\t\treturn null;\n\t}\n\n\tconst value =\n\t\tdecodeEntities( placeholder ) ||\n\t\t__( 'Start writing or type / to choose a block' );\n\n\t// The appender \"button\" is in-fact a text field so as to support\n\t// transitions by WritingFlow occurring by arrow key press. WritingFlow\n\t// only supports tab transitions into text fields and to the block focus\n\t// boundary.\n\t//\n\t// See: https://github.com/WordPress/gutenberg/issues/4829#issuecomment-374213658\n\t//\n\t// If it were ever to be made to be a proper `button` element, it is\n\t// important to note that `onFocus` alone would not be sufficient to\n\t// capture click events, notably in Firefox.\n\t//\n\t// See: https://gist.github.com/cvrebert/68659d0333a578d75372\n\n\t// The wp-block className is important for editor styles.\n\n\treturn (\n\t\t<div\n\t\t\tdata-root-client-id={ rootClientId || '' }\n\t\t\tclassName=\"wp-block block-editor-default-block-appender\"\n\t\t>\n\t\t\t<TextareaAutosize\n\t\t\t\trole=\"button\"\n\t\t\t\taria-label={ __( 'Add block' ) }\n\t\t\t\tclassName=\"block-editor-default-block-appender__content\"\n\t\t\t\treadOnly\n\t\t\t\tonFocus={ onAppend }\n\t\t\t\tvalue={ showPrompt ? value : '' }\n\t\t\t/>\n\t\t\t<Inserter\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tposition=\"top right\"\n\t\t\t\tisAppender\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select, ownProps ) => {\n\t\tconst {\n\t\t\tgetBlockCount,\n\t\t\tgetBlockName,\n\t\t\tisBlockValid,\n\t\t\tgetSettings,\n\t\t\tgetTemplateLock,\n\t\t} = select( 'core/block-editor' );\n\n\t\tconst isEmpty = ! getBlockCount( ownProps.rootClientId );\n\t\tconst isLastBlockDefault =\n\t\t\tgetBlockName( ownProps.lastBlockClientId ) ===\n\t\t\tgetDefaultBlockName();\n\t\tconst isLastBlockValid = isBlockValid( ownProps.lastBlockClientId );\n\t\tconst { bodyPlaceholder } = getSettings();\n\n\t\treturn {\n\t\t\tisVisible: isEmpty || ! isLastBlockDefault || ! isLastBlockValid,\n\t\t\tshowPrompt: isEmpty,\n\t\t\tisLocked: !! getTemplateLock( ownProps.rootClientId ),\n\t\t\tplaceholder: bodyPlaceholder,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst { insertDefaultBlock, startTyping } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\treturn {\n\t\t\tonAppend() {\n\t\t\t\tconst { rootClientId } = ownProps;\n\n\t\t\t\tinsertDefaultBlock( undefined, rootClientId );\n\t\t\t\tstartTyping();\n\t\t\t},\n\t\t};\n\t} )\n)( DefaultBlockAppender );\n","/**\n * External dependencies\n */\nimport { last } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport DefaultBlockAppender from '../default-block-appender';\nimport ButtonBlockAppender from '../button-block-appender';\n\nfunction stopPropagation( event ) {\n\tevent.stopPropagation();\n}\n\nfunction BlockListAppender( {\n\tblockClientIds,\n\trootClientId,\n\tcanInsertDefaultBlock,\n\tisLocked,\n\trenderAppender: CustomAppender,\n\tclassName,\n\ttagName: TagName = 'div',\n} ) {\n\tif ( isLocked || CustomAppender === false ) {\n\t\treturn null;\n\t}\n\n\tlet appender;\n\tif ( CustomAppender ) {\n\t\t// Prefer custom render prop if provided.\n\t\tappender = <CustomAppender />;\n\t} else if ( canInsertDefaultBlock ) {\n\t\t// Render the default block appender when renderAppender has not been\n\t\t// provided and the context supports use of the default appender.\n\t\tappender = (\n\t\t\t<DefaultBlockAppender\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tlastBlockClientId={ last( blockClientIds ) }\n\t\t\t/>\n\t\t);\n\t} else {\n\t\t// Fallback in the case no renderAppender has been provided and the\n\t\t// default block can't be inserted.\n\t\tappender = (\n\t\t\t<ButtonBlockAppender\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tclassName=\"block-list-appender__toggle\"\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<TagName\n\t\t\t// A `tabIndex` is used on the wrapping `div` element in order to\n\t\t\t// force a focus event to occur when an appender `button` element\n\t\t\t// is clicked. In some browsers (Firefox, Safari), button clicks do\n\t\t\t// not emit a focus event, which could cause this event to propagate\n\t\t\t// unexpectedly. The `tabIndex` ensures that the interaction is\n\t\t\t// captured as a focus, without also adding an extra tab stop.\n\t\t\t//\n\t\t\t// See: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n\t\t\ttabIndex={ -1 }\n\t\t\t// Prevent the block from being selected when the appender is\n\t\t\t// clicked.\n\t\t\tonFocus={ stopPropagation }\n\t\t\tclassName={ classnames( 'block-list-appender', className ) }\n\t\t>\n\t\t\t{ appender }\n\t\t</TagName>\n\t);\n}\n\nexport default withSelect( ( select, { rootClientId } ) => {\n\tconst { getBlockOrder, canInsertBlockType, getTemplateLock } = select(\n\t\t'core/block-editor'\n\t);\n\n\treturn {\n\t\tisLocked: !! getTemplateLock( rootClientId ),\n\t\tblockClientIds: getBlockOrder( rootClientId ),\n\t\tcanInsertDefaultBlock: canInsertBlockType(\n\t\t\tgetDefaultBlockName(),\n\t\t\trootClientId\n\t\t),\n\t};\n} )( BlockListAppender );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst upload = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-5.7-5.3-.6.6-.5-.5-5.2 5.2 1 1.1 4-4v11.7h-6V15H4v5h16v-5z\" />\n\t</SVG>\n);\n\nexport default upload;\n","/**\n * External dependencies\n */\nimport { isEqual, find, some, filter, throttle, includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, createContext } from '@wordpress/element';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\n\nexport const Context = createContext( {\n\taddDropZone: () => {},\n\tremoveDropZone: () => {},\n} );\n\nconst { Provider, Consumer } = Context;\n\nconst getDragEventType = ( { dataTransfer } ) => {\n\tif ( dataTransfer ) {\n\t\t// Use lodash `includes` here as in the Edge browser `types` is implemented\n\t\t// as a DomStringList, whereas in other browsers it's an array. `includes`\n\t\t// happily works with both types.\n\t\tif ( includes( dataTransfer.types, 'Files' ) ) {\n\t\t\treturn 'file';\n\t\t}\n\n\t\tif ( includes( dataTransfer.types, 'text/html' ) ) {\n\t\t\treturn 'html';\n\t\t}\n\t}\n\n\treturn 'default';\n};\n\nconst isTypeSupportedByDropZone = ( type, dropZone ) => {\n\treturn (\n\t\t( type === 'file' && dropZone.onFilesDrop ) ||\n\t\t( type === 'html' && dropZone.onHTMLDrop ) ||\n\t\t( type === 'default' && dropZone.onDrop )\n\t);\n};\n\nconst isWithinElementBounds = ( element, x, y ) => {\n\tconst rect = element.getBoundingClientRect();\n\t/// make sure the rect is a valid rect\n\tif ( rect.bottom === rect.top || rect.left === rect.right ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\tx >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom\n\t);\n};\n\nclass DropZoneProvider extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\t// Event listeners\n\t\tthis.onDragOver = this.onDragOver.bind( this );\n\t\tthis.onDrop = this.onDrop.bind( this );\n\t\t// Context methods so this component can receive data from consumers\n\t\tthis.addDropZone = this.addDropZone.bind( this );\n\t\tthis.removeDropZone = this.removeDropZone.bind( this );\n\t\t// Utility methods\n\t\tthis.resetDragState = this.resetDragState.bind( this );\n\t\tthis.toggleDraggingOverDocument = throttle(\n\t\t\tthis.toggleDraggingOverDocument.bind( this ),\n\t\t\t200\n\t\t);\n\n\t\tthis.dropZones = [];\n\t\tthis.dropZoneCallbacks = {\n\t\t\taddDropZone: this.addDropZone,\n\t\t\tremoveDropZone: this.removeDropZone,\n\t\t};\n\t\tthis.state = {\n\t\t\thoveredDropZone: -1,\n\t\t\tisDraggingOverDocument: false,\n\t\t\tposition: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener( 'dragover', this.onDragOver );\n\t\twindow.addEventListener( 'mouseup', this.resetDragState );\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener( 'dragover', this.onDragOver );\n\t\twindow.removeEventListener( 'mouseup', this.resetDragState );\n\t}\n\n\taddDropZone( dropZone ) {\n\t\tthis.dropZones.push( dropZone );\n\t}\n\n\tremoveDropZone( dropZone ) {\n\t\tthis.dropZones = filter( this.dropZones, ( dz ) => dz !== dropZone );\n\t}\n\n\tresetDragState() {\n\t\t// Avoid throttled drag over handler calls\n\t\tthis.toggleDraggingOverDocument.cancel();\n\n\t\tconst { isDraggingOverDocument, hoveredDropZone } = this.state;\n\t\tif ( ! isDraggingOverDocument && hoveredDropZone === -1 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState( {\n\t\t\thoveredDropZone: -1,\n\t\t\tisDraggingOverDocument: false,\n\t\t\tposition: null,\n\t\t} );\n\n\t\tthis.dropZones.forEach( ( dropZone ) =>\n\t\t\tdropZone.setState( {\n\t\t\t\tisDraggingOverDocument: false,\n\t\t\t\tisDraggingOverElement: false,\n\t\t\t\tposition: null,\n\t\t\t\ttype: null,\n\t\t\t} )\n\t\t);\n\t}\n\n\ttoggleDraggingOverDocument( event, dragEventType ) {\n\t\t// In some contexts, it may be necessary to capture and redirect the\n\t\t// drag event (e.g. atop an `iframe`). To accommodate this, you can\n\t\t// create an instance of CustomEvent with the original event specified\n\t\t// as the `detail` property.\n\t\t//\n\t\t// See: https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events\n\t\tconst detail =\n\t\t\twindow.CustomEvent && event instanceof window.CustomEvent\n\t\t\t\t? event.detail\n\t\t\t\t: event;\n\n\t\t// Index of hovered dropzone.\n\t\tconst hoveredDropZones = filter(\n\t\t\tthis.dropZones,\n\t\t\t( dropZone ) =>\n\t\t\t\tisTypeSupportedByDropZone( dragEventType, dropZone ) &&\n\t\t\t\tisWithinElementBounds(\n\t\t\t\t\tdropZone.element.current,\n\t\t\t\t\tdetail.clientX,\n\t\t\t\t\tdetail.clientY\n\t\t\t\t)\n\t\t);\n\n\t\t// Find the leaf dropzone not containing another dropzone\n\t\tconst hoveredDropZone = find( hoveredDropZones, ( zone ) => {\n\t\t\tconst container = zone.isRelative\n\t\t\t\t? zone.element.current.parentElement\n\t\t\t\t: zone.element.current;\n\n\t\t\treturn ! some(\n\t\t\t\thoveredDropZones,\n\t\t\t\t( subZone ) =>\n\t\t\t\t\tsubZone !== zone &&\n\t\t\t\t\tcontainer.contains( subZone.element.current )\n\t\t\t);\n\t\t} );\n\n\t\tconst hoveredDropZoneIndex = this.dropZones.indexOf( hoveredDropZone );\n\n\t\tlet position = null;\n\n\t\tif ( hoveredDropZone && hoveredDropZone.withPosition ) {\n\t\t\tposition = { x: detail.clientX, y: detail.clientY };\n\t\t}\n\n\t\t// Optimisation: Only update the changed dropzones\n\t\tlet toUpdate = [];\n\n\t\tif ( ! this.state.isDraggingOverDocument ) {\n\t\t\ttoUpdate = this.dropZones;\n\t\t} else if ( hoveredDropZoneIndex !== this.state.hoveredDropZone ) {\n\t\t\tif ( this.state.hoveredDropZone !== -1 ) {\n\t\t\t\ttoUpdate.push( this.dropZones[ this.state.hoveredDropZone ] );\n\t\t\t}\n\t\t\tif ( hoveredDropZone ) {\n\t\t\t\ttoUpdate.push( hoveredDropZone );\n\t\t\t}\n\t\t} else if (\n\t\t\thoveredDropZone &&\n\t\t\thoveredDropZoneIndex === this.state.hoveredDropZone &&\n\t\t\t! isEqual( position, this.state.position )\n\t\t) {\n\t\t\ttoUpdate.push( hoveredDropZone );\n\t\t}\n\n\t\t// Notifying the dropzones\n\t\ttoUpdate.forEach( ( dropZone ) => {\n\t\t\tconst index = this.dropZones.indexOf( dropZone );\n\t\t\tconst isDraggingOverDropZone = index === hoveredDropZoneIndex;\n\t\t\tdropZone.setState( {\n\t\t\t\tisDraggingOverDocument: isTypeSupportedByDropZone(\n\t\t\t\t\tdragEventType,\n\t\t\t\t\tdropZone\n\t\t\t\t),\n\t\t\t\tisDraggingOverElement: isDraggingOverDropZone,\n\t\t\t\tposition: isDraggingOverDropZone ? position : null,\n\t\t\t\ttype: isDraggingOverDropZone ? dragEventType : null,\n\t\t\t} );\n\t\t} );\n\n\t\tconst newState = {\n\t\t\tisDraggingOverDocument: true,\n\t\t\thoveredDropZone: hoveredDropZoneIndex,\n\t\t\tposition,\n\t\t};\n\t\tif ( ! isShallowEqual( newState, this.state ) ) {\n\t\t\tthis.setState( newState );\n\t\t}\n\t}\n\n\tonDragOver( event ) {\n\t\tthis.toggleDraggingOverDocument( event, getDragEventType( event ) );\n\t\tevent.preventDefault();\n\t}\n\n\tonDrop( event ) {\n\t\t// This seemingly useless line has been shown to resolve a Safari issue\n\t\t// where files dragged directly from the dock are not recognized\n\t\tevent.dataTransfer && event.dataTransfer.files.length; // eslint-disable-line no-unused-expressions\n\n\t\tconst { position, hoveredDropZone } = this.state;\n\t\tconst dragEventType = getDragEventType( event );\n\t\tconst dropZone = this.dropZones[ hoveredDropZone ];\n\t\tthis.resetDragState();\n\n\t\tif ( dropZone ) {\n\t\t\tswitch ( dragEventType ) {\n\t\t\t\tcase 'file':\n\t\t\t\t\tdropZone.onFilesDrop(\n\t\t\t\t\t\t[ ...event.dataTransfer.files ],\n\t\t\t\t\t\tposition\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'html':\n\t\t\t\t\tdropZone.onHTMLDrop(\n\t\t\t\t\t\tevent.dataTransfer.getData( 'text/html' ),\n\t\t\t\t\t\tposition\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'default':\n\t\t\t\t\tdropZone.onDrop( event, position );\n\t\t\t}\n\t\t}\n\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tonDrop={ this.onDrop }\n\t\t\t\tclassName=\"components-drop-zone__provider\"\n\t\t\t>\n\t\t\t\t<Provider value={ this.dropZoneCallbacks }>\n\t\t\t\t\t{ this.props.children }\n\t\t\t\t</Provider>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DropZoneProvider;\nexport { Consumer as DropZoneConsumer };\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useContext, useEffect, useState, useRef } from '@wordpress/element';\nimport { upload, Icon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { DropZoneConsumer, Context } from './provider';\n\nexport function useDropZone( {\n\telement,\n\tonFilesDrop,\n\tonHTMLDrop,\n\tonDrop,\n\tisDisabled,\n\twithPosition,\n\t__unstableIsRelative = false,\n} ) {\n\tconst { addDropZone, removeDropZone } = useContext( Context );\n\tconst [ state, setState ] = useState( {\n\t\tisDraggingOverDocument: false,\n\t\tisDraggingOverElement: false,\n\t\ttype: null,\n\t} );\n\n\tuseEffect( () => {\n\t\tif ( ! isDisabled ) {\n\t\t\tconst dropZone = {\n\t\t\t\telement,\n\t\t\t\tonDrop,\n\t\t\t\tonFilesDrop,\n\t\t\t\tonHTMLDrop,\n\t\t\t\tsetState,\n\t\t\t\twithPosition,\n\t\t\t\tisRelative: __unstableIsRelative,\n\t\t\t};\n\t\t\taddDropZone( dropZone );\n\t\t\treturn () => {\n\t\t\t\tremoveDropZone( dropZone );\n\t\t\t};\n\t\t}\n\t}, [ isDisabled, onDrop, onFilesDrop, onHTMLDrop, withPosition ] );\n\n\treturn state;\n}\n\nconst DropZone = ( props ) => (\n\t<DropZoneConsumer>\n\t\t{ ( { addDropZone, removeDropZone } ) => (\n\t\t\t<DropZoneComponent\n\t\t\t\taddDropZone={ addDropZone }\n\t\t\t\tremoveDropZone={ removeDropZone }\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t) }\n\t</DropZoneConsumer>\n);\n\nfunction DropZoneComponent( {\n\tclassName,\n\tlabel,\n\tonFilesDrop,\n\tonHTMLDrop,\n\tonDrop,\n} ) {\n\tconst element = useRef();\n\tconst { isDraggingOverDocument, isDraggingOverElement, type } = useDropZone(\n\t\t{\n\t\t\telement,\n\t\t\tonFilesDrop,\n\t\t\tonHTMLDrop,\n\t\t\tonDrop,\n\t\t\t__unstableIsRelative: true,\n\t\t}\n\t);\n\n\tlet children;\n\n\tif ( isDraggingOverElement ) {\n\t\tchildren = (\n\t\t\t<div className=\"components-drop-zone__content\">\n\t\t\t\t<Icon\n\t\t\t\t\ticon={ upload }\n\t\t\t\t\tsize=\"40\"\n\t\t\t\t\tclassName=\"components-drop-zone__content-icon\"\n\t\t\t\t/>\n\t\t\t\t<span className=\"components-drop-zone__content-text\">\n\t\t\t\t\t{ label ? label : __( 'Drop files to upload' ) }\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst classes = classnames( 'components-drop-zone', className, {\n\t\t'is-active':\n\t\t\t( isDraggingOverDocument || isDraggingOverElement ) &&\n\t\t\t( ( type === 'file' && onFilesDrop ) ||\n\t\t\t\t( type === 'html' && onHTMLDrop ) ||\n\t\t\t\t( type === 'default' && onDrop ) ),\n\t\t'is-dragging-over-document': isDraggingOverDocument,\n\t\t'is-dragging-over-element': isDraggingOverElement,\n\t\t[ `is-dragging-${ type }` ]: !! type,\n\t} );\n\n\treturn (\n\t\t<div ref={ element } className={ classes }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default DropZone;\n","/**\n * WordPress dependencies\n */\nimport { __unstableUseDropZone as useDropZone } from '@wordpress/components';\nimport {\n\tpasteHandler,\n\tgetBlockTransforms,\n\tfindTransform,\n} from '@wordpress/blocks';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect, useState, useCallback } from '@wordpress/element';\n\nconst parseDropEvent = ( event ) => {\n\tlet result = {\n\t\tsrcRootClientId: null,\n\t\tsrcClientId: null,\n\t\tsrcIndex: null,\n\t\ttype: null,\n\t};\n\n\tif ( ! event.dataTransfer ) {\n\t\treturn result;\n\t}\n\n\ttry {\n\t\tresult = Object.assign(\n\t\t\tresult,\n\t\t\tJSON.parse( event.dataTransfer.getData( 'text' ) )\n\t\t);\n\t} catch ( err ) {\n\t\treturn result;\n\t}\n\n\treturn result;\n};\n\nexport default function useBlockDropZone( { element, rootClientId } ) {\n\tconst [ clientId, setClientId ] = useState( null );\n\n\tfunction selector( select ) {\n\t\tconst {\n\t\t\tgetBlockIndex,\n\t\t\tgetClientIdsOfDescendants,\n\t\t\tgetSettings,\n\t\t\tgetTemplateLock,\n\t\t} = select( 'core/block-editor' );\n\t\treturn {\n\t\t\tgetBlockIndex,\n\t\t\tblockIndex: getBlockIndex( clientId, rootClientId ),\n\t\t\tgetClientIdsOfDescendants,\n\t\t\thasUploadPermissions: !! getSettings().mediaUpload,\n\t\t\tisLockedAll: getTemplateLock( rootClientId ) === 'all',\n\t\t};\n\t}\n\n\tconst {\n\t\tgetBlockIndex,\n\t\tblockIndex,\n\t\tgetClientIdsOfDescendants,\n\t\thasUploadPermissions,\n\t\tisLockedAll,\n\t} = useSelect( selector, [ rootClientId, clientId ] );\n\tconst {\n\t\tinsertBlocks,\n\t\tupdateBlockAttributes,\n\t\tmoveBlockToPosition,\n\t} = useDispatch( 'core/block-editor' );\n\n\tconst onFilesDrop = useCallback(\n\t\t( files ) => {\n\t\t\tif ( ! hasUploadPermissions ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst transformation = findTransform(\n\t\t\t\tgetBlockTransforms( 'from' ),\n\t\t\t\t( transform ) =>\n\t\t\t\t\ttransform.type === 'files' && transform.isMatch( files )\n\t\t\t);\n\n\t\t\tif ( transformation ) {\n\t\t\t\tconst blocks = transformation.transform(\n\t\t\t\t\tfiles,\n\t\t\t\t\tupdateBlockAttributes\n\t\t\t\t);\n\t\t\t\tinsertBlocks( blocks, blockIndex, rootClientId );\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\thasUploadPermissions,\n\t\t\tupdateBlockAttributes,\n\t\t\tinsertBlocks,\n\t\t\tblockIndex,\n\t\t\trootClientId,\n\t\t]\n\t);\n\n\tconst onHTMLDrop = useCallback(\n\t\t( HTML ) => {\n\t\t\tconst blocks = pasteHandler( { HTML, mode: 'BLOCKS' } );\n\n\t\t\tif ( blocks.length ) {\n\t\t\t\tinsertBlocks( blocks, blockIndex, rootClientId );\n\t\t\t}\n\t\t},\n\t\t[ insertBlocks, blockIndex, rootClientId ]\n\t);\n\n\tconst onDrop = useCallback(\n\t\t( event ) => {\n\t\t\tconst {\n\t\t\t\tsrcRootClientId,\n\t\t\t\tsrcClientId,\n\t\t\t\tsrcIndex,\n\t\t\t\ttype,\n\t\t\t} = parseDropEvent( event );\n\n\t\t\tconst isBlockDropType = ( dropType ) => dropType === 'block';\n\t\t\tconst isSameLevel = ( srcRoot, dstRoot ) => {\n\t\t\t\t// Note that rootClientId of top-level blocks will be undefined OR a void string,\n\t\t\t\t// so we also need to account for that case separately.\n\t\t\t\treturn (\n\t\t\t\t\tsrcRoot === dstRoot ||\n\t\t\t\t\t( ! srcRoot === true && ! dstRoot === true )\n\t\t\t\t);\n\t\t\t};\n\t\t\tconst isSameBlock = ( src, dst ) => src === dst;\n\t\t\tconst isSrcBlockAnAncestorOfDstBlock = ( src, dst ) =>\n\t\t\t\tgetClientIdsOfDescendants( [ src ] ).some(\n\t\t\t\t\t( id ) => id === dst\n\t\t\t\t);\n\n\t\t\tif (\n\t\t\t\t! isBlockDropType( type ) ||\n\t\t\t\tisSameBlock( srcClientId, clientId ) ||\n\t\t\t\tisSrcBlockAnAncestorOfDstBlock(\n\t\t\t\t\tsrcClientId,\n\t\t\t\t\tclientId || rootClientId\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst dstIndex = clientId\n\t\t\t\t? getBlockIndex( clientId, rootClientId )\n\t\t\t\t: undefined;\n\t\t\tconst positionIndex = blockIndex;\n\t\t\t// If the block is kept at the same level and moved downwards,\n\t\t\t// subtract to account for blocks shifting upward to occupy its old position.\n\t\t\tconst insertIndex =\n\t\t\t\tdstIndex &&\n\t\t\t\tsrcIndex < dstIndex &&\n\t\t\t\tisSameLevel( srcRootClientId, rootClientId )\n\t\t\t\t\t? positionIndex - 1\n\t\t\t\t\t: positionIndex;\n\t\t\tmoveBlockToPosition(\n\t\t\t\tsrcClientId,\n\t\t\t\tsrcRootClientId,\n\t\t\t\trootClientId,\n\t\t\t\tinsertIndex\n\t\t\t);\n\t\t},\n\t\t[\n\t\t\tgetClientIdsOfDescendants,\n\t\t\tgetBlockIndex,\n\t\t\tclientId,\n\t\t\tblockIndex,\n\t\t\tmoveBlockToPosition,\n\t\t\trootClientId,\n\t\t]\n\t);\n\n\tconst { position } = useDropZone( {\n\t\telement,\n\t\tonFilesDrop,\n\t\tonHTMLDrop,\n\t\tonDrop,\n\t\tisDisabled: isLockedAll,\n\t\twithPosition: true,\n\t} );\n\n\tuseEffect( () => {\n\t\tif ( position ) {\n\t\t\tconst { y } = position;\n\t\t\tconst rect = element.current.getBoundingClientRect();\n\n\t\t\tconst offset = y - rect.top;\n\t\t\tconst target = Array.from( element.current.children ).find(\n\t\t\t\t( blockEl ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tblockEl.offsetTop + blockEl.offsetHeight / 2 > offset\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif ( ! target ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst targetClientId = target.id.slice( 'block-'.length );\n\n\t\t\tif ( ! targetClientId ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetClientId( targetClientId );\n\t\t}\n\t}, [ position ] );\n\n\tif ( position ) {\n\t\treturn clientId;\n\t}\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { AsyncModeProvider, useSelect } from '@wordpress/data';\nimport { useRef, forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BlockListBlock from './block';\nimport BlockListAppender from '../block-list-appender';\nimport RootContainer from './root-container';\nimport useBlockDropZone from '../block-drop-zone';\n\n/**\n * If the block count exceeds the threshold, we disable the reordering animation\n * to avoid laginess.\n */\nconst BLOCK_ANIMATION_THRESHOLD = 200;\n\nfunction BlockList(\n\t{\n\t\tclassName,\n\t\trootClientId,\n\t\tisDraggable,\n\t\trenderAppender,\n\t\t__experimentalTagName = 'div',\n\t\t__experimentalAppenderTagName,\n\t\t__experimentalPassedProps = {},\n\t},\n\tref\n) {\n\tfunction selector( select ) {\n\t\tconst {\n\t\t\tgetBlockOrder,\n\t\t\tisMultiSelecting,\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetMultiSelectedBlockClientIds,\n\t\t\thasMultiSelection,\n\t\t\tgetGlobalBlockCount,\n\t\t\tisTyping,\n\t\t} = select( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tblockClientIds: getBlockOrder( rootClientId ),\n\t\t\tisMultiSelecting: isMultiSelecting(),\n\t\t\tselectedBlockClientId: getSelectedBlockClientId(),\n\t\t\tmultiSelectedBlockClientIds: getMultiSelectedBlockClientIds(),\n\t\t\thasMultiSelection: hasMultiSelection(),\n\t\t\tenableAnimation:\n\t\t\t\t! isTyping() &&\n\t\t\t\tgetGlobalBlockCount() <= BLOCK_ANIMATION_THRESHOLD,\n\t\t};\n\t}\n\n\tconst {\n\t\tblockClientIds,\n\t\tisMultiSelecting,\n\t\tselectedBlockClientId,\n\t\tmultiSelectedBlockClientIds,\n\t\thasMultiSelection,\n\t\tenableAnimation,\n\t} = useSelect( selector, [ rootClientId ] );\n\n\tconst Container = rootClientId ? __experimentalTagName : RootContainer;\n\tconst targetClientId = useBlockDropZone( {\n\t\telement: ref,\n\t\trootClientId,\n\t} );\n\n\treturn (\n\t\t<Container\n\t\t\t{ ...__experimentalPassedProps }\n\t\t\tref={ ref }\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-block-list__layout',\n\t\t\t\tclassName,\n\t\t\t\t__experimentalPassedProps.className\n\t\t\t) }\n\t\t>\n\t\t\t{ blockClientIds.map( ( clientId, index ) => {\n\t\t\t\tconst isBlockInSelection = hasMultiSelection\n\t\t\t\t\t? multiSelectedBlockClientIds.includes( clientId )\n\t\t\t\t\t: selectedBlockClientId === clientId;\n\n\t\t\t\treturn (\n\t\t\t\t\t<AsyncModeProvider\n\t\t\t\t\t\tkey={ clientId }\n\t\t\t\t\t\tvalue={ ! isBlockInSelection }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockListBlock\n\t\t\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t\tisDraggable={ isDraggable }\n\t\t\t\t\t\t\tisMultiSelecting={ isMultiSelecting }\n\t\t\t\t\t\t\t// This prop is explicitely computed and passed down\n\t\t\t\t\t\t\t// to avoid being impacted by the async mode\n\t\t\t\t\t\t\t// otherwise there might be a small delay to trigger the animation.\n\t\t\t\t\t\t\tindex={ index }\n\t\t\t\t\t\t\tenableAnimation={ enableAnimation }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\tclientId === targetClientId\n\t\t\t\t\t\t\t\t\t? 'is-drop-target'\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</AsyncModeProvider>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t<BlockListAppender\n\t\t\t\ttagName={ __experimentalAppenderTagName }\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\trenderAppender={ renderAppender }\n\t\t\t\tclassName={\n\t\t\t\t\ttargetClientId === null ? 'is-drop-target' : undefined\n\t\t\t\t}\n\t\t\t/>\n\t\t</Container>\n\t);\n}\n\nconst ForwardedBlockList = forwardRef( BlockList );\n\n// This component needs to always be synchronous\n// as it's the one changing the async mode\n// depending on the block selection.\nexport default forwardRef( ( props, ref ) => {\n\tconst fallbackRef = useRef();\n\treturn (\n\t\t<AsyncModeProvider value={ false }>\n\t\t\t<ForwardedBlockList ref={ ref || fallbackRef } { ...props } />\n\t\t</AsyncModeProvider>\n\t);\n} );\n","/**\n * WordPress dependencies\n */\nimport { Disabled } from '@wordpress/components';\nimport { useResizeObserver, pure } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockList from '../block-list';\n\n// This is used to avoid rendering the block list if the sizes change.\nconst MemoizedBlockList = pure( BlockList );\n\nfunction AutoBlockPreview( { viewportWidth, __experimentalPadding } ) {\n\tconst [\n\t\tcontainerResizeListener,\n\t\t{ width: containerWidth },\n\t] = useResizeObserver();\n\tconst [\n\t\tcontaintResizeListener,\n\t\t{ height: contentHeight },\n\t] = useResizeObserver();\n\n\tconst scale =\n\t\t( containerWidth - 2 * __experimentalPadding ) / viewportWidth;\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"block-editor-block-preview__container editor-styles-wrapper\"\n\t\t\taria-hidden\n\t\t\tstyle={ {\n\t\t\t\theight: contentHeight * scale + 2 * __experimentalPadding,\n\t\t\t\tpadding: __experimentalPadding,\n\t\t\t} }\n\t\t>\n\t\t\t{ containerResizeListener }\n\t\t\t<Disabled\n\t\t\t\tstyle={ {\n\t\t\t\t\ttransform: `scale(${ scale })`,\n\t\t\t\t\twidth: viewportWidth,\n\t\t\t\t\tleft: __experimentalPadding,\n\t\t\t\t\tright: __experimentalPadding,\n\t\t\t\t\ttop: __experimentalPadding,\n\t\t\t\t} }\n\t\t\t\tclassName=\"block-editor-block-preview__content\"\n\t\t\t>\n\t\t\t\t{ containtResizeListener }\n\t\t\t\t<MemoizedBlockList />\n\t\t\t</Disabled>\n\t\t</div>\n\t);\n}\n\nexport default AutoBlockPreview;\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BlockEditorProvider from '../provider';\nimport AutoHeightBlockPreview from './auto';\n\n/**\n * BlockPreview renders a preview of a block or array of blocks.\n *\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/block-preview/README.md\n *\n * @param {Object} preview options for how the preview should be shown\n * @param {Array|Object} preview.blocks A block instance (object) or an array of blocks to be previewed.\n * @param {number} preview.viewportWidth Width of the preview container in pixels. Controls at what size the blocks will be rendered inside the preview. Default: 700.\n *\n * @return {WPComponent} The component to be rendered.\n */\nexport function BlockPreview( {\n\tblocks,\n\t__experimentalPadding = 0,\n\tviewportWidth = 700,\n} ) {\n\tconst settings = useSelect( ( select ) =>\n\t\tselect( 'core/block-editor' ).getSettings()\n\t);\n\tconst renderedBlocks = useMemo( () => castArray( blocks ), [ blocks ] );\n\tif ( ! blocks || blocks.length === 0 ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<BlockEditorProvider value={ renderedBlocks } settings={ settings }>\n\t\t\t<AutoHeightBlockPreview\n\t\t\t\tviewportWidth={ viewportWidth }\n\t\t\t\t__experimentalPadding={ __experimentalPadding }\n\t\t\t/>\n\t\t</BlockEditorProvider>\n\t);\n}\n\nexport default BlockPreview;\n","/**\n * WordPress dependencies\n */\nimport {\n\tisReusableBlock,\n\tcreateBlock,\n\tgetBlockFromExample,\n\tgetBlockType,\n} from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockCard from '../block-card';\nimport BlockPreview from '../block-preview';\n\nfunction InserterPreviewPanel( { item } ) {\n\tconst hoveredItemBlockType = getBlockType( item.name );\n\treturn (\n\t\t<div className=\"block-editor-inserter__menu-help-panel\">\n\t\t\t{ ! isReusableBlock( item ) && <BlockCard blockType={ item } /> }\n\t\t\t<div className=\"block-editor-inserter__preview\">\n\t\t\t\t{ isReusableBlock( item ) || hoveredItemBlockType.example ? (\n\t\t\t\t\t<div className=\"block-editor-inserter__preview-content\">\n\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\tviewportWidth={ 500 }\n\t\t\t\t\t\t\tblocks={\n\t\t\t\t\t\t\t\thoveredItemBlockType.example\n\t\t\t\t\t\t\t\t\t? getBlockFromExample( item.name, {\n\t\t\t\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\t\t\t\t...hoveredItemBlockType.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t.attributes,\n\t\t\t\t\t\t\t\t\t\t\t\t...item.initialAttributes,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tinnerBlocks:\n\t\t\t\t\t\t\t\t\t\t\t\thoveredItemBlockType.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t.innerBlocks,\n\t\t\t\t\t\t\t\t\t  } )\n\t\t\t\t\t\t\t\t\t: createBlock(\n\t\t\t\t\t\t\t\t\t\t\titem.name,\n\t\t\t\t\t\t\t\t\t\t\titem.initialAttributes\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"block-editor-inserter__preview-content-missing\">\n\t\t\t\t\t\t{ __( 'No Preview Available.' ) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default InserterPreviewPanel;\n","/**\n * External dependencies\n */\nimport { parse, stringify } from 'qs';\n\n/**\n * Appends arguments as querystring to the provided URL. If the URL already\n * includes query arguments, the arguments are merged with (and take precedent\n * over) the existing set.\n *\n * @param {string} [url='']  URL to which arguments should be appended. If omitted,\n *                           only the resulting querystring is returned.\n * @param {Object} args      Query arguments to apply to URL.\n *\n * @example\n * ```js\n * const newURL = addQueryArgs( 'https://google.com', { q: 'test' } ); // https://google.com/?q=test\n * ```\n *\n * @return {string} URL with arguments applied.\n */\nexport function addQueryArgs( url = '', args ) {\n\t// If no arguments are to be appended, return original URL.\n\tif ( ! args || ! Object.keys( args ).length ) {\n\t\treturn url;\n\t}\n\n\tlet baseUrl = url;\n\n\t// Determine whether URL already had query arguments.\n\tconst queryStringIndex = url.indexOf( '?' );\n\tif ( queryStringIndex !== -1 ) {\n\t\t// Merge into existing query arguments.\n\t\targs = Object.assign(\n\t\t\tparse( url.substr( queryStringIndex + 1 ) ),\n\t\t\targs\n\t\t);\n\n\t\t// Change working base URL to omit previous query arguments.\n\t\tbaseUrl = baseUrl.substr( 0, queryStringIndex );\n\t}\n\n\treturn baseUrl + '?' + stringify( args );\n}\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst controlsRepeat = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M5 7v3l-2 1.5V5h11V3l4 3.01L14 9V7H5zm10 6v-3l2-1.5V15H6v2l-4-3.01L6 11v2h9z\" />\n\t</SVG>\n);\n\nexport default controlsRepeat;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\n\nfunction InserterListItem( {\n\ticon,\n\tonClick,\n\tisDisabled,\n\ttitle,\n\tclassName,\n\t...props\n} ) {\n\tconst itemIconStyle = icon\n\t\t? {\n\t\t\t\tbackgroundColor: icon.background,\n\t\t\t\tcolor: icon.foreground,\n\t\t  }\n\t\t: {};\n\n\treturn (\n\t\t<li className=\"block-editor-block-types-list__list-item\">\n\t\t\t<Button\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'block-editor-block-types-list__item',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tonClick();\n\t\t\t\t} }\n\t\t\t\tdisabled={ isDisabled }\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t<span\n\t\t\t\t\tclassName=\"block-editor-block-types-list__item-icon\"\n\t\t\t\t\tstyle={ itemIconStyle }\n\t\t\t\t>\n\t\t\t\t\t<BlockIcon icon={ icon } showColors />\n\t\t\t\t</span>\n\t\t\t\t<span className=\"block-editor-block-types-list__item-title\">\n\t\t\t\t\t{ title }\n\t\t\t\t</span>\n\t\t\t</Button>\n\t\t</li>\n\t);\n}\n\nexport default InserterListItem;\n","/**\n * WordPress dependencies\n */\nimport { getBlockMenuDefaultClassName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport InserterListItem from '../inserter-list-item';\n\nfunction BlockTypesList( {\n\titems = [],\n\tonSelect,\n\tonHover = () => {},\n\tchildren,\n} ) {\n\tconst normalizedItems = items.reduce( ( result, item ) => {\n\t\tconst { variations = [] } = item;\n\t\tconst hasDefaultVariation = variations.some(\n\t\t\t( { isDefault } ) => isDefault\n\t\t);\n\n\t\t// If there is no default inserter variation provided,\n\t\t// then default block type is displayed.\n\t\tif ( ! hasDefaultVariation ) {\n\t\t\tresult.push( item );\n\t\t}\n\n\t\tif ( variations.length ) {\n\t\t\tresult = result.concat(\n\t\t\t\tvariations.map( ( variation ) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tid: `${ item.id }-${ variation.name }`,\n\t\t\t\t\t\ticon: variation.icon || item.icon,\n\t\t\t\t\t\ttitle: variation.title || item.title,\n\t\t\t\t\t\tdescription: variation.description || item.description,\n\t\t\t\t\t\t// If `example` is explicitly undefined for the variation, the preview will not be shown.\n\t\t\t\t\t\texample: variation.hasOwnProperty( 'example' )\n\t\t\t\t\t\t\t? variation.example\n\t\t\t\t\t\t\t: item.example,\n\t\t\t\t\t\tinitialAttributes: {\n\t\t\t\t\t\t\t...item.initialAttributes,\n\t\t\t\t\t\t\t...variation.attributes,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinnerBlocks: variation.innerBlocks,\n\t\t\t\t\t};\n\t\t\t\t} )\n\t\t\t);\n\t\t}\n\n\t\treturn result;\n\t}, [] );\n\n\treturn (\n\t\t/*\n\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t */\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<ul role=\"list\" className=\"block-editor-block-types-list\">\n\t\t\t{ normalizedItems.map( ( item ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<InserterListItem\n\t\t\t\t\t\tkey={ item.id }\n\t\t\t\t\t\tclassName={ getBlockMenuDefaultClassName( item.id ) }\n\t\t\t\t\t\ticon={ item.icon }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tonSelect( item );\n\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonFocus={ () => onHover( item ) }\n\t\t\t\t\t\tonMouseEnter={ () => onHover( item ) }\n\t\t\t\t\t\tonMouseLeave={ () => onHover( null ) }\n\t\t\t\t\t\tonBlur={ () => onHover( null ) }\n\t\t\t\t\t\tisDisabled={ item.isDisabled }\n\t\t\t\t\t\ttitle={ item.title }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ children }\n\t\t</ul>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n\nexport default BlockTypesList;\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { ifCondition, compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockTypesList from '../block-types-list';\nimport BlockIcon from '../block-icon';\n\nfunction ChildBlocks( { rootBlockIcon, rootBlockTitle, items, ...props } ) {\n\treturn (\n\t\t<div className=\"block-editor-inserter__child-blocks\">\n\t\t\t{ ( rootBlockIcon || rootBlockTitle ) && (\n\t\t\t\t<div className=\"block-editor-inserter__parent-block-header\">\n\t\t\t\t\t<BlockIcon icon={ rootBlockIcon } showColors />\n\t\t\t\t\t{ rootBlockTitle && <h2>{ rootBlockTitle }</h2> }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<BlockTypesList items={ items } { ...props } />\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\tifCondition( ( { items } ) => items && items.length > 0 ),\n\twithSelect( ( select, { rootClientId } ) => {\n\t\tconst { getBlockType } = select( 'core/blocks' );\n\t\tconst { getBlockName } = select( 'core/block-editor' );\n\t\tconst rootBlockName = getBlockName( rootClientId );\n\t\tconst rootBlockType = getBlockType( rootBlockName );\n\t\treturn {\n\t\t\trootBlockTitle: rootBlockType && rootBlockType.title,\n\t\t\trootBlockIcon: rootBlockType && rootBlockType.icon,\n\t\t};\n\t} )\n)( ChildBlocks );\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: __experimentalInserterMenuExtension, Slot } = createSlotFill(\n\t'__experimentalInserterMenuExtension'\n);\n\n__experimentalInserterMenuExtension.Slot = Slot;\n\nexport default __experimentalInserterMenuExtension;\n","/**\n * External dependencies\n */\nimport {\n\tdeburr,\n\tdifferenceWith,\n\tfind,\n\tget,\n\tintersectionWith,\n\tisEmpty,\n\twords,\n} from 'lodash';\n\n/**\n * Converts the search term into a list of normalized terms.\n *\n * @param {string} term The search term to normalize.\n *\n * @return {string[]} The normalized list of search terms.\n */\nexport const normalizeSearchTerm = ( term = '' ) => {\n\t// Disregard diacritics.\n\t//  Input: \"média\"\n\tterm = deburr( term );\n\n\t// Accommodate leading slash, matching autocomplete expectations.\n\t//  Input: \"/media\"\n\tterm = term.replace( /^\\//, '' );\n\n\t// Lowercase.\n\t//  Input: \"MEDIA\"\n\tterm = term.toLowerCase();\n\n\t// Extract words.\n\treturn words( term );\n};\n\nconst removeMatchingTerms = ( unmatchedTerms, unprocessedTerms ) => {\n\treturn differenceWith(\n\t\tunmatchedTerms,\n\t\tnormalizeSearchTerm( unprocessedTerms ),\n\t\t( unmatchedTerm, unprocessedTerm ) =>\n\t\t\tunprocessedTerm.includes( unmatchedTerm )\n\t);\n};\n\n/**\n * Filters an item list given a search term.\n *\n * @param {Array} items       Item list\n * @param {Array} categories  Available categories.\n * @param {Array} collections Available collections.\n * @param {string} searchTerm Search term.\n *\n * @return {Array}             Filtered item list.\n */\nexport const searchItems = ( items, categories, collections, searchTerm ) => {\n\tconst normalizedSearchTerms = normalizeSearchTerm( searchTerm );\n\n\tif ( normalizedSearchTerms.length === 0 ) {\n\t\treturn items;\n\t}\n\n\treturn items\n\t\t.filter(\n\t\t\t( { name, title, category, keywords = [], variations = [] } ) => {\n\t\t\t\tlet unmatchedTerms = removeMatchingTerms(\n\t\t\t\t\tnormalizedSearchTerms,\n\t\t\t\t\ttitle\n\t\t\t\t);\n\n\t\t\t\tif ( unmatchedTerms.length === 0 ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tunmatchedTerms = removeMatchingTerms(\n\t\t\t\t\tunmatchedTerms,\n\t\t\t\t\tkeywords.join( ' ' )\n\t\t\t\t);\n\n\t\t\t\tif ( unmatchedTerms.length === 0 ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tunmatchedTerms = removeMatchingTerms(\n\t\t\t\t\tunmatchedTerms,\n\t\t\t\t\tget( find( categories, { slug: category } ), [ 'title' ] )\n\t\t\t\t);\n\n\t\t\t\tconst itemCollection = collections[ name.split( '/' )[ 0 ] ];\n\t\t\t\tif ( itemCollection ) {\n\t\t\t\t\tunmatchedTerms = removeMatchingTerms(\n\t\t\t\t\t\tunmatchedTerms,\n\t\t\t\t\t\titemCollection.title\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif ( unmatchedTerms.length === 0 ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tunmatchedTerms = removeMatchingTerms(\n\t\t\t\t\tunmatchedTerms,\n\t\t\t\t\tvariations\n\t\t\t\t\t\t.map( ( variation ) => variation.title )\n\t\t\t\t\t\t.join( ' ' )\n\t\t\t\t);\n\n\t\t\t\treturn unmatchedTerms.length === 0;\n\t\t\t}\n\t\t)\n\t\t.map( ( item ) => {\n\t\t\tif ( isEmpty( item.variations ) ) {\n\t\t\t\treturn item;\n\t\t\t}\n\n\t\t\tconst matchedVariations = item.variations.filter( ( variation ) => {\n\t\t\t\treturn (\n\t\t\t\t\tintersectionWith(\n\t\t\t\t\t\tnormalizedSearchTerms,\n\t\t\t\t\t\tnormalizeSearchTerm( variation.title ),\n\t\t\t\t\t\t( termToMatch, labelTerm ) =>\n\t\t\t\t\t\t\tlabelTerm.includes( termToMatch )\n\t\t\t\t\t).length > 0\n\t\t\t\t);\n\t\t\t} );\n\t\t\t// When no partterns matched, fallback to all variations.\n\t\t\tif ( isEmpty( matchedVariations ) ) {\n\t\t\t\treturn item;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...item,\n\t\t\t\tvariations: matchedVariations,\n\t\t\t};\n\t\t} );\n};\n","/**\n * External dependencies\n */\nimport {\n\tmap,\n\tpick,\n\tincludes,\n\tfilter,\n\tfindIndex,\n\tflow,\n\tsortBy,\n\tgroupBy,\n\tisEmpty,\n\twithout,\n} from 'lodash';\nimport scrollIntoView from 'dom-scroll-into-view';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, _n, sprintf } from '@wordpress/i18n';\nimport { PanelBody, withSpokenMessages } from '@wordpress/components';\nimport { addQueryArgs } from '@wordpress/url';\nimport { controlsRepeat } from '@wordpress/icons';\nimport { speak } from '@wordpress/a11y';\nimport { createBlock, isUnmodifiedDefaultBlock } from '@wordpress/blocks';\nimport { useMemo, useEffect, useState, useRef } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { compose, withSafeTimeout } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockTypesList from '../block-types-list';\nimport ChildBlocks from './child-blocks';\nimport __experimentalInserterMenuExtension from '../inserter-menu-extension';\nimport { searchItems } from './search-items';\n\n// Copied over from the Columns block. It seems like it should become part of public API.\nconst createBlocksFromInnerBlocksTemplate = ( innerBlocksTemplate ) => {\n\treturn map(\n\t\tinnerBlocksTemplate,\n\t\t( [ name, attributes, innerBlocks = [] ] ) =>\n\t\t\tcreateBlock(\n\t\t\t\tname,\n\t\t\t\tattributes,\n\t\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocks )\n\t\t\t)\n\t);\n};\n\nconst getBlockNamespace = ( item ) => item.name.split( '/' )[ 0 ];\n\nconst MAX_SUGGESTED_ITEMS = 9;\n\nfunction InserterBlockList( {\n\tclientId,\n\tisAppender,\n\trootClientId,\n\tonSelect,\n\tonHover,\n\t__experimentalSelectBlockOnInsert: selectBlockOnInsert,\n\tfilterValue,\n\tdebouncedSpeak,\n\tsetTimeout: safeSetTimeout,\n} ) {\n\tconst {\n\t\tcategories,\n\t\tcollections,\n\t\titems,\n\t\trootChildBlocks,\n\t\tgetSelectedBlock,\n\t\tdestinationRootClientId,\n\t\tgetBlockIndex,\n\t\tgetBlockSelectionEnd,\n\t\tgetBlockOrder,\n\t\tfetchReusableBlocks,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetInserterItems,\n\t\t\t\tgetBlockName,\n\t\t\t\tgetBlockRootClientId,\n\t\t\t\tgetBlockSelectionEnd: _getBlockSelectionEnd,\n\t\t\t\tgetSettings,\n\t\t\t} = select( 'core/block-editor' );\n\t\t\tconst {\n\t\t\t\tgetCategories,\n\t\t\t\tgetCollections,\n\t\t\t\tgetChildBlockNames,\n\t\t\t} = select( 'core/blocks' );\n\n\t\t\tlet destRootClientId = rootClientId;\n\t\t\tif ( ! destRootClientId && ! clientId && ! isAppender ) {\n\t\t\t\tconst end = _getBlockSelectionEnd();\n\t\t\t\tif ( end ) {\n\t\t\t\t\tdestRootClientId = getBlockRootClientId( end ) || undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst destinationRootBlockName = getBlockName( destRootClientId );\n\n\t\t\tconst { __experimentalFetchReusableBlocks } = getSettings();\n\n\t\t\treturn {\n\t\t\t\tcategories: getCategories(),\n\t\t\t\tcollections: getCollections(),\n\t\t\t\trootChildBlocks: getChildBlockNames( destinationRootBlockName ),\n\t\t\t\titems: getInserterItems( destRootClientId ),\n\t\t\t\tdestinationRootClientId: destRootClientId,\n\t\t\t\tfetchReusableBlocks: __experimentalFetchReusableBlocks,\n\t\t\t\t...pick( select( 'core/block-editor' ), [\n\t\t\t\t\t'getSelectedBlock',\n\t\t\t\t\t'getBlockIndex',\n\t\t\t\t\t'getBlockSelectionEnd',\n\t\t\t\t\t'getBlockOrder',\n\t\t\t\t] ),\n\t\t\t};\n\t\t},\n\t\t[ clientId, isAppender, rootClientId ]\n\t);\n\tconst {\n\t\treplaceBlocks,\n\t\tinsertBlock,\n\t\tshowInsertionPoint,\n\t\thideInsertionPoint,\n\t} = useDispatch( 'core/block-editor' );\n\n\t// Fetch resuable blocks on mount\n\tuseEffect( () => {\n\t\tif ( fetchReusableBlocks ) {\n\t\t\tfetchReusableBlocks();\n\t\t}\n\t}, [] );\n\n\t// To avoid duplication, getInsertionIndex is extracted and used in two event handlers\n\t// This breaks the withDispatch not containing any logic rule.\n\t// Since it's a function only called when the event handlers are called,\n\t// it's fine to extract it.\n\t// eslint-disable-next-line no-restricted-syntax\n\tfunction getInsertionIndex() {\n\t\t// If the clientId is defined, we insert at the position of the block.\n\t\tif ( clientId ) {\n\t\t\treturn getBlockIndex( clientId, destinationRootClientId );\n\t\t}\n\n\t\t// If there a selected block, we insert after the selected block.\n\t\tconst end = getBlockSelectionEnd();\n\t\tif ( ! isAppender && end ) {\n\t\t\treturn getBlockIndex( end, destinationRootClientId ) + 1;\n\t\t}\n\n\t\t// Otherwise, we insert at the end of the current rootClientId\n\t\treturn getBlockOrder( destinationRootClientId ).length;\n\t}\n\n\tconst onHoverItem = ( item ) => {\n\t\tonHover( item );\n\t\tif ( item ) {\n\t\t\tconst index = getInsertionIndex();\n\t\t\tshowInsertionPoint( destinationRootClientId, index );\n\t\t} else {\n\t\t\thideInsertionPoint();\n\t\t}\n\t};\n\n\tconst onSelectItem = ( item ) => {\n\t\tconst { name, title, initialAttributes, innerBlocks } = item;\n\t\tconst selectedBlock = getSelectedBlock();\n\t\tconst insertedBlock = createBlock(\n\t\t\tname,\n\t\t\tinitialAttributes,\n\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocks )\n\t\t);\n\t\tif (\n\t\t\t! isAppender &&\n\t\t\tselectedBlock &&\n\t\t\tisUnmodifiedDefaultBlock( selectedBlock )\n\t\t) {\n\t\t\treplaceBlocks( selectedBlock.clientId, insertedBlock );\n\t\t} else {\n\t\t\tinsertBlock(\n\t\t\t\tinsertedBlock,\n\t\t\t\tgetInsertionIndex(),\n\t\t\t\tdestinationRootClientId,\n\t\t\t\tselectBlockOnInsert\n\t\t\t);\n\n\t\t\tif ( ! selectBlockOnInsert ) {\n\t\t\t\t// translators: %s: the name of the block that has been added\n\t\t\t\tconst message = sprintf( __( '%s block added' ), title );\n\t\t\t\tspeak( message );\n\t\t\t}\n\t\t}\n\n\t\tonSelect();\n\t\treturn insertedBlock;\n\t};\n\n\tconst filteredItems = useMemo( () => {\n\t\treturn searchItems( items, categories, collections, filterValue );\n\t}, [ filterValue, items, categories, collections ] );\n\n\tconst childItems = useMemo( () => {\n\t\treturn filter( filteredItems, ( { name } ) =>\n\t\t\tincludes( rootChildBlocks, name )\n\t\t);\n\t}, [ filteredItems, rootChildBlocks ] );\n\n\tconst suggestedItems = useMemo( () => {\n\t\treturn filter( items, ( item ) => item.utility > 0 ).slice(\n\t\t\t0,\n\t\t\tMAX_SUGGESTED_ITEMS\n\t\t);\n\t}, [ items ] );\n\n\tconst reusableItems = useMemo( () => {\n\t\treturn filter( filteredItems, { category: 'reusable' } );\n\t}, [ filteredItems ] );\n\n\tconst itemsPerCategory = useMemo( () => {\n\t\tconst getCategoryIndex = ( item ) => {\n\t\t\treturn findIndex(\n\t\t\t\tcategories,\n\t\t\t\t( category ) => category.slug === item.category\n\t\t\t);\n\t\t};\n\n\t\treturn flow(\n\t\t\t( itemList ) =>\n\t\t\t\tfilter( itemList, ( item ) => item.category !== 'reusable' ),\n\t\t\t( itemList ) => sortBy( itemList, getCategoryIndex ),\n\t\t\t( itemList ) => groupBy( itemList, 'category' )\n\t\t)( filteredItems );\n\t}, [ filteredItems, categories ] );\n\n\tconst itemsPerCollection = useMemo( () => {\n\t\t// Create a new Object to avoid mutating collection\n\t\tconst result = { ...collections };\n\t\tObject.keys( collections ).forEach( ( namespace ) => {\n\t\t\tresult[ namespace ] = filteredItems.filter(\n\t\t\t\t( item ) => getBlockNamespace( item ) === namespace\n\t\t\t);\n\t\t\tif ( result[ namespace ].length === 0 ) {\n\t\t\t\tdelete result[ namespace ];\n\t\t\t}\n\t\t} );\n\n\t\treturn result;\n\t}, [ filteredItems, collections ] );\n\n\tconst inserterResults = useRef();\n\tconst panels = useRef( [] );\n\tconst bindPanel = ( name ) => ( ref ) => {\n\t\tpanels.current[ name ] = ref;\n\t};\n\tconst [ openPanels, setOpenPanels ] = useState( [ 'suggested' ] );\n\n\tconst onTogglePanel = ( panel ) => {\n\t\treturn () => {\n\t\t\tconst isOpened = openPanels.indexOf( panel ) !== -1;\n\t\t\tif ( isOpened ) {\n\t\t\t\tsetOpenPanels( without( openPanels, panel ) );\n\t\t\t} else {\n\t\t\t\tsetOpenPanels( [ ...openPanels, panel ] );\n\n\t\t\t\tsafeSetTimeout( () => {\n\t\t\t\t\t// We need a generic way to access the panel's container\n\t\t\t\t\tscrollIntoView(\n\t\t\t\t\t\tpanels.current[ panel ],\n\t\t\t\t\t\tinserterResults.current,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\talignWithTop: true,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\t};\n\n\t// Update the open panels on search\n\tuseEffect( () => {\n\t\tif ( ! filterValue ) {\n\t\t\tsetOpenPanels( [ 'suggested' ] );\n\t\t\treturn;\n\t\t}\n\t\tlet newOpenPanels = [];\n\t\tif ( reusableItems.length > 0 ) {\n\t\t\tnewOpenPanels.push( 'reusable' );\n\t\t}\n\t\tif ( filteredItems.length > 0 ) {\n\t\t\tnewOpenPanels = newOpenPanels.concat(\n\t\t\t\tObject.keys( itemsPerCategory ),\n\t\t\t\tObject.keys( itemsPerCollection )\n\t\t\t);\n\t\t}\n\n\t\tsetOpenPanels( newOpenPanels );\n\t}, [\n\t\tfilterValue,\n\t\tfilteredItems,\n\t\treusableItems,\n\t\titemsPerCategory,\n\t\titemsPerCollection,\n\t] );\n\n\t// Announce search results on change\n\tuseEffect( () => {\n\t\tconst resultCount = Object.keys( itemsPerCategory ).reduce(\n\t\t\t( accumulator, currentCategorySlug ) => {\n\t\t\t\treturn (\n\t\t\t\t\taccumulator + itemsPerCategory[ currentCategorySlug ].length\n\t\t\t\t);\n\t\t\t},\n\t\t\t0\n\t\t);\n\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t/* translators: %d: number of results. */\n\t\t\t_n( '%d result found.', '%d results found.', resultCount ),\n\t\t\tresultCount\n\t\t);\n\t\tdebouncedSpeak( resultsFoundMessage );\n\t}, [ itemsPerCategory, debouncedSpeak ] );\n\n\tconst isPanelOpen = ( panel ) => openPanels.indexOf( panel ) !== -1;\n\n\tconst hasItems = ! isEmpty( filteredItems );\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"block-editor-inserter__results\"\n\t\t\tref={ inserterResults }\n\t\t\ttabIndex=\"0\"\n\t\t\trole=\"region\"\n\t\t\taria-label={ __( 'Available block types' ) }\n\t\t>\n\t\t\t<ChildBlocks\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\titems={ childItems }\n\t\t\t\tonSelect={ onSelectItem }\n\t\t\t\tonHover={ onHoverItem }\n\t\t\t/>\n\n\t\t\t{ !! suggestedItems.length && ! filterValue && (\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ _x( 'Most used', 'blocks' ) }\n\t\t\t\t\topened={ isPanelOpen( 'suggested' ) }\n\t\t\t\t\tonToggle={ onTogglePanel( 'suggested' ) }\n\t\t\t\t\tref={ bindPanel( 'suggested' ) }\n\t\t\t\t>\n\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\titems={ suggestedItems }\n\t\t\t\t\t\tonSelect={ onSelectItem }\n\t\t\t\t\t\tonHover={ onHoverItem }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t) }\n\n\t\t\t{ map( categories, ( category ) => {\n\t\t\t\tconst categoryItems = itemsPerCategory[ category.slug ];\n\t\t\t\tif ( ! categoryItems || ! categoryItems.length ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tkey={ category.slug }\n\t\t\t\t\t\ttitle={ category.title }\n\t\t\t\t\t\ticon={ category.icon }\n\t\t\t\t\t\topened={ isPanelOpen( category.slug ) }\n\t\t\t\t\t\tonToggle={ onTogglePanel( category.slug ) }\n\t\t\t\t\t\tref={ bindPanel( category.slug ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\t\titems={ categoryItems }\n\t\t\t\t\t\t\tonSelect={ onSelectItem }\n\t\t\t\t\t\t\tonHover={ onHoverItem }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t);\n\t\t\t} ) }\n\n\t\t\t{ map( collections, ( collection, namespace ) => {\n\t\t\t\tconst collectionItems = itemsPerCollection[ namespace ];\n\t\t\t\tif ( ! collectionItems || ! collectionItems.length ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tkey={ namespace }\n\t\t\t\t\t\ttitle={ collection.title }\n\t\t\t\t\t\ticon={ collection.icon }\n\t\t\t\t\t\topened={ isPanelOpen( namespace ) }\n\t\t\t\t\t\tonToggle={ onTogglePanel( namespace ) }\n\t\t\t\t\t\tref={ bindPanel( namespace ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\t\titems={ collectionItems }\n\t\t\t\t\t\t\tonSelect={ onSelectItem }\n\t\t\t\t\t\t\tonHover={ onHoverItem }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t);\n\t\t\t} ) }\n\n\t\t\t{ !! reusableItems.length && (\n\t\t\t\t<PanelBody\n\t\t\t\t\tclassName=\"block-editor-inserter__reusable-blocks-panel\"\n\t\t\t\t\ttitle={ __( 'Reusable' ) }\n\t\t\t\t\topened={ isPanelOpen( 'reusable' ) }\n\t\t\t\t\tonToggle={ onTogglePanel( 'reusable' ) }\n\t\t\t\t\ticon={ controlsRepeat }\n\t\t\t\t\tref={ bindPanel( 'reusable' ) }\n\t\t\t\t>\n\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\titems={ reusableItems }\n\t\t\t\t\t\tonSelect={ onSelectItem }\n\t\t\t\t\t\tonHover={ onHoverItem }\n\t\t\t\t\t/>\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName=\"block-editor-inserter__manage-reusable-blocks\"\n\t\t\t\t\t\thref={ addQueryArgs( 'edit.php', {\n\t\t\t\t\t\t\tpost_type: 'wp_block',\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Manage all reusable blocks' ) }\n\t\t\t\t\t</a>\n\t\t\t\t</PanelBody>\n\t\t\t) }\n\n\t\t\t<__experimentalInserterMenuExtension.Slot\n\t\t\t\tfillProps={ {\n\t\t\t\t\tonSelect: onSelectItem,\n\t\t\t\t\tonHover: onHoverItem,\n\t\t\t\t\tfilterValue,\n\t\t\t\t\thasItems,\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ ( fills ) => {\n\t\t\t\t\tif ( fills.length ) {\n\t\t\t\t\t\treturn fills;\n\t\t\t\t\t}\n\t\t\t\t\tif ( ! hasItems ) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<p className=\"block-editor-inserter__no-results\">\n\t\t\t\t\t\t\t\t{ __( 'No blocks found.' ) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t} }\n\t\t\t</__experimentalInserterMenuExtension.Slot>\n\t\t</div>\n\t);\n}\n\nexport default compose(\n\twithSpokenMessages,\n\twithSafeTimeout\n)( InserterBlockList );\n","/**\n * External dependencies\n */\nimport { includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { LEFT, RIGHT, UP, DOWN, BACKSPACE, ENTER } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport Tips from './tips';\nimport InserterSearchForm from './search-form';\nimport InserterPreviewPanel from './preview-panel';\nimport InserterBlockList from './block-list';\n\nconst stopKeyPropagation = ( event ) => event.stopPropagation();\n\nfunction InserterMenu( {\n\trootClientId,\n\tclientId,\n\tisAppender,\n\t__experimentalSelectBlockOnInsert,\n\tonSelect,\n\tshowInserterHelpPanel,\n} ) {\n\tconst [ filterValue, setFilterValue ] = useState( '' );\n\tconst [ hoveredItem, setHoveredItem ] = useState( null );\n\tconst onKeyDown = ( event ) => {\n\t\tif (\n\t\t\tincludes(\n\t\t\t\t[ LEFT, DOWN, RIGHT, UP, BACKSPACE, ENTER ],\n\t\t\t\tevent.keyCode\n\t\t\t)\n\t\t) {\n\t\t\t// Stop the key event from propagating up to ObserveTyping.startTypingInTextField.\n\t\t\tevent.stopPropagation();\n\t\t}\n\t};\n\n\t// Disable reason (no-autofocus): The inserter menu is a modal display, not one which\n\t// is always visible, and one which already incurs this behavior of autoFocus via\n\t// Popover's focusOnMount.\n\t// Disable reason (no-static-element-interactions): Navigational key-presses within\n\t// the menu are prevented from triggering WritingFlow and ObserveTyping interactions.\n\t/* eslint-disable jsx-a11y/no-autofocus, jsx-a11y/no-static-element-interactions */\n\treturn (\n\t\t<div\n\t\t\tclassName=\"block-editor-inserter__menu\"\n\t\t\tonKeyPress={ stopKeyPropagation }\n\t\t\tonKeyDown={ onKeyDown }\n\t\t>\n\t\t\t<div className=\"block-editor-inserter__main-area\">\n\t\t\t\t<InserterSearchForm onChange={ setFilterValue } />\n\t\t\t\t<InserterBlockList\n\t\t\t\t\trootClientId={ rootClientId }\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tisAppender={ isAppender }\n\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\tonHover={ setHoveredItem }\n\t\t\t\t\t__experimentalSelectBlockOnInsert={\n\t\t\t\t\t\t__experimentalSelectBlockOnInsert\n\t\t\t\t\t}\n\t\t\t\t\tfilterValue={ filterValue }\n\t\t\t\t/>\n\t\t\t\t{ showInserterHelpPanel && (\n\t\t\t\t\t<div className=\"block-editor-inserter__tips\">\n\t\t\t\t\t\t<Tips />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ showInserterHelpPanel && hoveredItem && (\n\t\t\t\t<InserterPreviewPanel item={ hoveredItem } />\n\t\t\t) }\n\t\t</div>\n\t);\n\t/* eslint-enable jsx-a11y/no-autofocus, jsx-a11y/no-static-element-interactions */\n}\n\nexport default InserterMenu;\n","/**\n * External dependencies\n */\nimport { size } from 'lodash';\n/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { Dropdown, Button } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose, ifCondition } from '@wordpress/compose';\nimport { createBlock } from '@wordpress/blocks';\nimport { plus } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport InserterMenu from './menu';\n\nconst defaultRenderToggle = ( {\n\tonToggle,\n\tdisabled,\n\tisOpen,\n\tblockTitle,\n\thasSingleBlockType,\n\ttoggleProps,\n} ) => {\n\tlet label;\n\tif ( hasSingleBlockType ) {\n\t\tlabel = sprintf(\n\t\t\t// translators: %s: the name of the block when there is only one\n\t\t\t_x( 'Add %s', 'directly add the only allowed block' ),\n\t\t\tblockTitle\n\t\t);\n\t} else {\n\t\tlabel = _x( 'Add block', 'Generic label for block inserter button' );\n\t}\n\treturn (\n\t\t<Button\n\t\t\ticon={ plus }\n\t\t\tlabel={ label }\n\t\t\ttooltipPosition=\"bottom\"\n\t\t\tonClick={ onToggle }\n\t\t\tclassName=\"block-editor-inserter__toggle\"\n\t\t\taria-haspopup={ ! hasSingleBlockType ? 'true' : false }\n\t\t\taria-expanded={ ! hasSingleBlockType ? isOpen : false }\n\t\t\tdisabled={ disabled }\n\t\t\t{ ...toggleProps }\n\t\t/>\n\t);\n};\n\nclass Inserter extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onToggle = this.onToggle.bind( this );\n\t\tthis.renderToggle = this.renderToggle.bind( this );\n\t\tthis.renderContent = this.renderContent.bind( this );\n\t}\n\n\tonToggle( isOpen ) {\n\t\tconst { onToggle } = this.props;\n\n\t\t// Surface toggle callback to parent component\n\t\tif ( onToggle ) {\n\t\t\tonToggle( isOpen );\n\t\t}\n\t}\n\n\t/**\n\t * Render callback to display Dropdown toggle element.\n\t *\n\t * @param {Object}   options\n\t * @param {Function} options.onToggle Callback to invoke when toggle is\n\t *                                    pressed.\n\t * @param {boolean}  options.isOpen   Whether dropdown is currently open.\n\t *\n\t * @return {WPElement} Dropdown toggle element.\n\t */\n\trenderToggle( { onToggle, isOpen } ) {\n\t\tconst {\n\t\t\tdisabled,\n\t\t\tblockTitle,\n\t\t\thasSingleBlockType,\n\t\t\ttoggleProps,\n\t\t\trenderToggle = defaultRenderToggle,\n\t\t} = this.props;\n\n\t\treturn renderToggle( {\n\t\t\tonToggle,\n\t\t\tisOpen,\n\t\t\tdisabled,\n\t\t\tblockTitle,\n\t\t\thasSingleBlockType,\n\t\t\ttoggleProps,\n\t\t} );\n\t}\n\n\t/**\n\t * Render callback to display Dropdown content element.\n\t *\n\t * @param {Object}   options\n\t * @param {Function} options.onClose Callback to invoke when dropdown is\n\t *                                   closed.\n\t *\n\t * @return {WPElement} Dropdown content element.\n\t */\n\trenderContent( { onClose } ) {\n\t\tconst {\n\t\t\trootClientId,\n\t\t\tclientId,\n\t\t\tisAppender,\n\t\t\tshowInserterHelpPanel,\n\t\t\t__experimentalSelectBlockOnInsert: selectBlockOnInsert,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<InserterMenu\n\t\t\t\tonSelect={ onClose }\n\t\t\t\trootClientId={ rootClientId }\n\t\t\t\tclientId={ clientId }\n\t\t\t\tisAppender={ isAppender }\n\t\t\t\tshowInserterHelpPanel={ showInserterHelpPanel }\n\t\t\t\t__experimentalSelectBlockOnInsert={ selectBlockOnInsert }\n\t\t\t/>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tposition,\n\t\t\thasSingleBlockType,\n\t\t\tinsertOnlyAllowedBlock,\n\t\t} = this.props;\n\n\t\tif ( hasSingleBlockType ) {\n\t\t\treturn this.renderToggle( { onToggle: insertOnlyAllowedBlock } );\n\t\t}\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\tclassName=\"block-editor-inserter\"\n\t\t\t\tcontentClassName=\"block-editor-inserter__popover\"\n\t\t\t\tposition={ position }\n\t\t\t\tonToggle={ this.onToggle }\n\t\t\t\texpandOnMobile\n\t\t\t\theaderTitle={ __( 'Add a block' ) }\n\t\t\t\trenderToggle={ this.renderToggle }\n\t\t\t\trenderContent={ this.renderContent }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId, rootClientId } ) => {\n\t\tconst {\n\t\t\tgetBlockRootClientId,\n\t\t\thasInserterItems,\n\t\t\t__experimentalGetAllowedBlocks,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { getBlockVariations } = select( 'core/blocks' );\n\n\t\trootClientId =\n\t\t\trootClientId || getBlockRootClientId( clientId ) || undefined;\n\n\t\tconst allowedBlocks = __experimentalGetAllowedBlocks( rootClientId );\n\n\t\tconst hasSingleBlockType =\n\t\t\tsize( allowedBlocks ) === 1 &&\n\t\t\tsize(\n\t\t\t\tgetBlockVariations( allowedBlocks[ 0 ].name, 'inserter' )\n\t\t\t) === 0;\n\n\t\tlet allowedBlockType = false;\n\t\tif ( hasSingleBlockType ) {\n\t\t\tallowedBlockType = allowedBlocks[ 0 ];\n\t\t}\n\n\t\treturn {\n\t\t\thasItems: hasInserterItems( rootClientId ),\n\t\t\thasSingleBlockType,\n\t\t\tblockTitle: allowedBlockType ? allowedBlockType.title : '',\n\t\t\tallowedBlockType,\n\t\t\trootClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps, { select } ) => {\n\t\treturn {\n\t\t\tinsertOnlyAllowedBlock() {\n\t\t\t\tconst { rootClientId, clientId, isAppender } = ownProps;\n\t\t\t\tconst {\n\t\t\t\t\thasSingleBlockType,\n\t\t\t\t\tallowedBlockType,\n\t\t\t\t\t__experimentalSelectBlockOnInsert: selectBlockOnInsert,\n\t\t\t\t} = ownProps;\n\n\t\t\t\tif ( ! hasSingleBlockType ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfunction getInsertionIndex() {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tgetBlockIndex,\n\t\t\t\t\t\tgetBlockSelectionEnd,\n\t\t\t\t\t\tgetBlockOrder,\n\t\t\t\t\t} = select( 'core/block-editor' );\n\n\t\t\t\t\t// If the clientId is defined, we insert at the position of the block.\n\t\t\t\t\tif ( clientId ) {\n\t\t\t\t\t\treturn getBlockIndex( clientId, rootClientId );\n\t\t\t\t\t}\n\n\t\t\t\t\t// If there a selected block, we insert after the selected block.\n\t\t\t\t\tconst end = getBlockSelectionEnd();\n\t\t\t\t\tif ( ! isAppender && end ) {\n\t\t\t\t\t\treturn getBlockIndex( end, rootClientId ) + 1;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Otherwise, we insert at the end of the current rootClientId\n\t\t\t\t\treturn getBlockOrder( rootClientId ).length;\n\t\t\t\t}\n\n\t\t\t\tconst { insertBlock } = dispatch( 'core/block-editor' );\n\n\t\t\t\tconst blockToInsert = createBlock( allowedBlockType.name );\n\n\t\t\t\tinsertBlock(\n\t\t\t\t\tblockToInsert,\n\t\t\t\t\tgetInsertionIndex(),\n\t\t\t\t\trootClientId,\n\t\t\t\t\tselectBlockOnInsert\n\t\t\t\t);\n\n\t\t\t\tif ( ! selectBlockOnInsert ) {\n\t\t\t\t\tconst message = sprintf(\n\t\t\t\t\t\t// translators: %s: the name of the block that has been added\n\t\t\t\t\t\t__( '%s block added' ),\n\t\t\t\t\t\tallowedBlockType.title\n\t\t\t\t\t);\n\t\t\t\t\tspeak( message );\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n\tifCondition( ( { hasItems } ) => hasItems ),\n] )( Inserter );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button, Tooltip, VisuallyHidden } from '@wordpress/components';\nimport { _x, sprintf } from '@wordpress/i18n';\nimport { Icon, create } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\n\nfunction ButtonBlockAppender( {\n\trootClientId,\n\tclassName,\n\t__experimentalSelectBlockOnInsert: selectBlockOnInsert,\n} ) {\n\treturn (\n\t\t<Inserter\n\t\t\tposition=\"bottom center\"\n\t\t\trootClientId={ rootClientId }\n\t\t\t__experimentalSelectBlockOnInsert={ selectBlockOnInsert }\n\t\t\trenderToggle={ ( {\n\t\t\t\tonToggle,\n\t\t\t\tdisabled,\n\t\t\t\tisOpen,\n\t\t\t\tblockTitle,\n\t\t\t\thasSingleBlockType,\n\t\t\t} ) => {\n\t\t\t\tlet label;\n\t\t\t\tif ( hasSingleBlockType ) {\n\t\t\t\t\tlabel = sprintf(\n\t\t\t\t\t\t// translators: %s: the name of the block when there is only one\n\t\t\t\t\t\t_x( 'Add %s', 'directly add the only allowed block' ),\n\t\t\t\t\t\tblockTitle\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tlabel = _x(\n\t\t\t\t\t\t'Add block',\n\t\t\t\t\t\t'Generic label for block inserter button'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst isToggleButton = ! hasSingleBlockType;\n\t\t\t\treturn (\n\t\t\t\t\t<Tooltip text={ label }>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\t'block-editor-button-block-appender'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\taria-haspopup={\n\t\t\t\t\t\t\t\tisToggleButton ? 'true' : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-expanded={\n\t\t\t\t\t\t\t\tisToggleButton ? isOpen : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">{ label }</VisuallyHidden>\n\t\t\t\t\t\t\t<Icon icon={ create } />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\t\t\t} }\n\t\t\tisAppender\n\t\t/>\n\t);\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/button-block-appender/README.md\n */\nexport default ButtonBlockAppender;\n","/**\n * External dependencies\n */\nimport { isNil, map, omitBy } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button, VisuallyHidden } from '@wordpress/components';\nimport {\n\t__experimentalGetBlockLabel as getBlockLabel,\n\tgetBlockType,\n} from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport ButtonBlockAppender from '../button-block-appender';\n\nexport default function BlockNavigationList( {\n\tblocks,\n\tselectedBlockClientId,\n\tselectBlock,\n\tshowAppender,\n\n\t// Internal use only.\n\tshowNestedBlocks,\n\tparentBlockClientId,\n} ) {\n\tconst shouldShowAppender = showAppender && !! parentBlockClientId;\n\n\treturn (\n\t\t/*\n\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t */\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<ul className=\"block-editor-block-navigation__list\" role=\"list\">\n\t\t\t{ map( omitBy( blocks, isNil ), ( block ) => {\n\t\t\t\tconst blockType = getBlockType( block.name );\n\t\t\t\tconst isSelected = block.clientId === selectedBlockClientId;\n\n\t\t\t\treturn (\n\t\t\t\t\t<li key={ block.clientId }>\n\t\t\t\t\t\t<div className=\"block-editor-block-navigation__item\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t'block-editor-block-navigation__item-button',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tonClick={ () => selectBlock( block.clientId ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BlockIcon icon={ blockType.icon } showColors />\n\t\t\t\t\t\t\t\t{ getBlockLabel( blockType, block.attributes ) }\n\t\t\t\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t\t{ __( '(selected block)' ) }\n\t\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ showNestedBlocks &&\n\t\t\t\t\t\t\t!! block.innerBlocks &&\n\t\t\t\t\t\t\t!! block.innerBlocks.length && (\n\t\t\t\t\t\t\t\t<BlockNavigationList\n\t\t\t\t\t\t\t\t\tblocks={ block.innerBlocks }\n\t\t\t\t\t\t\t\t\tselectedBlockClientId={\n\t\t\t\t\t\t\t\t\t\tselectedBlockClientId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t\t\t\t\tparentBlockClientId={ block.clientId }\n\t\t\t\t\t\t\t\t\tshowAppender={ showAppender }\n\t\t\t\t\t\t\t\t\tshowNestedBlocks\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ shouldShowAppender && (\n\t\t\t\t<li>\n\t\t\t\t\t<div className=\"block-editor-block-navigation__item\">\n\t\t\t\t\t\t<ButtonBlockAppender\n\t\t\t\t\t\t\trootClientId={ parentBlockClientId }\n\t\t\t\t\t\t\t__experimentalSelectBlockOnInsert={ false }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t) }\n\t\t</ul>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { NavigableMenu } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigationList from './list';\n\nfunction BlockNavigation( {\n\trootBlock,\n\trootBlocks,\n\tselectedBlockClientId,\n\tselectBlock,\n} ) {\n\tif ( ! rootBlocks || rootBlocks.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst hasHierarchy =\n\t\trootBlock &&\n\t\t( rootBlock.clientId !== selectedBlockClientId ||\n\t\t\t( rootBlock.innerBlocks && rootBlock.innerBlocks.length !== 0 ) );\n\n\treturn (\n\t\t<NavigableMenu\n\t\t\trole=\"presentation\"\n\t\t\tclassName=\"block-editor-block-navigation__container\"\n\t\t>\n\t\t\t<p className=\"block-editor-block-navigation__label\">\n\t\t\t\t{ __( 'Block navigation' ) }\n\t\t\t</p>\n\t\t\t{ hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ [ rootBlock ] }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\tshowNestedBlocks\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ rootBlocks }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</NavigableMenu>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockHierarchyRootClientId,\n\t\t\tgetBlock,\n\t\t\tgetBlocks,\n\t\t} = select( 'core/block-editor' );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\trootBlocks: getBlocks(),\n\t\t\trootBlock: selectedBlockClientId\n\t\t\t\t? getBlock(\n\t\t\t\t\t\tgetBlockHierarchyRootClientId( selectedBlockClientId )\n\t\t\t\t  )\n\t\t\t\t: null,\n\t\t\tselectedBlockClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onSelect = noop } ) => {\n\t\treturn {\n\t\t\tselectBlock( clientId ) {\n\t\t\t\tdispatch( 'core/block-editor' ).selectBlock( clientId );\n\t\t\t\tonSelect( clientId );\n\t\t\t},\n\t\t};\n\t} )\n)( BlockNavigation );\n","/**\n * WordPress dependencies\n */\nimport { Button, Dropdown, SVG, Path } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigation from './';\n\nconst MenuIcon = (\n\t<SVG\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t>\n\t\t<Path d=\"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z\" />\n\t</SVG>\n);\n\nfunction BlockNavigationDropdownToggle( { isEnabled, onToggle, isOpen } ) {\n\tuseShortcut(\n\t\t'core/edit-post/toggle-block-navigation',\n\t\tuseCallback( onToggle, [ onToggle ] ),\n\t\t{\n\t\t\tbindGlobal: true,\n\t\t\tisDisabled: ! isEnabled,\n\t\t}\n\t);\n\tconst shortcut = useSelect(\n\t\t( select ) =>\n\t\t\tselect( 'core/keyboard-shortcuts' ).getShortcutRepresentation(\n\t\t\t\t'core/edit-post/toggle-block-navigation'\n\t\t\t),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<Button\n\t\t\ticon={ MenuIcon }\n\t\t\taria-expanded={ isOpen }\n\t\t\tonClick={ isEnabled ? onToggle : undefined }\n\t\t\tlabel={ __( 'Block navigation' ) }\n\t\t\tclassName=\"block-editor-block-navigation\"\n\t\t\tshortcut={ shortcut }\n\t\t\taria-disabled={ ! isEnabled }\n\t\t/>\n\t);\n}\n\nfunction BlockNavigationDropdown( { isDisabled } ) {\n\tconst hasBlocks = useSelect(\n\t\t( select ) => !! select( 'core/block-editor' ).getBlockCount(),\n\t\t[]\n\t);\n\tconst isEnabled = hasBlocks && ! isDisabled;\n\n\treturn (\n\t\t<Dropdown\n\t\t\tcontentClassName=\"block-editor-block-navigation__popover\"\n\t\t\tposition=\"bottom right\"\n\t\t\trenderToggle={ ( toggleProps ) => (\n\t\t\t\t<BlockNavigationDropdownToggle\n\t\t\t\t\t{ ...toggleProps }\n\t\t\t\t\tisEnabled={ isEnabled }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<BlockNavigation onSelect={ onClose } />\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default BlockNavigationDropdown;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useResizeObserver } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport Icon from '../icon';\n\n/**\n * Renders a placeholder. Normally used by blocks to render their empty state.\n *\n * @param  {Object} props The component props.\n * @return {Object}       The rendered placeholder.\n */\nfunction Placeholder( {\n\ticon,\n\tchildren,\n\tlabel,\n\tinstructions,\n\tclassName,\n\tnotices,\n\tpreview,\n\tisColumnLayout,\n\t...additionalProps\n} ) {\n\tconst [ resizeListener, { width } ] = useResizeObserver();\n\n\t// Since `useResizeObserver` will report a width of `null` until after the\n\t// first render, avoid applying any modifier classes until width is known.\n\tlet modifierClassNames;\n\tif ( typeof width === 'number' ) {\n\t\tmodifierClassNames = {\n\t\t\t'is-large': width >= 320,\n\t\t\t'is-medium': width >= 160 && width < 320,\n\t\t\t'is-small': width < 160,\n\t\t};\n\t}\n\n\tconst classes = classnames(\n\t\t'components-placeholder',\n\t\tclassName,\n\t\tmodifierClassNames\n\t);\n\tconst fieldsetClasses = classnames( 'components-placeholder__fieldset', {\n\t\t'is-column-layout': isColumnLayout,\n\t} );\n\treturn (\n\t\t<div { ...additionalProps } className={ classes }>\n\t\t\t{ resizeListener }\n\t\t\t{ notices }\n\t\t\t{ preview && (\n\t\t\t\t<div className=\"components-placeholder__preview\">\n\t\t\t\t\t{ preview }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<div className=\"components-placeholder__label\">\n\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t{ label }\n\t\t\t</div>\n\t\t\t{ !! instructions && (\n\t\t\t\t<div className=\"components-placeholder__instructions\">\n\t\t\t\t\t{ instructions }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<div className={ fieldsetClasses }>{ children }</div>\n\t\t</div>\n\t);\n}\n\nexport default Placeholder;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst layout = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M2 2h5v11H2V2zm6 0h5v5H8V2zm6 0h4v16h-4V2zM8 8h5v5H8V8zm-6 6h11v4H2v-4z\" />\n\t</SVG>\n);\n\nexport default layout;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, Placeholder } from '@wordpress/components';\nimport { layout } from '@wordpress/icons';\n\nfunction BlockVariationPicker( {\n\ticon = layout,\n\tlabel = __( 'Choose variation' ),\n\tinstructions = __( 'Select a variation to start with.' ),\n\tvariations,\n\tonSelect,\n\tallowSkip,\n} ) {\n\tconst classes = classnames( 'block-editor-block-variation-picker', {\n\t\t'has-many-variations': variations.length > 4,\n\t} );\n\n\treturn (\n\t\t<Placeholder\n\t\t\ticon={ icon }\n\t\t\tlabel={ label }\n\t\t\tinstructions={ instructions }\n\t\t\tclassName={ classes }\n\t\t>\n\t\t\t{ /*\n\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t */\n\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t<ul\n\t\t\t\tclassName=\"block-editor-block-variation-picker__variations\"\n\t\t\t\trole=\"list\"\n\t\t\t\taria-label={ __( 'Block variations' ) }\n\t\t\t>\n\t\t\t\t{ variations.map( ( variation ) => (\n\t\t\t\t\t<li key={ variation.name }>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\ticon={ variation.icon }\n\t\t\t\t\t\t\ticonSize={ 48 }\n\t\t\t\t\t\t\tonClick={ () => onSelect( variation ) }\n\t\t\t\t\t\t\tclassName=\"block-editor-block-variation-picker__variation\"\n\t\t\t\t\t\t\tlabel={ variation.description || variation.title }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"block-editor-block-variation-picker__variation-label\"\n\t\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ variation.title }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t\t{ allowSkip && (\n\t\t\t\t<div className=\"block-editor-block-variation-picker__skip\">\n\t\t\t\t\t<Button isLink onClick={ () => onSelect() }>\n\t\t\t\t\t\t{ __( 'Skip' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</Placeholder>\n\t);\n}\n\nexport default BlockVariationPicker;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/components';\n\nexport const alignBottom = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z\" />\n\t</SVG>\n);\n\nexport const alignCenter = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z\" />\n\t</SVG>\n);\n\nexport const alignTop = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M9 20h6V9H9v11zM4 4v1.5h16V4H4z\" />\n\t</SVG>\n);\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\nimport { Toolbar } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { alignTop, alignCenter, alignBottom } from './icons';\n\nconst BLOCK_ALIGNMENTS_CONTROLS = {\n\ttop: {\n\t\ticon: alignTop,\n\t\ttitle: _x( 'Vertically Align Top', 'Block vertical alignment setting' ),\n\t},\n\tcenter: {\n\t\ticon: alignCenter,\n\t\ttitle: _x(\n\t\t\t'Vertically Align Middle',\n\t\t\t'Block vertical alignment setting'\n\t\t),\n\t},\n\tbottom: {\n\t\ticon: alignBottom,\n\t\ttitle: _x(\n\t\t\t'Vertically Align Bottom',\n\t\t\t'Block vertical alignment setting'\n\t\t),\n\t},\n};\n\nconst DEFAULT_CONTROLS = [ 'top', 'center', 'bottom' ];\nconst DEFAULT_CONTROL = 'top';\n\nexport function BlockVerticalAlignmentToolbar( {\n\tvalue,\n\tonChange,\n\tcontrols = DEFAULT_CONTROLS,\n\tisCollapsed = true,\n} ) {\n\tfunction applyOrUnset( align ) {\n\t\treturn () => onChange( value === align ? undefined : align );\n\t}\n\n\tconst activeAlignment = BLOCK_ALIGNMENTS_CONTROLS[ value ];\n\tconst defaultAlignmentControl =\n\t\tBLOCK_ALIGNMENTS_CONTROLS[ DEFAULT_CONTROL ];\n\n\treturn (\n\t\t<Toolbar\n\t\t\tisCollapsed={ isCollapsed }\n\t\t\ticon={\n\t\t\t\tactiveAlignment\n\t\t\t\t\t? activeAlignment.icon\n\t\t\t\t\t: defaultAlignmentControl.icon\n\t\t\t}\n\t\t\tlabel={ _x(\n\t\t\t\t'Change vertical alignment',\n\t\t\t\t'Block vertical alignment setting label'\n\t\t\t) }\n\t\t\tcontrols={ controls.map( ( control ) => {\n\t\t\t\treturn {\n\t\t\t\t\t...BLOCK_ALIGNMENTS_CONTROLS[ control ],\n\t\t\t\t\tisActive: value === control,\n\t\t\t\t\trole: isCollapsed ? 'menuitemradio' : undefined,\n\t\t\t\t\tonClick: applyOrUnset( control ),\n\t\t\t\t};\n\t\t\t} ) }\n\t\t/>\n\t);\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/block-vertical-alignment-toolbar/README.md\n */\nexport default BlockVerticalAlignmentToolbar;\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\nexport default createHigherOrderComponent(\n\twithSelect( ( select, ownProps ) => {\n\t\tconst settings = select( 'core/block-editor' ).getSettings();\n\t\tconst colors =\n\t\t\townProps.colors === undefined ? settings.colors : ownProps.colors;\n\n\t\tconst disableCustomColors =\n\t\t\townProps.disableCustomColors === undefined\n\t\t\t\t? settings.disableCustomColors\n\t\t\t\t: ownProps.disableCustomColors;\n\t\treturn {\n\t\t\tcolors,\n\t\t\tdisableCustomColors,\n\t\t\thasColorsToChoose: ! isEmpty( colors ) || ! disableCustomColors,\n\t\t};\n\t} ),\n\t'withColorContext'\n);\n","/**\n * WordPress dependencies\n */\nimport { ColorPalette } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport withColorContext from './with-color-context';\n\nexport default withColorContext( ColorPalette );\n","/**\n * External dependencies\n */\nimport { isEmpty, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tButtonGroup,\n\tSelectControl,\n\tTextControl,\n} from '@wordpress/components';\nimport { Component } from '@wordpress/element';\n\nclass ImageSizeControl extends Component {\n\t/**\n\t * Run additional operations during component initialization.\n\t *\n\t * @param {Object} props\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.updateDimensions = this.updateDimensions.bind( this );\n\t}\n\n\tupdateDimensions( width = undefined, height = undefined ) {\n\t\treturn () => {\n\t\t\tthis.props.onChange( { width, height } );\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\timageWidth,\n\t\t\timageHeight,\n\t\t\timageSizeOptions = [],\n\t\t\tisResizable = true,\n\t\t\tslug,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tonChange,\n\t\t\tonChangeImage = noop,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ ! isEmpty( imageSizeOptions ) && (\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Image size' ) }\n\t\t\t\t\t\tvalue={ slug }\n\t\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\t\tonChange={ onChangeImage }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isResizable && (\n\t\t\t\t\t<div className=\"block-editor-image-size-control\">\n\t\t\t\t\t\t<p className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t\t{ __( 'Image dimensions' ) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"block-editor-image-size-control__width\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\t\t\tvalue={ width || imageWidth || '' }\n\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tonChange( { width: parseInt( value, 10 ) } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"block-editor-image-size-control__height\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\t\t\t\tvalue={ height || imageHeight || '' }\n\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\t\theight: parseInt( value, 10 ),\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"block-editor-image-size-control__row\">\n\t\t\t\t\t\t\t<ButtonGroup aria-label={ __( 'Image Size' ) }>\n\t\t\t\t\t\t\t\t{ [ 25, 50, 75, 100 ].map( ( scale ) => {\n\t\t\t\t\t\t\t\t\tconst scaledWidth = Math.round(\n\t\t\t\t\t\t\t\t\t\timageWidth * ( scale / 100 )\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tconst scaledHeight = Math.round(\n\t\t\t\t\t\t\t\t\t\timageHeight * ( scale / 100 )\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tconst isCurrent =\n\t\t\t\t\t\t\t\t\t\twidth === scaledWidth &&\n\t\t\t\t\t\t\t\t\t\theight === scaledHeight;\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tkey={ scale }\n\t\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\t\tisPrimary={ isCurrent }\n\t\t\t\t\t\t\t\t\t\t\tisPressed={ isCurrent }\n\t\t\t\t\t\t\t\t\t\t\tonClick={ this.updateDimensions(\n\t\t\t\t\t\t\t\t\t\t\t\tscaledWidth,\n\t\t\t\t\t\t\t\t\t\t\t\tscaledHeight\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ scale }%\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t<Button isSmall onClick={ this.updateDimensions() }>\n\t\t\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default ImageSizeControl;\n","/**\n * External dependencies\n */\nimport { pick } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { withBlockEditContext } from '../block-edit/context';\n\nconst withClientId = createHigherOrderComponent(\n\t( WrappedComponent ) =>\n\t\twithBlockEditContext( ( context ) => pick( context, [ 'clientId' ] ) )(\n\t\t\tWrappedComponent\n\t\t),\n\t'withClientId'\n);\n\nexport default withClientId;\n","/**\n * Internal dependencies\n */\nimport BaseButtonBlockAppender from '../button-block-appender';\nimport withClientId from './with-client-id';\n\nexport const ButtonBlockAppender = ( {\n\tclientId,\n\tshowSeparator,\n\tonAddBlock,\n} ) => {\n\treturn (\n\t\t<BaseButtonBlockAppender\n\t\t\trootClientId={ clientId }\n\t\t\tshowSeparator={ showSeparator }\n\t\t\tonAddBlock={ onAddBlock }\n\t\t/>\n\t);\n};\n\nexport default withClientId( ButtonBlockAppender );\n","/**\n * External dependencies\n */\nimport { last } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BaseDefaultBlockAppender from '../default-block-appender';\nimport withClientId from './with-client-id';\n\nexport const DefaultBlockAppender = ( { clientId, lastBlockClientId } ) => {\n\treturn (\n\t\t<BaseDefaultBlockAppender\n\t\t\trootClientId={ clientId }\n\t\t\tlastBlockClientId={ lastBlockClientId }\n\t\t/>\n\t);\n};\n\nexport default compose( [\n\twithClientId,\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlockOrder } = select( 'core/block-editor' );\n\n\t\tconst blockClientIds = getBlockOrder( clientId );\n\n\t\treturn {\n\t\t\tlastBlockClientId: last( blockClientIds ),\n\t\t};\n\t} ),\n] )( DefaultBlockAppender );\n","/**\n * External dependencies\n */\nimport { pick, isEqual } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { Component, forwardRef, useRef } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport {\n\tsynchronizeBlocksWithTemplate,\n\twithBlockContentContext,\n} from '@wordpress/blocks';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport ButtonBlockAppender from './button-block-appender';\nimport DefaultBlockAppender from './default-block-appender';\n\n/**\n * Internal dependencies\n */\nimport BlockList from '../block-list';\nimport { withBlockEditContext } from '../block-edit/context';\n\nclass InnerBlocks extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\ttemplateInProcess: !! this.props.template,\n\t\t};\n\t\tthis.updateNestedSettings();\n\t}\n\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\tblock,\n\t\t\ttemplateLock,\n\t\t\t__experimentalBlocks,\n\t\t\treplaceInnerBlocks,\n\t\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\t} = this.props;\n\t\tconst { innerBlocks } = block;\n\t\t// Only synchronize innerBlocks with template if innerBlocks are empty or a locking all exists directly on the block.\n\t\tif ( innerBlocks.length === 0 || templateLock === 'all' ) {\n\t\t\tthis.synchronizeBlocksWithTemplate();\n\t\t}\n\n\t\tif ( this.state.templateInProcess ) {\n\t\t\tthis.setState( {\n\t\t\t\ttemplateInProcess: false,\n\t\t\t} );\n\t\t}\n\n\t\t// Set controlled blocks value from parent, if any.\n\t\tif ( __experimentalBlocks ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\treplaceInnerBlocks( __experimentalBlocks, false );\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst {\n\t\t\tblock,\n\t\t\ttemplateLock,\n\t\t\ttemplate,\n\t\t\tisLastBlockChangePersistent,\n\t\t\tonInput,\n\t\t\tonChange,\n\t\t} = this.props;\n\t\tconst { innerBlocks } = block;\n\n\t\tthis.updateNestedSettings();\n\t\t// Only synchronize innerBlocks with template if innerBlocks are empty or a locking all exists directly on the block.\n\t\tif ( innerBlocks.length === 0 || templateLock === 'all' ) {\n\t\t\tconst hasTemplateChanged = ! isEqual(\n\t\t\t\ttemplate,\n\t\t\t\tprevProps.template\n\t\t\t);\n\t\t\tif ( hasTemplateChanged ) {\n\t\t\t\tthis.synchronizeBlocksWithTemplate();\n\t\t\t}\n\t\t}\n\n\t\t// Sync with controlled blocks value from parent, if possible.\n\t\tif ( prevProps.block.innerBlocks !== innerBlocks ) {\n\t\t\tconst resetFunc = isLastBlockChangePersistent ? onChange : onInput;\n\t\t\tif ( resetFunc ) {\n\t\t\t\tresetFunc( innerBlocks );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Called on mount or when a mismatch exists between the templates and\n\t * inner blocks, synchronizes inner blocks with the template, replacing\n\t * current blocks.\n\t */\n\tsynchronizeBlocksWithTemplate() {\n\t\tconst { template, block, replaceInnerBlocks } = this.props;\n\t\tconst { innerBlocks } = block;\n\n\t\t// Synchronize with templates. If the next set differs, replace.\n\t\tconst nextBlocks = synchronizeBlocksWithTemplate(\n\t\t\tinnerBlocks,\n\t\t\ttemplate\n\t\t);\n\t\tif ( ! isEqual( nextBlocks, innerBlocks ) ) {\n\t\t\treplaceInnerBlocks( nextBlocks );\n\t\t}\n\t}\n\n\tupdateNestedSettings() {\n\t\tconst {\n\t\t\tblockListSettings,\n\t\t\tallowedBlocks,\n\t\t\tupdateNestedSettings,\n\t\t\ttemplateLock,\n\t\t\tparentLock,\n\t\t\t__experimentalCaptureToolbars,\n\t\t\t__experimentalMoverDirection,\n\t\t} = this.props;\n\n\t\tconst newSettings = {\n\t\t\tallowedBlocks,\n\t\t\ttemplateLock:\n\t\t\t\ttemplateLock === undefined ? parentLock : templateLock,\n\t\t\t__experimentalCaptureToolbars:\n\t\t\t\t__experimentalCaptureToolbars || false,\n\t\t\t__experimentalMoverDirection,\n\t\t};\n\n\t\tif ( ! isShallowEqual( blockListSettings, newSettings ) ) {\n\t\t\tupdateNestedSettings( newSettings );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tenableClickThrough,\n\t\t\tclientId,\n\t\t\thasOverlay,\n\t\t\t__experimentalCaptureToolbars: captureToolbars,\n\t\t\tforwardedRef,\n\t\t\t...props\n\t\t} = this.props;\n\t\tconst { templateInProcess } = this.state;\n\n\t\tif ( templateInProcess ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst classes = classnames( {\n\t\t\t'has-overlay': enableClickThrough && hasOverlay,\n\t\t\t'is-capturing-toolbar': captureToolbars,\n\t\t} );\n\n\t\tconst blockList = (\n\t\t\t<BlockList\n\t\t\t\t{ ...props }\n\t\t\t\tref={ forwardedRef }\n\t\t\t\trootClientId={ clientId }\n\t\t\t\tclassName={ classes }\n\t\t\t/>\n\t\t);\n\n\t\tif ( props.__experimentalTagName ) {\n\t\t\treturn blockList;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"block-editor-inner-blocks\" ref={ forwardedRef }>\n\t\t\t\t{ blockList }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst ComposedInnerBlocks = compose( [\n\twithViewportMatch( { isSmallScreen: '< medium' } ),\n\twithBlockEditContext( ( context ) => pick( context, [ 'clientId' ] ) ),\n\twithSelect( ( select, ownProps ) => {\n\t\tconst {\n\t\t\tisBlockSelected,\n\t\t\thasSelectedInnerBlock,\n\t\t\tgetBlock,\n\t\t\tgetBlockListSettings,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetTemplateLock,\n\t\t\tisNavigationMode,\n\t\t\tisLastBlockChangePersistent,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { clientId, isSmallScreen } = ownProps;\n\t\tconst block = getBlock( clientId );\n\t\tconst rootClientId = getBlockRootClientId( clientId );\n\n\t\treturn {\n\t\t\tblock,\n\t\t\tblockListSettings: getBlockListSettings( clientId ),\n\t\t\thasOverlay:\n\t\t\t\tblock.name !== 'core/template' &&\n\t\t\t\t! isBlockSelected( clientId ) &&\n\t\t\t\t! hasSelectedInnerBlock( clientId, true ),\n\t\t\tparentLock: getTemplateLock( rootClientId ),\n\t\t\tenableClickThrough: isNavigationMode() || isSmallScreen,\n\t\t\tisLastBlockChangePersistent: isLastBlockChangePersistent(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst {\n\t\t\treplaceInnerBlocks,\n\t\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\t\tupdateBlockListSettings,\n\t\t} = dispatch( 'core/block-editor' );\n\t\tconst {\n\t\t\tblock,\n\t\t\tclientId,\n\t\t\ttemplateInsertUpdatesSelection = true,\n\t\t} = ownProps;\n\n\t\treturn {\n\t\t\treplaceInnerBlocks( blocks, forceUpdateSelection ) {\n\t\t\t\treplaceInnerBlocks(\n\t\t\t\t\tclientId,\n\t\t\t\t\tblocks,\n\t\t\t\t\tforceUpdateSelection !== undefined\n\t\t\t\t\t\t? forceUpdateSelection\n\t\t\t\t\t\t: block.innerBlocks.length === 0 &&\n\t\t\t\t\t\t\t\ttemplateInsertUpdatesSelection &&\n\t\t\t\t\t\t\t\tblocks.length !== 0\n\t\t\t\t);\n\t\t\t},\n\t\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\t\tupdateNestedSettings( settings ) {\n\t\t\t\tdispatch( updateBlockListSettings( clientId, settings ) );\n\t\t\t},\n\t\t};\n\t} ),\n] )( InnerBlocks );\n\nconst ForwardedInnerBlocks = forwardRef( ( props, ref ) => {\n\tconst fallbackRef = useRef();\n\treturn (\n\t\t<ComposedInnerBlocks { ...props } forwardedRef={ ref || fallbackRef } />\n\t);\n} );\n\n// Expose default appender placeholders as components.\nForwardedInnerBlocks.DefaultBlockAppender = DefaultBlockAppender;\nForwardedInnerBlocks.ButtonBlockAppender = ButtonBlockAppender;\n\nForwardedInnerBlocks.Content = withBlockContentContext(\n\t( { BlockContent } ) => <BlockContent />\n);\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/inner-blocks/README.md\n */\nexport default ForwardedInnerBlocks;\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { ifBlockEditSelected } from '../block-edit/context';\n\nconst name = 'InspectorAdvancedControls';\nconst { Fill, Slot } = createSlotFill( name );\n\nconst InspectorAdvancedControls = ifBlockEditSelected( Fill );\n\nInspectorAdvancedControls.slotName = name;\nInspectorAdvancedControls.Slot = Slot;\n\nexport default InspectorAdvancedControls;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst external = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z\" />\n\t</SVG>\n);\n\nexport default external;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { compact, uniq } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { forwardRef } from '@wordpress/element';\nimport { external, Icon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport VisuallyHidden from '../visually-hidden';\n\nexport function ExternalLink(\n\t{ href, children, className, rel = '', ...additionalProps },\n\tref\n) {\n\trel = uniq(\n\t\tcompact( [ ...rel.split( ' ' ), 'external', 'noreferrer', 'noopener' ] )\n\t).join( ' ' );\n\tconst classes = classnames( 'components-external-link', className );\n\treturn (\n\t\t<a\n\t\t\t{ ...additionalProps }\n\t\t\tclassName={ classes }\n\t\t\thref={ href }\n\t\t\t// eslint-disable-next-line react/jsx-no-target-blank\n\t\t\ttarget=\"_blank\"\n\t\t\trel={ rel }\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ children }\n\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t{ /* translators: accessibility text */\n\t\t\t\t__( '(opens in a new tab)' ) }\n\t\t\t</VisuallyHidden>\n\t\t\t<Icon\n\t\t\t\ticon={ external }\n\t\t\t\tclassName=\"components-external-link__icon\"\n\t\t\t/>\n\t\t</a>\n\t);\n}\n\nexport default forwardRef( ExternalLink );\n","/**\n * Returns a URL for display.\n *\n * @param {string} url Original URL.\n *\n * @example\n * ```js\n * const displayUrl = filterURLForDisplay( 'https://www.wordpress.org/gutenberg/' ); // wordpress.org/gutenberg\n * ```\n *\n * @return {string} Displayed URL.\n */\nexport function filterURLForDisplay( url ) {\n\t// Remove protocol and www prefixes.\n\tconst filteredURL = url.replace( /^(?:https?:)\\/\\/(?:www\\.)?/, '' );\n\n\t// Ends with / and only has that single slash, strip it.\n\tif ( filteredURL.match( /^[^\\/]+\\/$/ ) ) {\n\t\treturn filteredURL.replace( '/', '' );\n\t}\n\n\treturn filteredURL;\n}\n","/**\n * Safely decodes a URI with `decodeURI`. Returns the URI unmodified if\n * `decodeURI` throws an error.\n *\n * @param {string} uri URI to decode.\n *\n * @example\n * ```js\n * const badUri = safeDecodeURI( '%z' ); // does not throw an Error, simply returns '%z'\n * ```\n *\n * @return {string} Decoded URI if possible.\n */\nexport function safeDecodeURI( uri ) {\n\ttry {\n\t\treturn decodeURI( uri );\n\t} catch ( uriError ) {\n\t\treturn uri;\n\t}\n}\n","/**\n * Returns the protocol part of the URL.\n *\n * @param {string} url The full URL.\n *\n * @example\n * ```js\n * const protocol1 = getProtocol( 'tel:012345678' ); // 'tel:'\n * const protocol2 = getProtocol( 'https://wordpress.org' ); // 'https:'\n * ```\n *\n * @return {string|void} The protocol part of the URL.\n */\nexport function getProtocol( url ) {\n\tconst matches = /^([^\\s:]+:)/.exec( url );\n\tif ( matches ) {\n\t\treturn matches[ 1 ];\n\t}\n}\n","const EMAIL_REGEXP = /^(mailto:)?[a-z0-9._%+-]+@[a-z0-9][a-z0-9.-]*\\.[a-z]{2,63}$/i;\n\n/**\n * Determines whether the given string looks like an email.\n *\n * @param {string} email The string to scrutinise.\n *\n * @example\n * ```js\n * const isEmail = isEmail( 'hello@wordpress.org' ); // true\n * ```\n *\n * @return {boolean} Whether or not it looks like an email.\n */\nexport function isEmail( email ) {\n\treturn EMAIL_REGEXP.test( email );\n}\n","/**\n * Internal dependencies\n */\nimport { isEmail } from './is-email';\n\nconst USABLE_HREF_REGEXP = /^(?:[a-z]+:|#|\\?|\\.|\\/)/i;\n\n/**\n * Prepends \"http://\" to a url, if it looks like something that is meant to be a TLD.\n *\n * @param {string} url The URL to test.\n *\n * @example\n * ```js\n * const actualURL = prependHTTP( 'wordpress.org' ); // http://wordpress.org\n * ```\n *\n * @return {string} The updated URL.\n */\nexport function prependHTTP( url ) {\n\tif ( ! url ) {\n\t\treturn url;\n\t}\n\n\turl = url.trim();\n\tif ( ! USABLE_HREF_REGEXP.test( url ) && ! isEmail( url ) ) {\n\t\treturn 'http://' + url;\n\t}\n\n\treturn url;\n}\n","/**\n * Determines whether the given string looks like a URL.\n *\n * @param {string} url The string to scrutinise.\n *\n * @example\n * ```js\n * const isURL = isURL( 'https://wordpress.org' ); // true\n * ```\n *\n * @see https://url.spec.whatwg.org/\n * @see https://url.spec.whatwg.org/#valid-url-string\n *\n * @return {boolean} Whether or not it looks like a URL.\n */\nexport function isURL( url ) {\n\t// A URL can be considered value if the `URL` constructor is able to parse\n\t// it. The constructor throws an error for an invalid URL.\n\ttry {\n\t\tnew URL( url );\n\t\treturn true;\n\t} catch ( error ) {\n\t\treturn false;\n\t}\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nfunction FormToggle( { className, checked, id, onChange = noop, ...props } ) {\n\tconst wrapperClasses = classnames( 'components-form-toggle', className, {\n\t\t'is-checked': checked,\n\t} );\n\n\treturn (\n\t\t<span className={ wrapperClasses }>\n\t\t\t<input\n\t\t\t\tclassName=\"components-form-toggle__input\"\n\t\t\t\tid={ id }\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\tchecked={ checked }\n\t\t\t\tonChange={ onChange }\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t\t<span className=\"components-form-toggle__track\"></span>\n\t\t\t<span className=\"components-form-toggle__thumb\"></span>\n\t\t\t{ checked ? (\n\t\t\t\t<SVG\n\t\t\t\t\tclassName=\"components-form-toggle__on\"\n\t\t\t\t\twidth=\"2\"\n\t\t\t\t\theight=\"6\"\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 2 6\"\n\t\t\t\t>\n\t\t\t\t\t<Path d=\"M0 0h2v6H0z\" />\n\t\t\t\t</SVG>\n\t\t\t) : (\n\t\t\t\t<SVG\n\t\t\t\t\tclassName=\"components-form-toggle__off\"\n\t\t\t\t\twidth=\"6\"\n\t\t\t\t\theight=\"6\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\trole=\"img\"\n\t\t\t\t\tfocusable=\"false\"\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 6 6\"\n\t\t\t\t>\n\t\t\t\t\t<Path d=\"M3 1.5c.8 0 1.5.7 1.5 1.5S3.8 4.5 3 4.5 1.5 3.8 1.5 3 2.2 1.5 3 1.5M3 0C1.3 0 0 1.3 0 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3z\" />\n\t\t\t\t</SVG>\n\t\t\t) }\n\t\t</span>\n\t);\n}\n\nexport default FormToggle;\n","/**\n * External dependencies\n */\nimport { isFunction } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { withInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport FormToggle from '../form-toggle';\nimport BaseControl from '../base-control';\n\nclass ToggleControl extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onChange = this.onChange.bind( this );\n\t}\n\n\tonChange( event ) {\n\t\tif ( this.props.onChange ) {\n\t\t\tthis.props.onChange( event.target.checked );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { label, checked, help, instanceId, className } = this.props;\n\t\tconst id = `inspector-toggle-control-${ instanceId }`;\n\n\t\tlet describedBy, helpLabel;\n\t\tif ( help ) {\n\t\t\tdescribedBy = id + '__help';\n\t\t\thelpLabel = isFunction( help ) ? help( checked ) : help;\n\t\t}\n\n\t\treturn (\n\t\t\t<BaseControl\n\t\t\t\tid={ id }\n\t\t\t\thelp={ helpLabel }\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'components-toggle-control',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<FormToggle\n\t\t\t\t\tid={ id }\n\t\t\t\t\tchecked={ checked }\n\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\taria-describedby={ describedBy }\n\t\t\t\t/>\n\t\t\t\t<label\n\t\t\t\t\thtmlFor={ id }\n\t\t\t\t\tclassName=\"components-toggle-control__label\"\n\t\t\t\t>\n\t\t\t\t\t{ label }\n\t\t\t\t</label>\n\t\t\t</BaseControl>\n\t\t);\n\t}\n}\n\nexport default withInstanceId( ToggleControl );\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ToggleControl, VisuallyHidden } from '@wordpress/components';\n\nconst defaultSettings = [\n\t{\n\t\tid: 'opensInNewTab',\n\t\ttitle: __( 'Open in new tab' ),\n\t},\n];\n\nconst LinkControlSettingsDrawer = ( {\n\tvalue,\n\tonChange = noop,\n\tsettings = defaultSettings,\n} ) => {\n\tif ( ! settings || ! settings.length ) {\n\t\treturn null;\n\t}\n\n\tconst handleSettingChange = ( setting ) => ( newValue ) => {\n\t\tonChange( {\n\t\t\t...value,\n\t\t\t[ setting.id ]: newValue,\n\t\t} );\n\t};\n\n\tconst theSettings = settings.map( ( setting ) => (\n\t\t<ToggleControl\n\t\t\tclassName=\"block-editor-link-control__setting\"\n\t\t\tkey={ setting.id }\n\t\t\tlabel={ setting.title }\n\t\t\tonChange={ handleSettingChange( setting ) }\n\t\t\tchecked={ value ? !! value[ setting.id ] : false }\n\t\t/>\n\t) );\n\n\treturn (\n\t\t<fieldset className=\"block-editor-link-control__settings\">\n\t\t\t<VisuallyHidden as=\"legend\">\n\t\t\t\t{ __( 'Currently selected link settings' ) }\n\t\t\t</VisuallyHidden>\n\t\t\t{ theSettings }\n\t\t</fieldset>\n\t);\n};\n\nexport default LinkControlSettingsDrawer;\n","/**\n * External dependencies\n */\nimport { escapeRegExp } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createInterpolateElement } from '@wordpress/element';\n\nconst TextHighlight = ( { text = '', highlight = '' } ) => {\n\tconst trimmedHighlightText = highlight.trim();\n\n\tif ( ! trimmedHighlightText ) {\n\t\treturn text;\n\t}\n\n\tconst regex = new RegExp(\n\t\t`(${ escapeRegExp( trimmedHighlightText ) })`,\n\t\t'gi'\n\t);\n\n\treturn createInterpolateElement( text.replace( regex, '<mark>$&</mark>' ), {\n\t\tmark: <mark />,\n\t} );\n};\n\nexport default TextHighlight;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst globe = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M9 0C4.03 0 0 4.03 0 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zM1.11 9.68h2.51c.04.91.167 1.814.38 2.7H1.84c-.403-.85-.65-1.764-.73-2.7zm8.57-5.4V1.19c.964.366 1.756 1.08 2.22 2 .205.347.386.708.54 1.08l-2.76.01zm3.22 1.35c.232.883.37 1.788.41 2.7H9.68v-2.7h3.22zM8.32 1.19v3.09H5.56c.154-.372.335-.733.54-1.08.462-.924 1.255-1.64 2.22-2.01zm0 4.44v2.7H4.7c.04-.912.178-1.817.41-2.7h3.21zm-4.7 2.69H1.11c.08-.936.327-1.85.73-2.7H4c-.213.886-.34 1.79-.38 2.7zM4.7 9.68h3.62v2.7H5.11c-.232-.883-.37-1.788-.41-2.7zm3.63 4v3.09c-.964-.366-1.756-1.08-2.22-2-.205-.347-.386-.708-.54-1.08l2.76-.01zm1.35 3.09v-3.04h2.76c-.154.372-.335.733-.54 1.08-.464.92-1.256 1.634-2.22 2v-.04zm0-4.44v-2.7h3.62c-.04.912-.178 1.817-.41 2.7H9.68zm4.71-2.7h2.51c-.08.936-.327 1.85-.73 2.7H14c.21-.87.337-1.757.38-2.65l.01-.05zm0-1.35c-.046-.894-.176-1.78-.39-2.65h2.16c.403.85.65 1.764.73 2.7l-2.5-.05zm1-4H13.6c-.324-.91-.793-1.76-1.39-2.52 1.244.56 2.325 1.426 3.14 2.52h.04zm-9.6-2.52c-.597.76-1.066 1.61-1.39 2.52H2.65c.815-1.094 1.896-1.96 3.14-2.52zm-3.15 12H4.4c.324.91.793 1.76 1.39 2.52-1.248-.567-2.33-1.445-3.14-2.55l-.01.03zm9.56 2.52c.597-.76 1.066-1.61 1.39-2.52h1.76c-.82 1.08-1.9 1.933-3.14 2.48l-.01.04z\" />\n\t</SVG>\n);\n\nexport default globe;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { safeDecodeURI } from '@wordpress/url';\nimport { __ } from '@wordpress/i18n';\nimport { Button, TextHighlight } from '@wordpress/components';\nimport { Icon, globe } from '@wordpress/icons';\n\nexport const LinkControlSearchItem = ( {\n\titemProps,\n\tsuggestion,\n\tisSelected = false,\n\tonClick,\n\tisURL = false,\n\tsearchTerm = '',\n} ) => {\n\treturn (\n\t\t<Button\n\t\t\t{ ...itemProps }\n\t\t\tonClick={ onClick }\n\t\t\tclassName={ classnames( 'block-editor-link-control__search-item', {\n\t\t\t\t'is-selected': isSelected,\n\t\t\t\t'is-url': isURL,\n\t\t\t\t'is-entity': ! isURL,\n\t\t\t} ) }\n\t\t>\n\t\t\t{ isURL && (\n\t\t\t\t<Icon\n\t\t\t\t\tclassName=\"block-editor-link-control__search-item-icon\"\n\t\t\t\t\ticon={ globe }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<span className=\"block-editor-link-control__search-item-header\">\n\t\t\t\t<span className=\"block-editor-link-control__search-item-title\">\n\t\t\t\t\t<TextHighlight\n\t\t\t\t\t\ttext={ suggestion.title }\n\t\t\t\t\t\thighlight={ searchTerm }\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\taria-hidden={ ! isURL }\n\t\t\t\t\tclassName=\"block-editor-link-control__search-item-info\"\n\t\t\t\t>\n\t\t\t\t\t{ ! isURL && ( safeDecodeURI( suggestion.url ) || '' ) }\n\t\t\t\t\t{ isURL && __( 'Press ENTER to add this link' ) }\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t\t{ suggestion.type && (\n\t\t\t\t<span className=\"block-editor-link-control__search-item-type\">\n\t\t\t\t\t{ suggestion.type }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</Button>\n\t);\n};\n\nexport default LinkControlSearchItem;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst keyboardReturn = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M16 4h2v9H7v3l-5-4 5-4v3h9V4z\" />\n\t</SVG>\n);\n\nexport default keyboardReturn;\n","/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button, Notice } from '@wordpress/components';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { URLInput } from '../';\n\nconst LinkControlSearchInput = ( {\n\tvalue,\n\tonChange,\n\tonSelect,\n\trenderSuggestions,\n\tfetchSuggestions,\n\tshowInitialSuggestions,\n\terrorMessage,\n} ) => {\n\tconst [ selectedSuggestion, setSelectedSuggestion ] = useState();\n\n\t/**\n\t * Handles the user moving between different suggestions. Does not handle\n\t * choosing an individual item.\n\t *\n\t * @param {string} selection the url of the selected suggestion.\n\t * @param {Object} suggestion the suggestion object.\n\t */\n\tconst selectItemHandler = ( selection, suggestion ) => {\n\t\tonChange( selection );\n\t\tsetSelectedSuggestion( suggestion );\n\t};\n\n\tfunction selectSuggestionOrCurrentInputValue( event ) {\n\t\t// Avoid default forms behavior, since it's being handled custom here.\n\t\tevent.preventDefault();\n\n\t\t// Interpret the selected value as either the selected suggestion, if\n\t\t// exists, or otherwise the current input value as entered.\n\t\tonSelect( selectedSuggestion || { url: value } );\n\t}\n\n\treturn (\n\t\t<form onSubmit={ selectSuggestionOrCurrentInputValue }>\n\t\t\t<div className=\"block-editor-link-control__search-input-wrapper\">\n\t\t\t\t<URLInput\n\t\t\t\t\tclassName=\"block-editor-link-control__search-input\"\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ selectItemHandler }\n\t\t\t\t\tplaceholder={ __( 'Search or type url' ) }\n\t\t\t\t\t__experimentalRenderSuggestions={ renderSuggestions }\n\t\t\t\t\t__experimentalFetchLinkSuggestions={ fetchSuggestions }\n\t\t\t\t\t__experimentalHandleURLSuggestions={ true }\n\t\t\t\t\t__experimentalShowInitialSuggestions={\n\t\t\t\t\t\tshowInitialSuggestions\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<div className=\"block-editor-link-control__search-actions\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tlabel={ __( 'Submit' ) }\n\t\t\t\t\t\ticon={ keyboardReturn }\n\t\t\t\t\t\tclassName=\"block-editor-link-control__search-submit\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{ errorMessage && (\n\t\t\t\t<Notice\n\t\t\t\t\tclassName=\"block-editor-link-control__search-error\"\n\t\t\t\t\tstatus=\"error\"\n\t\t\t\t\tisDismissible={ false }\n\t\t\t\t>\n\t\t\t\t\t{ errorMessage }\n\t\t\t\t</Notice>\n\t\t\t) }\n\t\t</form>\n\t);\n};\n\nexport default LinkControlSearchInput;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Button, Icon } from '@wordpress/components';\nimport { createInterpolateElement } from '@wordpress/element';\n\nexport const LinkControlSearchCreate = ( {\n\tsearchTerm,\n\tonClick,\n\titemProps,\n\tisSelected,\n} ) => {\n\tif ( ! searchTerm ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\t{ ...itemProps }\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-link-control__search-create block-editor-link-control__search-item',\n\t\t\t\t{\n\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t}\n\t\t\t) }\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t<Icon\n\t\t\t\tclassName=\"block-editor-link-control__search-item-icon\"\n\t\t\t\ticon=\"insert\"\n\t\t\t/>\n\n\t\t\t<span className=\"block-editor-link-control__search-item-header\">\n\t\t\t\t<span className=\"block-editor-link-control__search-item-title\">\n\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t/* translators: %s: search term. */\n\t\t\t\t\t\t\t__( 'New page: <mark>%s</mark>' ),\n\t\t\t\t\t\t\tsearchTerm\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{ mark: <mark /> }\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</Button>\n\t);\n};\n\nexport default LinkControlSearchCreate;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop, startsWith } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tExternalLink,\n\tSpinner,\n\tVisuallyHidden,\n\tcreateSlotFill,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tuseRef,\n\tuseCallback,\n\tuseState,\n\tFragment,\n\tuseEffect,\n\tcreateElement,\n\tuseMemo,\n} from '@wordpress/element';\nimport {\n\tsafeDecodeURI,\n\tfilterURLForDisplay,\n\tisURL,\n\tprependHTTP,\n\tgetProtocol,\n} from '@wordpress/url';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\nimport { focus } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport LinkControlSettingsDrawer from './settings-drawer';\nimport LinkControlSearchItem from './search-item';\nimport LinkControlSearchInput from './search-input';\nimport LinkControlSearchCreate from './search-create-button';\n\nconst { Slot: ViewerSlot, Fill: ViewerFill } = createSlotFill(\n\t'BlockEditorLinkControlViewer'\n);\n\n// Used as a unique identifier for the \"Create\" option within search results.\n// Used to help distinguish the \"Create\" suggestion within the search results in\n// order to handle it as a unique case.\nconst CREATE_TYPE = '__CREATE__';\n\n/**\n * Creates a wrapper around a promise which allows it to be programmatically\n * cancelled.\n * See: https://reactjs.org/blog/2015/12/16/ismounted-antipattern.html\n *\n * @param {Promise} promise the Promise to make cancelable\n */\nconst makeCancelable = ( promise ) => {\n\tlet hasCanceled_ = false;\n\n\tconst wrappedPromise = new Promise( ( resolve, reject ) => {\n\t\tpromise.then(\n\t\t\t( val ) =>\n\t\t\t\thasCanceled_ ? reject( { isCanceled: true } ) : resolve( val ),\n\t\t\t( error ) =>\n\t\t\t\thasCanceled_ ? reject( { isCanceled: true } ) : reject( error )\n\t\t);\n\t} );\n\n\treturn {\n\t\tpromise: wrappedPromise,\n\t\tcancel() {\n\t\t\thasCanceled_ = true;\n\t\t},\n\t};\n};\n/**\n * Default properties associated with a link control value.\n *\n * @typedef WPLinkControlDefaultValue\n *\n * @property {string}   url           Link URL.\n * @property {string=}  title         Link title.\n * @property {boolean=} opensInNewTab Whether link should open in a new browser\n *                                    tab. This value is only assigned if not\n *                                    providing a custom `settings` prop.\n */\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * Custom settings values associated with a link.\n *\n * @typedef {{[setting:string]:any}} WPLinkControlSettingsValue\n */\n/* eslint-enable */\n\n/**\n * Custom settings values associated with a link.\n *\n * @typedef WPLinkControlSetting\n *\n * @property {string} id    Identifier to use as property for setting value.\n * @property {string} title Human-readable label to show in user interface.\n */\n\n/* eslint-disable jsdoc/valid-types */\n/**\n * Properties associated with a link control value, composed as a union of the\n * default properties and any custom settings values.\n *\n * @typedef {WPLinkControlDefaultValue&WPLinkControlSettingsValue} WPLinkControlValue\n */\n/* eslint-enable */\n\n/** @typedef {(nextValue:WPLinkControlValue)=>void} WPLinkControlOnChangeProp */\n\n/**\n * Properties associated with a search suggestion used within the LinkControl.\n *\n * @typedef WPLinkControlSuggestion\n *\n * @property {string} id    Identifier to use to uniquely identify the suggestion.\n * @property {string} type  Identifies the type of the suggestion (eg: `post`,\n *                          `page`, `url`...etc)\n * @property {string} title Human-readable label to show in user interface.\n * @property {string} url   A URL for the suggestion.\n */\n\n/** @typedef {(title:string)=>WPLinkControlSuggestion} WPLinkControlCreateSuggestionProp */\n\n/**\n * @typedef WPLinkControlProps\n *\n * @property {(WPLinkControlSetting[])=}            settings               An array of settings objects. Each object will used to\n *                                                                         render a `ToggleControl` for that setting.\n * @property {boolean=}                             forceIsEditingLink     If passed as either `true` or `false`, controls the\n *                                                                         internal editing state of the component to respective\n *                                                                         show or not show the URL input field.\n * @property {WPLinkControlValue=}                  value                  Current link value.\n * @property {WPLinkControlOnChangeProp=}           onChange               Value change handler, called with the updated value if\n *                                                                         the user selects a new link or updates settings.\n * @property {boolean=}                             showSuggestions        Whether to present suggestions when typing the URL.\n * @property {boolean=}                             showInitialSuggestions Whether to present initial suggestions immediately.\n * @property {WPLinkControlCreateSuggestionProp=}   createSuggestion       Handler to manage creation of link value from suggestion.\n */\n\n/**\n * Renders a link control. A link control is a controlled input which maintains\n * a value associated with a link (HTML anchor element) and relevant settings\n * for how that link is expected to behave.\n *\n * @param {WPLinkControlProps} props Component props.\n */\nfunction LinkControl( {\n\tvalue,\n\tsettings,\n\tonChange = noop,\n\tshowSuggestions = true,\n\tshowInitialSuggestions,\n\tforceIsEditingLink,\n\tcreateSuggestion,\n} ) {\n\tconst cancelableOnCreate = useRef();\n\tconst cancelableCreateSuggestion = useRef();\n\n\tconst wrapperNode = useRef();\n\tconst instanceId = useInstanceId( LinkControl );\n\tconst [ inputValue, setInputValue ] = useState(\n\t\t( value && value.url ) || ''\n\t);\n\tconst [ isEditingLink, setIsEditingLink ] = useState(\n\t\tforceIsEditingLink !== undefined\n\t\t\t? forceIsEditingLink\n\t\t\t: ! value || ! value.url\n\t);\n\tconst [ isResolvingLink, setIsResolvingLink ] = useState( false );\n\tconst [ errorMessage, setErrorMessage ] = useState( null );\n\tconst isEndingEditWithFocus = useRef( false );\n\n\tconst { fetchSearchSuggestions } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( 'core/block-editor' );\n\t\treturn {\n\t\t\tfetchSearchSuggestions: getSettings()\n\t\t\t\t.__experimentalFetchLinkSuggestions,\n\t\t};\n\t}, [] );\n\tconst displayURL =\n\t\t( value && filterURLForDisplay( safeDecodeURI( value.url ) ) ) || '';\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\tforceIsEditingLink !== undefined &&\n\t\t\tforceIsEditingLink !== isEditingLink\n\t\t) {\n\t\t\tsetIsEditingLink( forceIsEditingLink );\n\t\t}\n\t}, [ forceIsEditingLink ] );\n\n\tuseEffect( () => {\n\t\t// When `isEditingLink` is set to `false`, a focus loss could occur\n\t\t// since the link input may be removed from the DOM. To avoid this,\n\t\t// reinstate focus to a suitable target if focus has in-fact been lost.\n\t\t// Note that the check is necessary because while typically unsetting\n\t\t// edit mode would render the read-only mode's link element, it isn't\n\t\t// guaranteed. The link input may continue to be shown if the next value\n\t\t// is still unassigned after calling `onChange`.\n\t\tconst hadFocusLoss =\n\t\t\tisEndingEditWithFocus.current &&\n\t\t\twrapperNode.current &&\n\t\t\t! wrapperNode.current.contains( document.activeElement );\n\n\t\tif ( hadFocusLoss ) {\n\t\t\t// Prefer to focus a natural focusable descendent of the wrapper,\n\t\t\t// but settle for the wrapper if there are no other options.\n\t\t\tconst nextFocusTarget =\n\t\t\t\tfocus.focusable.find( wrapperNode.current )[ 0 ] ||\n\t\t\t\twrapperNode.current;\n\n\t\t\tnextFocusTarget.focus();\n\t\t}\n\n\t\tisEndingEditWithFocus.current = false;\n\t}, [ isEditingLink ] );\n\n\t/**\n\t * Handles cancelling any pending Promises that have been made cancelable.\n\t */\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\t// componentDidUnmount\n\t\t\tif ( cancelableOnCreate.current ) {\n\t\t\t\tcancelableOnCreate.current.cancel();\n\t\t\t}\n\t\t\tif ( cancelableCreateSuggestion.current ) {\n\t\t\t\tcancelableCreateSuggestion.current.cancel();\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\t/**\n\t * onChange LinkControlSearchInput event handler\n\t *\n\t * @param {string} val Current value returned by the search.\n\t */\n\tconst onInputChange = ( val = '' ) => {\n\t\tsetInputValue( val );\n\t};\n\n\tconst handleDirectEntry = ( val ) => {\n\t\tlet type = 'URL';\n\n\t\tconst protocol = getProtocol( val ) || '';\n\n\t\tif ( protocol.includes( 'mailto' ) ) {\n\t\t\ttype = 'mailto';\n\t\t}\n\n\t\tif ( protocol.includes( 'tel' ) ) {\n\t\t\ttype = 'tel';\n\t\t}\n\n\t\tif ( startsWith( val, '#' ) ) {\n\t\t\ttype = 'internal';\n\t\t}\n\n\t\treturn Promise.resolve( [\n\t\t\t{\n\t\t\t\tid: val,\n\t\t\t\ttitle: val,\n\t\t\t\turl: type === 'URL' ? prependHTTP( val ) : val,\n\t\t\t\ttype,\n\t\t\t},\n\t\t] );\n\t};\n\n\tconst handleEntitySearch = async ( val, args ) => {\n\t\tlet results = await Promise.all( [\n\t\t\tfetchSearchSuggestions( val, {\n\t\t\t\t...( args.isInitialSuggestions ? { perPage: 3 } : {} ),\n\t\t\t} ),\n\t\t\thandleDirectEntry( val ),\n\t\t] );\n\n\t\tconst couldBeURL = ! val.includes( ' ' );\n\n\t\t// If it's potentially a URL search then concat on a URL search suggestion\n\t\t// just for good measure. That way once the actual results run out we always\n\t\t// have a URL option to fallback on.\n\t\tresults =\n\t\t\tcouldBeURL && ! args.isInitialSuggestions\n\t\t\t\t? results[ 0 ].concat( results[ 1 ] )\n\t\t\t\t: results[ 0 ];\n\n\t\t// Here we append a faux suggestion to represent a \"CREATE\" option. This\n\t\t// is detected in the rendering of the search results and handled as a\n\t\t// special case. This is currently necessary because the suggestions\n\t\t// dropdown will only appear if there are valid suggestions and\n\t\t// therefore unless the create option is a suggestion it will not\n\t\t// display in scenarios where there are no results returned from the\n\t\t// API. In addition promoting CREATE to a first class suggestion affords\n\t\t// the a11y benefits afforded by `URLInput` to all suggestions (eg:\n\t\t// keyboard handling, ARIA roles...etc).\n\t\t//\n\t\t// Note also that the value of the `title` and `url` properties must correspond\n\t\t// to the text value of the `<input>`. This is because `title` is used\n\t\t// when creating the suggestion. Similarly `url` is used when using keyboard to select\n\t\t// the suggestion (the <form> `onSubmit` handler falls-back to `url`).\n\t\treturn isURLLike( val )\n\t\t\t? results\n\t\t\t: results.concat( {\n\t\t\t\t\t// the `id` prop is intentionally ommitted here because it\n\t\t\t\t\t// is never exposed as part of the component's public API.\n\t\t\t\t\t// see: https://github.com/WordPress/gutenberg/pull/19775#discussion_r378931316.\n\t\t\t\t\ttitle: val, // must match the existing `<input>`s text value\n\t\t\t\t\turl: val, // must match the existing `<input>`s text value\n\t\t\t\t\ttype: CREATE_TYPE,\n\t\t\t  } );\n\t};\n\n\t/**\n\t * Cancels editing state and marks that focus may need to be restored after\n\t * the next render, if focus was within the wrapper when editing finished.\n\t */\n\tfunction stopEditing() {\n\t\tisEndingEditWithFocus.current =\n\t\t\t!! wrapperNode.current &&\n\t\t\twrapperNode.current.contains( document.activeElement );\n\n\t\tsetIsEditingLink( false );\n\t}\n\n\t/**\n\t * Determines whether a given value could be a URL. Note this does not\n\t * guarantee the value is a URL only that it looks like it might be one. For\n\t * example, just because a string has `www.` in it doesn't make it a URL,\n\t * but it does make it highly likely that it will be so in the context of\n\t * creating a link it makes sense to treat it like one.\n\t *\n\t * @param {string} val the candidate for being URL-like (or not).\n\t * @return {boolean}   whether or not the value is potentially a URL.\n\t */\n\tfunction isURLLike( val ) {\n\t\tconst isInternal = startsWith( val, '#' );\n\t\treturn isURL( val ) || ( val && val.includes( 'www.' ) ) || isInternal;\n\t}\n\n\t// Effects\n\tconst getSearchHandler = useCallback(\n\t\t( val, args ) => {\n\t\t\tif ( ! showSuggestions ) {\n\t\t\t\treturn Promise.resolve( [] );\n\t\t\t}\n\n\t\t\treturn isURLLike( val )\n\t\t\t\t? handleDirectEntry( val, args )\n\t\t\t\t: handleEntitySearch( val, args );\n\t\t},\n\t\t[ handleDirectEntry, fetchSearchSuggestions ]\n\t);\n\n\tconst handleOnCreate = async ( suggestionTitle ) => {\n\t\tsetIsResolvingLink( true );\n\t\tsetErrorMessage( null );\n\n\t\ttry {\n\t\t\t// Make cancellable in order that we can avoid setting State\n\t\t\t// if the component unmounts during the call to `createSuggestion`\n\t\t\tcancelableCreateSuggestion.current = makeCancelable(\n\t\t\t\t// Using Promise.resolve to allow createSuggestion to return a\n\t\t\t\t// non-Promise based value.\n\t\t\t\tPromise.resolve( createSuggestion( suggestionTitle ) )\n\t\t\t);\n\n\t\t\tconst newSuggestion = await cancelableCreateSuggestion.current\n\t\t\t\t.promise;\n\n\t\t\t// ********\n\t\t\t// NOTE: if the above Promise rejects then code below here will never run\n\t\t\t// ********\n\t\t\tsetIsResolvingLink( false );\n\n\t\t\t// Only set link if request is resolved, otherwise enable edit mode.\n\t\t\tif ( newSuggestion ) {\n\t\t\t\tonChange( newSuggestion );\n\t\t\t\tstopEditing();\n\t\t\t} else {\n\t\t\t\tsetIsEditingLink( true );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\tif ( error && error.isCanceled ) {\n\t\t\t\treturn; // bail if canceled to avoid setting state\n\t\t\t}\n\n\t\t\tsetErrorMessage(\n\t\t\t\terror.message ||\n\t\t\t\t\t__(\n\t\t\t\t\t\t'An unknown error occurred during creation. Please try again.'\n\t\t\t\t\t)\n\t\t\t);\n\t\t\tsetIsResolvingLink( false );\n\t\t\tsetIsEditingLink( true );\n\t\t}\n\t};\n\n\tconst handleSelectSuggestion = ( suggestion, _value = {} ) => {\n\t\tsetIsEditingLink( false );\n\t\tonChange( { ..._value, ...suggestion } );\n\t};\n\n\t// Render Components\n\tconst renderSearchResults = ( {\n\t\tsuggestionsListProps,\n\t\tbuildSuggestionItemProps,\n\t\tsuggestions,\n\t\tselectedSuggestion,\n\t\tisLoading,\n\t\tisInitialSuggestions,\n\t} ) => {\n\t\tconst resultsListClasses = classnames(\n\t\t\t'block-editor-link-control__search-results',\n\t\t\t{\n\t\t\t\t'is-loading': isLoading,\n\t\t\t}\n\t\t);\n\n\t\tconst directLinkEntryTypes = [ 'url', 'mailto', 'tel', 'internal' ];\n\t\tconst isSingleDirectEntryResult =\n\t\t\tsuggestions.length === 1 &&\n\t\t\tdirectLinkEntryTypes.includes(\n\t\t\t\tsuggestions[ 0 ].type.toLowerCase()\n\t\t\t);\n\t\tconst shouldShowCreateSuggestion =\n\t\t\tcreateSuggestion &&\n\t\t\t! isSingleDirectEntryResult &&\n\t\t\t! isInitialSuggestions;\n\n\t\t// According to guidelines aria-label should be added if the label\n\t\t// itself is not visible.\n\t\t// See: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role\n\t\tconst searchResultsLabelId = `block-editor-link-control-search-results-label-${ instanceId }`;\n\t\tconst labelText = isInitialSuggestions\n\t\t\t? __( 'Recently updated' )\n\t\t\t: sprintf(\n\t\t\t\t\t/* translators: %s: search term. */\n\t\t\t\t\t__( 'Search results for \"%s\"' ),\n\t\t\t\t\tinputValue\n\t\t\t  );\n\n\t\t// VisuallyHidden rightly doesn't accept custom classNames\n\t\t// so we conditionally render it as a wrapper to visually hide the label\n\t\t// when that is required.\n\t\tconst searchResultsLabel = createElement(\n\t\t\tisInitialSuggestions ? Fragment : VisuallyHidden,\n\t\t\t{}, // empty props\n\t\t\t<span\n\t\t\t\tclassName=\"block-editor-link-control__search-results-label\"\n\t\t\t\tid={ searchResultsLabelId }\n\t\t\t>\n\t\t\t\t{ labelText }\n\t\t\t</span>\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"block-editor-link-control__search-results-wrapper\">\n\t\t\t\t{ searchResultsLabel }\n\t\t\t\t<div\n\t\t\t\t\t{ ...suggestionsListProps }\n\t\t\t\t\tclassName={ resultsListClasses }\n\t\t\t\t\taria-labelledby={ searchResultsLabelId }\n\t\t\t\t>\n\t\t\t\t\t{ suggestions.map( ( suggestion, index ) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tshouldShowCreateSuggestion &&\n\t\t\t\t\t\t\tCREATE_TYPE === suggestion.type\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<LinkControlSearchCreate\n\t\t\t\t\t\t\t\t\tsearchTerm={ inputValue }\n\t\t\t\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\t\t\t\tawait handleOnCreate(\n\t\t\t\t\t\t\t\t\t\t\tsuggestion.title\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t// Intentionally only using `type` here as\n\t\t\t\t\t\t\t\t\t// the constant is enough to uniquely\n\t\t\t\t\t\t\t\t\t// identify the single \"CREATE\" suggestion.\n\t\t\t\t\t\t\t\t\tkey={ suggestion.type }\n\t\t\t\t\t\t\t\t\titemProps={ buildSuggestionItemProps(\n\t\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tisSelected={ index === selectedSuggestion }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If we're not handling \"Create\" suggestions above then\n\t\t\t\t\t\t// we don't want them in the main results so exit early\n\t\t\t\t\t\tif ( CREATE_TYPE === suggestion.type ) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<LinkControlSearchItem\n\t\t\t\t\t\t\t\tkey={ `${ suggestion.id }-${ suggestion.type }` }\n\t\t\t\t\t\t\t\titemProps={ buildSuggestionItemProps(\n\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tsuggestion={ suggestion }\n\t\t\t\t\t\t\t\tindex={ index }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tstopEditing();\n\t\t\t\t\t\t\t\t\tonChange( { ...value, ...suggestion } );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tisSelected={ index === selectedSuggestion }\n\t\t\t\t\t\t\t\tisURL={ directLinkEntryTypes.includes(\n\t\t\t\t\t\t\t\t\tsuggestion.type.toLowerCase()\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tsearchTerm={ inputValue }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst viewerSlotFillProps = useMemo(\n\t\t() => ( { url: value && value.url } ),\n\t\t[ value && value.url ]\n\t);\n\treturn (\n\t\t<div\n\t\t\ttabIndex={ -1 }\n\t\t\tref={ wrapperNode }\n\t\t\tclassName=\"block-editor-link-control\"\n\t\t>\n\t\t\t{ isResolvingLink && (\n\t\t\t\t<div className=\"block-editor-link-control__loading\">\n\t\t\t\t\t<Spinner /> { __( 'Creating' ) }…\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ ( isEditingLink || ! value ) && ! isResolvingLink && (\n\t\t\t\t<LinkControlSearchInput\n\t\t\t\t\tvalue={ inputValue }\n\t\t\t\t\tonChange={ onInputChange }\n\t\t\t\t\tonSelect={ async ( suggestion ) => {\n\t\t\t\t\t\tif ( CREATE_TYPE === suggestion.type ) {\n\t\t\t\t\t\t\tawait handleOnCreate( inputValue );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thandleSelectSuggestion( suggestion, value );\n\t\t\t\t\t\t\tstopEditing();\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t\trenderSuggestions={\n\t\t\t\t\t\tshowSuggestions ? renderSearchResults : null\n\t\t\t\t\t}\n\t\t\t\t\tfetchSuggestions={ getSearchHandler }\n\t\t\t\t\tshowInitialSuggestions={ showInitialSuggestions }\n\t\t\t\t\terrorMessage={ errorMessage }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t{ value && ! isEditingLink && ! isResolvingLink && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<div\n\t\t\t\t\t\taria-label={ __( 'Currently selected' ) }\n\t\t\t\t\t\taria-selected=\"true\"\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'block-editor-link-control__search-item',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-current': true,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"block-editor-link-control__search-item-header\">\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\tclassName=\"block-editor-link-control__search-item-title\"\n\t\t\t\t\t\t\t\thref={ value.url }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ ( value && value.title ) || displayURL }\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t{ value && value.title && (\n\t\t\t\t\t\t\t\t<span className=\"block-editor-link-control__search-item-info\">\n\t\t\t\t\t\t\t\t\t{ displayURL }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\tonClick={ () => setIsEditingLink( true ) }\n\t\t\t\t\t\t\tclassName=\"block-editor-link-control__search-item-action\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<ViewerSlot fillProps={ viewerSlotFillProps } />\n\t\t\t\t\t</div>\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t\t<LinkControlSettingsDrawer\n\t\t\t\tvalue={ value }\n\t\t\t\tsettings={ settings }\n\t\t\t\tonChange={ onChange }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nLinkControl.ViewerFill = ViewerFill;\n\nexport default LinkControl;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TextControl } from '@wordpress/components';\nimport { ZERO } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport {\n\tBASE_DEFAULT_VALUE,\n\tRESET_VALUE,\n\tSTEP,\n\tuseIsLineHeightControlsDisabled,\n\tisLineHeightDefined,\n} from './utils';\n\nexport default function LineHeightControl( { value: lineHeight, onChange } ) {\n\t// Don't render the controls if disabled by editor settings\n\tconst isDisabled = useIsLineHeightControlsDisabled();\n\tif ( isDisabled ) {\n\t\treturn null;\n\t}\n\n\tconst isDefined = isLineHeightDefined( lineHeight );\n\n\tconst handleOnKeyDown = ( event ) => {\n\t\tconst { keyCode } = event;\n\n\t\tif ( keyCode === ZERO && ! isDefined ) {\n\t\t\t/**\n\t\t\t * Prevents the onChange callback from firing, which prevents\n\t\t\t * the logic from assuming the change was triggered from\n\t\t\t * an input arrow CLICK.\n\t\t\t */\n\t\t\tevent.preventDefault();\n\t\t\tonChange( '0' );\n\t\t}\n\t};\n\n\tconst handleOnChange = ( nextValue ) => {\n\t\t// Set the next value without modification if lineHeight has been defined\n\t\tif ( isDefined ) {\n\t\t\tonChange( nextValue );\n\t\t\treturn;\n\t\t}\n\n\t\t// Otherwise...\n\t\t/**\n\t\t * The following logic handles the initial up/down arrow CLICK of the\n\t\t * input element. This is so that the next values (from an undefined value state)\n\t\t * are more better suited for line-height rendering.\n\t\t */\n\t\tlet adjustedNextValue = nextValue;\n\n\t\tswitch ( nextValue ) {\n\t\t\tcase `${ STEP }`:\n\t\t\t\t// Increment by step value\n\t\t\t\tadjustedNextValue = BASE_DEFAULT_VALUE + STEP;\n\t\t\t\tbreak;\n\t\t\tcase '0':\n\t\t\t\t// Decrement by step value\n\t\t\t\tadjustedNextValue = BASE_DEFAULT_VALUE - STEP;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tonChange( adjustedNextValue );\n\t};\n\n\tconst value = isDefined ? lineHeight : RESET_VALUE;\n\n\treturn (\n\t\t<div className=\"block-editor-line-height-control\">\n\t\t\t<TextControl\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tonKeyDown={ handleOnKeyDown }\n\t\t\t\tonChange={ handleOnChange }\n\t\t\t\tlabel={ __( 'Line height' ) }\n\t\t\t\tplaceholder={ BASE_DEFAULT_VALUE }\n\t\t\t\tstep={ STEP }\n\t\t\t\ttype=\"number\"\n\t\t\t\tvalue={ value }\n\t\t\t\tmin={ 0 }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\nexport const BASE_DEFAULT_VALUE = 1.5;\nexport const STEP = 0.1;\n/**\n * There are varying value types within LineHeightControl:\n *\n * {undefined} Initial value. No changes from the user.\n * {string} Input value. Value consumed/outputted by the input. Empty would be ''.\n * {number} Block attribute type. Input value needs to be converted for attribute setting.\n *\n * Note: If the value is undefined, the input requires it to be an empty string ('')\n * in order to be considered \"controlled\" by props (rather than internal state).\n */\nexport const RESET_VALUE = '';\n\n/**\n * Retrieves whether custom lineHeight controls should be disabled from editor settings.\n *\n * @return {boolean} Whether lineHeight controls should be disabled.\n */\nexport function useIsLineHeightControlsDisabled() {\n\tconst isDisabled = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( 'core/block-editor' );\n\n\t\treturn !! getSettings().__experimentalDisableCustomLineHeight;\n\t}, [] );\n\n\treturn isDisabled;\n}\n\n/**\n * Determines if the lineHeight attribute has been properly defined.\n *\n * @param {any} lineHeight The value to check.\n *\n * @return {boolean} Whether the lineHeight attribute is valid.\n */\nexport function isLineHeightDefined( lineHeight ) {\n\treturn lineHeight !== undefined && lineHeight !== RESET_VALUE;\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\n\nclass FormFileUpload extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.openFileDialog = this.openFileDialog.bind( this );\n\t\tthis.bindInput = this.bindInput.bind( this );\n\t}\n\n\topenFileDialog() {\n\t\tthis.input.click();\n\t}\n\n\tbindInput( ref ) {\n\t\tthis.input = ref;\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\taccept,\n\t\t\tchildren,\n\t\t\tmultiple = false,\n\t\t\tonChange,\n\t\t\trender,\n\t\t\t...props\n\t\t} = this.props;\n\n\t\tconst ui = render ? (\n\t\t\trender( { openFileDialog: this.openFileDialog } )\n\t\t) : (\n\t\t\t<Button onClick={ this.openFileDialog } { ...props }>\n\t\t\t\t{ children }\n\t\t\t</Button>\n\t\t);\n\t\treturn (\n\t\t\t<div className=\"components-form-file-upload\">\n\t\t\t\t{ ui }\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tref={ this.bindInput }\n\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\tstyle={ { display: 'none' } }\n\t\t\t\t\taccept={ accept }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default FormFileUpload;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst media = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M13 11V4c0-.55-.45-1-1-1h-1.67L9 1H5L3.67 3H2c-.55 0-1 .45-1 1v7c0 .55.45 1 1 1h10c.55 0 1-.45 1-1zM7 4.5c1.38 0 2.5 1.12 2.5 2.5S8.38 9.5 7 9.5 4.5 8.38 4.5 7 5.62 4.5 7 4.5zM14 6h5v10.5c0 1.38-1.12 2.5-2.5 2.5S14 17.88 14 16.5s1.12-2.5 2.5-2.5c.17 0 .34.02.5.05V9h-3V6zm-4 8.05V13h2v3.5c0 1.38-1.12 2.5-2.5 2.5S7 17.88 7 16.5 8.12 14 9.5 14c.17 0 .34.02.5.05z\" />\n\t</SVG>\n);\n\nexport default media;\n","/**\n * WordPress dependencies\n */\nimport { withFilters } from '@wordpress/components';\n\n/**\n * This is a placeholder for the media upload component necessary to make it possible to provide\n * an integration with the core blocks that handle media files. By default it renders nothing but\n * it provides a way to have it overridden with the `editor.MediaUpload` filter.\n *\n * @return {WPComponent} The component to be rendered.\n */\nconst MediaUpload = () => null;\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/media-upload/README.md\n */\nexport default withFilters( 'editor.MediaUpload' )( MediaUpload );\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\nexport function MediaUploadCheck( {\n\thasUploadPermissions,\n\tfallback = null,\n\tchildren,\n} ) {\n\treturn hasUploadPermissions ? children : fallback;\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/media-upload/README.md\n */\nexport default withSelect( ( select ) => {\n\tconst { getSettings } = select( 'core/block-editor' );\n\n\treturn {\n\t\thasUploadPermissions: !! getSettings().mediaUpload,\n\t};\n} )( MediaUploadCheck );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst pencil = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M13.89 3.39l2.71 2.72c.46.46.42 1.24.03 1.64l-8.01 8.02-5.56 1.16 1.16-5.58s7.6-7.63 7.99-8.03c.39-.39 1.22-.39 1.68.07zm-2.73 2.79l-5.59 5.61 1.11 1.11 5.54-5.65zm-2.97 8.23l5.58-5.6-1.07-1.08-5.59 5.6zM13.89 3.39l2.71 2.72c.46.46.42 1.24.03 1.64l-8.01 8.02-5.56 1.16 1.16-5.58s7.6-7.63 7.99-8.03c.39-.39 1.22-.39 1.68.07zm-2.73 2.79l-5.59 5.61 1.11 1.11 5.54-5.65zm-2.97 8.23l5.58-5.6-1.07-1.08-5.59 5.6z\" />\n\t</SVG>\n);\n\nexport default pencil;\n","/**\n * External dependencies\n */\nimport { uniqueId } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useState, createRef, renderToString } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { speak } from '@wordpress/a11y';\nimport {\n\tFormFileUpload,\n\tNavigableMenu,\n\tMenuItem,\n\tToolbarGroup,\n\tButton,\n\tDropdown,\n} from '@wordpress/components';\nimport { withDispatch, useSelect } from '@wordpress/data';\nimport { DOWN } from '@wordpress/keycodes';\nimport { compose } from '@wordpress/compose';\nimport { upload, media as mediaIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport MediaUpload from '../media-upload';\nimport MediaUploadCheck from '../media-upload/check';\nimport LinkControl from '../link-control';\n\nconst MediaReplaceFlow = ( {\n\tmediaURL,\n\tmediaId,\n\tallowedTypes,\n\taccept,\n\tonSelect,\n\tonSelectURL,\n\tname = __( 'Replace' ),\n\tcreateNotice,\n\tremoveNotice,\n} ) => {\n\tconst [ mediaURLValue, setMediaURLValue ] = useState( mediaURL );\n\tconst mediaUpload = useSelect( ( select ) => {\n\t\treturn select( 'core/block-editor' ).getSettings().mediaUpload;\n\t}, [] );\n\tconst editMediaButtonRef = createRef();\n\tconst errorNoticeID = uniqueId(\n\t\t'block-editor/media-replace-flow/error-notice/'\n\t);\n\n\tconst onError = ( message ) => {\n\t\tconst errorElement = document.createElement( 'div' );\n\t\terrorElement.innerHTML = renderToString( message );\n\t\t// The default error contains some HTML that,\n\t\t// for example, makes the filename bold.\n\t\t// The notice, by default, accepts strings only and so\n\t\t// we need to remove the html from the error.\n\t\tconst renderMsg =\n\t\t\terrorElement.textContent || errorElement.innerText || '';\n\t\t// We need to set a timeout for showing the notice\n\t\t// so that VoiceOver and possibly other screen readers\n\t\t// can announce the error afer the toolbar button\n\t\t// regains focus once the upload dialog closes.\n\t\t// Otherwise VO simply skips over the notice and announces\n\t\t// the focused element and the open menu.\n\t\tsetTimeout( () => {\n\t\t\tcreateNotice( 'error', renderMsg, {\n\t\t\t\tspeak: true,\n\t\t\t\tid: errorNoticeID,\n\t\t\t\tisDismissible: true,\n\t\t\t} );\n\t\t}, 1000 );\n\t};\n\n\tconst selectMedia = ( media ) => {\n\t\tonSelect( media );\n\t\tsetMediaURLValue( media.url );\n\t\tspeak( __( 'The media file has been replaced' ) );\n\t\tremoveNotice( errorNoticeID );\n\t};\n\n\tconst selectURL = ( newURL ) => {\n\t\tonSelectURL( newURL );\n\t};\n\n\tconst uploadFiles = ( event ) => {\n\t\tconst files = event.target.files;\n\t\tconst setMedia = ( [ media ] ) => {\n\t\t\tselectMedia( media );\n\t\t};\n\t\tmediaUpload( {\n\t\t\tallowedTypes,\n\t\t\tfilesList: files,\n\t\t\tonFileChange: setMedia,\n\t\t\tonError,\n\t\t} );\n\t};\n\n\tconst openOnArrowDown = ( event ) => {\n\t\tif ( event.keyCode === DOWN ) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tevent.target.click();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dropdown\n\t\t\tcontentClassName=\"block-editor-media-replace-flow__options\"\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<ToolbarGroup className=\"media-replace-flow\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tref={ editMediaButtonRef }\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\tonKeyDown={ openOnArrowDown }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ name }\n\t\t\t\t\t</Button>\n\t\t\t\t</ToolbarGroup>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<NavigableMenu>\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\tvalue={ mediaId }\n\t\t\t\t\t\t\tonSelect={ ( media ) => selectMedia( media ) }\n\t\t\t\t\t\t\tallowedTypes={ allowedTypes }\n\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t<MenuItem icon={ mediaIcon } onClick={ open }>\n\t\t\t\t\t\t\t\t\t{ __( 'Open Media Library' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\t\t\t\t\tuploadFiles( event, onClose );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taccept={ accept }\n\t\t\t\t\t\t\t\trender={ ( { openFileDialog } ) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\ticon={ upload }\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\topenFileDialog();\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t{ onSelectURL && (\n\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tclassName=\"block-editor-media-flow__url-input\"\n\t\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonKeyPress={ ( event ) => {\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span className=\"block-editor-media-replace-flow__image-url-label\">\n\t\t\t\t\t\t\t\t{ __( 'Current media URL:' ) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<LinkControl\n\t\t\t\t\t\t\t\tvalue={ { url: mediaURLValue } }\n\t\t\t\t\t\t\t\tsettings={ [] }\n\t\t\t\t\t\t\t\tshowSuggestions={ false }\n\t\t\t\t\t\t\t\tonChange={ ( { url } ) => {\n\t\t\t\t\t\t\t\t\tsetMediaURLValue( url );\n\t\t\t\t\t\t\t\t\tselectURL( url );\n\t\t\t\t\t\t\t\t\teditMediaButtonRef.current.focus();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t) }\n\t\t/>\n\t);\n};\n\nexport default compose( [\n\twithDispatch( ( dispatch ) => {\n\t\tconst { createNotice, removeNotice } = dispatch( 'core/notices' );\n\t\treturn {\n\t\t\tcreateNotice,\n\t\t\tremoveNotice,\n\t\t};\n\t} ),\n] )( MediaReplaceFlow );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ExternalLink, Button } from '@wordpress/components';\nimport { safeDecodeURI, filterURLForDisplay } from '@wordpress/url';\nimport { pencil } from '@wordpress/icons';\n\nfunction LinkViewerUrl( { url, urlLabel, className } ) {\n\tconst linkClassName = classnames(\n\t\tclassName,\n\t\t'block-editor-url-popover__link-viewer-url'\n\t);\n\n\tif ( ! url ) {\n\t\treturn <span className={ linkClassName }></span>;\n\t}\n\n\treturn (\n\t\t<ExternalLink className={ linkClassName } href={ url }>\n\t\t\t{ urlLabel || filterURLForDisplay( safeDecodeURI( url ) ) }\n\t\t</ExternalLink>\n\t);\n}\n\nexport default function LinkViewer( {\n\tclassName,\n\tlinkClassName,\n\tonEditLinkClick,\n\turl,\n\turlLabel,\n\t...props\n} ) {\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-url-popover__link-viewer',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<LinkViewerUrl\n\t\t\t\turl={ url }\n\t\t\t\turlLabel={ urlLabel }\n\t\t\t\tclassName={ linkClassName }\n\t\t\t/>\n\t\t\t{ onEditLinkClick && (\n\t\t\t\t<Button\n\t\t\t\t\ticon={ pencil }\n\t\t\t\t\tlabel={ __( 'Edit' ) }\n\t\t\t\t\tonClick={ onEditLinkClick }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { throttle, isFunction } from 'lodash';\nimport classnames from 'classnames';\nimport scrollIntoView from 'dom-scroll-into-view';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport { UP, DOWN, ENTER, TAB } from '@wordpress/keycodes';\nimport {\n\tBaseControl,\n\tButton,\n\tSpinner,\n\twithSpokenMessages,\n\tPopover,\n} from '@wordpress/components';\nimport { withInstanceId, withSafeTimeout, compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport { isURL } from '@wordpress/url';\n\n// Since URLInput is rendered in the context of other inputs, but should be\n// considered a separate modal node, prevent keyboard events from propagating\n// as being considered from the input.\nconst stopEventPropagation = ( event ) => event.stopPropagation();\n\nclass URLInput extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.onChange = this.onChange.bind( this );\n\t\tthis.onFocus = this.onFocus.bind( this );\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\t\tthis.selectLink = this.selectLink.bind( this );\n\t\tthis.handleOnClick = this.handleOnClick.bind( this );\n\t\tthis.bindSuggestionNode = this.bindSuggestionNode.bind( this );\n\t\tthis.autocompleteRef = props.autocompleteRef || createRef();\n\t\tthis.inputRef = createRef();\n\t\tthis.updateSuggestions = throttle(\n\t\t\tthis.updateSuggestions.bind( this ),\n\t\t\t200\n\t\t);\n\n\t\tthis.suggestionNodes = [];\n\n\t\tthis.isUpdatingSuggestions = false;\n\n\t\tthis.state = {\n\t\t\tsuggestions: [],\n\t\t\tshowSuggestions: false,\n\t\t\tselectedSuggestion: null,\n\t\t};\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst { showSuggestions, selectedSuggestion } = this.state;\n\t\tconst { value } = this.props;\n\n\t\t// only have to worry about scrolling selected suggestion into view\n\t\t// when already expanded\n\t\tif (\n\t\t\tshowSuggestions &&\n\t\t\tselectedSuggestion !== null &&\n\t\t\t! this.scrollingIntoView\n\t\t) {\n\t\t\tthis.scrollingIntoView = true;\n\n\t\t\tscrollIntoView(\n\t\t\t\tthis.suggestionNodes[ selectedSuggestion ],\n\t\t\t\tthis.autocompleteRef.current,\n\t\t\t\t{\n\t\t\t\t\tonlyScrollIfNeeded: true,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tthis.props.setTimeout( () => {\n\t\t\t\tthis.scrollingIntoView = false;\n\t\t\t}, 100 );\n\t\t}\n\n\t\t// Only attempt an update on suggestions if the input value has actually changed.\n\t\tif (\n\t\t\tprevProps.value !== value &&\n\t\t\tthis.shouldShowInitialSuggestions()\n\t\t) {\n\t\t\tthis.updateSuggestions();\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( this.shouldShowInitialSuggestions() ) {\n\t\t\tthis.updateSuggestions();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdelete this.suggestionsRequest;\n\t}\n\n\tbindSuggestionNode( index ) {\n\t\treturn ( ref ) => {\n\t\t\tthis.suggestionNodes[ index ] = ref;\n\t\t};\n\t}\n\n\tshouldShowInitialSuggestions() {\n\t\tconst { suggestions } = this.state;\n\t\tconst {\n\t\t\t__experimentalShowInitialSuggestions = false,\n\t\t\tvalue,\n\t\t} = this.props;\n\t\treturn (\n\t\t\t! this.isUpdatingSuggestions &&\n\t\t\t__experimentalShowInitialSuggestions &&\n\t\t\t! ( value && value.length ) &&\n\t\t\t! ( suggestions && suggestions.length )\n\t\t);\n\t}\n\n\tupdateSuggestions( value = '' ) {\n\t\tconst {\n\t\t\t__experimentalFetchLinkSuggestions: fetchLinkSuggestions,\n\t\t\t__experimentalHandleURLSuggestions: handleURLSuggestions,\n\t\t} = this.props;\n\n\t\tif ( ! fetchLinkSuggestions ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isInitialSuggestions = ! ( value && value.length );\n\n\t\t// Allow a suggestions request if:\n\t\t// - there are at least 2 characters in the search input (except manual searches where\n\t\t//   search input length is not required to trigger a fetch)\n\t\t// - this is a direct entry (eg: a URL)\n\t\tif (\n\t\t\t! isInitialSuggestions &&\n\t\t\t( value.length < 2 || ( ! handleURLSuggestions && isURL( value ) ) )\n\t\t) {\n\t\t\tthis.setState( {\n\t\t\t\tshowSuggestions: false,\n\t\t\t\tselectedSuggestion: null,\n\t\t\t\tloading: false,\n\t\t\t} );\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.isUpdatingSuggestions = true;\n\n\t\tthis.setState( {\n\t\t\tshowSuggestions: true,\n\t\t\tselectedSuggestion: null,\n\t\t\tloading: true,\n\t\t} );\n\n\t\tconst request = fetchLinkSuggestions( value, {\n\t\t\tisInitialSuggestions,\n\t\t} );\n\n\t\trequest\n\t\t\t.then( ( suggestions ) => {\n\t\t\t\t// A fetch Promise doesn't have an abort option. It's mimicked by\n\t\t\t\t// comparing the request reference in on the instance, which is\n\t\t\t\t// reset or deleted on subsequent requests or unmounting.\n\t\t\t\tif ( this.suggestionsRequest !== request ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.setState( {\n\t\t\t\t\tsuggestions,\n\t\t\t\t\tloading: false,\n\t\t\t\t} );\n\n\t\t\t\tif ( !! suggestions.length ) {\n\t\t\t\t\tthis.props.debouncedSpeak(\n\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t/* translators: %s: number of results. */\n\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t'%d result found, use up and down arrow keys to navigate.',\n\t\t\t\t\t\t\t\t'%d results found, use up and down arrow keys to navigate.',\n\t\t\t\t\t\t\t\tsuggestions.length\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tsuggestions.length\n\t\t\t\t\t\t),\n\t\t\t\t\t\t'assertive'\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.debouncedSpeak(\n\t\t\t\t\t\t__( 'No results.' ),\n\t\t\t\t\t\t'assertive'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tthis.isUpdatingSuggestions = false;\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tif ( this.suggestionsRequest === request ) {\n\t\t\t\t\tthis.setState( {\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t} );\n\t\t\t\t\tthis.isUpdatingSuggestions = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t// Note that this assignment is handled *before* the async search request\n\t\t// as a Promise always resolves on the next tick of the event loop.\n\t\tthis.suggestionsRequest = request;\n\t}\n\n\tonChange( event ) {\n\t\tconst inputValue = event.target.value;\n\n\t\tthis.props.onChange( inputValue );\n\t\tif ( ! this.props.disableSuggestions ) {\n\t\t\tthis.updateSuggestions( inputValue.trim() );\n\t\t}\n\t}\n\n\tonFocus() {\n\t\tconst { suggestions } = this.state;\n\t\tconst { disableSuggestions, value } = this.props;\n\n\t\t// When opening the link editor, if there's a value present, we want to load the suggestions pane with the results for this input search value\n\t\t// Don't re-run the suggestions on focus if there are already suggestions present (prevents searching again when tabbing between the input and buttons)\n\t\tif (\n\t\t\tvalue &&\n\t\t\t! disableSuggestions &&\n\t\t\t! this.isUpdatingSuggestions &&\n\t\t\t! ( suggestions && suggestions.length )\n\t\t) {\n\t\t\t// Ensure the suggestions are updated with the current input value\n\t\t\tthis.updateSuggestions( value.trim() );\n\t\t}\n\t}\n\n\tonKeyDown( event ) {\n\t\tconst {\n\t\t\tshowSuggestions,\n\t\t\tselectedSuggestion,\n\t\t\tsuggestions,\n\t\t\tloading,\n\t\t} = this.state;\n\n\t\t// If the suggestions are not shown or loading, we shouldn't handle the arrow keys\n\t\t// We shouldn't preventDefault to allow block arrow keys navigation\n\t\tif ( ! showSuggestions || ! suggestions.length || loading ) {\n\t\t\t// In the Windows version of Firefox the up and down arrows don't move the caret\n\t\t\t// within an input field like they do for Mac Firefox/Chrome/Safari. This causes\n\t\t\t// a form of focus trapping that is disruptive to the user experience. This disruption\n\t\t\t// only happens if the caret is not in the first or last position in the text input.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/5693#issuecomment-436684747\n\t\t\tswitch ( event.keyCode ) {\n\t\t\t\t// When UP is pressed, if the caret is at the start of the text, move it to the 0\n\t\t\t\t// position.\n\t\t\t\tcase UP: {\n\t\t\t\t\tif ( 0 !== event.target.selectionStart ) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// Set the input caret to position 0\n\t\t\t\t\t\tevent.target.setSelectionRange( 0, 0 );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// When DOWN is pressed, if the caret is not at the end of the text, move it to the\n\t\t\t\t// last position.\n\t\t\t\tcase DOWN: {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.props.value.length !== event.target.selectionStart\n\t\t\t\t\t) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// Set the input caret to the last position\n\t\t\t\t\t\tevent.target.setSelectionRange(\n\t\t\t\t\t\t\tthis.props.value.length,\n\t\t\t\t\t\t\tthis.props.value.length\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst suggestion = this.state.suggestions[\n\t\t\tthis.state.selectedSuggestion\n\t\t];\n\n\t\tswitch ( event.keyCode ) {\n\t\t\tcase UP: {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst previousIndex = ! selectedSuggestion\n\t\t\t\t\t? suggestions.length - 1\n\t\t\t\t\t: selectedSuggestion - 1;\n\t\t\t\tthis.setState( {\n\t\t\t\t\tselectedSuggestion: previousIndex,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DOWN: {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst nextIndex =\n\t\t\t\t\tselectedSuggestion === null ||\n\t\t\t\t\tselectedSuggestion === suggestions.length - 1\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: selectedSuggestion + 1;\n\t\t\t\tthis.setState( {\n\t\t\t\t\tselectedSuggestion: nextIndex,\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase TAB: {\n\t\t\t\tif ( this.state.selectedSuggestion !== null ) {\n\t\t\t\t\tthis.selectLink( suggestion );\n\t\t\t\t\t// Announce a link has been selected when tabbing away from the input field.\n\t\t\t\t\tthis.props.speak( __( 'Link selected.' ) );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase ENTER: {\n\t\t\t\tif ( this.state.selectedSuggestion !== null ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tthis.selectLink( suggestion );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tselectLink( suggestion ) {\n\t\tthis.props.onChange( suggestion.url, suggestion );\n\t\tthis.setState( {\n\t\t\tselectedSuggestion: null,\n\t\t\tshowSuggestions: false,\n\t\t} );\n\t}\n\n\thandleOnClick( suggestion ) {\n\t\tthis.selectLink( suggestion );\n\t\t// Move focus to the input field when a link suggestion is clicked.\n\t\tthis.inputRef.current.focus();\n\t}\n\n\tstatic getDerivedStateFromProps(\n\t\t{\n\t\t\tvalue,\n\t\t\tdisableSuggestions,\n\t\t\t__experimentalShowInitialSuggestions = false,\n\t\t},\n\t\t{ showSuggestions }\n\t) {\n\t\tlet shouldShowSuggestions = showSuggestions;\n\n\t\tconst hasValue = value && value.length;\n\n\t\tif ( ! __experimentalShowInitialSuggestions && ! hasValue ) {\n\t\t\tshouldShowSuggestions = false;\n\t\t}\n\n\t\tif ( disableSuggestions === true ) {\n\t\t\tshouldShowSuggestions = false;\n\t\t}\n\n\t\treturn {\n\t\t\tshowSuggestions: shouldShowSuggestions,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tlabel,\n\t\t\tinstanceId,\n\t\t\tclassName,\n\t\t\tisFullWidth,\n\t\t\thasBorder,\n\t\t\t__experimentalRenderSuggestions: renderSuggestions,\n\t\t\tplaceholder = __( 'Paste URL or type to search' ),\n\t\t\tvalue = '',\n\t\t\tautoFocus = true,\n\t\t\t__experimentalShowInitialSuggestions = false,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tshowSuggestions,\n\t\t\tsuggestions,\n\t\t\tselectedSuggestion,\n\t\t\tloading,\n\t\t} = this.state;\n\n\t\tconst id = `url-input-control-${ instanceId }`;\n\n\t\tconst suggestionsListboxId = `block-editor-url-input-suggestions-${ instanceId }`;\n\t\tconst suggestionOptionIdPrefix = `block-editor-url-input-suggestion-${ instanceId }`;\n\n\t\tconst suggestionsListProps = {\n\t\t\tid: suggestionsListboxId,\n\t\t\tref: this.autocompleteRef,\n\t\t\trole: 'listbox',\n\t\t};\n\n\t\tconst buildSuggestionItemProps = ( suggestion, index ) => {\n\t\t\treturn {\n\t\t\t\trole: 'option',\n\t\t\t\ttabIndex: '-1',\n\t\t\t\tid: `${ suggestionOptionIdPrefix }-${ index }`,\n\t\t\t\tref: this.bindSuggestionNode( index ),\n\t\t\t\t'aria-selected': index === selectedSuggestion,\n\t\t\t};\n\t\t};\n\n\t\t/* eslint-disable jsx-a11y/no-autofocus */\n\t\treturn (\n\t\t\t<BaseControl\n\t\t\t\tlabel={ label }\n\t\t\t\tid={ id }\n\t\t\t\tclassName={ classnames( 'block-editor-url-input', className, {\n\t\t\t\t\t'is-full-width': isFullWidth,\n\t\t\t\t\t'has-border': hasBorder,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"block-editor-url-input__input\"\n\t\t\t\t\tautoFocus={ autoFocus }\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\taria-label={ __( 'URL' ) }\n\t\t\t\t\trequired\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\tonFocus={ this.onFocus }\n\t\t\t\t\tonInput={ stopEventPropagation }\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\tonKeyDown={ this.onKeyDown }\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\taria-expanded={ showSuggestions }\n\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\taria-owns={ suggestionsListboxId }\n\t\t\t\t\taria-activedescendant={\n\t\t\t\t\t\tselectedSuggestion !== null\n\t\t\t\t\t\t\t? `${ suggestionOptionIdPrefix }-${ selectedSuggestion }`\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\tref={ this.inputRef }\n\t\t\t\t/>\n\n\t\t\t\t{ loading && <Spinner /> }\n\n\t\t\t\t{ isFunction( renderSuggestions ) &&\n\t\t\t\t\tshowSuggestions &&\n\t\t\t\t\t!! suggestions.length &&\n\t\t\t\t\trenderSuggestions( {\n\t\t\t\t\t\tsuggestions,\n\t\t\t\t\t\tselectedSuggestion,\n\t\t\t\t\t\tsuggestionsListProps,\n\t\t\t\t\t\tbuildSuggestionItemProps,\n\t\t\t\t\t\tisLoading: loading,\n\t\t\t\t\t\thandleSuggestionClick: this.handleOnClick,\n\t\t\t\t\t\tisInitialSuggestions:\n\t\t\t\t\t\t\t__experimentalShowInitialSuggestions &&\n\t\t\t\t\t\t\t! ( value && value.length ),\n\t\t\t\t\t} ) }\n\n\t\t\t\t{ ! isFunction( renderSuggestions ) &&\n\t\t\t\t\tshowSuggestions &&\n\t\t\t\t\t!! suggestions.length && (\n\t\t\t\t\t\t<Popover\n\t\t\t\t\t\t\tposition=\"bottom\"\n\t\t\t\t\t\t\tnoArrow\n\t\t\t\t\t\t\tfocusOnMount={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t{ ...suggestionsListProps }\n\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t'block-editor-url-input__suggestions',\n\t\t\t\t\t\t\t\t\t`${ className }__suggestions`\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ suggestions.map( ( suggestion, index ) => (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t{ ...buildSuggestionItemProps(\n\t\t\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tkey={ suggestion.id }\n\t\t\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t\t\t'block-editor-url-input__suggestion',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t'is-selected':\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex ===\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedSuggestion,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\tthis.handleOnClick( suggestion )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ suggestion.title }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Popover>\n\t\t\t\t\t) }\n\t\t\t</BaseControl>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-autofocus */\n\t}\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/url-input/README.md\n */\nexport default compose(\n\twithSafeTimeout,\n\twithSpokenMessages,\n\twithInstanceId,\n\twithSelect( ( select, props ) => {\n\t\t// If a link suggestions handler is already provided then\n\t\t// bail\n\t\tif ( isFunction( props.__experimentalFetchLinkSuggestions ) ) {\n\t\t\treturn;\n\t\t}\n\t\tconst { getSettings } = select( 'core/block-editor' );\n\t\treturn {\n\t\t\t__experimentalFetchLinkSuggestions: getSettings()\n\t\t\t\t.__experimentalFetchLinkSuggestions,\n\t\t};\n\t} )\n)( URLInput );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { Button, Popover } from '@wordpress/components';\nimport { chevronDown } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport LinkViewer from './link-viewer';\nimport LinkEditor from './link-editor';\n\nclass URLPopover extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.toggleSettingsVisibility = this.toggleSettingsVisibility.bind(\n\t\t\tthis\n\t\t);\n\n\t\tthis.state = {\n\t\t\tisSettingsExpanded: false,\n\t\t};\n\t}\n\n\ttoggleSettingsVisibility() {\n\t\tthis.setState( {\n\t\t\tisSettingsExpanded: ! this.state.isSettingsExpanded,\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tadditionalControls,\n\t\t\tchildren,\n\t\t\trenderSettings,\n\t\t\tposition = 'bottom center',\n\t\t\tfocusOnMount = 'firstElement',\n\t\t\t...popoverProps\n\t\t} = this.props;\n\n\t\tconst { isSettingsExpanded } = this.state;\n\n\t\tconst showSettings = !! renderSettings && isSettingsExpanded;\n\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"block-editor-url-popover\"\n\t\t\t\tfocusOnMount={ focusOnMount }\n\t\t\t\tposition={ position }\n\t\t\t\t{ ...popoverProps }\n\t\t\t>\n\t\t\t\t<div className=\"block-editor-url-popover__input-container\">\n\t\t\t\t\t<div className=\"block-editor-url-popover__row\">\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t{ !! renderSettings && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"block-editor-url-popover__settings-toggle\"\n\t\t\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\t\t\tlabel={ __( 'Link settings' ) }\n\t\t\t\t\t\t\t\tonClick={ this.toggleSettingsVisibility }\n\t\t\t\t\t\t\t\taria-expanded={ isSettingsExpanded }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t\t{ showSettings && (\n\t\t\t\t\t\t<div className=\"block-editor-url-popover__row block-editor-url-popover__settings\">\n\t\t\t\t\t\t\t{ renderSettings() }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t{ additionalControls && ! showSettings && (\n\t\t\t\t\t<div className=\"block-editor-url-popover__additional-controls\">\n\t\t\t\t\t\t{ additionalControls }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</Popover>\n\t\t);\n\t}\n}\n\nURLPopover.LinkEditor = LinkEditor;\n\nURLPopover.LinkViewer = LinkViewer;\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/url-popover/README.md\n */\nexport default URLPopover;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport URLInput from '../url-input';\n\nexport default function LinkEditor( {\n\tautocompleteRef,\n\tclassName,\n\tonChangeInputValue,\n\tvalue,\n\t...props\n} ) {\n\treturn (\n\t\t<form\n\t\t\tclassName={ classnames(\n\t\t\t\t'block-editor-url-popover__link-editor',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<URLInput\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ onChangeInputValue }\n\t\t\t\tautocompleteRef={ autocompleteRef }\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\ticon={ keyboardReturn }\n\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\ttype=\"submit\"\n\t\t\t/>\n\t\t</form>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { every, get, isArray, noop, startsWith } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tFormFileUpload,\n\tPlaceholder,\n\tDropZone,\n\twithFilters,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport MediaUpload from '../media-upload';\nimport MediaUploadCheck from '../media-upload/check';\nimport URLPopover from '../url-popover';\n\nconst InsertFromURLPopover = ( { src, onChange, onSubmit, onClose } ) => (\n\t<URLPopover onClose={ onClose }>\n\t\t<form\n\t\t\tclassName=\"block-editor-media-placeholder__url-input-form\"\n\t\t\tonSubmit={ onSubmit }\n\t\t>\n\t\t\t<input\n\t\t\t\tclassName=\"block-editor-media-placeholder__url-input-field\"\n\t\t\t\ttype=\"url\"\n\t\t\t\taria-label={ __( 'URL' ) }\n\t\t\t\tplaceholder={ __( 'Paste or type URL' ) }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tvalue={ src }\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tclassName=\"block-editor-media-placeholder__url-input-submit-button\"\n\t\t\t\ticon={ keyboardReturn }\n\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\ttype=\"submit\"\n\t\t\t/>\n\t\t</form>\n\t</URLPopover>\n);\n\nexport class MediaPlaceholder extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tsrc: '',\n\t\t\tisURLInputVisible: false,\n\t\t};\n\t\tthis.onChangeSrc = this.onChangeSrc.bind( this );\n\t\tthis.onSubmitSrc = this.onSubmitSrc.bind( this );\n\t\tthis.onUpload = this.onUpload.bind( this );\n\t\tthis.onFilesUpload = this.onFilesUpload.bind( this );\n\t\tthis.openURLInput = this.openURLInput.bind( this );\n\t\tthis.closeURLInput = this.closeURLInput.bind( this );\n\t}\n\n\tonlyAllowsImages() {\n\t\tconst { allowedTypes } = this.props;\n\t\tif ( ! allowedTypes ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn every( allowedTypes, ( allowedType ) => {\n\t\t\treturn (\n\t\t\t\tallowedType === 'image' || startsWith( allowedType, 'image/' )\n\t\t\t);\n\t\t} );\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState( { src: get( this.props.value, [ 'src' ], '' ) } );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif (\n\t\t\tget( prevProps.value, [ 'src' ], '' ) !==\n\t\t\tget( this.props.value, [ 'src' ], '' )\n\t\t) {\n\t\t\tthis.setState( { src: get( this.props.value, [ 'src' ], '' ) } );\n\t\t}\n\t}\n\n\tonChangeSrc( event ) {\n\t\tthis.setState( { src: event.target.value } );\n\t}\n\n\tonSubmitSrc( event ) {\n\t\tevent.preventDefault();\n\t\tif ( this.state.src && this.props.onSelectURL ) {\n\t\t\tthis.props.onSelectURL( this.state.src );\n\t\t\tthis.closeURLInput();\n\t\t}\n\t}\n\n\tonUpload( event ) {\n\t\tthis.onFilesUpload( event.target.files );\n\t}\n\n\tonFilesUpload( files ) {\n\t\tconst {\n\t\t\taddToGallery,\n\t\t\tallowedTypes,\n\t\t\tmediaUpload,\n\t\t\tmultiple,\n\t\t\tonError,\n\t\t\tonSelect,\n\t\t\tvalue = [],\n\t\t} = this.props;\n\t\tlet setMedia;\n\t\tif ( multiple ) {\n\t\t\tif ( addToGallery ) {\n\t\t\t\tconst currentValue = value;\n\t\t\t\tsetMedia = ( newMedia ) => {\n\t\t\t\t\tonSelect( currentValue.concat( newMedia ) );\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tsetMedia = onSelect;\n\t\t\t}\n\t\t} else {\n\t\t\tsetMedia = ( [ media ] ) => onSelect( media );\n\t\t}\n\t\tmediaUpload( {\n\t\t\tallowedTypes,\n\t\t\tfilesList: files,\n\t\t\tonFileChange: setMedia,\n\t\t\tonError,\n\t\t} );\n\t}\n\n\topenURLInput() {\n\t\tthis.setState( { isURLInputVisible: true } );\n\t}\n\n\tcloseURLInput() {\n\t\tthis.setState( { isURLInputVisible: false } );\n\t}\n\n\trenderPlaceholder( content, onClick ) {\n\t\tconst {\n\t\t\tallowedTypes = [],\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\tisAppender,\n\t\t\tlabels = {},\n\t\t\tonDoubleClick,\n\t\t\tmediaPreview,\n\t\t\tnotices,\n\t\t\tonSelectURL,\n\t\t\tmediaUpload,\n\t\t\tchildren,\n\t\t} = this.props;\n\n\t\tlet instructions = labels.instructions;\n\t\tlet title = labels.title;\n\n\t\tif ( ! mediaUpload && ! onSelectURL ) {\n\t\t\tinstructions = __(\n\t\t\t\t'To edit this block, you need permission to upload media.'\n\t\t\t);\n\t\t}\n\n\t\tif ( instructions === undefined || title === undefined ) {\n\t\t\tconst isOneType = 1 === allowedTypes.length;\n\t\t\tconst isAudio = isOneType && 'audio' === allowedTypes[ 0 ];\n\t\t\tconst isImage = isOneType && 'image' === allowedTypes[ 0 ];\n\t\t\tconst isVideo = isOneType && 'video' === allowedTypes[ 0 ];\n\n\t\t\tif ( instructions === undefined && mediaUpload ) {\n\t\t\t\tinstructions = __(\n\t\t\t\t\t'Upload a media file or pick one from your media library.'\n\t\t\t\t);\n\n\t\t\t\tif ( isAudio ) {\n\t\t\t\t\tinstructions = __(\n\t\t\t\t\t\t'Upload an audio file, pick one from your media library, or add one with a URL.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( isImage ) {\n\t\t\t\t\tinstructions = __(\n\t\t\t\t\t\t'Upload an image file, pick one from your media library, or add one with a URL.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( isVideo ) {\n\t\t\t\t\tinstructions = __(\n\t\t\t\t\t\t'Upload a video file, pick one from your media library, or add one with a URL.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( title === undefined ) {\n\t\t\t\ttitle = __( 'Media' );\n\n\t\t\t\tif ( isAudio ) {\n\t\t\t\t\ttitle = __( 'Audio' );\n\t\t\t\t} else if ( isImage ) {\n\t\t\t\t\ttitle = __( 'Image' );\n\t\t\t\t} else if ( isVideo ) {\n\t\t\t\t\ttitle = __( 'Video' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst placeholderClassName = classnames(\n\t\t\t'block-editor-media-placeholder',\n\t\t\tclassName,\n\t\t\t{\n\t\t\t\t'is-appender': isAppender,\n\t\t\t}\n\t\t);\n\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\ticon={ icon }\n\t\t\t\tlabel={ title }\n\t\t\t\tinstructions={ instructions }\n\t\t\t\tclassName={ placeholderClassName }\n\t\t\t\tnotices={ notices }\n\t\t\t\tonClick={ onClick }\n\t\t\t\tonDoubleClick={ onDoubleClick }\n\t\t\t\tpreview={ mediaPreview }\n\t\t\t>\n\t\t\t\t{ content }\n\t\t\t\t{ children }\n\t\t\t</Placeholder>\n\t\t);\n\t}\n\n\trenderDropZone() {\n\t\tconst { disableDropZone, onHTMLDrop = noop } = this.props;\n\n\t\tif ( disableDropZone ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<DropZone\n\t\t\t\tonFilesDrop={ this.onFilesUpload }\n\t\t\t\tonHTMLDrop={ onHTMLDrop }\n\t\t\t/>\n\t\t);\n\t}\n\n\trenderCancelLink() {\n\t\tconst { onCancel } = this.props;\n\t\treturn (\n\t\t\tonCancel && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"block-editor-media-placeholder__cancel-button\"\n\t\t\t\t\ttitle={ __( 'Cancel' ) }\n\t\t\t\t\tisLink\n\t\t\t\t\tonClick={ onCancel }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</Button>\n\t\t\t)\n\t\t);\n\t}\n\n\trenderUrlSelectionUI() {\n\t\tconst { onSelectURL } = this.props;\n\t\tif ( ! onSelectURL ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst { isURLInputVisible, src } = this.state;\n\t\treturn (\n\t\t\t<div className=\"block-editor-media-placeholder__url-input-container\">\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"block-editor-media-placeholder__button\"\n\t\t\t\t\tonClick={ this.openURLInput }\n\t\t\t\t\tisPressed={ isURLInputVisible }\n\t\t\t\t\tisTertiary\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Insert from URL' ) }\n\t\t\t\t</Button>\n\t\t\t\t{ isURLInputVisible && (\n\t\t\t\t\t<InsertFromURLPopover\n\t\t\t\t\t\tsrc={ src }\n\t\t\t\t\t\tonChange={ this.onChangeSrc }\n\t\t\t\t\t\tonSubmit={ this.onSubmitSrc }\n\t\t\t\t\t\tonClose={ this.closeURLInput }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderMediaUploadChecked() {\n\t\tconst {\n\t\t\taccept,\n\t\t\taddToGallery,\n\t\t\tallowedTypes = [],\n\t\t\tisAppender,\n\t\t\tmediaUpload,\n\t\t\tmultiple = false,\n\t\t\tonSelect,\n\t\t\tvalue = {},\n\t\t} = this.props;\n\n\t\tconst mediaLibraryButton = (\n\t\t\t<MediaUpload\n\t\t\t\taddToGallery={ addToGallery }\n\t\t\t\tgallery={ multiple && this.onlyAllowsImages() }\n\t\t\t\tmultiple={ multiple }\n\t\t\t\tonSelect={ onSelect }\n\t\t\t\tallowedTypes={ allowedTypes }\n\t\t\t\tvalue={\n\t\t\t\t\tisArray( value ) ? value.map( ( { id } ) => id ) : value.id\n\t\t\t\t}\n\t\t\t\trender={ ( { open } ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\topen();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Media Library' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\n\t\tif ( mediaUpload && isAppender ) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ this.renderDropZone() }\n\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\tonChange={ this.onUpload }\n\t\t\t\t\t\taccept={ accept }\n\t\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\t\trender={ ( { openFileDialog } ) => {\n\t\t\t\t\t\t\tconst content = (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t\t\t'block-editor-media-placeholder__button',\n\t\t\t\t\t\t\t\t\t\t\t'block-editor-media-placeholder__upload-button'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t{ mediaLibraryButton }\n\t\t\t\t\t\t\t\t\t{ this.renderUrlSelectionUI() }\n\t\t\t\t\t\t\t\t\t{ this.renderCancelLink() }\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn this.renderPlaceholder(\n\t\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\t\topenFileDialog\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\tif ( mediaUpload ) {\n\t\t\tconst content = (\n\t\t\t\t<>\n\t\t\t\t\t{ this.renderDropZone() }\n\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'block-editor-media-placeholder__button',\n\t\t\t\t\t\t\t'block-editor-media-placeholder__upload-button'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonChange={ this.onUpload }\n\t\t\t\t\t\taccept={ accept }\n\t\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t</FormFileUpload>\n\t\t\t\t\t{ mediaLibraryButton }\n\t\t\t\t\t{ this.renderUrlSelectionUI() }\n\t\t\t\t\t{ this.renderCancelLink() }\n\t\t\t\t</>\n\t\t\t);\n\t\t\treturn this.renderPlaceholder( content );\n\t\t}\n\n\t\treturn this.renderPlaceholder( mediaLibraryButton );\n\t}\n\n\trender() {\n\t\tconst { disableMediaButtons, dropZoneUIOnly } = this.props;\n\n\t\tif ( dropZoneUIOnly || disableMediaButtons ) {\n\t\t\tif ( dropZoneUIOnly ) {\n\t\t\t\tdeprecated(\n\t\t\t\t\t'wp.blockEditor.MediaPlaceholder dropZoneUIOnly prop',\n\t\t\t\t\t{\n\t\t\t\t\t\talternative: 'disableMediaButtons',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<MediaUploadCheck>{ this.renderDropZone() }</MediaUploadCheck>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<MediaUploadCheck\n\t\t\t\tfallback={ this.renderPlaceholder(\n\t\t\t\t\tthis.renderUrlSelectionUI()\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t{ this.renderMediaUploadChecked() }\n\t\t\t</MediaUploadCheck>\n\t\t);\n\t}\n}\n\nconst applyWithSelect = withSelect( ( select ) => {\n\tconst { getSettings } = select( 'core/block-editor' );\n\n\treturn {\n\t\tmediaUpload: getSettings().mediaUpload,\n\t};\n} );\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/media-placeholder/README.md\n */\nexport default compose(\n\tapplyWithSelect,\n\twithFilters( 'editor.MediaPlaceholder' )\n)( MediaPlaceholder );\n","/**\n * Parts of this source were derived and modified from react-native-web,\n * released under the MIT license.\n *\n * Copyright (c) 2016-present, Nicolas Gallagher.\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n */\nconst Platform = {\n\tOS: 'web',\n\tselect: ( spec ) => ( 'web' in spec ? spec.web : spec.default ),\n};\n/**\n * Component used to detect the current Platform being used.\n * Use Platform.OS === 'web' to detect if running on web enviroment.\n *\n * This is the same concept as the React Native implementation.\n *\n * @see https://facebook.github.io/react-native/docs/platform-specific-code#platform-module\n *\n * Here is an example of how to use the select method:\n * @example\n * ```js\n * import { Platform } from '@wordpress/element';\n *\n * const placeholderLabel = Platform.select( {\n *   native: __( 'Add media' ),\n *   web: __( 'Drag images, upload new ones or select files from your library.' ),\n * } );\n * ```\n */\nexport default Platform;\n","/**\n * External dependencies\n */\nimport { fromPairs } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { rawShortcut } from '@wordpress/keycodes';\nimport { KeyboardShortcuts } from '@wordpress/components';\n\n/**\n * Set of keyboard shortcuts handled internally by RichText.\n *\n * @type {Array}\n */\nconst HANDLED_SHORTCUTS = [\n\trawShortcut.primary( 'z' ),\n\trawShortcut.primaryShift( 'z' ),\n\trawShortcut.primary( 'y' ),\n];\n\n/**\n * An instance of a KeyboardShortcuts element pre-bound for the handled\n * shortcuts. Since shortcuts never change, the element can be considered\n * static, and can be skipped in reconciliation.\n *\n * @type {WPElement}\n */\nconst SHORTCUTS_ELEMENT = (\n\t<KeyboardShortcuts\n\t\tbindGlobal\n\t\tshortcuts={ fromPairs(\n\t\t\tHANDLED_SHORTCUTS.map( ( shortcut ) => {\n\t\t\t\treturn [ shortcut, ( event ) => event.preventDefault() ];\n\t\t\t} )\n\t\t) }\n\t/>\n);\n\n/**\n * Component which registered keyboard event handlers to prevent default\n * behaviors for key combinations otherwise handled internally by RichText.\n *\n * @return {WPComponent} The component to be rendered.\n */\nexport const RemoveBrowserShortcuts = () => SHORTCUTS_ELEMENT;\n","/**\n * WordPress dependencies\n */\nimport { createBlobURL } from '@wordpress/blob';\n\nexport function filePasteHandler( files ) {\n\treturn files\n\t\t.filter( ( { type } ) => /^image\\/(?:jpe?g|png|gif)$/.test( type ) )\n\t\t.map( ( file ) => `<img src=\"${ createBlobURL( file ) }\">` )\n\t\t.join( '' );\n}\n","/**\n * External dependencies\n */\n\nimport { orderBy } from 'lodash';\n\n/**\n * WordPress dependencies\n */\n\nimport { __ } from '@wordpress/i18n';\nimport { Toolbar, Slot, DropdownMenu } from '@wordpress/components';\nimport { chevronDown } from '@wordpress/icons';\n\nconst POPOVER_PROPS = {\n\tposition: 'bottom right',\n\tisAlternate: true,\n};\n\nconst FormatToolbar = () => {\n\treturn (\n\t\t<div className=\"block-editor-format-toolbar\">\n\t\t\t<Toolbar>\n\t\t\t\t{ [ 'bold', 'italic', 'link', 'text-color' ].map(\n\t\t\t\t\t( format ) => (\n\t\t\t\t\t\t<Slot\n\t\t\t\t\t\t\tname={ `RichText.ToolbarControls.${ format }` }\n\t\t\t\t\t\t\tkey={ format }\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t) }\n\t\t\t\t<Slot name=\"RichText.ToolbarControls\">\n\t\t\t\t\t{ ( fills ) =>\n\t\t\t\t\t\tfills.length !== 0 && (\n\t\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\t\t\tlabel={ __( 'More rich text controls' ) }\n\t\t\t\t\t\t\t\tcontrols={ orderBy(\n\t\t\t\t\t\t\t\t\tfills.map( ( [ { props } ] ) => props ),\n\t\t\t\t\t\t\t\t\t'title'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Slot>\n\t\t\t</Toolbar>\n\t\t</div>\n\t);\n};\n\nexport default FormatToolbar;\n","/**\n * WordPress dependencies\n */\nimport { Popover } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BlockFormatControls from '../block-format-controls';\nimport FormatToolbar from './format-toolbar';\n\nconst FormatToolbarContainer = ( { inline, anchorRef } ) => {\n\tif ( inline ) {\n\t\t// Render in popover\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tnoArrow\n\t\t\t\tposition=\"top center\"\n\t\t\t\tfocusOnMount={ false }\n\t\t\t\tanchorRef={ anchorRef }\n\t\t\t\tclassName=\"block-editor-rich-text__inline-format-toolbar\"\n\t\t\t>\n\t\t\t\t<FormatToolbar />\n\t\t\t</Popover>\n\t\t);\n\t}\n\t// Render regular toolbar\n\treturn (\n\t\t<BlockFormatControls>\n\t\t\t<FormatToolbar />\n\t\t</BlockFormatControls>\n\t);\n};\n\nexport default FormatToolbarContainer;\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { KeyboardShortcuts } from '@wordpress/components';\nimport { rawShortcut } from '@wordpress/keycodes';\n\nexport class RichTextShortcut extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onUse = this.onUse.bind( this );\n\t}\n\n\tonUse() {\n\t\tthis.props.onUse();\n\t\treturn false;\n\t}\n\n\trender() {\n\t\tconst { character, type } = this.props;\n\n\t\treturn (\n\t\t\t<KeyboardShortcuts\n\t\t\t\tbindGlobal\n\t\t\t\tshortcuts={ {\n\t\t\t\t\t[ rawShortcut[ type ]( character ) ]: this.onUse,\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\nexport class __unstableRichTextInputEvent extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onInput = this.onInput.bind( this );\n\t}\n\n\tonInput( event ) {\n\t\tif ( event.inputType === this.props.inputType ) {\n\t\t\tthis.props.onInput();\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.addEventListener( 'input', this.onInput, true );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener( 'input', this.onInput, true );\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRawHTML,\n\tPlatform,\n\tuseRef,\n\tuseCallback,\n\tforwardRef,\n} from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tpasteHandler,\n\tchildren as childrenSource,\n\tgetBlockTransforms,\n\tfindTransform,\n\tisUnmodifiedDefaultBlock,\n} from '@wordpress/blocks';\nimport { useInstanceId } from '@wordpress/compose';\nimport {\n\t__experimentalRichText as RichText,\n\t__unstableCreateElement,\n\tisEmpty,\n\t__unstableIsEmptyLine as isEmptyLine,\n\tinsert,\n\t__unstableInsertLineSeparator as insertLineSeparator,\n\tcreate,\n\treplace,\n\tsplit,\n\t__UNSTABLE_LINE_SEPARATOR as LINE_SEPARATOR,\n\ttoHTMLString,\n\tslice,\n} from '@wordpress/rich-text';\nimport deprecated from '@wordpress/deprecated';\nimport { isURL } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport Autocomplete from '../autocomplete';\nimport { useBlockEditContext } from '../block-edit';\nimport { RemoveBrowserShortcuts } from './remove-browser-shortcuts';\nimport { filePasteHandler } from './file-paste-handler';\nimport FormatToolbarContainer from './format-toolbar-container';\n\nconst wrapperClasses = 'block-editor-rich-text';\nconst classes = 'block-editor-rich-text__editable';\n\n/**\n * Get the multiline tag based on the multiline prop.\n *\n * @param {?(string|boolean)} multiline The multiline prop.\n *\n * @return {?string} The multiline tag.\n */\nfunction getMultilineTag( multiline ) {\n\tif ( multiline !== true && multiline !== 'p' && multiline !== 'li' ) {\n\t\treturn;\n\t}\n\n\treturn multiline === true ? 'p' : multiline;\n}\n\nfunction getAllowedFormats( {\n\tallowedFormats,\n\tformattingControls,\n\tdisableFormats,\n} ) {\n\tif ( disableFormats ) {\n\t\treturn getAllowedFormats.EMPTY_ARRAY;\n\t}\n\n\tif ( ! allowedFormats && ! formattingControls ) {\n\t\treturn;\n\t}\n\n\tif ( allowedFormats ) {\n\t\treturn allowedFormats;\n\t}\n\n\tdeprecated( 'wp.blockEditor.RichText formattingControls prop', {\n\t\talternative: 'allowedFormats',\n\t} );\n\n\treturn formattingControls.map( ( name ) => `core/${ name }` );\n}\n\ngetAllowedFormats.EMPTY_ARRAY = [];\n\nfunction RichTextWrapper(\n\t{\n\t\tchildren,\n\t\ttagName,\n\t\tvalue: originalValue,\n\t\tonChange: originalOnChange,\n\t\tisSelected: originalIsSelected,\n\t\tmultiline,\n\t\tinlineToolbar,\n\t\twrapperClassName,\n\t\tclassName,\n\t\tautocompleters,\n\t\tonReplace,\n\t\tplaceholder,\n\t\tkeepPlaceholderOnFocus,\n\t\tallowedFormats,\n\t\tformattingControls,\n\t\twithoutInteractiveFormatting,\n\t\tonRemove,\n\t\tonMerge,\n\t\tonSplit,\n\t\t__unstableOnSplitMiddle: onSplitMiddle,\n\t\tidentifier,\n\t\t// To do: find a better way to implicitly inherit props.\n\t\tstart: startAttr,\n\t\treversed,\n\t\tstyle,\n\t\tpreserveWhiteSpace,\n\t\t__unstableEmbedURLOnPaste,\n\t\t__unstableDisableFormats: disableFormats,\n\t\tdisableLineBreaks,\n\t\t...props\n\t},\n\tforwardedRef\n) {\n\tconst instanceId = useInstanceId( RichTextWrapper );\n\n\tidentifier = identifier || instanceId;\n\n\tconst fallbackRef = useRef();\n\tconst ref = forwardedRef || fallbackRef;\n\tconst {\n\t\tclientId,\n\t\tonCaretVerticalPositionChange,\n\t\tisSelected: blockIsSelected,\n\t} = useBlockEditContext();\n\tconst selector = ( select ) => {\n\t\tconst {\n\t\t\tisCaretWithinFormattedText,\n\t\t\tgetSelectionStart,\n\t\t\tgetSelectionEnd,\n\t\t\tgetSettings,\n\t\t\tdidAutomaticChange,\n\t\t\t__unstableGetBlockWithoutInnerBlocks,\n\t\t\tisMultiSelecting,\n\t\t\thasMultiSelection,\n\t\t} = select( 'core/block-editor' );\n\n\t\tconst selectionStart = getSelectionStart();\n\t\tconst selectionEnd = getSelectionEnd();\n\t\tconst { __experimentalUndo: undo } = getSettings();\n\n\t\tlet isSelected;\n\n\t\tif ( originalIsSelected === undefined ) {\n\t\t\tisSelected =\n\t\t\t\tselectionStart.clientId === clientId &&\n\t\t\t\tselectionStart.attributeKey === identifier;\n\t\t} else if ( originalIsSelected ) {\n\t\t\tisSelected = selectionStart.clientId === clientId;\n\t\t}\n\n\t\tlet extraProps = {};\n\t\tif ( Platform.OS === 'native' ) {\n\t\t\t// If the block of this RichText is unmodified then it's a candidate for replacing when adding a new block.\n\t\t\t// In order to fix https://github.com/wordpress-mobile/gutenberg-mobile/issues/1126, let's blur on unmount in that case.\n\t\t\t// This apparently assumes functionality the BlockHlder actually\n\t\t\tconst block =\n\t\t\t\tclientId && __unstableGetBlockWithoutInnerBlocks( clientId );\n\t\t\tconst shouldBlurOnUnmount =\n\t\t\t\tblock && isSelected && isUnmodifiedDefaultBlock( block );\n\t\t\textraProps = {\n\t\t\t\tshouldBlurOnUnmount,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tisCaretWithinFormattedText: isCaretWithinFormattedText(),\n\t\t\tselectionStart: isSelected ? selectionStart.offset : undefined,\n\t\t\tselectionEnd: isSelected ? selectionEnd.offset : undefined,\n\t\t\tisSelected,\n\t\t\tdidAutomaticChange: didAutomaticChange(),\n\t\t\tdisabled: isMultiSelecting() || hasMultiSelection(),\n\t\t\tundo,\n\t\t\t...extraProps,\n\t\t};\n\t};\n\t// This selector must run on every render so the right selection state is\n\t// retreived from the store on merge.\n\t// To do: fix this somehow.\n\tconst {\n\t\tisCaretWithinFormattedText,\n\t\tselectionStart,\n\t\tselectionEnd,\n\t\tisSelected,\n\t\tdidAutomaticChange,\n\t\tdisabled,\n\t\tundo,\n\t\tshouldBlurOnUnmount,\n\t} = useSelect( selector );\n\tconst {\n\t\t__unstableMarkLastChangeAsPersistent,\n\t\tenterFormattedText,\n\t\texitFormattedText,\n\t\tselectionChange,\n\t\t__unstableMarkAutomaticChange,\n\t} = useDispatch( 'core/block-editor' );\n\tconst multilineTag = getMultilineTag( multiline );\n\tconst adjustedAllowedFormats = getAllowedFormats( {\n\t\tallowedFormats,\n\t\tformattingControls,\n\t\tdisableFormats,\n\t} );\n\tconst hasFormats =\n\t\t! adjustedAllowedFormats || adjustedAllowedFormats.length > 0;\n\tlet adjustedValue = originalValue;\n\tlet adjustedOnChange = originalOnChange;\n\n\t// Handle deprecated format.\n\tif ( Array.isArray( originalValue ) ) {\n\t\tadjustedValue = childrenSource.toHTML( originalValue );\n\t\tadjustedOnChange = ( newValue ) =>\n\t\t\toriginalOnChange(\n\t\t\t\tchildrenSource.fromDOM(\n\t\t\t\t\t__unstableCreateElement( document, newValue ).childNodes\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tconst onSelectionChange = useCallback(\n\t\t( start, end ) => {\n\t\t\tselectionChange( clientId, identifier, start, end );\n\t\t},\n\t\t[ clientId, identifier ]\n\t);\n\n\tconst onDelete = useCallback(\n\t\t( { value, isReverse } ) => {\n\t\t\tif ( onMerge ) {\n\t\t\t\tonMerge( ! isReverse );\n\t\t\t}\n\n\t\t\t// Only handle remove on Backspace. This serves dual-purpose of being\n\t\t\t// an intentional user interaction distinguishing between Backspace and\n\t\t\t// Delete to remove the empty field, but also to avoid merge & remove\n\t\t\t// causing destruction of two fields (merge, then removed merged).\n\t\t\tif ( onRemove && isEmpty( value ) && isReverse ) {\n\t\t\t\tonRemove( ! isReverse );\n\t\t\t}\n\t\t},\n\t\t[ onMerge, onRemove ]\n\t);\n\n\t/**\n\t * Signals to the RichText owner that the block can be replaced with two\n\t * blocks as a result of splitting the block by pressing enter, or with\n\t * blocks as a result of splitting the block by pasting block content in the\n\t * instance.\n\t *\n\t * @param  {Object} record       The rich text value to split.\n\t * @param  {Array}  pastedBlocks The pasted blocks to insert, if any.\n\t */\n\tconst splitValue = useCallback(\n\t\t( record, pastedBlocks = [] ) => {\n\t\t\tif ( ! onReplace || ! onSplit ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst blocks = [];\n\t\t\tconst [ before, after ] = split( record );\n\t\t\tconst hasPastedBlocks = pastedBlocks.length > 0;\n\n\t\t\t// Create a block with the content before the caret if there's no pasted\n\t\t\t// blocks, or if there are pasted blocks and the value is not empty.\n\t\t\t// We do not want a leading empty block on paste, but we do if split\n\t\t\t// with e.g. the enter key.\n\t\t\tif ( ! hasPastedBlocks || ! isEmpty( before ) ) {\n\t\t\t\tblocks.push(\n\t\t\t\t\tonSplit(\n\t\t\t\t\t\ttoHTMLString( {\n\t\t\t\t\t\t\tvalue: before,\n\t\t\t\t\t\t\tmultilineTag,\n\t\t\t\t\t\t} )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif ( hasPastedBlocks ) {\n\t\t\t\tblocks.push( ...pastedBlocks );\n\t\t\t} else if ( onSplitMiddle ) {\n\t\t\t\tblocks.push( onSplitMiddle() );\n\t\t\t}\n\n\t\t\t// If there's pasted blocks, append a block with the content after the\n\t\t\t// caret. Otherwise, do append and empty block if there is no\n\t\t\t// `onSplitMiddle` prop, but if there is and the content is empty, the\n\t\t\t// middle block is enough to set focus in.\n\t\t\tif ( hasPastedBlocks || ! onSplitMiddle || ! isEmpty( after ) ) {\n\t\t\t\tblocks.push(\n\t\t\t\t\tonSplit(\n\t\t\t\t\t\ttoHTMLString( {\n\t\t\t\t\t\t\tvalue: after,\n\t\t\t\t\t\t\tmultilineTag,\n\t\t\t\t\t\t} )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// If there are pasted blocks, set the selection to the last one.\n\t\t\t// Otherwise, set the selection to the second block.\n\t\t\tconst indexToSelect = hasPastedBlocks ? blocks.length - 1 : 1;\n\n\t\t\tonReplace( blocks, indexToSelect );\n\t\t},\n\t\t[ onReplace, onSplit, multilineTag, onSplitMiddle ]\n\t);\n\n\tconst onEnter = useCallback(\n\t\t( { value, onChange, shiftKey } ) => {\n\t\t\tconst canSplit = onReplace && onSplit;\n\n\t\t\tif ( onReplace ) {\n\t\t\t\tconst transforms = getBlockTransforms( 'from' ).filter(\n\t\t\t\t\t( { type } ) => type === 'enter'\n\t\t\t\t);\n\t\t\t\tconst transformation = findTransform( transforms, ( item ) => {\n\t\t\t\t\treturn item.regExp.test( value.text );\n\t\t\t\t} );\n\n\t\t\t\tif ( transformation ) {\n\t\t\t\t\tonReplace( [\n\t\t\t\t\t\ttransformation.transform( { content: value.text } ),\n\t\t\t\t\t] );\n\t\t\t\t\t__unstableMarkAutomaticChange();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( multiline ) {\n\t\t\t\tif ( shiftKey ) {\n\t\t\t\t\tif ( ! disableLineBreaks ) {\n\t\t\t\t\t\tonChange( insert( value, '\\n' ) );\n\t\t\t\t\t}\n\t\t\t\t} else if ( canSplit && isEmptyLine( value ) ) {\n\t\t\t\t\tsplitValue( value );\n\t\t\t\t} else {\n\t\t\t\t\tonChange( insertLineSeparator( value ) );\n\t\t\t\t}\n\t\t\t} else if ( shiftKey || ! canSplit ) {\n\t\t\t\tif ( ! disableLineBreaks ) {\n\t\t\t\t\tonChange( insert( value, '\\n' ) );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsplitValue( value );\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tonReplace,\n\t\t\tonSplit,\n\t\t\t__unstableMarkAutomaticChange,\n\t\t\tmultiline,\n\t\t\tsplitValue,\n\t\t]\n\t);\n\n\tconst onPaste = useCallback(\n\t\t( { value, onChange, html, plainText, files, activeFormats } ) => {\n\t\t\t// Only process file if no HTML is present.\n\t\t\t// Note: a pasted file may have the URL as plain text.\n\t\t\tif ( files && files.length && ! html ) {\n\t\t\t\tconst content = pasteHandler( {\n\t\t\t\t\tHTML: filePasteHandler( files ),\n\t\t\t\t\tmode: 'BLOCKS',\n\t\t\t\t\ttagName,\n\t\t\t\t} );\n\n\t\t\t\t// Allows us to ask for this information when we get a report.\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\twindow.console.log( 'Received items:\\n\\n', files );\n\n\t\t\t\tif ( onReplace && isEmpty( value ) ) {\n\t\t\t\t\tonReplace( content );\n\t\t\t\t} else {\n\t\t\t\t\tsplitValue( value, content );\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet mode = onReplace && onSplit ? 'AUTO' : 'INLINE';\n\n\t\t\tif (\n\t\t\t\t__unstableEmbedURLOnPaste &&\n\t\t\t\tisEmpty( value ) &&\n\t\t\t\tisURL( plainText.trim() )\n\t\t\t) {\n\t\t\t\tmode = 'BLOCKS';\n\t\t\t}\n\n\t\t\tconst content = pasteHandler( {\n\t\t\t\tHTML: html,\n\t\t\t\tplainText,\n\t\t\t\tmode,\n\t\t\t\ttagName,\n\t\t\t} );\n\n\t\t\tif ( typeof content === 'string' ) {\n\t\t\t\tlet valueToInsert = create( { html: content } );\n\n\t\t\t\t// If there are active formats, merge them with the pasted formats.\n\t\t\t\tif ( activeFormats.length ) {\n\t\t\t\t\tlet index = valueToInsert.formats.length;\n\n\t\t\t\t\twhile ( index-- ) {\n\t\t\t\t\t\tvalueToInsert.formats[ index ] = [\n\t\t\t\t\t\t\t...activeFormats,\n\t\t\t\t\t\t\t...( valueToInsert.formats[ index ] || [] ),\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If the content should be multiline, we should process text\n\t\t\t\t// separated by a line break as separate lines.\n\t\t\t\tif ( multiline ) {\n\t\t\t\t\tvalueToInsert = replace(\n\t\t\t\t\t\tvalueToInsert,\n\t\t\t\t\t\t/\\n+/g,\n\t\t\t\t\t\tLINE_SEPARATOR\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tonChange( insert( value, valueToInsert ) );\n\t\t\t} else if ( content.length > 0 ) {\n\t\t\t\tif ( onReplace && isEmpty( value ) ) {\n\t\t\t\t\tonReplace( content );\n\t\t\t\t} else {\n\t\t\t\t\tsplitValue( value, content );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\ttagName,\n\t\t\tonReplace,\n\t\t\tonSplit,\n\t\t\tsplitValue,\n\t\t\t__unstableEmbedURLOnPaste,\n\t\t\tmultiline,\n\t\t]\n\t);\n\n\tconst inputRule = useCallback(\n\t\t( value, valueToFormat ) => {\n\t\t\tif ( ! onReplace ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { start, text } = value;\n\t\t\tconst characterBefore = text.slice( start - 1, start );\n\n\t\t\t// The character right before the caret must be a plain space.\n\t\t\tif ( characterBefore !== ' ' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst trimmedTextBefore = text.slice( 0, start ).trim();\n\t\t\tconst prefixTransforms = getBlockTransforms( 'from' ).filter(\n\t\t\t\t( { type } ) => type === 'prefix'\n\t\t\t);\n\t\t\tconst transformation = findTransform(\n\t\t\t\tprefixTransforms,\n\t\t\t\t( { prefix } ) => {\n\t\t\t\t\treturn trimmedTextBefore === prefix;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif ( ! transformation ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst content = valueToFormat( slice( value, start, text.length ) );\n\t\t\tconst block = transformation.transform( content );\n\n\t\t\tonReplace( [ block ] );\n\t\t\t__unstableMarkAutomaticChange();\n\t\t},\n\t\t[ onReplace, __unstableMarkAutomaticChange ]\n\t);\n\n\tconst content = (\n\t\t<RichText\n\t\t\t{ ...props }\n\t\t\tclientId={ clientId }\n\t\t\tidentifier={ identifier }\n\t\t\tref={ ref }\n\t\t\tvalue={ adjustedValue }\n\t\t\tonChange={ adjustedOnChange }\n\t\t\tselectionStart={ selectionStart }\n\t\t\tselectionEnd={ selectionEnd }\n\t\t\tonSelectionChange={ onSelectionChange }\n\t\t\ttagName={ tagName }\n\t\t\tclassName={ classnames( classes, className, {\n\t\t\t\t'keep-placeholder-on-focus': keepPlaceholderOnFocus,\n\t\t\t} ) }\n\t\t\tplaceholder={ placeholder }\n\t\t\tallowedFormats={ adjustedAllowedFormats }\n\t\t\twithoutInteractiveFormatting={ withoutInteractiveFormatting }\n\t\t\tonEnter={ onEnter }\n\t\t\tonDelete={ onDelete }\n\t\t\tonPaste={ onPaste }\n\t\t\t__unstableIsSelected={ isSelected }\n\t\t\t__unstableInputRule={ inputRule }\n\t\t\t__unstableMultilineTag={ multilineTag }\n\t\t\t__unstableIsCaretWithinFormattedText={ isCaretWithinFormattedText }\n\t\t\t__unstableOnEnterFormattedText={ enterFormattedText }\n\t\t\t__unstableOnExitFormattedText={ exitFormattedText }\n\t\t\t__unstableOnCreateUndoLevel={ __unstableMarkLastChangeAsPersistent }\n\t\t\t__unstableMarkAutomaticChange={ __unstableMarkAutomaticChange }\n\t\t\t__unstableDidAutomaticChange={ didAutomaticChange }\n\t\t\t__unstableUndo={ undo }\n\t\t\t__unstableDisableFormats={ disableFormats }\n\t\t\tstyle={ style }\n\t\t\tpreserveWhiteSpace={ preserveWhiteSpace }\n\t\t\tdisabled={ disabled }\n\t\t\tstart={ startAttr }\n\t\t\treversed={ reversed }\n\t\t\t// Native props.\n\t\t\tonCaretVerticalPositionChange={ onCaretVerticalPositionChange }\n\t\t\tblockIsSelected={\n\t\t\t\toriginalIsSelected !== undefined\n\t\t\t\t\t? originalIsSelected\n\t\t\t\t\t: blockIsSelected\n\t\t\t}\n\t\t\tshouldBlurOnUnmount={ shouldBlurOnUnmount }\n\t\t>\n\t\t\t{ ( {\n\t\t\t\tisSelected: nestedIsSelected,\n\t\t\t\tvalue,\n\t\t\t\tonChange,\n\t\t\t\tonFocus,\n\t\t\t\tEditable,\n\t\t\t} ) => (\n\t\t\t\t<>\n\t\t\t\t\t{ children && children( { value, onChange, onFocus } ) }\n\t\t\t\t\t{ nestedIsSelected && hasFormats && (\n\t\t\t\t\t\t<FormatToolbarContainer\n\t\t\t\t\t\t\tinline={ inlineToolbar }\n\t\t\t\t\t\t\tanchorRef={ ref.current }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ nestedIsSelected && <RemoveBrowserShortcuts /> }\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tonReplace={ onReplace }\n\t\t\t\t\t\tcompleters={ autocompleters }\n\t\t\t\t\t\trecord={ value }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\tisSelected={ nestedIsSelected }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( { listBoxId, activeId, onKeyDown } ) => (\n\t\t\t\t\t\t\t<Editable\n\t\t\t\t\t\t\t\taria-autocomplete={\n\t\t\t\t\t\t\t\t\tlistBoxId ? 'list' : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria-owns={ listBoxId }\n\t\t\t\t\t\t\t\taria-activedescendant={ activeId }\n\t\t\t\t\t\t\t\tstart={ startAttr }\n\t\t\t\t\t\t\t\treversed={ reversed }\n\t\t\t\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Autocomplete>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</RichText>\n\t);\n\n\tif ( ! wrapperClassName ) {\n\t\treturn content;\n\t}\n\n\tdeprecated( 'wp.blockEditor.RichText wrapperClassName prop', {\n\t\talternative: 'className prop or create your own wrapper div',\n\t} );\n\n\treturn (\n\t\t<div className={ classnames( wrapperClasses, wrapperClassName ) }>\n\t\t\t{ content }\n\t\t</div>\n\t);\n}\n\nconst ForwardedRichTextContainer = forwardRef( RichTextWrapper );\n\nForwardedRichTextContainer.Content = ( {\n\tvalue,\n\ttagName: Tag,\n\tmultiline,\n\t...props\n} ) => {\n\t// Handle deprecated `children` and `node` sources.\n\tif ( Array.isArray( value ) ) {\n\t\tvalue = childrenSource.toHTML( value );\n\t}\n\n\tconst MultilineTag = getMultilineTag( multiline );\n\n\tif ( ! value && MultilineTag ) {\n\t\tvalue = `<${ MultilineTag }></${ MultilineTag }>`;\n\t}\n\n\tconst content = <RawHTML>{ value }</RawHTML>;\n\n\tif ( Tag ) {\n\t\treturn <Tag { ...omit( props, [ 'format' ] ) }>{ content }</Tag>;\n\t}\n\n\treturn content;\n};\n\nForwardedRichTextContainer.isEmpty = ( value ) => {\n\treturn ! value || value.length === 0;\n};\n\nForwardedRichTextContainer.Content.defaultProps = {\n\tformat: 'string',\n\tvalue: '',\n};\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/rich-text/README.md\n */\nexport default ForwardedRichTextContainer;\nexport { RichTextShortcut } from './shortcut';\nexport { RichTextToolbarButton } from './toolbar-button';\nexport { __unstableRichTextInputEvent } from './input-event';\n","/**\n * Internal dependencies\n */\n\nimport { getTextContent } from './get-text-content';\nimport { insert } from './insert';\nimport { LINE_SEPARATOR } from './special-characters';\n\n/**\n * Insert a line break character into a Rich Text value at the given\n * `startIndex`. Any content between `startIndex` and `endIndex` will be\n * removed. Indices are retrieved from the selection if none are provided.\n *\n * @param {Object} value        Value to modify.\n * @param {number} [startIndex] Start index.\n * @param {number} [endIndex]   End index.\n *\n * @return {Object} A new value with the value inserted.\n */\nexport function insertLineSeparator(\n\tvalue,\n\tstartIndex = value.start,\n\tendIndex = value.end\n) {\n\tconst beforeText = getTextContent( value ).slice( 0, startIndex );\n\tconst previousLineSeparatorIndex = beforeText.lastIndexOf( LINE_SEPARATOR );\n\tconst previousLineSeparatorFormats =\n\t\tvalue.replacements[ previousLineSeparatorIndex ];\n\tlet replacements = [ , ];\n\n\tif ( previousLineSeparatorFormats ) {\n\t\treplacements = [ previousLineSeparatorFormats ];\n\t}\n\n\tconst valueToInsert = {\n\t\tformats: [ , ],\n\t\treplacements,\n\t\ttext: LINE_SEPARATOR,\n\t};\n\n\treturn insert( value, valueToInsert, startIndex, endIndex );\n}\n","/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport RichText from '../rich-text';\n\nconst EditableText = forwardRef( ( props, ref ) => {\n\treturn (\n\t\t<RichText\n\t\t\tref={ ref }\n\t\t\t{ ...props }\n\t\t\t__unstableDisableFormats\n\t\t\tpreserveWhiteSpace\n\t\t/>\n\t);\n} );\n\nEditableText.Content = ( { value = '', tagName: Tag = 'div', ...props } ) => {\n\treturn <Tag { ...props }>{ value }</Tag>;\n};\n\n/**\n * Renders an editable text input in which text formatting is not allowed.\n */\nexport default EditableText;\n","/**\n * External dependencies\n */\nimport TextareaAutosize from 'react-autosize-textarea';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport EditableText from '../editable-text';\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/plain-text/README.md\n */\nconst PlainText = forwardRef( ( { __experimentalVersion, ...props }, ref ) => {\n\tif ( __experimentalVersion === 2 ) {\n\t\treturn <EditableText ref={ ref } { ...props } />;\n\t}\n\n\tconst { className, onChange, ...remainingProps } = props;\n\n\treturn (\n\t\t<TextareaAutosize\n\t\t\tref={ ref }\n\t\t\tclassName={ classnames( 'block-editor-plain-text', className ) }\n\t\t\tonChange={ ( event ) => onChange( event.target.value ) }\n\t\t\t{ ...remainingProps }\n\t\t/>\n\t);\n} );\n\nexport default PlainText;\n","/**\n * WordPress dependencies\n */\nimport {\n\tDropdown,\n\tButton,\n\tMenuItemsChoice,\n\tSVG,\n\tPath,\n\tNavigableMenu,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useViewportMatch } from '@wordpress/compose';\n\nconst editIcon = (\n\t<SVG\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path d=\"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z\" />\n\t</SVG>\n);\nconst selectIcon = (\n\t<SVG\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path d=\"M9.4 20.5L5.2 3.8l14.6 9-2 .3c-.2 0-.4.1-.7.1-.9.2-1.6.3-2.2.5-.8.3-1.4.5-1.8.8-.4.3-.8.8-1.3 1.5-.4.5-.8 1.2-1.2 2l-.3.6-.9 1.9zM7.6 7.1l2.4 9.3c.2-.4.5-.8.7-1.1.6-.8 1.1-1.4 1.6-1.8.5-.4 1.3-.8 2.2-1.1l1.2-.3-8.1-5z\" />\n\t</SVG>\n);\n\nfunction ToolSelector() {\n\tconst isNavigationTool = useSelect(\n\t\t( select ) => select( 'core/block-editor' ).isNavigationMode(),\n\t\t[]\n\t);\n\tconst { setNavigationMode } = useDispatch( 'core/block-editor' );\n\tconst isMediumViewport = useViewportMatch( 'medium' );\n\tif ( ! isMediumViewport ) {\n\t\treturn null;\n\t}\n\n\tconst onSwitchMode = ( mode ) => {\n\t\tsetNavigationMode( mode === 'edit' ? false : true );\n\t};\n\n\treturn (\n\t\t<Dropdown\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<Button\n\t\t\t\t\ticon={ isNavigationTool ? selectIcon : editIcon }\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\tlabel={ __( 'Tools' ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\tposition=\"bottom right\"\n\t\t\trenderContent={ () => (\n\t\t\t\t<>\n\t\t\t\t\t<NavigableMenu role=\"menu\" aria-label={ __( 'Tools' ) }>\n\t\t\t\t\t\t<MenuItemsChoice\n\t\t\t\t\t\t\tvalue={ isNavigationTool ? 'select' : 'edit' }\n\t\t\t\t\t\t\tonSelect={ onSwitchMode }\n\t\t\t\t\t\t\tchoices={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: 'edit',\n\t\t\t\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{ editIcon }\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: 'select',\n\t\t\t\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{ selectIcon }\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Select' ) }\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t<div className=\"block-editor-tool-selector__help\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Tools offer different interactions for block selection & editing. To select, press Escape, to go back to editing, press Enter.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default ToolSelector;\n","/**\n * External dependencies\n */\nimport { css } from '@emotion/core';\nimport styled from '@emotion/styled';\n/**\n * Internal dependencies\n */\nimport { color, rtl } from '../../utils/style-mixins';\nimport NumberControl from '../../number-control';\n\nexport const Root = styled.div`\n\tbox-sizing: border-box;\n\tposition: relative;\n`;\n\nconst fontSizeStyles = ( { size } ) => {\n\tconst sizes = {\n\t\tdefault: null,\n\t\tsmall: '11px',\n\t};\n\n\tconst fontSize = sizes[ size ];\n\n\tif ( ! fontSize ) return '';\n\n\treturn css`\n\t\t@media ( min-width: 600px ) {\n\t\t\tfont-size: ${fontSize};\n\t\t}\n\t`;\n};\n\nconst sizeStyles = ( { size } ) => {\n\tconst sizes = {\n\t\tdefault: {\n\t\t\theight: 30,\n\t\t\tlineHeight: 30,\n\t\t\tminHeight: 30,\n\t\t},\n\t\tsmall: {\n\t\t\theight: 24,\n\t\t\tlineHeight: 24,\n\t\t\tminHeight: 24,\n\t\t},\n\t};\n\n\tconst style = sizes[ size ] || sizes.default;\n\n\treturn css( style );\n};\n\n// TODO: Resolve need to use &&& to increase specificity\n// https://github.com/WordPress/gutenberg/issues/18483\n\nexport const ValueInput = styled( NumberControl )`\n\t&&& {\n\t\tappearance: none;\n\t\t-moz-appearance: textfield;\n\t\tbox-sizing: border-box;\n\t\tborder: 1px solid ${color( 'ui.border' )};\n\t\tborder-radius: 2px;\n\t\tpadding: 3px 8px;\n\t\tdisplay: block;\n\t\twidth: 100%;\n\n\t\t&::-webkit-outer-spin-button,\n\t\t&::-webkit-inner-spin-button {\n\t\t\t-webkit-appearance: none;\n\t\t\tmargin: 0;\n\t\t}\n\n\t\t${rtl( { paddingRight: 20 } )}\n\t\t${fontSizeStyles};\n\t\t${sizeStyles};\n\t}\n`;\n\nconst unitSizeStyles = ( { size } ) => {\n\tconst sizes = {\n\t\tdefault: {\n\t\t\ttop: 5,\n\t\t\theight: 20,\n\t\t\tminHeight: 20,\n\t\t},\n\t\tsmall: {\n\t\t\ttop: 4,\n\t\t\theight: 16,\n\t\t\tminHeight: 16,\n\t\t},\n\t};\n\n\treturn css( sizes[ size ] );\n};\n\nconst baseUnitLabelStyles = ( props ) => {\n\treturn css`\n\t\tappearance: none;\n\t\tbackground: ${color( 'ui.background' )};\n\t\tborder-radius: 2px;\n\t\tborder: none;\n\t\tbox-sizing: border-box;\n\t\tcolor: ${color( 'darkGray.500' )};\n\t\tdisplay: block;\n\t\tfont-size: 8px;\n\t\tline-height: 1;\n\t\tletter-spacing: -0.5px;\n\t\toutline: none;\n\t\tpadding: 2px 2px;\n\t\tposition: absolute;\n\t\ttext-align-last: center;\n\t\ttext-transform: uppercase;\n\t\twidth: 22px;\n\t\tz-index: 1;\n\n\t\t${rtl( { right: 4 } )()}\n\t\t${unitSizeStyles( props )}\n\t`;\n};\n\nconst unitLabelPaddingStyles = ( { size } ) => {\n\tconst sizes = {\n\t\tdefault: '6px 2px',\n\t\tsmall: '4px 2px',\n\t};\n\n\treturn css( { padding: sizes[ size ] } );\n};\n\nexport const UnitLabel = styled.div`\n\t&&& {\n\t\t${baseUnitLabelStyles};\n\t\t${unitLabelPaddingStyles};\n\t}\n`;\n\nexport const UnitSelect = styled.select`\n\t&&& {\n\t\t${baseUnitLabelStyles};\n\t\tcursor: pointer;\n\t\tborder: 1px solid transparent;\n\n\t\t&:hover {\n\t\t\tbackground-color: ${color( 'lightGray.300' )};\n\t\t}\n\n\t\t&:focus {\n\t\t\tborder-color: ${color( 'ui.borderFocus' )};\n\t\t\toutline: 2px solid transparent;\n\t\t\toutline-offset: 0;\n\t\t}\n\t}\n`;\n","export const CSS_UNITS = [\n\t{ value: 'px', label: 'px', default: 0 },\n\t{ value: '%', label: '%', default: 10 },\n\t{ value: 'em', label: 'em', default: 0 },\n\t{ value: 'rem', label: 'rem', default: 0 },\n\t{ value: 'vw', label: 'vw', default: 10 },\n\t{ value: 'vh', label: 'vh', default: 10 },\n];\n","/**\n * External dependencies\n */\nimport { noop, isEmpty } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * Internal dependencies\n */\nimport { UnitSelect, UnitLabel } from './styles/unit-control-styles';\nimport { CSS_UNITS } from './utils';\n\n/**\n * Renders a `select` if there are multiple units.\n * Otherwise, renders a non-selectable label.\n */\nexport default function UnitSelectControl( {\n\tclassName,\n\tisTabbable = true,\n\toptions = CSS_UNITS,\n\tonChange = noop,\n\tsize = 'default',\n\tvalue = 'px',\n\t...props\n} ) {\n\tif ( isEmpty( options ) || options.length === 1 || options === false ) {\n\t\treturn <UnitLabel size={ size }>{ value }</UnitLabel>;\n\t}\n\n\tconst handleOnChange = ( event ) => {\n\t\tconst { value: unitValue } = event.target;\n\t\tconst data = options.find( ( option ) => option.value === unitValue );\n\n\t\tonChange( unitValue, { event, data } );\n\t};\n\n\tconst classes = classnames( 'component-unit-control__select', className );\n\n\treturn (\n\t\t<UnitSelect\n\t\t\tclassName={ classes }\n\t\t\tonChange={ handleOnChange }\n\t\t\tsize={ size }\n\t\t\ttabIndex={ isTabbable ? null : '-1' }\n\t\t\tvalue={ value }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ options.map( ( option ) => (\n\t\t\t\t<option value={ option.value } key={ option.value }>\n\t\t\t\t\t{ option.label }\n\t\t\t\t</option>\n\t\t\t) ) }\n\t\t</UnitSelect>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { isUndefined, noop } from 'lodash';\nimport classnames from 'classnames';\n/**\n * Internal dependencies\n */\nimport { Root, ValueInput } from './styles/unit-control-styles';\nimport UnitSelectControl from './unit-select-control';\nimport { CSS_UNITS } from './utils';\n\nexport default function UnitControl( {\n\tclassName,\n\tisUnitSelectTabbable = true,\n\tisResetValueOnUnitChange = true,\n\tlabel,\n\tonChange = noop,\n\tonUnitChange = noop,\n\tsize = 'default',\n\tstyle,\n\tunit = 'px',\n\tunits = CSS_UNITS,\n\tvalue,\n\t...props\n} ) {\n\tconst handleOnUnitChange = ( unitValue, changeProps ) => {\n\t\tconst { data } = changeProps;\n\t\tonUnitChange( unitValue, changeProps );\n\n\t\tif ( isResetValueOnUnitChange && ! isUndefined( data.default ) ) {\n\t\t\tonChange( data.default, changeProps );\n\t\t}\n\t};\n\n\tconst classes = classnames( 'component-unit-control', className );\n\n\treturn (\n\t\t<Root className={ classes } style={ style }>\n\t\t\t<ValueInput\n\t\t\t\taria-label={ label }\n\t\t\t\t{ ...props }\n\t\t\t\tclassName=\"component-unit-control__input\"\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tsize={ size }\n\t\t\t\ttype=\"number\"\n\t\t\t/>\n\t\t\t<UnitSelectControl\n\t\t\t\tclassName=\"component-unit-control__select\"\n\t\t\t\tisTabbable={ isUnitSelectTabbable }\n\t\t\t\toptions={ units }\n\t\t\t\tonChange={ handleOnUnitChange }\n\t\t\t\tsize={ size }\n\t\t\t\tvalue={ unit }\n\t\t\t/>\n\t\t</Root>\n\t);\n}\n\nUnitControl.__defaultUnits = CSS_UNITS;\n","/**\n * WordPress dependencies\n */\nimport { __experimentalUnitControl as BaseUnitControl } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\nconst { __defaultUnits } = BaseUnitControl;\n\nexport default function UnitControl( { units: unitsProp, ...props } ) {\n\tconst settings = useCustomUnitsSettings();\n\tconst isDisabled = !! settings;\n\n\t// Adjust units based on add_theme_support( 'experimental-custom-units' );\n\tlet units;\n\n\t/**\n\t * Handle extra arguments for add_theme_support\n\t *\n\t * Example: add_theme_support( 'experimental-custom-units', 'rem' );\n\t * Or: add_theme_support( 'experimental-custom-units', 'px, 'rem', 'em' );\n\t *\n\t * Note: If there are unit argument (e.g. 'em'), these units are enabled\n\t * within the control.\n\t */\n\tif ( Array.isArray( settings ) ) {\n\t\tunits = filterUnitsWithSettings( settings, unitsProp );\n\t} else {\n\t\tunits = isDisabled ? false : unitsProp;\n\t}\n\n\treturn <BaseUnitControl units={ units } { ...props } />;\n}\n\n// Hoisting statics from the BaseUnitControl\nUnitControl.__defaultUnits = __defaultUnits;\n\n/**\n * Hook that retrieves the 'experimental-custom-units' setting from add_theme_support()\n */\nfunction useCustomUnitsSettings() {\n\tconst settings = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( 'core/block-editor' );\n\t\treturn getSettings().__experimentalDisableCustomUnits;\n\t}, [] );\n\n\treturn settings;\n}\n\n/**\n * Filters available units based on values defined by settings.\n *\n * @param {Array} settings Collection of preferred units.\n * @param {Array} units Collection of available units.\n *\n * @return {Array} Filtered units based on settings.\n */\nfunction filterUnitsWithSettings( settings = [], units = [] ) {\n\treturn units.filter( ( unit ) => {\n\t\treturn settings.includes( unit.value );\n\t} );\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst link = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.6 7.2H14v1.5h1.6c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7H14v1.5h1.6c2.8 0 5.2-2.3 5.2-5.2 0-2.9-2.3-5.2-5.2-5.2zM4.7 12.4c0-2 1.7-3.7 3.7-3.7H10V7.2H8.4c-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2H10v-1.5H8.4c-2 0-3.7-1.7-3.7-3.7zm4.6.9h5.3v-1.5H9.3v1.5z\" />\n\t</SVG>\n);\n\nexport default link;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { Button } from '@wordpress/components';\nimport { link, keyboardReturn, arrowLeft } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport URLInput from './';\n\nclass URLInputButton extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.toggle = this.toggle.bind( this );\n\t\tthis.submitLink = this.submitLink.bind( this );\n\t\tthis.state = {\n\t\t\texpanded: false,\n\t\t};\n\t}\n\n\ttoggle() {\n\t\tthis.setState( { expanded: ! this.state.expanded } );\n\t}\n\n\tsubmitLink( event ) {\n\t\tevent.preventDefault();\n\t\tthis.toggle();\n\t}\n\n\trender() {\n\t\tconst { url, onChange } = this.props;\n\t\tconst { expanded } = this.state;\n\t\tconst buttonLabel = url ? __( 'Edit link' ) : __( 'Insert link' );\n\n\t\treturn (\n\t\t\t<div className=\"block-editor-url-input__button\">\n\t\t\t\t<Button\n\t\t\t\t\ticon={ link }\n\t\t\t\t\tlabel={ buttonLabel }\n\t\t\t\t\tonClick={ this.toggle }\n\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\tisPressed={ !! url }\n\t\t\t\t/>\n\t\t\t\t{ expanded && (\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName=\"block-editor-url-input__button-modal\"\n\t\t\t\t\t\tonSubmit={ this.submitLink }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"block-editor-url-input__button-modal-line\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"block-editor-url-input__back\"\n\t\t\t\t\t\t\t\ticon={ arrowLeft }\n\t\t\t\t\t\t\t\tlabel={ __( 'Close' ) }\n\t\t\t\t\t\t\t\tonClick={ this.toggle }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<URLInput\n\t\t\t\t\t\t\t\tvalue={ url || '' }\n\t\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon={ keyboardReturn }\n\t\t\t\t\t\t\t\tlabel={ __( 'Submit' ) }\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/url-input/README.md\n */\nexport default URLInputButton;\n","/**\n * External dependencies\n */\nimport { find, isEmpty, each, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useRef, useState, useCallback } from '@wordpress/element';\nimport {\n\tButton,\n\tNavigableMenu,\n\tMenuItem,\n\tToggleControl,\n\tTextControl,\n\tSVG,\n\tPath,\n} from '@wordpress/components';\nimport { LEFT, RIGHT, UP, DOWN, BACKSPACE, ENTER } from '@wordpress/keycodes';\nimport { link as linkIcon, close } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport URLPopover from './index';\n\nconst LINK_DESTINATION_NONE = 'none';\nconst LINK_DESTINATION_CUSTOM = 'custom';\nconst LINK_DESTINATION_MEDIA = 'media';\nconst LINK_DESTINATION_ATTACHMENT = 'attachment';\nconst NEW_TAB_REL = [ 'noreferrer', 'noopener' ];\n\nconst icon = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M0,0h24v24H0V0z\" fill=\"none\" />\n\t\t<Path d=\"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z\" />\n\t\t<Path d=\"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z\" />\n\t</SVG>\n);\n\nconst ImageURLInputUI = ( {\n\tlinkDestination,\n\tonChangeUrl,\n\turl,\n\tmediaType = 'image',\n\tmediaUrl,\n\tmediaLink,\n\tlinkTarget,\n\tlinkClass,\n\trel,\n} ) => {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst openLinkUI = useCallback( () => {\n\t\tsetIsOpen( true );\n\t} );\n\n\tconst [ isEditingLink, setIsEditingLink ] = useState( false );\n\tconst [ urlInput, setUrlInput ] = useState( null );\n\n\tconst autocompleteRef = useRef( null );\n\n\tconst stopPropagation = ( event ) => {\n\t\tevent.stopPropagation();\n\t};\n\n\tconst stopPropagationRelevantKeys = ( event ) => {\n\t\tif (\n\t\t\t[ LEFT, DOWN, RIGHT, UP, BACKSPACE, ENTER ].indexOf(\n\t\t\t\tevent.keyCode\n\t\t\t) > -1\n\t\t) {\n\t\t\t// Stop the key event from propagating up to ObserveTyping.startTypingInTextField.\n\t\t\tevent.stopPropagation();\n\t\t}\n\t};\n\n\tconst startEditLink = useCallback( () => {\n\t\tif (\n\t\t\tlinkDestination === LINK_DESTINATION_MEDIA ||\n\t\t\tlinkDestination === LINK_DESTINATION_ATTACHMENT\n\t\t) {\n\t\t\tsetUrlInput( '' );\n\t\t}\n\t\tsetIsEditingLink( true );\n\t} );\n\n\tconst stopEditLink = useCallback( () => {\n\t\tsetIsEditingLink( false );\n\t} );\n\n\tconst closeLinkUI = useCallback( () => {\n\t\tsetUrlInput( null );\n\t\tstopEditLink();\n\t\tsetIsOpen( false );\n\t} );\n\n\tconst removeNewTabRel = ( currentRel ) => {\n\t\tlet newRel = currentRel;\n\n\t\tif ( currentRel !== undefined && ! isEmpty( newRel ) ) {\n\t\t\tif ( ! isEmpty( newRel ) ) {\n\t\t\t\teach( NEW_TAB_REL, function( relVal ) {\n\t\t\t\t\tconst regExp = new RegExp( '\\\\b' + relVal + '\\\\b', 'gi' );\n\t\t\t\t\tnewRel = newRel.replace( regExp, '' );\n\t\t\t\t} );\n\n\t\t\t\t// Only trim if NEW_TAB_REL values was replaced.\n\t\t\t\tif ( newRel !== currentRel ) {\n\t\t\t\t\tnewRel = newRel.trim();\n\t\t\t\t}\n\n\t\t\t\tif ( isEmpty( newRel ) ) {\n\t\t\t\t\tnewRel = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn newRel;\n\t};\n\n\tconst getUpdatedLinkTargetSettings = ( value ) => {\n\t\tconst newLinkTarget = value ? '_blank' : undefined;\n\n\t\tlet updatedRel;\n\t\tif ( ! newLinkTarget && ! rel ) {\n\t\t\tupdatedRel = undefined;\n\t\t} else {\n\t\t\tupdatedRel = removeNewTabRel( rel );\n\t\t}\n\n\t\treturn {\n\t\t\tlinkTarget: newLinkTarget,\n\t\t\trel: updatedRel,\n\t\t};\n\t};\n\n\tconst onFocusOutside = useCallback( () => {\n\t\treturn ( event ) => {\n\t\t\t// The autocomplete suggestions list renders in a separate popover (in a portal),\n\t\t\t// so onFocusOutside fails to detect that a click on a suggestion occurred in the\n\t\t\t// LinkContainer. Detect clicks on autocomplete suggestions using a ref here, and\n\t\t\t// return to avoid the popover being closed.\n\t\t\tconst autocompleteElement = autocompleteRef.current;\n\t\t\tif (\n\t\t\t\tautocompleteElement &&\n\t\t\t\tautocompleteElement.contains( event.target )\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetIsOpen( false );\n\t\t\tsetUrlInput( null );\n\t\t\tstopEditLink();\n\t\t};\n\t} );\n\n\tconst onSubmitLinkChange = useCallback( () => {\n\t\treturn ( event ) => {\n\t\t\tif ( urlInput ) {\n\t\t\t\tonChangeUrl( { href: urlInput } );\n\t\t\t}\n\t\t\tstopEditLink();\n\t\t\tsetUrlInput( null );\n\t\t\tevent.preventDefault();\n\t\t};\n\t} );\n\n\tconst onLinkRemove = useCallback( () => {\n\t\tonChangeUrl( {\n\t\t\tlinkDestination: LINK_DESTINATION_NONE,\n\t\t\thref: '',\n\t\t} );\n\t} );\n\n\tconst getLinkDestinations = () => {\n\t\treturn [\n\t\t\t{\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\n\t\t\t\ttitle: __( 'Media File' ),\n\t\t\t\turl: mediaType === 'image' ? mediaUrl : undefined,\n\t\t\t\ticon,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\n\t\t\t\ttitle: __( 'Attachment Page' ),\n\t\t\t\turl: mediaType === 'image' ? mediaLink : undefined,\n\t\t\t\ticon: (\n\t\t\t\t\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<Path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n\t\t\t\t\t\t<Path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z\" />\n\t\t\t\t\t</SVG>\n\t\t\t\t),\n\t\t\t},\n\t\t];\n\t};\n\n\tconst onSetHref = ( value ) => {\n\t\tconst linkDestinations = getLinkDestinations();\n\t\tlet linkDestinationInput;\n\t\tif ( ! value ) {\n\t\t\tlinkDestinationInput = LINK_DESTINATION_NONE;\n\t\t} else {\n\t\t\tlinkDestinationInput = (\n\t\t\t\tfind( linkDestinations, ( destination ) => {\n\t\t\t\t\treturn destination.url === value;\n\t\t\t\t} ) || { linkDestination: LINK_DESTINATION_CUSTOM }\n\t\t\t).linkDestination;\n\t\t}\n\t\tonChangeUrl( {\n\t\t\tlinkDestination: linkDestinationInput,\n\t\t\thref: value,\n\t\t} );\n\t};\n\n\tconst onSetNewTab = ( value ) => {\n\t\tconst updatedLinkTarget = getUpdatedLinkTargetSettings( value );\n\t\tonChangeUrl( updatedLinkTarget );\n\t};\n\n\tconst onSetLinkRel = ( value ) => {\n\t\tonChangeUrl( { rel: value } );\n\t};\n\n\tconst onSetLinkClass = ( value ) => {\n\t\tonChangeUrl( { linkClass: value } );\n\t};\n\n\tconst advancedOptions = (\n\t\t<>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\tonChange={ onSetNewTab }\n\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t/>\n\t\t\t<TextControl\n\t\t\t\tlabel={ __( 'Link Rel' ) }\n\t\t\t\tvalue={ removeNewTabRel( rel ) || '' }\n\t\t\t\tonChange={ onSetLinkRel }\n\t\t\t\tonKeyPress={ stopPropagation }\n\t\t\t\tonKeyDown={ stopPropagationRelevantKeys }\n\t\t\t/>\n\t\t\t<TextControl\n\t\t\t\tlabel={ __( 'Link CSS Class' ) }\n\t\t\t\tvalue={ linkClass || '' }\n\t\t\t\tonKeyPress={ stopPropagation }\n\t\t\t\tonKeyDown={ stopPropagationRelevantKeys }\n\t\t\t\tonChange={ onSetLinkClass }\n\t\t\t/>\n\t\t</>\n\t);\n\n\tconst linkEditorValue = urlInput !== null ? urlInput : url;\n\n\tconst urlLabel = (\n\t\tfind( getLinkDestinations(), [ 'linkDestination', linkDestination ] ) ||\n\t\t{}\n\t).title;\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\ticon={ linkIcon }\n\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\tlabel={ url ? __( 'Edit link' ) : __( 'Insert link' ) }\n\t\t\t\taria-expanded={ isOpen }\n\t\t\t\tonClick={ openLinkUI }\n\t\t\t/>\n\t\t\t{ isOpen && (\n\t\t\t\t<URLPopover\n\t\t\t\t\tonFocusOutside={ onFocusOutside() }\n\t\t\t\t\tonClose={ closeLinkUI }\n\t\t\t\t\trenderSettings={ () => advancedOptions }\n\t\t\t\t\tadditionalControls={\n\t\t\t\t\t\t! linkEditorValue && (\n\t\t\t\t\t\t\t<NavigableMenu>\n\t\t\t\t\t\t\t\t{ map( getLinkDestinations(), ( link ) => (\n\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\tkey={ link.linkDestination }\n\t\t\t\t\t\t\t\t\t\ticon={ link.icon }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\tsetUrlInput( null );\n\t\t\t\t\t\t\t\t\t\t\tonSetHref( link.url );\n\t\t\t\t\t\t\t\t\t\t\tstopEditLink();\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ link.title }\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ ( ! url || isEditingLink ) && (\n\t\t\t\t\t\t<URLPopover.LinkEditor\n\t\t\t\t\t\t\tclassName=\"block-editor-format-toolbar__link-container-content\"\n\t\t\t\t\t\t\tvalue={ linkEditorValue }\n\t\t\t\t\t\t\tonChangeInputValue={ setUrlInput }\n\t\t\t\t\t\t\tonKeyDown={ stopPropagationRelevantKeys }\n\t\t\t\t\t\t\tonKeyPress={ stopPropagation }\n\t\t\t\t\t\t\tonSubmit={ onSubmitLinkChange() }\n\t\t\t\t\t\t\tautocompleteRef={ autocompleteRef }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ url && ! isEditingLink && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<URLPopover.LinkViewer\n\t\t\t\t\t\t\t\tclassName=\"block-editor-format-toolbar__link-container-content\"\n\t\t\t\t\t\t\t\tonKeyPress={ stopPropagation }\n\t\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\t\tonEditLinkClick={ startEditLink }\n\t\t\t\t\t\t\t\turlLabel={ urlLabel }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon={ close }\n\t\t\t\t\t\t\t\tlabel={ __( 'Remove link' ) }\n\t\t\t\t\t\t\t\tonClick={ onLinkRemove }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</URLPopover>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport { ImageURLInputUI as __experimentalImageURLInputUI };\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: __experimentalBlockSettingsMenuFirstItem, Slot } = createSlotFill(\n\t'__experimentalBlockSettingsMenuFirstItem'\n);\n\n__experimentalBlockSettingsMenuFirstItem.Slot = Slot;\n\nexport default __experimentalBlockSettingsMenuFirstItem;\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { getBlockDOMNode } from '../../utils/dom';\n\nconst SkipToSelectedBlock = ( { selectedBlockClientId } ) => {\n\tconst onClick = () => {\n\t\tconst selectedBlockElement = getBlockDOMNode( selectedBlockClientId );\n\t\tselectedBlockElement.focus();\n\t};\n\n\treturn (\n\t\tselectedBlockClientId && (\n\t\t\t<Button\n\t\t\t\tisSecondary\n\t\t\t\tclassName=\"block-editor-skip-to-selected-block\"\n\t\t\t\tonClick={ onClick }\n\t\t\t>\n\t\t\t\t{ __( 'Skip to the selected block' ) }\n\t\t\t</Button>\n\t\t)\n\t);\n};\n\nexport default withSelect( ( select ) => {\n\treturn {\n\t\tselectedBlockClientId: select(\n\t\t\t'core/block-editor'\n\t\t).getBlockSelectionStart(),\n\t};\n} )( SkipToSelectedBlock );\n","/**\n * External dependencies\n */\nimport { uniq, compact, without } from 'lodash';\n\n/**\n * A set of tokens.\n *\n * @see https://dom.spec.whatwg.org/#domtokenlist\n */\nexport default class TokenList {\n\t/**\n\t * Constructs a new instance of TokenList.\n\t *\n\t * @param {string} initialValue Initial value to assign.\n\t */\n\tconstructor( initialValue = '' ) {\n\t\tthis.value = initialValue;\n\n\t\t// Disable reason: These are type hints on the class.\n\t\t/* eslint-disable no-unused-expressions */\n\t\t/** @type {string} */\n\t\tthis._currentValue;\n\n\t\t/** @type {string[]} */\n\t\tthis._valueAsArray;\n\t\t/* eslint-enable no-unused-expressions */\n\t}\n\n\t// Disable reason: JSDoc lint doesn't understand TypeScript types\n\t/* eslint-disable jsdoc/valid-types */\n\n\t/**\n\t * @param {Parameters<Array<string>['entries']>} args\n\t */\n\tentries( ...args ) {\n\t\treturn this._valueAsArray.entries( ...args );\n\t}\n\n\t/**\n\t * @param {Parameters<Array<string>['forEach']>} args\n\t */\n\tforEach( ...args ) {\n\t\treturn this._valueAsArray.forEach( ...args );\n\t}\n\n\t/**\n\t * @param {Parameters<Array<string>['keys']>} args\n\t */\n\tkeys( ...args ) {\n\t\treturn this._valueAsArray.keys( ...args );\n\t}\n\n\t/**\n\t * @param {Parameters<Array<string>['values']>} args\n\t */\n\tvalues( ...args ) {\n\t\treturn this._valueAsArray.values( ...args );\n\t}\n\n\t/* eslint-enable jsdoc/valid-types */\n\n\t/**\n\t * Returns the associated set as string.\n\t *\n\t * @see https://dom.spec.whatwg.org/#dom-domtokenlist-value\n\t *\n\t * @return {string} Token set as string.\n\t */\n\tget value() {\n\t\treturn this._currentValue;\n\t}\n\n\t/**\n\t * Replaces the associated set with a new string value.\n\t *\n\t * @see https://dom.spec.whatwg.org/#dom-domtokenlist-value\n\t *\n\t * @param {string} value New token set as string.\n\t */\n\tset value( value ) {\n\t\tvalue = String( value );\n\t\tthis._valueAsArray = uniq( compact( value.split( /\\s+/g ) ) );\n\t\tthis._currentValue = this._valueAsArray.join( ' ' );\n\t}\n\n\t/**\n\t * Returns the number of tokens.\n\t *\n\t * @see https://dom.spec.whatwg.org/#dom-domtokenlist-length\n\t *\n\t * @return {number} Number of tokens.\n\t */\n\tget length() {\n\t\treturn this._valueAsArray.length;\n\t}\n\n\t/**\n\t * Returns the stringified form of the TokenList.\n\t *\n\t * @see https://dom.spec.whatwg.org/#DOMTokenList-stringification-behavior\n\t * @see https://www.ecma-international.org/ecma-262/9.0/index.html#sec-tostring\n\t *\n\t * @return {string} Token set as string.\n\t */\n\ttoString() {\n\t\treturn this.value;\n\t}\n\n\t/**\n\t * Returns an iterator for the TokenList, iterating items of the set.\n\t *\n\t * @see https://dom.spec.whatwg.org/#domtokenlist\n\t *\n\t * @return {IterableIterator<string>} TokenList iterator.\n\t */\n\t*[ Symbol.iterator ]() {\n\t\treturn yield* this._valueAsArray;\n\t}\n\n\t/**\n\t * Returns the token with index `index`.\n\t *\n\t * @see https://dom.spec.whatwg.org/#dom-domtokenlist-item\n\t *\n\t * @param {number} index Index at which to return token.\n\t *\n\t * @return {string|undefined} Token at index.\n\t */\n\titem( index ) {\n\t\treturn this._valueAsArray[ index ];\n\t}\n\n\t/**\n\t * Returns true if `token` is present, and false otherwise.\n\t *\n\t * @see https://dom.spec.whatwg.org/#dom-domtokenlist-contains\n\t *\n\t * @param {string} item Token to test.\n\t *\n\t * @return {boolean} Whether token is present.\n\t */\n\tcontains( item ) {\n\t\treturn this._valueAsArray.indexOf( item ) !== -1;\n\t}\n\n\t/**\n\t * Adds all arguments passed, except those already present.\n\t *\n\t * @see https://dom.spec.whatwg.org/#dom-domtokenlist-add\n\t *\n\t * @param {...string} items Items to add.\n\t */\n\tadd( ...items ) {\n\t\tthis.value += ' ' + items.join( ' ' );\n\t}\n\n\t/**\n\t * Removes arguments passed, if they are present.\n\t *\n\t * @see https://dom.spec.whatwg.org/#dom-domtokenlist-remove\n\t *\n\t * @param {...string} items Items to remove.\n\t */\n\tremove( ...items ) {\n\t\tthis.value = without( this._valueAsArray, ...items ).join( ' ' );\n\t}\n\n\t/**\n\t * If `force` is not given, \"toggles\" `token`, removing it if it’s present\n\t * and adding it if it’s not present. If `force` is true, adds token (same\n\t * as add()). If force is false, removes token (same as remove()). Returns\n\t * true if `token` is now present, and false otherwise.\n\t *\n\t * @see https://dom.spec.whatwg.org/#dom-domtokenlist-toggle\n\t *\n\t * @param {string}  token   Token to toggle.\n\t * @param {boolean} [force] Presence to force.\n\t *\n\t * @return {boolean} Whether token is present after toggle.\n\t */\n\ttoggle( token, force ) {\n\t\tif ( undefined === force ) {\n\t\t\tforce = ! this.contains( token );\n\t\t}\n\n\t\tif ( force ) {\n\t\t\tthis.add( token );\n\t\t} else {\n\t\t\tthis.remove( token );\n\t\t}\n\n\t\treturn force;\n\t}\n\n\t/**\n\t * Replaces `token` with `newToken`. Returns true if `token` was replaced\n\t * with `newToken`, and false otherwise.\n\t *\n\t * @see https://dom.spec.whatwg.org/#dom-domtokenlist-replace\n\t *\n\t * @param {string} token    Token to replace with `newToken`.\n\t * @param {string} newToken Token to use in place of `token`.\n\t *\n\t * @return {boolean} Whether replacement occurred.\n\t */\n\treplace( token, newToken ) {\n\t\tif ( ! this.contains( token ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.remove( token );\n\t\tthis.add( newToken );\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Returns true if `token` is in the associated attribute’s supported\n\t * tokens. Returns false otherwise.\n\t *\n\t * Always returns `true` in this implementation.\n\t *\n\t * @see https://dom.spec.whatwg.org/#dom-domtokenlist-supports\n\t *\n\t * @return {boolean} Whether token is supported.\n\t */\n\tsupports() {\n\t\treturn true;\n\t}\n}\n","/**\n * External dependencies\n */\nimport { find, noop } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport TokenList from '@wordpress/token-list';\nimport { ENTER, SPACE } from '@wordpress/keycodes';\nimport { _x } from '@wordpress/i18n';\nimport {\n\tgetBlockType,\n\tcloneBlock,\n\tgetBlockFromExample,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport BlockPreview from '../block-preview';\n\n/**\n * Returns the active style from the given className.\n *\n * @param {Array} styles Block style variations.\n * @param {string} className  Class name\n *\n * @return {Object?} The active style.\n */\nexport function getActiveStyle( styles, className ) {\n\tfor ( const style of new TokenList( className ).values() ) {\n\t\tif ( style.indexOf( 'is-style-' ) === -1 ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst potentialStyleName = style.substring( 9 );\n\t\tconst activeStyle = find( styles, { name: potentialStyleName } );\n\t\tif ( activeStyle ) {\n\t\t\treturn activeStyle;\n\t\t}\n\t}\n\n\treturn find( styles, 'isDefault' );\n}\n\n/**\n * Replaces the active style in the block's className.\n *\n * @param {string}  className   Class name.\n * @param {Object?} activeStyle The replaced style.\n * @param {Object}  newStyle    The replacing style.\n *\n * @return {string} The updated className.\n */\nexport function replaceActiveStyle( className, activeStyle, newStyle ) {\n\tconst list = new TokenList( className );\n\n\tif ( activeStyle ) {\n\t\tlist.remove( 'is-style-' + activeStyle.name );\n\t}\n\n\tlist.add( 'is-style-' + newStyle.name );\n\n\treturn list.value;\n}\n\nfunction BlockStyles( {\n\tstyles,\n\tclassName,\n\tonChangeClassName,\n\ttype,\n\tblock,\n\tonSwitch = noop,\n\tonHoverClassName = noop,\n} ) {\n\tif ( ! styles || styles.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tif ( ! type.styles && ! find( styles, 'isDefault' ) ) {\n\t\tstyles = [\n\t\t\t{\n\t\t\t\tname: 'default',\n\t\t\t\tlabel: _x( 'Default', 'block style' ),\n\t\t\t\tisDefault: true,\n\t\t\t},\n\t\t\t...styles,\n\t\t];\n\t}\n\n\tconst activeStyle = getActiveStyle( styles, className );\n\tfunction updateClassName( style ) {\n\t\tconst updatedClassName = replaceActiveStyle(\n\t\t\tclassName,\n\t\t\tactiveStyle,\n\t\t\tstyle\n\t\t);\n\t\tonChangeClassName( updatedClassName );\n\t\tonHoverClassName( null );\n\t\tonSwitch();\n\t}\n\n\treturn (\n\t\t<div className=\"block-editor-block-styles\">\n\t\t\t{ styles.map( ( style ) => {\n\t\t\t\tconst styleClassName = replaceActiveStyle(\n\t\t\t\t\tclassName,\n\t\t\t\t\tactiveStyle,\n\t\t\t\t\tstyle\n\t\t\t\t);\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={ style.name }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'block-editor-block-styles__item',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-active': activeStyle === style,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ () => updateClassName( style ) }\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tENTER === event.keyCode ||\n\t\t\t\t\t\t\t\tSPACE === event.keyCode\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tupdateClassName( style );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonMouseEnter={ () =>\n\t\t\t\t\t\t\tonHoverClassName( styleClassName )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonMouseLeave={ () => onHoverClassName( null ) }\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\taria-label={ style.label || style.name }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"block-editor-block-styles__item-preview\">\n\t\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\t\tviewportWidth={ 500 }\n\t\t\t\t\t\t\t\tblocks={\n\t\t\t\t\t\t\t\t\ttype.example\n\t\t\t\t\t\t\t\t\t\t? getBlockFromExample( block.name, {\n\t\t\t\t\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t...type.example.attributes,\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: styleClassName,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tinnerBlocks:\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype.example.innerBlocks,\n\t\t\t\t\t\t\t\t\t\t  } )\n\t\t\t\t\t\t\t\t\t\t: cloneBlock( block, {\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: styleClassName,\n\t\t\t\t\t\t\t\t\t\t  } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"block-editor-block-styles__item-label\">\n\t\t\t\t\t\t\t{ style.label || style.name }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</div>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlock } = select( 'core/block-editor' );\n\t\tconst { getBlockStyles } = select( 'core/blocks' );\n\t\tconst block = getBlock( clientId );\n\t\tconst blockType = getBlockType( block.name );\n\n\t\treturn {\n\t\t\tblock,\n\t\t\tclassName: block.attributes.className || '',\n\t\t\tstyles: getBlockStyles( block.name ),\n\t\t\ttype: blockType,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientId } ) => {\n\t\treturn {\n\t\t\tonChangeClassName( newClassName ) {\n\t\t\t\tdispatch( 'core/block-editor' ).updateBlockAttributes(\n\t\t\t\t\tclientId,\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: newClassName,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t};\n\t} ),\n] )( BlockStyles );\n","export const defaultSettings = {\n\tHTMLRegExp: /<\\/?[a-z][^>]*?>/gi,\n\tHTMLcommentRegExp: /<!--[\\s\\S]*?-->/g,\n\tspaceRegExp: /&nbsp;|&#160;/gi,\n\tHTMLEntityRegExp: /&\\S+?;/g,\n\n\t// \\u2014 = em-dash\n\tconnectorRegExp: /--|\\u2014/g,\n\n\t// Characters to be removed from input text.\n\tremoveRegExp: new RegExp(\n\t\t[\n\t\t\t'[',\n\n\t\t\t// Basic Latin (extract)\n\t\t\t'\\u0021-\\u0040\\u005B-\\u0060\\u007B-\\u007E',\n\n\t\t\t// Latin-1 Supplement (extract)\n\t\t\t'\\u0080-\\u00BF\\u00D7\\u00F7',\n\n\t\t\t/*\n\t\t\t * The following range consists of:\n\t\t\t * General Punctuation\n\t\t\t * Superscripts and Subscripts\n\t\t\t * Currency Symbols\n\t\t\t * Combining Diacritical Marks for Symbols\n\t\t\t * Letterlike Symbols\n\t\t\t * Number Forms\n\t\t\t * Arrows\n\t\t\t * Mathematical Operators\n\t\t\t * Miscellaneous Technical\n\t\t\t * Control Pictures\n\t\t\t * Optical Character Recognition\n\t\t\t * Enclosed Alphanumerics\n\t\t\t * Box Drawing\n\t\t\t * Block Elements\n\t\t\t * Geometric Shapes\n\t\t\t * Miscellaneous Symbols\n\t\t\t * Dingbats\n\t\t\t * Miscellaneous Mathematical Symbols-A\n\t\t\t * Supplemental Arrows-A\n\t\t\t * Braille Patterns\n\t\t\t * Supplemental Arrows-B\n\t\t\t * Miscellaneous Mathematical Symbols-B\n\t\t\t * Supplemental Mathematical Operators\n\t\t\t * Miscellaneous Symbols and Arrows\n\t\t\t */\n\t\t\t'\\u2000-\\u2BFF',\n\n\t\t\t// Supplemental Punctuation\n\t\t\t'\\u2E00-\\u2E7F',\n\t\t\t']',\n\t\t].join( '' ),\n\t\t'g'\n\t),\n\n\t// Remove UTF-16 surrogate points, see https://en.wikipedia.org/wiki/UTF-16#U.2BD800_to_U.2BDFFF\n\tastralRegExp: /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\n\twordsRegExp: /\\S\\s+/g,\n\tcharacters_excluding_spacesRegExp: /\\S/g,\n\n\t/*\n\t * Match anything that is not a formatting character, excluding:\n\t * \\f = form feed\n\t * \\n = new line\n\t * \\r = carriage return\n\t * \\t = tab\n\t * \\v = vertical tab\n\t * \\u00AD = soft hyphen\n\t * \\u2028 = line separator\n\t * \\u2029 = paragraph separator\n\t */\n\tcharacters_including_spacesRegExp: /[^\\f\\n\\r\\t\\v\\u00AD\\u2028\\u2029]/g,\n\tl10n: {\n\t\ttype: 'words',\n\t},\n};\n","/**\n * Replaces items matched in the regex with new line\n *\n * @param {Object} settings The main settings object containing regular expressions\n * @param {string} text     The string being counted.\n *\n * @return {string} The manipulated text.\n */\nexport default function( settings, text ) {\n\tif ( settings.HTMLRegExp ) {\n\t\treturn text.replace( settings.HTMLRegExp, '\\n' );\n\t}\n}\n","/**\n * Replaces items matched in the regex with character.\n *\n * @param {Object} settings The main settings object containing regular expressions\n * @param {string} text     The string being counted.\n *\n * @return {string} The manipulated text.\n */\nexport default function( settings, text ) {\n\tif ( settings.astralRegExp ) {\n\t\treturn text.replace( settings.astralRegExp, 'a' );\n\t}\n\treturn text;\n}\n","/**\n * Removes items matched in the regex.\n *\n * @param {Object} settings The main settings object containing regular expressions\n * @param {string} text     The string being counted.\n *\n * @return {string} The manipulated text.\n */\nexport default function( settings, text ) {\n\tif ( settings.HTMLEntityRegExp ) {\n\t\treturn text.replace( settings.HTMLEntityRegExp, '' );\n\t}\n\treturn text;\n}\n","/**\n * Replaces items matched in the regex with spaces.\n *\n * @param {Object} settings The main settings object containing regular expressions\n * @param {string} text     The string being counted.\n *\n * @return {string} The manipulated text.\n */\nexport default function( settings, text ) {\n\tif ( settings.connectorRegExp ) {\n\t\treturn text.replace( settings.connectorRegExp, ' ' );\n\t}\n\treturn text;\n}\n","/**\n * Removes items matched in the regex.\n *\n * @param {Object} settings The main settings object containing regular expressions\n * @param {string} text     The string being counted.\n *\n * @return {string} The manipulated text.\n */\nexport default function( settings, text ) {\n\tif ( settings.removeRegExp ) {\n\t\treturn text.replace( settings.removeRegExp, '' );\n\t}\n\treturn text;\n}\n","/**\n * Removes items matched in the regex.\n *\n * @param {Object} settings The main settings object containing regular expressions\n * @param {string} text     The string being counted.\n *\n * @return {string} The manipulated text.\n */\nexport default function( settings, text ) {\n\tif ( settings.HTMLcommentRegExp ) {\n\t\treturn text.replace( settings.HTMLcommentRegExp, '' );\n\t}\n\treturn text;\n}\n","/**\n * Replaces items matched in the regex with a new line.\n *\n * @param {Object} settings The main settings object containing regular expressions\n * @param {string} text     The string being counted.\n *\n * @return {string} The manipulated text.\n */\nexport default function( settings, text ) {\n\tif ( settings.shortcodesRegExp ) {\n\t\treturn text.replace( settings.shortcodesRegExp, '\\n' );\n\t}\n\treturn text;\n}\n","/**\n * Replaces items matched in the regex with spaces.\n *\n * @param {Object} settings The main settings object containing regular expressions\n * @param {string} text     The string being counted.\n *\n * @return {string} The manipulated text.\n */\nexport default function( settings, text ) {\n\tif ( settings.spaceRegExp ) {\n\t\treturn text.replace( settings.spaceRegExp, ' ' );\n\t}\n}\n","/**\n * Replaces items matched in the regex with a single character.\n *\n * @param {Object} settings The main settings object containing regular expressions\n * @param {string} text     The string being counted.\n *\n * @return {string} The manipulated text.\n */\nexport default function( settings, text ) {\n\tif ( settings.HTMLEntityRegExp ) {\n\t\treturn text.replace( settings.HTMLEntityRegExp, 'a' );\n\t}\n\treturn text;\n}\n","/**\n * External dependencies\n */\nimport { extend, flow } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { defaultSettings } from './defaultSettings';\nimport stripTags from './stripTags';\nimport transposeAstralsToCountableChar from './transposeAstralsToCountableChar';\nimport stripHTMLEntities from './stripHTMLEntities';\nimport stripConnectors from './stripConnectors';\nimport stripRemovables from './stripRemovables';\nimport stripHTMLComments from './stripHTMLComments';\nimport stripShortcodes from './stripShortcodes';\nimport stripSpaces from './stripSpaces';\nimport transposeHTMLEntitiesToCountableChars from './transposeHTMLEntitiesToCountableChars';\n\n/**\n * Private function to manage the settings.\n *\n * @param {string} type         The type of count to be done.\n * @param {Object} userSettings Custom settings for the count.\n *\n * @return {void|Object|*} The combined settings object to be used.\n */\nfunction loadSettings( type, userSettings ) {\n\tconst settings = extend( defaultSettings, userSettings );\n\n\tsettings.shortcodes = settings.l10n.shortcodes || {};\n\n\tif ( settings.shortcodes && settings.shortcodes.length ) {\n\t\tsettings.shortcodesRegExp = new RegExp(\n\t\t\t'\\\\[\\\\/?(?:' + settings.shortcodes.join( '|' ) + ')[^\\\\]]*?\\\\]',\n\t\t\t'g'\n\t\t);\n\t}\n\n\tsettings.type = type || settings.l10n.type;\n\n\tif (\n\t\tsettings.type !== 'characters_excluding_spaces' &&\n\t\tsettings.type !== 'characters_including_spaces'\n\t) {\n\t\tsettings.type = 'words';\n\t}\n\n\treturn settings;\n}\n\n/**\n * Match the regex for the type 'words'\n *\n * @param {string} text     The text being processed\n * @param {string} regex    The regular expression pattern being matched\n * @param {Object} settings Settings object containing regular expressions for each strip function\n *\n * @return {Array|{index: number, input: string}} The matched string.\n */\nfunction matchWords( text, regex, settings ) {\n\ttext = flow(\n\t\tstripTags.bind( this, settings ),\n\t\tstripHTMLComments.bind( this, settings ),\n\t\tstripShortcodes.bind( this, settings ),\n\t\tstripSpaces.bind( this, settings ),\n\t\tstripHTMLEntities.bind( this, settings ),\n\t\tstripConnectors.bind( this, settings ),\n\t\tstripRemovables.bind( this, settings )\n\t)( text );\n\ttext = text + '\\n';\n\treturn text.match( regex );\n}\n\n/**\n * Match the regex for either 'characters_excluding_spaces' or 'characters_including_spaces'\n *\n * @param {string} text     The text being processed\n * @param {string} regex    The regular expression pattern being matched\n * @param {Object} settings Settings object containing regular expressions for each strip function\n *\n * @return {Array|{index: number, input: string}} The matched string.\n */\nfunction matchCharacters( text, regex, settings ) {\n\ttext = flow(\n\t\tstripTags.bind( this, settings ),\n\t\tstripHTMLComments.bind( this, settings ),\n\t\tstripShortcodes.bind( this, settings ),\n\t\tstripSpaces.bind( this, settings ),\n\t\ttransposeAstralsToCountableChar.bind( this, settings ),\n\t\ttransposeHTMLEntitiesToCountableChars.bind( this, settings )\n\t)( text );\n\ttext = text + '\\n';\n\treturn text.match( regex );\n}\n\n/**\n * Count some words.\n *\n * @param {string} text         The text being processed\n * @param {string} type         The type of count. Accepts ;words', 'characters_excluding_spaces', or 'characters_including_spaces'.\n * @param {Object} userSettings Custom settings object.\n *\n * @example\n * ```js\n * import { count } from '@wordpress/wordcount';\n * const numberOfWords = count( 'Words to count', 'words', {} )\n * ```\n *\n * @return {number} The word or character count.\n */\n\nexport function count( text, type, userSettings ) {\n\tif ( '' === text ) {\n\t\treturn 0;\n\t}\n\n\tif ( text ) {\n\t\tconst settings = loadSettings( type, userSettings );\n\t\tconst matchRegExp = settings[ type + 'RegExp' ];\n\t\tconst results =\n\t\t\t'words' === settings.type\n\t\t\t\t? matchWords( text, matchRegExp, settings )\n\t\t\t\t: matchCharacters( text, matchRegExp, settings );\n\n\t\treturn results ? results.length : 0;\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { sprintf, _n } from '@wordpress/i18n';\nimport { withSelect } from '@wordpress/data';\nimport { serialize } from '@wordpress/blocks';\nimport { count as wordCount } from '@wordpress/wordcount';\nimport { Path, SVG } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\n\nfunction MultiSelectionInspector( { blocks } ) {\n\tconst words = wordCount( serialize( blocks ), 'words' );\n\n\treturn (\n\t\t<div className=\"block-editor-multi-selection-inspector__card\">\n\t\t\t<BlockIcon\n\t\t\t\ticon={\n\t\t\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<Path d=\"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z\" />\n\t\t\t\t\t</SVG>\n\t\t\t\t}\n\t\t\t\tshowColors\n\t\t\t/>\n\t\t\t<div className=\"block-editor-multi-selection-inspector__card-content\">\n\t\t\t\t<div className=\"block-editor-multi-selection-inspector__card-title\">\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %d: number of blocks */\n\t\t\t\t\t\t_n( '%d block', '%d blocks', blocks.length ),\n\t\t\t\t\t\tblocks.length\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"block-editor-multi-selection-inspector__card-description\">\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %d: number of words */\n\t\t\t\t\t\t_n( '%d word', '%d words', words ),\n\t\t\t\t\t\twords\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getMultiSelectedBlocks } = select( 'core/block-editor' );\n\treturn {\n\t\tblocks: getMultiSelectedBlocks(),\n\t};\n} )( MultiSelectionInspector );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\nexport default function DefaultStylePicker( { blockName } ) {\n\tconst {\n\t\tpreferredStyle,\n\t\tonUpdatePreferredStyleVariations,\n\t\tstyles,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst settings = select( 'core/block-editor' ).getSettings();\n\t\t\tconst preferredStyleVariations =\n\t\t\t\tsettings.__experimentalPreferredStyleVariations;\n\t\t\treturn {\n\t\t\t\tpreferredStyle: get( preferredStyleVariations, [\n\t\t\t\t\t'value',\n\t\t\t\t\tblockName,\n\t\t\t\t] ),\n\t\t\t\tonUpdatePreferredStyleVariations: get(\n\t\t\t\t\tpreferredStyleVariations,\n\t\t\t\t\t[ 'onChange' ],\n\t\t\t\t\tnull\n\t\t\t\t),\n\t\t\t\tstyles: select( 'core/blocks' ).getBlockStyles( blockName ),\n\t\t\t};\n\t\t},\n\t\t[ blockName ]\n\t);\n\tconst selectOptions = useMemo(\n\t\t() => [\n\t\t\t{ label: __( 'Not set' ), value: '' },\n\t\t\t...styles.map( ( { label, name } ) => ( { label, value: name } ) ),\n\t\t],\n\t\t[ styles ]\n\t);\n\tconst selectOnChange = useCallback(\n\t\t( blockStyle ) => {\n\t\t\tonUpdatePreferredStyleVariations( blockName, blockStyle );\n\t\t},\n\t\t[ blockName, onUpdatePreferredStyleVariations ]\n\t);\n\n\treturn (\n\t\tonUpdatePreferredStyleVariations && (\n\t\t\t<SelectControl\n\t\t\t\toptions={ selectOptions }\n\t\t\t\tvalue={ preferredStyle || '' }\n\t\t\t\tlabel={ __( 'Default Style' ) }\n\t\t\t\tonChange={ selectOnChange }\n\t\t\t/>\n\t\t)\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tgetBlockType,\n\tgetUnregisteredTypeHandlerName,\n\thasBlockSupport,\n} from '@wordpress/blocks';\nimport {\n\tPanelBody,\n\t__experimentalUseSlot as useSlot,\n} from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport SkipToSelectedBlock from '../skip-to-selected-block';\nimport BlockCard from '../block-card';\nimport InspectorControls from '../inspector-controls';\nimport InspectorAdvancedControls from '../inspector-advanced-controls';\nimport BlockStyles from '../block-styles';\nimport MultiSelectionInspector from '../multi-selection-inspector';\nimport DefaultStylePicker from '../default-style-picker';\nconst BlockInspector = ( {\n\tblockType,\n\tcount,\n\thasBlockStyles,\n\tselectedBlockClientId,\n\tselectedBlockName,\n\tshowNoBlockSelectedMessage = true,\n} ) => {\n\tconst slot = useSlot( InspectorAdvancedControls.slotName );\n\n\tif ( count > 1 ) {\n\t\treturn <MultiSelectionInspector />;\n\t}\n\n\tconst isSelectedBlockUnregistered =\n\t\tselectedBlockName === getUnregisteredTypeHandlerName();\n\n\t/*\n\t * If the selected block is of an unregistered type, avoid showing it as an actual selection\n\t * because we want the user to focus on the unregistered block warning, not block settings.\n\t */\n\tif (\n\t\t! blockType ||\n\t\t! selectedBlockClientId ||\n\t\tisSelectedBlockUnregistered\n\t) {\n\t\tif ( showNoBlockSelectedMessage ) {\n\t\t\treturn (\n\t\t\t\t<span className=\"block-editor-block-inspector__no-blocks\">\n\t\t\t\t\t{ __( 'No block selected.' ) }\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}\n\n\tconst hasFills = Boolean( slot.fills && slot.fills.length );\n\n\treturn (\n\t\t<div className=\"block-editor-block-inspector\">\n\t\t\t<BlockCard blockType={ blockType } />\n\t\t\t{ hasBlockStyles && (\n\t\t\t\t<div>\n\t\t\t\t\t<PanelBody title={ __( 'Styles' ) }>\n\t\t\t\t\t\t<BlockStyles clientId={ selectedBlockClientId } />\n\t\t\t\t\t\t{ hasBlockSupport(\n\t\t\t\t\t\t\tblockType.name,\n\t\t\t\t\t\t\t'defaultStylePicker',\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t<DefaultStylePicker blockName={ blockType.name } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<InspectorControls.Slot bubblesVirtually />\n\t\t\t<div>\n\t\t\t\t{ hasFills && (\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tclassName=\"block-editor-block-inspector__advanced\"\n\t\t\t\t\t\ttitle={ __( 'Advanced' ) }\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t>\n\t\t\t\t\t\t<InspectorAdvancedControls.Slot bubblesVirtually />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t<SkipToSelectedBlock key=\"back\" />\n\t\t</div>\n\t);\n};\n\nexport default withSelect( ( select ) => {\n\tconst {\n\t\tgetSelectedBlockClientId,\n\t\tgetSelectedBlockCount,\n\t\tgetBlockName,\n\t} = select( 'core/block-editor' );\n\tconst { getBlockStyles } = select( 'core/blocks' );\n\tconst selectedBlockClientId = getSelectedBlockClientId();\n\tconst selectedBlockName =\n\t\tselectedBlockClientId && getBlockName( selectedBlockClientId );\n\tconst blockType =\n\t\tselectedBlockClientId && getBlockType( selectedBlockName );\n\tconst blockStyles =\n\t\tselectedBlockClientId && getBlockStyles( selectedBlockName );\n\treturn {\n\t\tcount: getSelectedBlockCount(),\n\t\thasBlockStyles: blockStyles && blockStyles.length > 0,\n\t\tselectedBlockName,\n\t\tselectedBlockClientId,\n\t\tblockType,\n\t};\n} )( BlockInspector );\n","/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\n\n/**\n * Return a label for the block movement controls depending on block position.\n *\n * @param {number}  selectedCount Number of blocks selected.\n * @param {string}  type          Block type - in the case of a single block, should\n *                                 define its 'type'. I.e. 'Text', 'Heading', 'Image' etc.\n * @param {number}  firstIndex    The index (position - 1) of the first block selected.\n * @param {boolean} isFirst       This is the first block.\n * @param {boolean} isLast        This is the last block.\n * @param {number}  dir           Direction of movement (> 0 is considered to be going\n *                                 down, < 0 is up).\n * @param {string}  orientation   The orientation of the block movers, vertical or\n * \t\t\t\t\t\t\t\t   horizontal.\n * @param {boolean} isRTL   \t  True if current writing system is right to left.\n *\n * @return {string} Label for the block movement controls.\n */\nexport function getBlockMoverDescription(\n\tselectedCount,\n\ttype,\n\tfirstIndex,\n\tisFirst,\n\tisLast,\n\tdir,\n\torientation,\n\tisRTL\n) {\n\tconst position = firstIndex + 1;\n\n\tconst getMovementDirection = ( moveDirection ) => {\n\t\tif ( moveDirection === 'up' ) {\n\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\treturn isRTL ? 'right' : 'left';\n\t\t\t}\n\t\t\treturn 'up';\n\t\t} else if ( moveDirection === 'down' ) {\n\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\treturn isRTL ? 'left' : 'right';\n\t\t\t}\n\t\t\treturn 'down';\n\t\t}\n\t\treturn null;\n\t};\n\n\tif ( selectedCount > 1 ) {\n\t\treturn getMultiBlockMoverDescription(\n\t\t\tselectedCount,\n\t\t\tfirstIndex,\n\t\t\tisFirst,\n\t\t\tisLast,\n\t\t\tdir\n\t\t);\n\t}\n\n\tif ( isFirst && isLast ) {\n\t\treturn sprintf(\n\t\t\t// translators: %s: Type of block (i.e. Text, Image etc)\n\t\t\t__( 'Block %s is the only block, and cannot be moved' ),\n\t\t\ttype\n\t\t);\n\t}\n\n\tif ( dir > 0 && ! isLast ) {\n\t\t// moving down\n\t\tconst movementDirection = getMovementDirection( 'down' );\n\n\t\tif ( movementDirection === 'down' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__(\n\t\t\t\t\t'Move %1$s block from position %2$d down to position %3$d'\n\t\t\t\t),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition + 1\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'left' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__(\n\t\t\t\t\t'Move %1$s block from position %2$d left to position %3$d'\n\t\t\t\t),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition + 1\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'right' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__(\n\t\t\t\t\t'Move %1$s block from position %2$d right to position %3$d'\n\t\t\t\t),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition + 1\n\t\t\t);\n\t\t}\n\t}\n\n\tif ( dir > 0 && isLast ) {\n\t\t// moving down, and is the last item\n\t\tconst movementDirection = getMovementDirection( 'down' );\n\n\t\tif ( movementDirection === 'down' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the end of the content and can’t be moved down'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'left' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the end of the content and can’t be moved left'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'right' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the end of the content and can’t be moved right'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\t}\n\n\tif ( dir < 0 && ! isFirst ) {\n\t\t// moving up\n\t\tconst movementDirection = getMovementDirection( 'up' );\n\n\t\tif ( movementDirection === 'up' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__( 'Move %1$s block from position %2$d up to position %3$d' ),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition - 1\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'left' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__(\n\t\t\t\t\t'Move %1$s block from position %2$d left to position %3$d'\n\t\t\t\t),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition - 1\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'right' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc), 2: Position of selected block, 3: New position\n\t\t\t\t__(\n\t\t\t\t\t'Move %1$s block from position %2$d right to position %3$d'\n\t\t\t\t),\n\t\t\t\ttype,\n\t\t\t\tposition,\n\t\t\t\tposition - 1\n\t\t\t);\n\t\t}\n\t}\n\n\tif ( dir < 0 && isFirst ) {\n\t\t// moving up, and is the first item\n\t\tconst movementDirection = getMovementDirection( 'up' );\n\n\t\tif ( movementDirection === 'up' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the beginning of the content and can’t be moved up'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'left' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the beginning of the content and can’t be moved left'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\n\t\tif ( movementDirection === 'right' ) {\n\t\t\treturn sprintf(\n\t\t\t\t// translators: 1: Type of block (i.e. Text, Image etc)\n\t\t\t\t__(\n\t\t\t\t\t'Block %1$s is at the beginning of the content and can’t be moved right'\n\t\t\t\t),\n\t\t\t\ttype\n\t\t\t);\n\t\t}\n\t}\n}\n\n/**\n * Return a label for the block movement controls depending on block position.\n *\n * @param {number}  selectedCount Number of blocks selected.\n * @param {number}  firstIndex    The index (position - 1) of the first block selected.\n * @param {boolean} isFirst       This is the first block.\n * @param {boolean} isLast        This is the last block.\n * @param {number}  dir           Direction of movement (> 0 is considered to be going\n *                                 down, < 0 is up).\n *\n * @return {string} Label for the block movement controls.\n */\nexport function getMultiBlockMoverDescription(\n\tselectedCount,\n\tfirstIndex,\n\tisFirst,\n\tisLast,\n\tdir\n) {\n\tconst position = firstIndex + 1;\n\n\tif ( dir < 0 && isFirst ) {\n\t\treturn __( 'Blocks cannot be moved up as they are already at the top' );\n\t}\n\n\tif ( dir > 0 && isLast ) {\n\t\treturn __(\n\t\t\t'Blocks cannot be moved down as they are already at the bottom'\n\t\t);\n\t}\n\n\tif ( dir < 0 && ! isFirst ) {\n\t\treturn sprintf(\n\t\t\t// translators: 1: Number of selected blocks, 2: Position of selected blocks\n\t\t\t_n(\n\t\t\t\t'Move %1$d block from position %2$d up by one place',\n\t\t\t\t'Move %1$d blocks from position %2$d up by one place',\n\t\t\t\tselectedCount\n\t\t\t),\n\t\t\tselectedCount,\n\t\t\tposition\n\t\t);\n\t}\n\n\tif ( dir > 0 && ! isLast ) {\n\t\treturn sprintf(\n\t\t\t// translators: 1: Number of selected blocks, 2: Position of selected blocks\n\t\t\t_n(\n\t\t\t\t'Move %1$d block from position %2$d down by one place',\n\t\t\t\t'Move %1$d blocks from position %2$d down by one place',\n\t\t\t\tselectedCount\n\t\t\t),\n\t\t\tselectedCount,\n\t\t\tposition\n\t\t);\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { Polygon, Path, SVG } from '@wordpress/components';\n\nexport const leftArrow = (\n\t<SVG\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<Polygon points=\"14.5,8 10.6,12 14.5,16 13.5,17 8.4,12 13.5,7 \" />\n\t</SVG>\n);\n\nexport const rightArrow = (\n\t<SVG\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<Polygon points=\"9.5,16 13.4,12 9.5,8 10.5,7 15.6,12 10.5,17 \" />\n\t</SVG>\n);\n\nexport const dragHandle = (\n\t<SVG\n\t\twidth=\"18\"\n\t\theight=\"18\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 18 18\"\n\t>\n\t\t<Path\n\t\t\td=\"M13,8c0.6,0,1-0.4,1-1s-0.4-1-1-1s-1,0.4-1,1S12.4,8,13,8z M5,6C4.4,6,4,6.4,4,7s0.4,1,1,1s1-0.4,1-1S5.6,6,5,6z M5,10\n\t\t\tc-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S5.6,10,5,10z M13,10c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S13.6,10,13,10z M9,6\n\t\t\tC8.4,6,8,6.4,8,7s0.4,1,1,1s1-0.4,1-1S9.6,6,9,6z M9,10c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S9.6,10,9,10z\"\n\t\t/>\n\t</SVG>\n);\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { withSafeTimeout } from '@wordpress/compose';\n\nconst dragImageClass = 'components-draggable__invisible-drag-image';\nconst cloneWrapperClass = 'components-draggable__clone';\nconst cloneHeightTransformationBreakpoint = 700;\nconst clonePadding = 20;\n\nclass Draggable extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onDragStart = this.onDragStart.bind( this );\n\t\tthis.onDragOver = this.onDragOver.bind( this );\n\t\tthis.onDragEnd = this.onDragEnd.bind( this );\n\t\tthis.resetDragState = this.resetDragState.bind( this );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.resetDragState();\n\t}\n\n\t/**\n\t * Removes the element clone, resets cursor, and removes drag listener.\n\t *\n\t * @param  {Object} event The non-custom DragEvent.\n\t */\n\tonDragEnd( event ) {\n\t\tconst { onDragEnd = noop } = this.props;\n\t\tevent.preventDefault();\n\n\t\tthis.resetDragState();\n\t\tthis.props.setTimeout( onDragEnd );\n\t}\n\n\t/**\n\t * Updates positioning of element clone based on mouse movement during dragging.\n\t *\n\t * @param  {Object} event The non-custom DragEvent.\n\t */\n\tonDragOver( event ) {\n\t\tthis.cloneWrapper.style.top = `${ parseInt(\n\t\t\tthis.cloneWrapper.style.top,\n\t\t\t10\n\t\t) +\n\t\t\tevent.clientY -\n\t\t\tthis.cursorTop }px`;\n\t\tthis.cloneWrapper.style.left = `${ parseInt(\n\t\t\tthis.cloneWrapper.style.left,\n\t\t\t10\n\t\t) +\n\t\t\tevent.clientX -\n\t\t\tthis.cursorLeft }px`;\n\n\t\t// Update cursor coordinates.\n\t\tthis.cursorLeft = event.clientX;\n\t\tthis.cursorTop = event.clientY;\n\t}\n\n\t/**\n\t * This method does a couple of things:\n\t *\n\t * - Clones the current element and spawns clone over original element.\n\t * - Adds a fake temporary drag image to avoid browser defaults.\n\t * - Sets transfer data.\n\t * - Adds dragover listener.\n\t *\n\t * @param  {Object} event The non-custom DragEvent.\n\t */\n\tonDragStart( event ) {\n\t\tconst { elementId, transferData, onDragStart = noop } = this.props;\n\t\tconst element = document.getElementById( elementId );\n\t\tif ( ! element ) {\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\t// Set a fake drag image to avoid browser defaults. Remove from DOM\n\t\t// right after. event.dataTransfer.setDragImage is not supported yet in\n\t\t// IE, we need to check for its existence first.\n\t\tif ( 'function' === typeof event.dataTransfer.setDragImage ) {\n\t\t\tconst dragImage = document.createElement( 'div' );\n\t\t\tdragImage.id = `drag-image-${ elementId }`;\n\t\t\tdragImage.classList.add( dragImageClass );\n\t\t\tdocument.body.appendChild( dragImage );\n\t\t\tevent.dataTransfer.setDragImage( dragImage, 0, 0 );\n\t\t\tthis.props.setTimeout( () => {\n\t\t\t\tdocument.body.removeChild( dragImage );\n\t\t\t} );\n\t\t}\n\n\t\tevent.dataTransfer.setData( 'text', JSON.stringify( transferData ) );\n\n\t\t// Prepare element clone and append to element wrapper.\n\t\tconst elementRect = element.getBoundingClientRect();\n\t\tconst elementWrapper = element.parentNode;\n\t\tconst elementTopOffset = parseInt( elementRect.top, 10 );\n\t\tconst elementLeftOffset = parseInt( elementRect.left, 10 );\n\t\tconst clone = element.cloneNode( true );\n\t\tclone.id = `clone-${ elementId }`;\n\t\tthis.cloneWrapper = document.createElement( 'div' );\n\t\tthis.cloneWrapper.classList.add( cloneWrapperClass );\n\t\tthis.cloneWrapper.style.width = `${ elementRect.width +\n\t\t\tclonePadding * 2 }px`;\n\n\t\tif ( elementRect.height > cloneHeightTransformationBreakpoint ) {\n\t\t\t// Scale down clone if original element is larger than 700px.\n\t\t\tthis.cloneWrapper.style.transform = 'scale(0.5)';\n\t\t\tthis.cloneWrapper.style.transformOrigin = 'top left';\n\t\t\t// Position clone near the cursor.\n\t\t\tthis.cloneWrapper.style.top = `${ event.clientY - 100 }px`;\n\t\t\tthis.cloneWrapper.style.left = `${ event.clientX }px`;\n\t\t} else {\n\t\t\t// Position clone right over the original element (20px padding).\n\t\t\tthis.cloneWrapper.style.top = `${ elementTopOffset -\n\t\t\t\tclonePadding }px`;\n\t\t\tthis.cloneWrapper.style.left = `${ elementLeftOffset -\n\t\t\t\tclonePadding }px`;\n\t\t}\n\n\t\t// Hack: Remove iFrames as it's causing the embeds drag clone to freeze\n\t\tArray.from( clone.querySelectorAll( 'iframe' ) ).forEach( ( child ) =>\n\t\t\tchild.parentNode.removeChild( child )\n\t\t);\n\n\t\tthis.cloneWrapper.appendChild( clone );\n\t\telementWrapper.appendChild( this.cloneWrapper );\n\n\t\t// Mark the current cursor coordinates.\n\t\tthis.cursorLeft = event.clientX;\n\t\tthis.cursorTop = event.clientY;\n\t\t// Update cursor to 'grabbing', document wide.\n\t\tdocument.body.classList.add( 'is-dragging-components-draggable' );\n\t\tdocument.addEventListener( 'dragover', this.onDragOver );\n\n\t\tthis.props.setTimeout( onDragStart );\n\t}\n\n\t/**\n\t * Cleans up drag state when drag has completed, or component unmounts\n\t * while dragging.\n\t */\n\tresetDragState() {\n\t\t// Remove drag clone\n\t\tdocument.removeEventListener( 'dragover', this.onDragOver );\n\t\tif ( this.cloneWrapper && this.cloneWrapper.parentNode ) {\n\t\t\tthis.cloneWrapper.parentNode.removeChild( this.cloneWrapper );\n\t\t\tthis.cloneWrapper = null;\n\t\t}\n\n\t\t// Reset cursor.\n\t\tdocument.body.classList.remove( 'is-dragging-components-draggable' );\n\t}\n\n\trender() {\n\t\tconst { children } = this.props;\n\n\t\treturn children( {\n\t\t\tonDraggableStart: this.onDragStart,\n\t\t\tonDraggableEnd: this.onDragEnd,\n\t\t} );\n\t}\n}\n\nexport default withSafeTimeout( Draggable );\n","/**\n * WordPress dependencies\n */\nimport { Draggable } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect, useRef } from '@wordpress/element';\n\nconst BlockDraggable = ( { children, clientIds } ) => {\n\tconst { srcRootClientId, index, isDraggable } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockIndex,\n\t\t\t\tgetBlockRootClientId,\n\t\t\t\tgetTemplateLock,\n\t\t\t} = select( 'core/block-editor' );\n\t\t\tconst rootClientId =\n\t\t\t\tclientIds.length === 1\n\t\t\t\t\t? getBlockRootClientId( clientIds[ 0 ] )\n\t\t\t\t\t: null;\n\t\t\tconst templateLock = rootClientId\n\t\t\t\t? getTemplateLock( rootClientId )\n\t\t\t\t: null;\n\n\t\t\treturn {\n\t\t\t\tindex: getBlockIndex( clientIds[ 0 ], rootClientId ),\n\t\t\t\tsrcRootClientId: rootClientId,\n\t\t\t\tisDraggable: clientIds.length === 1 && 'all' !== templateLock,\n\t\t\t};\n\t\t},\n\t\t[ clientIds ]\n\t);\n\tconst isDragging = useRef( false );\n\tconst { startDraggingBlocks, stopDraggingBlocks } = useDispatch(\n\t\t'core/block-editor'\n\t);\n\n\t// Stop dragging blocks if the block draggable is unmounted\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tif ( isDragging.current ) {\n\t\t\t\tstopDraggingBlocks();\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\tif ( ! isDraggable ) {\n\t\treturn children( { isDraggable: false } );\n\t}\n\n\tconst blockElementId = `block-${ clientIds[ 0 ] }`;\n\tconst transferData = {\n\t\ttype: 'block',\n\t\tsrcIndex: index,\n\t\tsrcClientId: clientIds[ 0 ],\n\t\tsrcRootClientId,\n\t};\n\n\treturn (\n\t\t<Draggable\n\t\t\telementId={ blockElementId }\n\t\t\ttransferData={ transferData }\n\t\t\tonDragStart={ () => {\n\t\t\t\tstartDraggingBlocks();\n\t\t\t\tisDragging.current = true;\n\t\t\t} }\n\t\t\tonDragEnd={ () => {\n\t\t\t\tstopDraggingBlocks();\n\t\t\t\tisDragging.current = false;\n\t\t\t} }\n\t\t>\n\t\t\t{ ( { onDraggableStart, onDraggableEnd } ) => {\n\t\t\t\treturn children( {\n\t\t\t\t\tisDraggable: true,\n\t\t\t\t\tonDraggableStart,\n\t\t\t\t\tonDraggableEnd,\n\t\t\t\t} );\n\t\t\t} }\n\t\t</Draggable>\n\t);\n};\n\nexport default BlockDraggable;\n","/**\n * External dependencies\n */\nimport { first, last, partial } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, ToolbarGroup } from '@wordpress/components';\nimport { getBlockType } from '@wordpress/blocks';\nimport { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { getBlockMoverDescription } from './mover-description';\nimport { leftArrow, rightArrow } from './icons';\nimport { chevronUp, chevronDown } from '@wordpress/icons';\nimport BlockDraggable from '../block-draggable';\n\nexport class BlockMover extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tisFocused: false,\n\t\t};\n\t\tthis.onFocus = this.onFocus.bind( this );\n\t\tthis.onBlur = this.onBlur.bind( this );\n\t}\n\n\tonFocus() {\n\t\tthis.setState( {\n\t\t\tisFocused: true,\n\t\t} );\n\t}\n\n\tonBlur() {\n\t\tthis.setState( {\n\t\t\tisFocused: false,\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tonMoveUp,\n\t\t\tonMoveDown,\n\t\t\t__experimentalOrientation: orientation,\n\t\t\tisRTL,\n\t\t\tisFirst,\n\t\t\tisLast,\n\t\t\tclientIds,\n\t\t\tblockType,\n\t\t\tfirstIndex,\n\t\t\tisLocked,\n\t\t\tinstanceId,\n\t\t\tisHidden,\n\t\t\trootClientId,\n\t\t\thideDragHandle,\n\t\t} = this.props;\n\t\tconst { isFocused } = this.state;\n\t\tconst blocksCount = clientIds.length;\n\t\tif ( isLocked || ( isFirst && isLast && ! rootClientId ) ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst getArrowIcon = ( moveDirection ) => {\n\t\t\tif ( moveDirection === 'up' ) {\n\t\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\t\treturn isRTL ? rightArrow : leftArrow;\n\t\t\t\t}\n\t\t\t\treturn chevronUp;\n\t\t\t} else if ( moveDirection === 'down' ) {\n\t\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\t\treturn isRTL ? leftArrow : rightArrow;\n\t\t\t\t}\n\t\t\t\treturn chevronDown;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\tconst getMovementDirectionLabel = ( moveDirection ) => {\n\t\t\tif ( moveDirection === 'up' ) {\n\t\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\t\treturn isRTL ? __( 'Move right' ) : __( 'Move left' );\n\t\t\t\t}\n\t\t\t\treturn __( 'Move up' );\n\t\t\t} else if ( moveDirection === 'down' ) {\n\t\t\t\tif ( orientation === 'horizontal' ) {\n\t\t\t\t\treturn isRTL ? __( 'Move left' ) : __( 'Move right' );\n\t\t\t\t}\n\t\t\t\treturn __( 'Move down' );\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\t// We emulate a disabled state because forcefully applying the `disabled`\n\t\t// attribute on the buttons while it has focus causes the screen to change\n\t\t// to an unfocused state (body as active element) without firing blur on,\n\t\t// the rendering parent, leaving it unable to react to focus out.\n\t\treturn (\n\t\t\t<BlockDraggable clientIds={ clientIds }>\n\t\t\t\t{ ( { isDraggable, onDraggableStart, onDraggableEnd } ) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames( 'block-editor-block-mover', {\n\t\t\t\t\t\t\t'is-visible': isFocused || ! isHidden,\n\t\t\t\t\t\t\t'is-horizontal': orientation === 'horizontal',\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\tdraggable={ isDraggable && ! hideDragHandle }\n\t\t\t\t\t\tonDragStart={ onDraggableStart }\n\t\t\t\t\t\tonDragEnd={ onDraggableEnd }\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"block-editor-block-mover__control block-editor-block-mover__control-up\"\n\t\t\t\t\t\t\t\tonClick={ isFirst ? null : onMoveUp }\n\t\t\t\t\t\t\t\ticon={ getArrowIcon( 'up' ) }\n\t\t\t\t\t\t\t\tlabel={ getMovementDirectionLabel( 'up' ) }\n\t\t\t\t\t\t\t\taria-describedby={ `block-editor-block-mover__up-description-${ instanceId }` }\n\t\t\t\t\t\t\t\taria-disabled={ isFirst }\n\t\t\t\t\t\t\t\tonFocus={ this.onFocus }\n\t\t\t\t\t\t\t\tonBlur={ this.onBlur }\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"block-editor-block-mover__control block-editor-block-mover__control-down\"\n\t\t\t\t\t\t\t\tonClick={ isLast ? null : onMoveDown }\n\t\t\t\t\t\t\t\ticon={ getArrowIcon( 'down' ) }\n\t\t\t\t\t\t\t\tlabel={ getMovementDirectionLabel( 'down' ) }\n\t\t\t\t\t\t\t\taria-describedby={ `block-editor-block-mover__down-description-${ instanceId }` }\n\t\t\t\t\t\t\t\taria-disabled={ isLast }\n\t\t\t\t\t\t\t\tonFocus={ this.onFocus }\n\t\t\t\t\t\t\t\tonBlur={ this.onBlur }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tid={ `block-editor-block-mover__up-description-${ instanceId }` }\n\t\t\t\t\t\t\t\tclassName=\"block-editor-block-mover__description\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ getBlockMoverDescription(\n\t\t\t\t\t\t\t\t\tblocksCount,\n\t\t\t\t\t\t\t\t\tblockType && blockType.title,\n\t\t\t\t\t\t\t\t\tfirstIndex,\n\t\t\t\t\t\t\t\t\tisFirst,\n\t\t\t\t\t\t\t\t\tisLast,\n\t\t\t\t\t\t\t\t\t-1,\n\t\t\t\t\t\t\t\t\torientation,\n\t\t\t\t\t\t\t\t\tisRTL\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tid={ `block-editor-block-mover__down-description-${ instanceId }` }\n\t\t\t\t\t\t\t\tclassName=\"block-editor-block-mover__description\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ getBlockMoverDescription(\n\t\t\t\t\t\t\t\t\tblocksCount,\n\t\t\t\t\t\t\t\t\tblockType && blockType.title,\n\t\t\t\t\t\t\t\t\tfirstIndex,\n\t\t\t\t\t\t\t\t\tisFirst,\n\t\t\t\t\t\t\t\t\tisLast,\n\t\t\t\t\t\t\t\t\t1,\n\t\t\t\t\t\t\t\t\torientation,\n\t\t\t\t\t\t\t\t\tisRTL\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</BlockDraggable>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlock,\n\t\t\tgetBlockIndex,\n\t\t\tgetTemplateLock,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockOrder,\n\t\t} = select( 'core/block-editor' );\n\t\tconst firstClientId = first( clientIds );\n\t\tconst block = getBlock( firstClientId );\n\t\tconst rootClientId = getBlockRootClientId( first( clientIds ) );\n\t\tconst blockOrder = getBlockOrder( rootClientId );\n\t\tconst firstIndex = getBlockIndex( firstClientId, rootClientId );\n\t\tconst lastIndex = getBlockIndex( last( clientIds ), rootClientId );\n\t\tconst { getSettings } = select( 'core/block-editor' );\n\t\tconst { isRTL } = getSettings();\n\n\t\treturn {\n\t\t\tblockType: block ? getBlockType( block.name ) : null,\n\t\t\tisLocked: getTemplateLock( rootClientId ) === 'all',\n\t\t\trootClientId,\n\t\t\tfirstIndex,\n\t\t\tisRTL,\n\t\t\tisFirst: firstIndex === 0,\n\t\t\tisLast: lastIndex === blockOrder.length - 1,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientIds, rootClientId } ) => {\n\t\tconst { moveBlocksDown, moveBlocksUp } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\t\treturn {\n\t\t\tonMoveDown: partial( moveBlocksDown, clientIds, rootClientId ),\n\t\t\tonMoveUp: partial( moveBlocksUp, clientIds, rootClientId ),\n\t\t};\n\t} ),\n\twithInstanceId\n)( BlockMover );\n","/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nclass BlockSelectionClearer extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.bindContainer = this.bindContainer.bind( this );\n\t\tthis.clearSelectionIfFocusTarget = this.clearSelectionIfFocusTarget.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\tbindContainer( ref ) {\n\t\tthis.container = ref;\n\t}\n\n\t/**\n\t * Clears the selected block on focus if the container is the target of the\n\t * focus. This assumes no other descendents have received focus until event\n\t * has bubbled to the container.\n\t *\n\t * @param {FocusEvent} event Focus event.\n\t */\n\tclearSelectionIfFocusTarget( event ) {\n\t\tconst {\n\t\t\thasSelectedBlock,\n\t\t\thasMultiSelection,\n\t\t\tclearSelectedBlock,\n\t\t} = this.props;\n\n\t\tconst hasSelection = hasSelectedBlock || hasMultiSelection;\n\t\tif ( event.target === this.container && hasSelection ) {\n\t\t\tclearSelectedBlock();\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\ttabIndex={ -1 }\n\t\t\t\tonFocus={ this.clearSelectionIfFocusTarget }\n\t\t\t\tref={ this.bindContainer }\n\t\t\t\t{ ...omit( this.props, [\n\t\t\t\t\t'clearSelectedBlock',\n\t\t\t\t\t'hasSelectedBlock',\n\t\t\t\t\t'hasMultiSelection',\n\t\t\t\t] ) }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { hasSelectedBlock, hasMultiSelection } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\treturn {\n\t\t\thasSelectedBlock: hasSelectedBlock(),\n\t\t\thasMultiSelection: hasMultiSelection(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { clearSelectedBlock } = dispatch( 'core/block-editor' );\n\t\treturn { clearSelectedBlock };\n\t} ),\n] )( BlockSelectionClearer );\n","/**\n * External dependencies\n */\nimport { castArray, first, last, every } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { hasBlockSupport, switchToBlockType } from '@wordpress/blocks';\n\nfunction BlockActions( {\n\tcanDuplicate,\n\tcanInsertDefaultBlock,\n\tchildren,\n\tisLocked,\n\tonDuplicate,\n\tonGroup,\n\tonInsertAfter,\n\tonInsertBefore,\n\tonRemove,\n\tonUngroup,\n} ) {\n\treturn children( {\n\t\tcanDuplicate,\n\t\tcanInsertDefaultBlock,\n\t\tisLocked,\n\t\tonDuplicate,\n\t\tonGroup,\n\t\tonInsertAfter,\n\t\tonInsertBefore,\n\t\tonRemove,\n\t\tonUngroup,\n\t} );\n}\n\nexport default compose( [\n\twithSelect( ( select, props ) => {\n\t\tconst {\n\t\t\tcanInsertBlockType,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlocksByClientId,\n\t\t\tgetTemplateLock,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { getDefaultBlockName } = select( 'core/blocks' );\n\n\t\tconst blocks = getBlocksByClientId( props.clientIds );\n\t\tconst rootClientId = getBlockRootClientId( props.clientIds[ 0 ] );\n\t\tconst canDuplicate = every( blocks, ( block ) => {\n\t\t\treturn (\n\t\t\t\t!! block &&\n\t\t\t\thasBlockSupport( block.name, 'multiple', true ) &&\n\t\t\t\tcanInsertBlockType( block.name, rootClientId )\n\t\t\t);\n\t\t} );\n\n\t\tconst canInsertDefaultBlock = canInsertBlockType(\n\t\t\tgetDefaultBlockName(),\n\t\t\trootClientId\n\t\t);\n\n\t\treturn {\n\t\t\tblocks,\n\t\t\tcanDuplicate,\n\t\t\tcanInsertDefaultBlock,\n\t\t\textraProps: props,\n\t\t\tisLocked: !! getTemplateLock( rootClientId ),\n\t\t\trootClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, props, { select } ) => {\n\t\tconst { clientIds, blocks } = props;\n\n\t\tconst {\n\t\t\tremoveBlocks,\n\t\t\treplaceBlocks,\n\t\t\tduplicateBlocks,\n\t\t\tinsertAfterBlock,\n\t\t\tinsertBeforeBlock,\n\t\t} = dispatch( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tonDuplicate() {\n\t\t\t\treturn duplicateBlocks( clientIds );\n\t\t\t},\n\t\t\tonRemove() {\n\t\t\t\tremoveBlocks( clientIds );\n\t\t\t},\n\t\t\tonInsertBefore() {\n\t\t\t\tinsertBeforeBlock( first( castArray( clientIds ) ) );\n\t\t\t},\n\t\t\tonInsertAfter() {\n\t\t\t\tinsertAfterBlock( last( castArray( clientIds ) ) );\n\t\t\t},\n\t\t\tonGroup() {\n\t\t\t\tif ( ! blocks.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst { getGroupingBlockName } = select( 'core/blocks' );\n\n\t\t\t\tconst groupingBlockName = getGroupingBlockName();\n\n\t\t\t\t// Activate the `transform` on `core/group` which does the conversion\n\t\t\t\tconst newBlocks = switchToBlockType(\n\t\t\t\t\tblocks,\n\t\t\t\t\tgroupingBlockName\n\t\t\t\t);\n\n\t\t\t\tif ( ! newBlocks ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treplaceBlocks( clientIds, newBlocks );\n\t\t\t},\n\n\t\t\tonUngroup() {\n\t\t\t\tif ( ! blocks.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst innerBlocks = blocks[ 0 ].innerBlocks;\n\n\t\t\t\tif ( ! innerBlocks.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treplaceBlocks( clientIds, innerBlocks );\n\t\t\t},\n\t\t};\n\t} ),\n] )( BlockActions );\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport { getBlockType, hasBlockSupport } from '@wordpress/blocks';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nexport function BlockModeToggle( {\n\tblockType,\n\tmode,\n\tonToggleMode,\n\tsmall = false,\n\tisCodeEditingEnabled = true,\n} ) {\n\tif (\n\t\t! hasBlockSupport( blockType, 'html', true ) ||\n\t\t! isCodeEditingEnabled\n\t) {\n\t\treturn null;\n\t}\n\n\tconst label =\n\t\tmode === 'visual' ? __( 'Edit as HTML' ) : __( 'Edit visually' );\n\n\treturn <MenuItem onClick={ onToggleMode }>{ ! small && label }</MenuItem>;\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlock, getBlockMode, getSettings } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\t\tconst block = getBlock( clientId );\n\t\tconst isCodeEditingEnabled = getSettings().codeEditingEnabled;\n\n\t\treturn {\n\t\t\tmode: getBlockMode( clientId ),\n\t\t\tblockType: block ? getBlockType( block.name ) : null,\n\t\t\tisCodeEditingEnabled,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onToggle = noop, clientId } ) => ( {\n\t\tonToggleMode() {\n\t\t\tdispatch( 'core/block-editor' ).toggleBlockMode( clientId );\n\t\t\tonToggle();\n\t\t},\n\t} ) ),\n] )( BlockModeToggle );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\n\nexport default function BlockConvertButton( { shouldRender, onClick, small } ) {\n\tif ( ! shouldRender ) {\n\t\treturn null;\n\t}\n\n\tconst label = __( 'Convert to Blocks' );\n\treturn <MenuItem onClick={ onClick }>{ ! small && label }</MenuItem>;\n}\n","/**\n * WordPress dependencies\n */\nimport { rawHandler, getBlockContent } from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockConvertButton from './block-convert-button';\n\nexport default compose(\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst block = select( 'core/block-editor' ).getBlock( clientId );\n\n\t\treturn {\n\t\t\tblock,\n\t\t\tshouldRender: block && block.name === 'core/html',\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { block } ) => ( {\n\t\tonClick: () =>\n\t\t\tdispatch( 'core/block-editor' ).replaceBlocks(\n\t\t\t\tblock.clientId,\n\t\t\t\trawHandler( { HTML: getBlockContent( block ) } )\n\t\t\t),\n\t} ) )\n)( BlockConvertButton );\n","/**\n * WordPress dependencies\n */\nimport {\n\tgetFreeformContentHandlerName,\n\trawHandler,\n\tserialize,\n} from '@wordpress/blocks';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockConvertButton from './block-convert-button';\n\nexport default compose(\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst block = select( 'core/block-editor' ).getBlock( clientId );\n\n\t\treturn {\n\t\t\tblock,\n\t\t\tshouldRender:\n\t\t\t\tblock && block.name === getFreeformContentHandlerName(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { block } ) => ( {\n\t\tonClick: () =>\n\t\t\tdispatch( 'core/block-editor' ).replaceBlocks(\n\t\t\t\tblock.clientId,\n\t\t\t\trawHandler( { HTML: serialize( block ) } )\n\t\t\t),\n\t} ) )\n)( BlockConvertButton );\n","/**\n * External dependencies\n */\nimport { isEmpty, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createSlotFill, MenuGroup } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\nconst { Fill: BlockSettingsMenuControls, Slot } = createSlotFill(\n\t'BlockSettingsMenuControls'\n);\n\nconst BlockSettingsMenuControlsSlot = ( { fillProps } ) => {\n\tconst { selectedBlocks } = useSelect( ( select ) => {\n\t\tconst { getBlocksByClientId, getSelectedBlockClientIds } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\t\treturn {\n\t\t\tselectedBlocks: map(\n\t\t\t\tgetBlocksByClientId( getSelectedBlockClientIds() ),\n\t\t\t\t( block ) => block.name\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<Slot fillProps={ { ...fillProps, selectedBlocks } }>\n\t\t\t{ ( fills ) =>\n\t\t\t\t! isEmpty( fills ) && <MenuGroup>{ fills }</MenuGroup>\n\t\t\t}\n\t\t</Slot>\n\t);\n};\n\nBlockSettingsMenuControls.Slot = BlockSettingsMenuControlsSlot;\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/block-settings-menu-controls/README.md\n */\nexport default BlockSettingsMenuControls;\n","/**\n * External dependencies\n */\nimport { castArray, flow } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _n } from '@wordpress/i18n';\nimport {\n\tToolbar,\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { moreHorizontal } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport BlockActions from '../block-actions';\nimport BlockModeToggle from './block-mode-toggle';\nimport BlockHTMLConvertButton from './block-html-convert-button';\nimport BlockUnknownConvertButton from './block-unknown-convert-button';\nimport __experimentalBlockSettingsMenuFirstItem from './block-settings-menu-first-item';\nimport BlockSettingsMenuControls from '../block-settings-menu-controls';\n\nconst POPOVER_PROPS = {\n\tclassName: 'block-editor-block-settings-menu__popover',\n\tposition: 'bottom right',\n\tisAlternate: true,\n};\n\nexport function BlockSettingsMenu( { clientIds } ) {\n\tconst blockClientIds = castArray( clientIds );\n\tconst count = blockClientIds.length;\n\tconst firstBlockClientId = blockClientIds[ 0 ];\n\n\tconst shortcuts = useSelect( ( select ) => {\n\t\tconst { getShortcutRepresentation } = select(\n\t\t\t'core/keyboard-shortcuts'\n\t\t);\n\t\treturn {\n\t\t\tduplicate: getShortcutRepresentation(\n\t\t\t\t'core/block-editor/duplicate'\n\t\t\t),\n\t\t\tremove: getShortcutRepresentation( 'core/block-editor/remove' ),\n\t\t\tinsertAfter: getShortcutRepresentation(\n\t\t\t\t'core/block-editor/insert-after'\n\t\t\t),\n\t\t\tinsertBefore: getShortcutRepresentation(\n\t\t\t\t'core/block-editor/insert-before'\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<BlockActions clientIds={ clientIds }>\n\t\t\t{ ( {\n\t\t\t\tcanDuplicate,\n\t\t\t\tcanInsertDefaultBlock,\n\t\t\t\tisLocked,\n\t\t\t\tonDuplicate,\n\t\t\t\tonInsertAfter,\n\t\t\t\tonInsertBefore,\n\t\t\t\tonRemove,\n\t\t\t} ) => (\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\ticon={ moreHorizontal }\n\t\t\t\t\t\tlabel={ __( 'More options' ) }\n\t\t\t\t\t\tclassName=\"block-editor-block-settings-menu\"\n\t\t\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\t\t\tnoIcons\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t<__experimentalBlockSettingsMenuFirstItem.Slot\n\t\t\t\t\t\t\t\t\t\tfillProps={ { onClose } }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{ count === 1 && (\n\t\t\t\t\t\t\t\t\t\t<BlockUnknownConvertButton\n\t\t\t\t\t\t\t\t\t\t\tclientId={ firstBlockClientId }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ count === 1 && (\n\t\t\t\t\t\t\t\t\t\t<BlockHTMLConvertButton\n\t\t\t\t\t\t\t\t\t\t\tclientId={ firstBlockClientId }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ canDuplicate && (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tonClick={ flow(\n\t\t\t\t\t\t\t\t\t\t\t\tonClose,\n\t\t\t\t\t\t\t\t\t\t\t\tonDuplicate\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tshortcut={ shortcuts.duplicate }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Duplicate' ) }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ canInsertDefaultBlock && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ flow(\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose,\n\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertBefore\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\tshortcut={\n\t\t\t\t\t\t\t\t\t\t\t\t\tshortcuts.insertBefore\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Insert Before' ) }\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ flow(\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose,\n\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertAfter\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\tshortcut={\n\t\t\t\t\t\t\t\t\t\t\t\t\tshortcuts.insertAfter\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Insert After' ) }\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ count === 1 && (\n\t\t\t\t\t\t\t\t\t\t<BlockModeToggle\n\t\t\t\t\t\t\t\t\t\t\tclientId={ firstBlockClientId }\n\t\t\t\t\t\t\t\t\t\t\tonToggle={ onClose }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t\t<BlockSettingsMenuControls.Slot\n\t\t\t\t\t\t\t\t\tfillProps={ { onClose } }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t{ ! isLocked && (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tonClick={ flow(\n\t\t\t\t\t\t\t\t\t\t\t\tonClose,\n\t\t\t\t\t\t\t\t\t\t\t\tonRemove\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tshortcut={ shortcuts.remove }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ _n(\n\t\t\t\t\t\t\t\t\t\t\t\t'Remove Block',\n\t\t\t\t\t\t\t\t\t\t\t\t'Remove Blocks',\n\t\t\t\t\t\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</DropdownMenu>\n\t\t\t\t</Toolbar>\n\t\t\t) }\n\t\t</BlockActions>\n\t);\n}\n\nexport default BlockSettingsMenu;\n","/**\n * External dependencies\n */\nimport { castArray, filter, first, mapKeys, orderBy, uniq, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { Dropdown, Button, Toolbar, MenuGroup } from '@wordpress/components';\nimport {\n\tgetBlockType,\n\tgetPossibleBlockTransformations,\n\tswitchToBlockType,\n\tcloneBlock,\n\tgetBlockFromExample,\n} from '@wordpress/blocks';\nimport { Component } from '@wordpress/element';\nimport { DOWN } from '@wordpress/keycodes';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { layout } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\nimport BlockStyles from '../block-styles';\nimport BlockPreview from '../block-preview';\nimport BlockTypesList from '../block-types-list';\n\nconst POPOVER_PROPS = {\n\tposition: 'bottom right',\n\tisAlternate: true,\n};\n\nexport class BlockSwitcher extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\thoveredClassName: null,\n\t\t};\n\t\tthis.onHoverClassName = this.onHoverClassName.bind( this );\n\t}\n\n\tonHoverClassName( className ) {\n\t\tthis.setState( { hoveredClassName: className } );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tblocks,\n\t\t\tonTransform,\n\t\t\tinserterItems,\n\t\t\thasBlockStyles,\n\t\t} = this.props;\n\t\tconst { hoveredClassName } = this.state;\n\n\t\tif ( ! blocks || ! blocks.length ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst hoveredBlock = hoveredClassName ? blocks[ 0 ] : null;\n\t\tconst hoveredBlockType = hoveredClassName\n\t\t\t? getBlockType( hoveredBlock.name )\n\t\t\t: null;\n\n\t\tconst itemsByName = mapKeys( inserterItems, ( { name } ) => name );\n\t\tconst possibleBlockTransformations = orderBy(\n\t\t\tfilter(\n\t\t\t\tgetPossibleBlockTransformations( blocks ),\n\t\t\t\t( block ) => block && !! itemsByName[ block.name ]\n\t\t\t),\n\t\t\t( block ) => itemsByName[ block.name ].frecency,\n\t\t\t'desc'\n\t\t);\n\n\t\t// When selection consists of blocks of multiple types, display an\n\t\t// appropriate icon to communicate the non-uniformity.\n\t\tconst isSelectionOfSameType =\n\t\t\tuniq( map( blocks, 'name' ) ).length === 1;\n\n\t\tlet icon;\n\t\tif ( isSelectionOfSameType ) {\n\t\t\tconst sourceBlockName = blocks[ 0 ].name;\n\t\t\tconst blockType = getBlockType( sourceBlockName );\n\t\t\ticon = blockType.icon;\n\t\t} else {\n\t\t\ticon = layout;\n\t\t}\n\n\t\tif ( ! hasBlockStyles && ! possibleBlockTransformations.length ) {\n\t\t\treturn (\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\tclassName=\"block-editor-block-switcher__no-switcher-icon\"\n\t\t\t\t\t\tlabel={ __( 'Block icon' ) }\n\t\t\t\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\n\t\t\t\t\t/>\n\t\t\t\t</Toolbar>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\tclassName=\"block-editor-block-switcher\"\n\t\t\t\tcontentClassName=\"block-editor-block-switcher__popover\"\n\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => {\n\t\t\t\t\tconst openOnArrowDown = ( event ) => {\n\t\t\t\t\t\tif ( ! isOpen && event.keyCode === DOWN ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tconst label =\n\t\t\t\t\t\t1 === blocks.length\n\t\t\t\t\t\t\t? __( 'Change block type or style' )\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: number of blocks. */\n\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t'Change type of %d block',\n\t\t\t\t\t\t\t\t\t\t'Change type of %d blocks',\n\t\t\t\t\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tblocks.length\n\t\t\t\t\t\t\t  );\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"block-editor-block-switcher__toggle\"\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\t\tonKeyDown={ openOnArrowDown }\n\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ ( hasBlockStyles ||\n\t\t\t\t\t\t\tpossibleBlockTransformations.length !== 0 ) && (\n\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__container\">\n\t\t\t\t\t\t\t\t{ hasBlockStyles && (\n\t\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__label\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Styles' ) }\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<BlockStyles\n\t\t\t\t\t\t\t\t\t\t\tclientId={ blocks[ 0 ].clientId }\n\t\t\t\t\t\t\t\t\t\t\tonSwitch={ onClose }\n\t\t\t\t\t\t\t\t\t\t\tonHoverClassName={\n\t\t\t\t\t\t\t\t\t\t\t\tthis.onHoverClassName\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ possibleBlockTransformations.length !== 0 && (\n\t\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__label\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Transform to' ) }\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<BlockTypesList\n\t\t\t\t\t\t\t\t\t\t\titems={ possibleBlockTransformations.map(\n\t\t\t\t\t\t\t\t\t\t\t\t( destinationBlockType ) => ( {\n\t\t\t\t\t\t\t\t\t\t\t\t\tid:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestinationBlockType.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestinationBlockType.icon,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdestinationBlockType.title,\n\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tonSelect={ ( item ) => {\n\t\t\t\t\t\t\t\t\t\t\t\tonTransform( blocks, item.id );\n\t\t\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ hoveredClassName !== null && (\n\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__preview\">\n\t\t\t\t\t\t\t\t<div className=\"block-editor-block-switcher__preview-title\">\n\t\t\t\t\t\t\t\t\t{ __( 'Preview' ) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\t\t\tviewportWidth={ 500 }\n\t\t\t\t\t\t\t\t\tblocks={\n\t\t\t\t\t\t\t\t\t\thoveredBlockType.example\n\t\t\t\t\t\t\t\t\t\t\t? getBlockFromExample(\n\t\t\t\t\t\t\t\t\t\t\t\t\thoveredBlock.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...hoveredBlockType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attributes,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: hoveredClassName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinnerBlocks:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thoveredBlockType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.example\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.innerBlocks,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: cloneBlock( hoveredBlock, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: hoveredClassName,\n\t\t\t\t\t\t\t\t\t\t\t  } )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlocksByClientId,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetInserterItems,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { getBlockStyles } = select( 'core/blocks' );\n\t\tconst rootClientId = getBlockRootClientId(\n\t\t\tfirst( castArray( clientIds ) )\n\t\t);\n\t\tconst blocks = getBlocksByClientId( clientIds );\n\t\tconst firstBlock = blocks && blocks.length === 1 ? blocks[ 0 ] : null;\n\t\tconst styles = firstBlock && getBlockStyles( firstBlock.name );\n\t\treturn {\n\t\t\tblocks,\n\t\t\tinserterItems: getInserterItems( rootClientId ),\n\t\t\thasBlockStyles: styles && styles.length > 0,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => ( {\n\t\tonTransform( blocks, name ) {\n\t\t\tdispatch( 'core/block-editor' ).replaceBlocks(\n\t\t\t\townProps.clientIds,\n\t\t\t\tswitchToBlockType( blocks, name )\n\t\t\t);\n\t\t},\n\t} ) )\n)( BlockSwitcher );\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { useState, useRef, useEffect, useCallback } from '@wordpress/element';\n\nconst { clearTimeout, requestAnimationFrame, setTimeout } = window;\nconst DEBOUNCE_TIMEOUT = 250;\n\n/**\n * Hook that creates a showMover state, as well as debounced show/hide callbacks\n */\nexport function useDebouncedShowMovers( {\n\tref,\n\tisFocused,\n\tdebounceTimeout = DEBOUNCE_TIMEOUT,\n\tonChange = noop,\n} ) {\n\tconst [ showMovers, setShowMovers ] = useState( false );\n\tconst timeoutRef = useRef();\n\n\tconst handleOnChange = ( nextIsFocused ) => {\n\t\tsetShowMovers( nextIsFocused );\n\t\tonChange( nextIsFocused );\n\t};\n\n\tconst getIsHovered = () => {\n\t\treturn ref?.current && ref.current.matches( ':hover' );\n\t};\n\n\tconst shouldHideMovers = () => {\n\t\tconst isHovered = getIsHovered();\n\n\t\treturn ! isFocused && ! isHovered;\n\t};\n\n\tconst clearTimeoutRef = () => {\n\t\tconst timeout = timeoutRef.current;\n\n\t\tif ( timeout && clearTimeout ) {\n\t\t\tclearTimeout( timeout );\n\t\t}\n\t};\n\n\tconst debouncedShowMovers = ( event ) => {\n\t\tif ( event ) {\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\tclearTimeoutRef();\n\n\t\tif ( ! showMovers ) {\n\t\t\thandleOnChange( true );\n\t\t}\n\t};\n\n\tconst debouncedHideMovers = ( event ) => {\n\t\tif ( event ) {\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\tclearTimeoutRef();\n\n\t\ttimeoutRef.current = setTimeout( () => {\n\t\t\tif ( shouldHideMovers() ) {\n\t\t\t\thandleOnChange( false );\n\t\t\t}\n\t\t}, debounceTimeout );\n\t};\n\n\tuseEffect( () => () => clearTimeoutRef(), [] );\n\n\treturn {\n\t\tshowMovers,\n\t\tdebouncedShowMovers,\n\t\tdebouncedHideMovers,\n\t};\n}\n\n/**\n * Hook that provides a showMovers state and gesture events for DOM elements\n * that interact with the showMovers state.\n */\nexport function useShowMoversGestures( {\n\tref,\n\tdebounceTimeout = DEBOUNCE_TIMEOUT,\n\tonChange = noop,\n} ) {\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\tconst {\n\t\tshowMovers,\n\t\tdebouncedShowMovers,\n\t\tdebouncedHideMovers,\n\t} = useDebouncedShowMovers( { ref, debounceTimeout, isFocused, onChange } );\n\n\tconst registerRef = useRef( false );\n\n\tconst isFocusedWithin = () => {\n\t\treturn ref?.current && ref.current.contains( document.activeElement );\n\t};\n\n\tuseEffect( () => {\n\t\tconst node = ref.current;\n\n\t\tconst handleOnFocus = () => {\n\t\t\tif ( isFocusedWithin() ) {\n\t\t\t\tsetIsFocused( true );\n\t\t\t\tdebouncedShowMovers();\n\t\t\t}\n\t\t};\n\n\t\tconst handleOnBlur = () => {\n\t\t\tif ( ! isFocusedWithin() ) {\n\t\t\t\tsetIsFocused( false );\n\t\t\t\tdebouncedHideMovers();\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Events are added via DOM events (vs. React synthetic events),\n\t\t * as the child React components swallow mouse events.\n\t\t */\n\t\tif ( node && ! registerRef.current ) {\n\t\t\tnode.addEventListener( 'focus', handleOnFocus, true );\n\t\t\tnode.addEventListener( 'blur', handleOnBlur, true );\n\t\t\tregisterRef.current = true;\n\t\t}\n\n\t\treturn () => {\n\t\t\tif ( node ) {\n\t\t\t\tnode.removeEventListener( 'focus', handleOnFocus );\n\t\t\t\tnode.removeEventListener( 'blur', handleOnBlur );\n\t\t\t}\n\t\t};\n\t}, [\n\t\tref,\n\t\tregisterRef,\n\t\tsetIsFocused,\n\t\tdebouncedShowMovers,\n\t\tdebouncedHideMovers,\n\t] );\n\n\treturn {\n\t\tshowMovers,\n\t\tgestures: {\n\t\t\tonMouseMove: debouncedShowMovers,\n\t\t\tonMouseLeave: debouncedHideMovers,\n\t\t},\n\t};\n}\n\n/**\n * Hook that toggles the highlight (outline) state of a block\n *\n * @param {string} clientId The block's clientId\n *\n * @return {Function} Callback function to toggle highlight state.\n */\nexport function useToggleBlockHighlight( clientId ) {\n\tconst { toggleBlockHighlight } = useDispatch( 'core/block-editor' );\n\n\tconst updateBlockHighlight = useCallback(\n\t\t( isFocused ) => {\n\t\t\ttoggleBlockHighlight( clientId, isFocused );\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\t// Sequences state change to enable editor updates (e.g. cursor\n\t\t\t// position) to render correctly.\n\t\t\trequestAnimationFrame( () => {\n\t\t\t\tupdateBlockHighlight( false );\n\t\t\t} );\n\t\t};\n\t}, [] );\n\n\treturn updateBlockHighlight;\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useRef } from '@wordpress/element';\nimport { useViewportMatch } from '@wordpress/compose';\n/**\n * Internal dependencies\n */\nimport BlockMover from '../block-mover';\nimport BlockSwitcher from '../block-switcher';\nimport BlockControls from '../block-controls';\nimport BlockFormatControls from '../block-format-controls';\nimport BlockSettingsMenu from '../block-settings-menu';\nimport { useShowMoversGestures, useToggleBlockHighlight } from './utils';\n\nexport default function BlockToolbar( { hideDragHandle } ) {\n\tconst {\n\t\tblockClientIds,\n\t\tblockClientId,\n\t\thasFixedToolbar,\n\t\tisValid,\n\t\tmode,\n\t\tmoverDirection,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetBlockMode,\n\t\t\tgetSelectedBlockClientIds,\n\t\t\tisBlockValid,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockListSettings,\n\t\t\tgetSettings,\n\t\t} = select( 'core/block-editor' );\n\t\tconst selectedBlockClientIds = getSelectedBlockClientIds();\n\t\tconst selectedBlockClientId = selectedBlockClientIds[ 0 ];\n\t\tconst blockRootClientId = getBlockRootClientId( selectedBlockClientId );\n\n\t\tconst { __experimentalMoverDirection } =\n\t\t\tgetBlockListSettings( blockRootClientId ) || {};\n\n\t\treturn {\n\t\t\tblockClientIds: selectedBlockClientIds,\n\t\t\tblockClientId: selectedBlockClientId,\n\t\t\thasFixedToolbar: getSettings().hasFixedToolbar,\n\t\t\trootClientId: blockRootClientId,\n\t\t\tisValid:\n\t\t\t\tselectedBlockClientIds.length === 1\n\t\t\t\t\t? isBlockValid( selectedBlockClientIds[ 0 ] )\n\t\t\t\t\t: null,\n\t\t\tmode:\n\t\t\t\tselectedBlockClientIds.length === 1\n\t\t\t\t\t? getBlockMode( selectedBlockClientIds[ 0 ] )\n\t\t\t\t\t: null,\n\t\t\tmoverDirection: __experimentalMoverDirection,\n\t\t};\n\t}, [] );\n\n\tconst toggleBlockHighlight = useToggleBlockHighlight( blockClientId );\n\tconst nodeRef = useRef();\n\n\tconst { showMovers, gestures: showMoversGestures } = useShowMoversGestures(\n\t\t{\n\t\t\tref: nodeRef,\n\t\t\tonChange: toggleBlockHighlight,\n\t\t}\n\t);\n\n\tconst displayHeaderToolbar =\n\t\tuseViewportMatch( 'medium', '<' ) || hasFixedToolbar;\n\n\tconst shouldShowMovers = displayHeaderToolbar || showMovers;\n\n\tif ( blockClientIds.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst shouldShowVisualToolbar = isValid && mode === 'visual';\n\tconst isMultiToolbar = blockClientIds.length > 1;\n\n\tconst animatedMoverStyles = {\n\t\topacity: shouldShowMovers ? 1 : 0,\n\t\ttransform: shouldShowMovers ? 'translateX(0px)' : 'translateX(100%)',\n\t};\n\n\tconst classes = classnames(\n\t\t'block-editor-block-toolbar',\n\t\t! displayHeaderToolbar && 'has-responsive-movers'\n\t);\n\n\treturn (\n\t\t<div className={ classes }>\n\t\t\t<div\n\t\t\t\tclassName=\"block-editor-block-toolbar__mover-switcher-container\"\n\t\t\t\tref={ nodeRef }\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"block-editor-block-toolbar__mover-trigger-container\"\n\t\t\t\t\t{ ...showMoversGestures }\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"block-editor-block-toolbar__mover-trigger-wrapper\"\n\t\t\t\t\t\tstyle={ animatedMoverStyles }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockMover\n\t\t\t\t\t\t\tclientIds={ blockClientIds }\n\t\t\t\t\t\t\t__experimentalOrientation={ moverDirection }\n\t\t\t\t\t\t\thideDragHandle={ hideDragHandle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{ ( shouldShowVisualToolbar || isMultiToolbar ) && (\n\t\t\t\t\t<div\n\t\t\t\t\t\t{ ...showMoversGestures }\n\t\t\t\t\t\tclassName=\"block-editor-block-toolbar__block-switcher-wrapper\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockSwitcher clientIds={ blockClientIds } />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ shouldShowVisualToolbar && ! isMultiToolbar && (\n\t\t\t\t<>\n\t\t\t\t\t<BlockControls.Slot\n\t\t\t\t\t\tbubblesVirtually\n\t\t\t\t\t\tclassName=\"block-editor-block-toolbar__slot\"\n\t\t\t\t\t/>\n\t\t\t\t\t<BlockFormatControls.Slot\n\t\t\t\t\t\tbubblesVirtually\n\t\t\t\t\t\tclassName=\"block-editor-block-toolbar__slot\"\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<BlockSettingsMenu clientIds={ blockClientIds } />\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { serialize, pasteHandler } from '@wordpress/blocks';\nimport { documentHasSelection } from '@wordpress/dom';\nimport { withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { getPasteEventData } from '../../utils/get-paste-event-data';\n\nfunction CopyHandler( { children, handler } ) {\n\treturn (\n\t\t<div onCopy={ handler } onCut={ handler } onPaste={ handler }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default compose( [\n\twithDispatch( ( dispatch, ownProps, { select } ) => {\n\t\tconst {\n\t\t\tgetBlocksByClientId,\n\t\t\tgetSelectedBlockClientIds,\n\t\t\thasMultiSelection,\n\t\t\tgetSettings,\n\t\t} = select( 'core/block-editor' );\n\t\tconst { removeBlocks, replaceBlocks } = dispatch( 'core/block-editor' );\n\t\tconst {\n\t\t\t__experimentalCanUserUseUnfilteredHTML: canUserUseUnfilteredHTML,\n\t\t} = getSettings();\n\n\t\treturn {\n\t\t\thandler( event ) {\n\t\t\t\tconst selectedBlockClientIds = getSelectedBlockClientIds();\n\n\t\t\t\tif ( selectedBlockClientIds.length === 0 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Always handle multiple selected blocks.\n\t\t\t\t// Let native copy behaviour take over in input fields.\n\t\t\t\tif ( ! hasMultiSelection() && documentHasSelection() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif ( event.type === 'copy' || event.type === 'cut' ) {\n\t\t\t\t\tconst blocks = getBlocksByClientId(\n\t\t\t\t\t\tselectedBlockClientIds\n\t\t\t\t\t);\n\t\t\t\t\tconst serialized = serialize( blocks );\n\n\t\t\t\t\tevent.clipboardData.setData( 'text/plain', serialized );\n\t\t\t\t\tevent.clipboardData.setData( 'text/html', serialized );\n\t\t\t\t}\n\n\t\t\t\tif ( event.type === 'cut' ) {\n\t\t\t\t\tremoveBlocks( selectedBlockClientIds );\n\t\t\t\t} else if ( event.type === 'paste' ) {\n\t\t\t\t\tconst { plainText, html } = getPasteEventData( event );\n\t\t\t\t\tconst blocks = pasteHandler( {\n\t\t\t\t\t\tHTML: html,\n\t\t\t\t\t\tplainText,\n\t\t\t\t\t\tmode: 'BLOCKS',\n\t\t\t\t\t\tcanUserUseUnfilteredHTML,\n\t\t\t\t\t} );\n\n\t\t\t\t\treplaceBlocks( selectedBlockClientIds, blocks );\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n] )( CopyHandler );\n","/**\n * External dependencies\n */\nimport { find, isNil } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createBlobURL } from '@wordpress/blob';\n\nexport function getPasteEventData( { clipboardData } ) {\n\tlet { items, files } = clipboardData;\n\n\t// In Edge these properties can be null instead of undefined, so a more\n\t// rigorous test is required over using default values.\n\titems = isNil( items ) ? [] : items;\n\tfiles = isNil( files ) ? [] : files;\n\n\tlet plainText = '';\n\tlet html = '';\n\n\t// IE11 only supports `Text` as an argument for `getData` and will\n\t// otherwise throw an invalid argument error, so we try the standard\n\t// arguments first, then fallback to `Text` if they fail.\n\ttry {\n\t\tplainText = clipboardData.getData( 'text/plain' );\n\t\thtml = clipboardData.getData( 'text/html' );\n\t} catch ( error1 ) {\n\t\ttry {\n\t\t\thtml = clipboardData.getData( 'Text' );\n\t\t} catch ( error2 ) {\n\t\t\t// Some browsers like UC Browser paste plain text by default and\n\t\t\t// don't support clipboardData at all, so allow default\n\t\t\t// behaviour.\n\t\t\treturn;\n\t\t}\n\t}\n\n\tfiles = Array.from( files );\n\n\tArray.from( items ).forEach( ( item ) => {\n\t\tif ( ! item.getAsFile ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst file = item.getAsFile();\n\n\t\tif ( ! file ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { name, type, size } = file;\n\n\t\tif ( ! find( files, { name, type, size } ) ) {\n\t\t\tfiles.push( file );\n\t\t}\n\t} );\n\n\tfiles = files.filter( ( { type } ) =>\n\t\t/^image\\/(?:jpe?g|png|gif)$/.test( type )\n\t);\n\n\t// Only process files if no HTML is present.\n\t// A pasted file may have the URL as plain text.\n\tif ( files.length && ! html ) {\n\t\thtml = files\n\t\t\t.map( ( file ) => `<img src=\"${ createBlobURL( file ) }\">` )\n\t\t\t.join( '' );\n\t\tplainText = '';\n\t}\n\n\treturn { html, plainText };\n}\n","// Adapted from https://github.com/reworkcss/css\n// because we needed to remove source map support.\n\n/**\n * Expose `Compiler`.\n */\n\nexport default Compiler;\n\n/**\n * Initialize a compiler.\n */\n\nfunction Compiler( opts ) {\n\tthis.options = opts || {};\n}\n\n/**\n * Emit `str`\n */\n\nCompiler.prototype.emit = function( str ) {\n\treturn str;\n};\n\n/**\n * Visit `node`.\n */\n\nCompiler.prototype.visit = function( node ) {\n\treturn this[ node.type ]( node );\n};\n\n/**\n * Map visit over array of `nodes`, optionally using a `delim`\n */\n\nCompiler.prototype.mapVisit = function( nodes, delim ) {\n\tlet buf = '';\n\tdelim = delim || '';\n\n\tfor ( let i = 0, length = nodes.length; i < length; i++ ) {\n\t\tbuf += this.visit( nodes[ i ] );\n\t\tif ( delim && i < length - 1 ) {\n\t\t\tbuf += this.emit( delim );\n\t\t}\n\t}\n\n\treturn buf;\n};\n","// Adapted from https://github.com/reworkcss/css\n// because we needed to remove source map support.\n\n/**\n * External dependencies\n */\nimport inherits from 'inherits';\n\n/**\n * Internal dependencies\n */\nimport Base from './compiler';\n\n/**\n * Expose compiler.\n */\n\nexport default Compiler;\n\n/**\n * Initialize a new `Compiler`.\n */\n\nfunction Compiler( options ) {\n\tBase.call( this, options );\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\ninherits( Compiler, Base );\n\n/**\n * Compile `node`.\n */\n\nCompiler.prototype.compile = function( node ) {\n\treturn node.stylesheet.rules.map( this.visit, this ).join( '' );\n};\n\n/**\n * Visit comment node.\n */\n\nCompiler.prototype.comment = function( node ) {\n\treturn this.emit( '', node.position );\n};\n\n/**\n * Visit import node.\n */\n\nCompiler.prototype.import = function( node ) {\n\treturn this.emit( '@import ' + node.import + ';', node.position );\n};\n\n/**\n * Visit media node.\n */\n\nCompiler.prototype.media = function( node ) {\n\treturn (\n\t\tthis.emit( '@media ' + node.media, node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.rules ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit document node.\n */\n\nCompiler.prototype.document = function( node ) {\n\tconst doc = '@' + ( node.vendor || '' ) + 'document ' + node.document;\n\n\treturn (\n\t\tthis.emit( doc, node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.rules ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit charset node.\n */\n\nCompiler.prototype.charset = function( node ) {\n\treturn this.emit( '@charset ' + node.charset + ';', node.position );\n};\n\n/**\n * Visit namespace node.\n */\n\nCompiler.prototype.namespace = function( node ) {\n\treturn this.emit( '@namespace ' + node.namespace + ';', node.position );\n};\n\n/**\n * Visit supports node.\n */\n\nCompiler.prototype.supports = function( node ) {\n\treturn (\n\t\tthis.emit( '@supports ' + node.supports, node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.rules ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit keyframes node.\n */\n\nCompiler.prototype.keyframes = function( node ) {\n\treturn (\n\t\tthis.emit(\n\t\t\t'@' + ( node.vendor || '' ) + 'keyframes ' + node.name,\n\t\t\tnode.position\n\t\t) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.keyframes ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit keyframe node.\n */\n\nCompiler.prototype.keyframe = function( node ) {\n\tconst decls = node.declarations;\n\n\treturn (\n\t\tthis.emit( node.values.join( ',' ), node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( decls ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit page node.\n */\n\nCompiler.prototype.page = function( node ) {\n\tconst sel = node.selectors.length ? node.selectors.join( ', ' ) : '';\n\n\treturn (\n\t\tthis.emit( '@page ' + sel, node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.declarations ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit font-face node.\n */\n\nCompiler.prototype[ 'font-face' ] = function( node ) {\n\treturn (\n\t\tthis.emit( '@font-face', node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.declarations ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit host node.\n */\n\nCompiler.prototype.host = function( node ) {\n\treturn (\n\t\tthis.emit( '@host', node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( node.rules ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit custom-media node.\n */\n\nCompiler.prototype[ 'custom-media' ] = function( node ) {\n\treturn this.emit(\n\t\t'@custom-media ' + node.name + ' ' + node.media + ';',\n\t\tnode.position\n\t);\n};\n\n/**\n * Visit rule node.\n */\n\nCompiler.prototype.rule = function( node ) {\n\tconst decls = node.declarations;\n\tif ( ! decls.length ) {\n\t\treturn '';\n\t}\n\n\treturn (\n\t\tthis.emit( node.selectors.join( ',' ), node.position ) +\n\t\tthis.emit( '{' ) +\n\t\tthis.mapVisit( decls ) +\n\t\tthis.emit( '}' )\n\t);\n};\n\n/**\n * Visit declaration node.\n */\n\nCompiler.prototype.declaration = function( node ) {\n\treturn (\n\t\tthis.emit( node.property + ':' + node.value, node.position ) +\n\t\tthis.emit( ';' )\n\t);\n};\n","/* eslint-disable @wordpress/no-unused-vars-before-return */\n\n// Adapted from https://github.com/reworkcss/css\n// because we needed to remove source map support.\n\n/**\n * External dependencies\n */\nimport inherits from 'inherits';\n\n/**\n * Internal dependencies\n */\nimport Base from './compiler';\n\n/**\n * Expose compiler.\n */\n\nexport default Compiler;\n\n/**\n * Initialize a new `Compiler`.\n */\n\nfunction Compiler( options ) {\n\toptions = options || {};\n\tBase.call( this, options );\n\tthis.indentation = options.indent;\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\ninherits( Compiler, Base );\n\n/**\n * Compile `node`.\n */\n\nCompiler.prototype.compile = function( node ) {\n\treturn this.stylesheet( node );\n};\n\n/**\n * Visit stylesheet node.\n */\n\nCompiler.prototype.stylesheet = function( node ) {\n\treturn this.mapVisit( node.stylesheet.rules, '\\n\\n' );\n};\n\n/**\n * Visit comment node.\n */\n\nCompiler.prototype.comment = function( node ) {\n\treturn this.emit(\n\t\tthis.indent() + '/*' + node.comment + '*/',\n\t\tnode.position\n\t);\n};\n\n/**\n * Visit import node.\n */\n\nCompiler.prototype.import = function( node ) {\n\treturn this.emit( '@import ' + node.import + ';', node.position );\n};\n\n/**\n * Visit media node.\n */\n\nCompiler.prototype.media = function( node ) {\n\treturn (\n\t\tthis.emit( '@media ' + node.media, node.position ) +\n\t\tthis.emit( ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.rules, '\\n\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '\\n}' )\n\t);\n};\n\n/**\n * Visit document node.\n */\n\nCompiler.prototype.document = function( node ) {\n\tconst doc = '@' + ( node.vendor || '' ) + 'document ' + node.document;\n\n\treturn (\n\t\tthis.emit( doc, node.position ) +\n\t\tthis.emit( ' ' + ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.rules, '\\n\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '\\n}' )\n\t);\n};\n\n/**\n * Visit charset node.\n */\n\nCompiler.prototype.charset = function( node ) {\n\treturn this.emit( '@charset ' + node.charset + ';', node.position );\n};\n\n/**\n * Visit namespace node.\n */\n\nCompiler.prototype.namespace = function( node ) {\n\treturn this.emit( '@namespace ' + node.namespace + ';', node.position );\n};\n\n/**\n * Visit supports node.\n */\n\nCompiler.prototype.supports = function( node ) {\n\treturn (\n\t\tthis.emit( '@supports ' + node.supports, node.position ) +\n\t\tthis.emit( ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.rules, '\\n\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '\\n}' )\n\t);\n};\n\n/**\n * Visit keyframes node.\n */\n\nCompiler.prototype.keyframes = function( node ) {\n\treturn (\n\t\tthis.emit(\n\t\t\t'@' + ( node.vendor || '' ) + 'keyframes ' + node.name,\n\t\t\tnode.position\n\t\t) +\n\t\tthis.emit( ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.keyframes, '\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '}' )\n\t);\n};\n\n/**\n * Visit keyframe node.\n */\n\nCompiler.prototype.keyframe = function( node ) {\n\tconst decls = node.declarations;\n\n\treturn (\n\t\tthis.emit( this.indent() ) +\n\t\tthis.emit( node.values.join( ', ' ), node.position ) +\n\t\tthis.emit( ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( decls, '\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '\\n' + this.indent() + '}\\n' )\n\t);\n};\n\n/**\n * Visit page node.\n */\n\nCompiler.prototype.page = function( node ) {\n\tconst sel = node.selectors.length ? node.selectors.join( ', ' ) + ' ' : '';\n\n\treturn (\n\t\tthis.emit( '@page ' + sel, node.position ) +\n\t\tthis.emit( '{\\n' ) +\n\t\tthis.emit( this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.declarations, '\\n' ) +\n\t\tthis.emit( this.indent( -1 ) ) +\n\t\tthis.emit( '\\n}' )\n\t);\n};\n\n/**\n * Visit font-face node.\n */\n\nCompiler.prototype[ 'font-face' ] = function( node ) {\n\treturn (\n\t\tthis.emit( '@font-face ', node.position ) +\n\t\tthis.emit( '{\\n' ) +\n\t\tthis.emit( this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.declarations, '\\n' ) +\n\t\tthis.emit( this.indent( -1 ) ) +\n\t\tthis.emit( '\\n}' )\n\t);\n};\n\n/**\n * Visit host node.\n */\n\nCompiler.prototype.host = function( node ) {\n\treturn (\n\t\tthis.emit( '@host', node.position ) +\n\t\tthis.emit( ' {\\n' + this.indent( 1 ) ) +\n\t\tthis.mapVisit( node.rules, '\\n\\n' ) +\n\t\tthis.emit( this.indent( -1 ) + '\\n}' )\n\t);\n};\n\n/**\n * Visit custom-media node.\n */\n\nCompiler.prototype[ 'custom-media' ] = function( node ) {\n\treturn this.emit(\n\t\t'@custom-media ' + node.name + ' ' + node.media + ';',\n\t\tnode.position\n\t);\n};\n\n/**\n * Visit rule node.\n */\n\nCompiler.prototype.rule = function( node ) {\n\tconst indent = this.indent();\n\tconst decls = node.declarations;\n\tif ( ! decls.length ) {\n\t\treturn '';\n\t}\n\n\treturn (\n\t\tthis.emit(\n\t\t\tnode.selectors\n\t\t\t\t.map( function( s ) {\n\t\t\t\t\treturn indent + s;\n\t\t\t\t} )\n\t\t\t\t.join( ',\\n' ),\n\t\t\tnode.position\n\t\t) +\n\t\tthis.emit( ' {\\n' ) +\n\t\tthis.emit( this.indent( 1 ) ) +\n\t\tthis.mapVisit( decls, '\\n' ) +\n\t\tthis.emit( this.indent( -1 ) ) +\n\t\tthis.emit( '\\n' + this.indent() + '}' )\n\t);\n};\n\n/**\n * Visit declaration node.\n */\n\nCompiler.prototype.declaration = function( node ) {\n\treturn (\n\t\tthis.emit( this.indent() ) +\n\t\tthis.emit( node.property + ': ' + node.value, node.position ) +\n\t\tthis.emit( ';' )\n\t);\n};\n\n/**\n * Increase, decrease or return current indentation.\n */\n\nCompiler.prototype.indent = function( level ) {\n\tthis.level = this.level || 1;\n\n\tif ( null !== level ) {\n\t\tthis.level += level;\n\t\treturn '';\n\t}\n\n\treturn Array( this.level ).join( this.indentation || '  ' );\n};\n\n/* eslint-enable @wordpress/no-unused-vars-before-return */\n","/**\n * External dependencies\n */\nimport { first, last } from 'lodash';\n/**\n * WordPress dependencies\n */\nimport { useEffect, useCallback } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { __ } from '@wordpress/i18n';\n\nfunction KeyboardShortcuts() {\n\t// Shortcuts Logic\n\tconst { clientIds, rootBlocksClientIds } = useSelect( ( select ) => {\n\t\tconst { getSelectedBlockClientIds, getBlockOrder } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\t\treturn {\n\t\t\tclientIds: getSelectedBlockClientIds(),\n\t\t\trootBlocksClientIds: getBlockOrder(),\n\t\t};\n\t}, [] );\n\n\tconst {\n\t\tduplicateBlocks,\n\t\tremoveBlocks,\n\t\tinsertAfterBlock,\n\t\tinsertBeforeBlock,\n\t\tmultiSelect,\n\t\tclearSelectedBlock,\n\t} = useDispatch( 'core/block-editor' );\n\n\t// Prevents bookmark all Tabs shortcut in Chrome when devtools are closed.\n\t// Prevents reposition Chrome devtools pane shortcut when devtools are open.\n\tuseShortcut(\n\t\t'core/block-editor/duplicate',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tduplicateBlocks( clientIds );\n\t\t\t},\n\t\t\t[ clientIds, duplicateBlocks ]\n\t\t),\n\t\t{ bindGlobal: true, isDisabled: clientIds.length === 0 }\n\t);\n\n\t// Does not clash with any known browser/native shortcuts, but preventDefault\n\t// is used to prevent any obscure unknown shortcuts from triggering.\n\tuseShortcut(\n\t\t'core/block-editor/remove',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tremoveBlocks( clientIds );\n\t\t\t},\n\t\t\t[ clientIds, removeBlocks ]\n\t\t),\n\t\t{ bindGlobal: true, isDisabled: clientIds.length === 0 }\n\t);\n\n\t// Does not clash with any known browser/native shortcuts, but preventDefault\n\t// is used to prevent any obscure unknown shortcuts from triggering.\n\tuseShortcut(\n\t\t'core/block-editor/insert-after',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tinsertAfterBlock( last( clientIds ) );\n\t\t\t},\n\t\t\t[ clientIds, insertAfterBlock ]\n\t\t),\n\t\t{ bindGlobal: true, isDisabled: clientIds.length === 0 }\n\t);\n\n\t// Prevent 'view recently closed tabs' in Opera using preventDefault.\n\tuseShortcut(\n\t\t'core/block-editor/insert-before',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tinsertBeforeBlock( first( clientIds ) );\n\t\t\t},\n\t\t\t[ clientIds, insertBeforeBlock ]\n\t\t),\n\t\t{ bindGlobal: true, isDisabled: clientIds.length === 0 }\n\t);\n\n\tuseShortcut(\n\t\t'core/block-editor/delete-multi-selection',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tremoveBlocks( clientIds );\n\t\t\t},\n\t\t\t[ clientIds, removeBlocks ]\n\t\t),\n\t\t{ isDisabled: clientIds.length < 1 }\n\t);\n\n\tuseShortcut(\n\t\t'core/block-editor/select-all',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tmultiSelect(\n\t\t\t\t\tfirst( rootBlocksClientIds ),\n\t\t\t\t\tlast( rootBlocksClientIds )\n\t\t\t\t);\n\t\t\t},\n\t\t\t[ rootBlocksClientIds, multiSelect ]\n\t\t)\n\t);\n\n\tuseShortcut(\n\t\t'core/block-editor/unselect',\n\t\tuseCallback(\n\t\t\t( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tclearSelectedBlock();\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t},\n\t\t\t[ clientIds, clearSelectedBlock ]\n\t\t),\n\t\t{ isDisabled: clientIds.length < 2 }\n\t);\n\n\treturn null;\n}\n\nfunction KeyboardShortcutsRegister() {\n\t// Registering the shortcuts\n\tconst { registerShortcut } = useDispatch( 'core/keyboard-shortcuts' );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/duplicate',\n\t\t\tcategory: 'block',\n\t\t\tdescription: __( 'Duplicate the selected block(s).' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'd',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/remove',\n\t\t\tcategory: 'block',\n\t\t\tdescription: __( 'Remove the selected block(s).' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/insert-before',\n\t\t\tcategory: 'block',\n\t\t\tdescription: __(\n\t\t\t\t'Insert a new block before the selected block(s).'\n\t\t\t),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryAlt',\n\t\t\t\tcharacter: 't',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/insert-after',\n\t\t\tcategory: 'block',\n\t\t\tdescription: __(\n\t\t\t\t'Insert a new block after the selected block(s).'\n\t\t\t),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryAlt',\n\t\t\t\tcharacter: 'y',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/delete-multi-selection',\n\t\t\tcategory: 'block',\n\t\t\tdescription: __( 'Remove multiple selected blocks.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tcharacter: 'del',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tcharacter: 'backspace',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/select-all',\n\t\t\tcategory: 'selection',\n\t\t\tdescription: __(\n\t\t\t\t'Select all text when typing. Press again to select all blocks.'\n\t\t\t),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'a',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/unselect',\n\t\t\tcategory: 'selection',\n\t\t\tdescription: __( 'Clear selection.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tcharacter: 'escape',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/block-editor/focus-toolbar',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the nearest toolbar.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'alt',\n\t\t\t\tcharacter: 'F10',\n\t\t\t},\n\t\t} );\n\t}, [ registerShortcut ] );\n\n\treturn null;\n}\n\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\n\nexport default KeyboardShortcuts;\n","/**\n * External dependencies\n */\nimport { over, includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { isTextField } from '@wordpress/dom';\nimport {\n\tUP,\n\tRIGHT,\n\tDOWN,\n\tLEFT,\n\tENTER,\n\tBACKSPACE,\n\tESCAPE,\n\tTAB,\n} from '@wordpress/keycodes';\nimport { withSafeTimeout } from '@wordpress/compose';\n\n/**\n * Set of key codes upon which typing is to be initiated on a keydown event.\n *\n * @type {number[]}\n */\nconst KEY_DOWN_ELIGIBLE_KEY_CODES = [ UP, RIGHT, DOWN, LEFT, ENTER, BACKSPACE ];\n\n/**\n * Returns true if a given keydown event can be inferred as intent to start\n * typing, or false otherwise. A keydown is considered eligible if it is a\n * text navigation without shift active.\n *\n * @param {KeyboardEvent} event Keydown event to test.\n *\n * @return {boolean} Whether event is eligible to start typing.\n */\nfunction isKeyDownEligibleForStartTyping( event ) {\n\tconst { keyCode, shiftKey } = event;\n\treturn ! shiftKey && includes( KEY_DOWN_ELIGIBLE_KEY_CODES, keyCode );\n}\n\nfunction ObserveTyping( { children, setTimeout: setSafeTimeout } ) {\n\tconst typingContainer = useRef();\n\tconst lastMouseMove = useRef();\n\tconst isTyping = useSelect( ( select ) =>\n\t\tselect( 'core/block-editor' ).isTyping()\n\t);\n\tconst { startTyping, stopTyping } = useDispatch( 'core/block-editor' );\n\tuseEffect( () => {\n\t\ttoggleEventBindings( isTyping );\n\t\treturn () => toggleEventBindings( false );\n\t}, [ isTyping ] );\n\n\t/**\n\t * Bind or unbind events to the document when typing has started or stopped\n\t * respectively, or when component has become unmounted.\n\t *\n\t * @param {boolean} isBound Whether event bindings should be applied.\n\t */\n\tfunction toggleEventBindings( isBound ) {\n\t\tconst bindFn = isBound ? 'addEventListener' : 'removeEventListener';\n\t\tdocument[ bindFn ](\n\t\t\t'selectionchange',\n\t\t\tstopTypingOnSelectionUncollapse\n\t\t);\n\t\tdocument[ bindFn ]( 'mousemove', stopTypingOnMouseMove );\n\t}\n\n\t/**\n\t * On mouse move, unset typing flag if user has moved cursor.\n\t *\n\t * @param {MouseEvent} event Mousemove event.\n\t */\n\tfunction stopTypingOnMouseMove( event ) {\n\t\tconst { clientX, clientY } = event;\n\n\t\t// We need to check that the mouse really moved because Safari triggers\n\t\t// mousemove events when shift or ctrl are pressed.\n\t\tif ( lastMouseMove.current ) {\n\t\t\tconst {\n\t\t\t\tclientX: lastClientX,\n\t\t\t\tclientY: lastClientY,\n\t\t\t} = lastMouseMove.current;\n\n\t\t\tif ( lastClientX !== clientX || lastClientY !== clientY ) {\n\t\t\t\tstopTyping();\n\t\t\t}\n\t\t}\n\n\t\tlastMouseMove.current = { clientX, clientY };\n\t}\n\n\t/**\n\t * On selection change, unset typing flag if user has made an uncollapsed\n\t * (shift) selection.\n\t */\n\tfunction stopTypingOnSelectionUncollapse() {\n\t\tconst selection = window.getSelection();\n\t\tconst isCollapsed =\n\t\t\tselection.rangeCount > 0 && selection.getRangeAt( 0 ).collapsed;\n\n\t\tif ( ! isCollapsed ) {\n\t\t\tstopTyping();\n\t\t}\n\t}\n\n\t/**\n\t * Unsets typing flag if user presses Escape while typing flag is active.\n\t *\n\t * @param {KeyboardEvent} event Keypress or keydown event to interpret.\n\t */\n\tfunction stopTypingOnEscapeKey( event ) {\n\t\tif (\n\t\t\tisTyping &&\n\t\t\t( event.keyCode === ESCAPE || event.keyCode === TAB )\n\t\t) {\n\t\t\tstopTyping();\n\t\t}\n\t}\n\n\t/**\n\t * Handles a keypress or keydown event to infer intention to start typing.\n\t *\n\t * @param {KeyboardEvent} event Keypress or keydown event to interpret.\n\t */\n\tfunction startTypingInTextField( event ) {\n\t\tconst { type, target } = event;\n\n\t\t// Abort early if already typing, or key press is incurred outside a\n\t\t// text field (e.g. arrow-ing through toolbar buttons).\n\t\t// Ignore typing if outside the current DOM container\n\t\tif (\n\t\t\tisTyping ||\n\t\t\t! isTextField( target ) ||\n\t\t\t! typingContainer.current.contains( target )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Special-case keydown because certain keys do not emit a keypress\n\t\t// event. Conversely avoid keydown as the canonical event since there\n\t\t// are many keydown which are explicitly not targeted for typing.\n\t\tif (\n\t\t\ttype === 'keydown' &&\n\t\t\t! isKeyDownEligibleForStartTyping( event )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tstartTyping();\n\t}\n\n\t/**\n\t * Stops typing when focus transitions to a non-text field element.\n\t *\n\t * @param {FocusEvent} event Focus event.\n\t */\n\tfunction stopTypingOnNonTextField( event ) {\n\t\tconst { target } = event;\n\n\t\t// Since focus to a non-text field via arrow key will trigger before\n\t\t// the keydown event, wait until after current stack before evaluating\n\t\t// whether typing is to be stopped. Otherwise, typing will re-start.\n\t\tsetSafeTimeout( () => {\n\t\t\tif ( isTyping && ! isTextField( target ) ) {\n\t\t\t\tstopTyping();\n\t\t\t}\n\t\t} );\n\t}\n\n\t// Disable reason: This component is responsible for capturing bubbled\n\t// keyboard events which are interpreted as typing intent.\n\n\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\treturn (\n\t\t<div\n\t\t\tref={ typingContainer }\n\t\t\tonFocus={ stopTypingOnNonTextField }\n\t\t\tonKeyPress={ startTypingInTextField }\n\t\t\tonKeyDown={ over( [\n\t\t\t\tstartTypingInTextField,\n\t\t\t\tstopTypingOnEscapeKey,\n\t\t\t] ) }\n\t\t>\n\t\t\t{ children }\n\t\t</div>\n\t);\n\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/observe-typing/README.md\n */\nexport default withSafeTimeout( ObserveTyping );\n","/**\n * WordPress dependencies\n */\nimport { Component, createRef } from '@wordpress/element';\nimport { computeCaretRect, getScrollContainer } from '@wordpress/dom';\nimport { withSelect } from '@wordpress/data';\nimport { UP, DOWN, LEFT, RIGHT } from '@wordpress/keycodes';\n\n/** @typedef {import('@wordpress/element').WPSyntheticEvent} WPSyntheticEvent */\n\nconst isIE = window.navigator.userAgent.indexOf( 'Trident' ) !== -1;\nconst arrowKeyCodes = new Set( [ UP, DOWN, LEFT, RIGHT ] );\nconst initialTriggerPercentage = 0.75;\n\nclass Typewriter extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.ref = createRef();\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\t\tthis.addSelectionChangeListener = this.addSelectionChangeListener.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.computeCaretRectOnSelectionChange = this.computeCaretRectOnSelectionChange.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.maintainCaretPosition = this.maintainCaretPosition.bind( this );\n\t\tthis.computeCaretRect = this.computeCaretRect.bind( this );\n\t\tthis.onScrollResize = this.onScrollResize.bind( this );\n\t\tthis.isSelectionEligibleForScroll = this.isSelectionEligibleForScroll.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\t// When the user scrolls or resizes, the scroll position should be\n\t\t// reset.\n\t\twindow.addEventListener( 'scroll', this.onScrollResize, true );\n\t\twindow.addEventListener( 'resize', this.onScrollResize, true );\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener( 'scroll', this.onScrollResize, true );\n\t\twindow.removeEventListener( 'resize', this.onScrollResize, true );\n\t\tdocument.removeEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.computeCaretRectOnSelectionChange\n\t\t);\n\n\t\tif ( this.onScrollResize.rafId ) {\n\t\t\twindow.cancelAnimationFrame( this.onScrollResize.rafId );\n\t\t}\n\n\t\tif ( this.onKeyDown.rafId ) {\n\t\t\twindow.cancelAnimationFrame( this.onKeyDown.rafId );\n\t\t}\n\t}\n\n\t/**\n\t * Resets the scroll position to be maintained.\n\t */\n\tcomputeCaretRect() {\n\t\tif ( this.isSelectionEligibleForScroll() ) {\n\t\t\tthis.caretRect = computeCaretRect();\n\t\t}\n\t}\n\n\t/**\n\t * Resets the scroll position to be maintained during a `selectionchange`\n\t * event. Also removes the listener, so it acts as a one-time listener.\n\t */\n\tcomputeCaretRectOnSelectionChange() {\n\t\tdocument.removeEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.computeCaretRectOnSelectionChange\n\t\t);\n\t\tthis.computeCaretRect();\n\t}\n\n\tonScrollResize() {\n\t\tif ( this.onScrollResize.rafId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.onScrollResize.rafId = window.requestAnimationFrame( () => {\n\t\t\tthis.computeCaretRect();\n\t\t\tdelete this.onScrollResize.rafId;\n\t\t} );\n\t}\n\n\t/**\n\t * Checks if the current situation is elegible for scroll:\n\t * - There should be one and only one block selected.\n\t * - The component must contain the selection.\n\t * - The active element must be contenteditable.\n\t */\n\tisSelectionEligibleForScroll() {\n\t\treturn (\n\t\t\tthis.props.selectedBlockClientId &&\n\t\t\tthis.ref.current.contains( document.activeElement ) &&\n\t\t\tdocument.activeElement.isContentEditable\n\t\t);\n\t}\n\n\tisLastEditableNode() {\n\t\tconst editableNodes = this.ref.current.querySelectorAll(\n\t\t\t'[contenteditable=\"true\"]'\n\t\t);\n\t\tconst lastEditableNode = editableNodes[ editableNodes.length - 1 ];\n\t\treturn lastEditableNode === document.activeElement;\n\t}\n\n\t/**\n\t * Maintains the scroll position after a selection change caused by a\n\t * keyboard event.\n\t *\n\t * @param {WPSyntheticEvent} event Synthetic keyboard event.\n\t */\n\tmaintainCaretPosition( { keyCode } ) {\n\t\tif ( ! this.isSelectionEligibleForScroll() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentCaretRect = computeCaretRect();\n\n\t\tif ( ! currentCaretRect ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If for some reason there is no position set to be scrolled to, let\n\t\t// this be the position to be scrolled to in the future.\n\t\tif ( ! this.caretRect ) {\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\t// Even though enabling the typewriter effect for arrow keys results in\n\t\t// a pleasant experience, it may not be the case for everyone, so, for\n\t\t// now, let's disable it.\n\t\tif ( arrowKeyCodes.has( keyCode ) ) {\n\t\t\t// Reset the caret position to maintain.\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\tconst diff = currentCaretRect.top - this.caretRect.top;\n\n\t\tif ( diff === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainer = getScrollContainer( this.ref.current );\n\n\t\t// The page must be scrollable.\n\t\tif ( ! scrollContainer ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst windowScroll = scrollContainer === document.body;\n\t\tconst scrollY = windowScroll\n\t\t\t? window.scrollY\n\t\t\t: scrollContainer.scrollTop;\n\t\tconst scrollContainerY = windowScroll\n\t\t\t? 0\n\t\t\t: scrollContainer.getBoundingClientRect().top;\n\t\tconst relativeScrollPosition = windowScroll\n\t\t\t? this.caretRect.top / window.innerHeight\n\t\t\t: ( this.caretRect.top - scrollContainerY ) /\n\t\t\t  ( window.innerHeight - scrollContainerY );\n\n\t\t// If the scroll position is at the start, the active editable element\n\t\t// is the last one, and the caret is positioned within the initial\n\t\t// trigger percentage of the page, do not scroll the page.\n\t\t// The typewriter effect should not kick in until an empty page has been\n\t\t// filled with the initial trigger percentage or the user scrolls\n\t\t// intentionally down.\n\t\tif (\n\t\t\tscrollY === 0 &&\n\t\t\trelativeScrollPosition < initialTriggerPercentage &&\n\t\t\tthis.isLastEditableNode()\n\t\t) {\n\t\t\t// Reset the caret position to maintain.\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainerHeight = windowScroll\n\t\t\t? window.innerHeight\n\t\t\t: scrollContainer.clientHeight;\n\n\t\t// Abort if the target scroll position would scroll the caret out of\n\t\t// view.\n\t\tif (\n\t\t\t// The caret is under the lower fold.\n\t\t\tthis.caretRect.top + this.caretRect.height >\n\t\t\t\tscrollContainerY + scrollContainerHeight ||\n\t\t\t// The caret is above the upper fold.\n\t\t\tthis.caretRect.top < scrollContainerY\n\t\t) {\n\t\t\t// Reset the caret position to maintain.\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( windowScroll ) {\n\t\t\twindow.scrollBy( 0, diff );\n\t\t} else {\n\t\t\tscrollContainer.scrollTop += diff;\n\t\t}\n\t}\n\n\t/**\n\t * Adds a `selectionchange` listener to reset the scroll position to be\n\t * maintained.\n\t */\n\taddSelectionChangeListener() {\n\t\tdocument.addEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.computeCaretRectOnSelectionChange\n\t\t);\n\t}\n\n\tonKeyDown( event ) {\n\t\tevent.persist();\n\n\t\t// Ensure the any remaining request is cancelled.\n\t\tif ( this.onKeyDown.rafId ) {\n\t\t\twindow.cancelAnimationFrame( this.onKeyDown.rafId );\n\t\t}\n\n\t\t// Use an animation frame for a smooth result.\n\t\tthis.onKeyDown.rafId = window.requestAnimationFrame( () => {\n\t\t\tthis.maintainCaretPosition( event );\n\t\t\tdelete this.onKeyDown.rafId;\n\t\t} );\n\t}\n\n\trender() {\n\t\t// Disable reason: Wrapper itself is non-interactive, but must capture\n\t\t// bubbling events from children to determine focus transition intents.\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ this.ref }\n\t\t\t\tonKeyDown={ this.onKeyDown }\n\t\t\t\tonKeyUp={ this.maintainCaretPosition }\n\t\t\t\tonMouseDown={ this.addSelectionChangeListener }\n\t\t\t\tonTouchStart={ this.addSelectionChangeListener }\n\t\t\t\tclassName=\"block-editor__typewriter\"\n\t\t\t>\n\t\t\t\t{ this.props.children }\n\t\t\t</div>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n\t}\n}\n\n/**\n * The exported component. The implementation of Typewriter faced technical\n * challenges in Internet Explorer, and is simply skipped, rendering the given\n * props children instead.\n *\n * @type {WPComponent}\n */\nconst TypewriterOrIEBypass = isIE\n\t? ( props ) => props.children\n\t: withSelect( ( select ) => {\n\t\t\tconst { getSelectedBlockClientId } = select( 'core/block-editor' );\n\t\t\treturn { selectedBlockClientId: getSelectedBlockClientId() };\n\t  } )( Typewriter );\n\n/**\n * Ensures that the text selection keeps the same vertical distance from the\n * viewport during keyboard events within this component. The vertical distance\n * can vary. It is the last clicked or scrolled to position.\n */\nexport default TypewriterOrIEBypass;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { get, has, includes, without } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createContext, useContext } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\nimport {\n\tgetBlockSupport,\n\tgetBlockType,\n\thasBlockSupport,\n} from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { BlockControls, BlockAlignmentToolbar } from '../components';\n\n/**\n * An array which includes all possible valid alignments,\n * used to validate if an alignment is valid or not.\n *\n * @constant\n * @type {string[]}\n */\nconst ALL_ALIGNMENTS = [ 'left', 'center', 'right', 'wide', 'full' ];\n\n/**\n * An array which includes all wide alignments.\n * In order for this alignments to be valid they need to be supported by the block,\n * and by the theme.\n *\n * @constant\n * @type {string[]}\n */\nconst WIDE_ALIGNMENTS = [ 'wide', 'full' ];\n\n/**\n * Returns the valid alignments.\n * Takes into consideration the aligns supported by a block, if the block supports wide controls or not and if theme supports wide controls or not.\n * Exported just for testing purposes, not exported outside the module.\n *\n * @param {?boolean|string[]} blockAlign          Aligns supported by the block.\n * @param {?boolean}          hasWideBlockSupport True if block supports wide alignments. And False otherwise.\n * @param {?boolean}          hasWideEnabled      True if theme supports wide alignments. And False otherwise.\n *\n * @return {string[]} Valid alignments.\n */\nexport function getValidAlignments(\n\tblockAlign,\n\thasWideBlockSupport = true,\n\thasWideEnabled = true\n) {\n\tlet validAlignments;\n\tif ( Array.isArray( blockAlign ) ) {\n\t\tvalidAlignments = blockAlign;\n\t} else if ( blockAlign === true ) {\n\t\t// `true` includes all alignments...\n\t\tvalidAlignments = ALL_ALIGNMENTS;\n\t} else {\n\t\tvalidAlignments = [];\n\t}\n\n\tif (\n\t\t! hasWideEnabled ||\n\t\t( blockAlign === true && ! hasWideBlockSupport )\n\t) {\n\t\treturn without( validAlignments, ...WIDE_ALIGNMENTS );\n\t}\n\n\treturn validAlignments;\n}\n\n/**\n * Filters registered block settings, extending attributes to include `align`.\n *\n * @param  {Object} settings Original block settings\n * @return {Object}          Filtered block settings\n */\nexport function addAttribute( settings ) {\n\t// allow blocks to specify their own attribute definition with default values if needed.\n\tif ( has( settings.attributes, [ 'align', 'type' ] ) ) {\n\t\treturn settings;\n\t}\n\tif ( hasBlockSupport( settings, 'align' ) ) {\n\t\t// Gracefully handle if settings.attributes is undefined.\n\t\tsettings.attributes = {\n\t\t\t...settings.attributes,\n\t\t\talign: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t};\n\t}\n\n\treturn settings;\n}\n\nconst AlignmentHookSettings = createContext( {} );\n\n/**\n * Allows to pass additional settings to the alignment hook.\n */\nexport const AlignmentHookSettingsProvider = AlignmentHookSettings.Provider;\n\n/**\n * Override the default edit UI to include new toolbar controls for block\n * alignment, if block defines support.\n *\n * @param  {Function} BlockEdit Original component\n * @return {Function}           Wrapped component\n */\nexport const withToolbarControls = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst { isEmbedButton } = useContext( AlignmentHookSettings );\n\t\tconst { name: blockName } = props;\n\t\t// Compute valid alignments without taking into account,\n\t\t// if the theme supports wide alignments or not.\n\t\t// BlockAlignmentToolbar takes into account the theme support.\n\t\tconst validAlignments = isEmbedButton\n\t\t\t? []\n\t\t\t: getValidAlignments(\n\t\t\t\t\tgetBlockSupport( blockName, 'align' ),\n\t\t\t\t\thasBlockSupport( blockName, 'alignWide', true )\n\t\t\t  );\n\n\t\tconst updateAlignment = ( nextAlign ) => {\n\t\t\tif ( ! nextAlign ) {\n\t\t\t\tconst blockType = getBlockType( props.name );\n\t\t\t\tconst blockDefaultAlign = get( blockType, [\n\t\t\t\t\t'attributes',\n\t\t\t\t\t'align',\n\t\t\t\t\t'default',\n\t\t\t\t] );\n\t\t\t\tif ( blockDefaultAlign ) {\n\t\t\t\t\tnextAlign = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tprops.setAttributes( { align: nextAlign } );\n\t\t};\n\n\t\treturn [\n\t\t\tvalidAlignments.length > 0 && props.isSelected && (\n\t\t\t\t<BlockControls key=\"align-controls\">\n\t\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\t\tvalue={ props.attributes.align }\n\t\t\t\t\t\tonChange={ updateAlignment }\n\t\t\t\t\t\tcontrols={ validAlignments }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t),\n\t\t\t<BlockEdit key=\"edit\" { ...props } />,\n\t\t];\n\t},\n\t'withToolbarControls'\n);\n\n/**\n * Override the default block element to add alignment wrapper props.\n *\n * @param  {Function} BlockListBlock Original component\n * @return {Function}                Wrapped component\n */\nexport const withDataAlign = createHigherOrderComponent(\n\t( BlockListBlock ) => ( props ) => {\n\t\tconst { name, attributes } = props;\n\t\tconst { align } = attributes;\n\t\tconst hasWideEnabled = useSelect(\n\t\t\t( select ) =>\n\t\t\t\t!! select( 'core/block-editor' ).getSettings().alignWide,\n\t\t\t[]\n\t\t);\n\n\t\t// If an alignment is not assigned, there's no need to go through the\n\t\t// effort to validate or assign its value.\n\t\tif ( align === undefined ) {\n\t\t\treturn <BlockListBlock { ...props } />;\n\t\t}\n\n\t\tconst validAlignments = getValidAlignments(\n\t\t\tgetBlockSupport( name, 'align' ),\n\t\t\thasBlockSupport( name, 'alignWide', true ),\n\t\t\thasWideEnabled\n\t\t);\n\n\t\tlet wrapperProps = props.wrapperProps;\n\t\tif ( includes( validAlignments, align ) ) {\n\t\t\twrapperProps = { ...wrapperProps, 'data-align': align };\n\t\t}\n\n\t\treturn <BlockListBlock { ...props } wrapperProps={ wrapperProps } />;\n\t}\n);\n\n/**\n * Override props assigned to save component to inject alignment class name if\n * block supports it.\n *\n * @param  {Object} props      Additional props applied to save element\n * @param  {Object} blockType  Block type\n * @param  {Object} attributes Block attributes\n * @return {Object}            Filtered props applied to save element\n */\nexport function addAssignedAlign( props, blockType, attributes ) {\n\tconst { align } = attributes;\n\tconst blockAlign = getBlockSupport( blockType, 'align' );\n\tconst hasWideBlockSupport = hasBlockSupport( blockType, 'alignWide', true );\n\tconst isAlignValid = includes(\n\t\t// Compute valid alignments without taking into account,\n\t\t// if the theme supports wide alignments or not.\n\t\t// This way changing themes does not impacts the block save.\n\t\tgetValidAlignments( blockAlign, hasWideBlockSupport ),\n\t\talign\n\t);\n\tif ( isAlignValid ) {\n\t\tprops.className = classnames( `align${ align }`, props.className );\n\t}\n\n\treturn props;\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/align/addAttribute',\n\taddAttribute\n);\naddFilter(\n\t'editor.BlockListBlock',\n\t'core/editor/align/with-data-align',\n\twithDataAlign\n);\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/align/with-toolbar-controls',\n\twithToolbarControls\n);\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/align/addAssignedAlign',\n\taddAssignedAlign\n);\n","/**\n * External dependencies\n */\nimport { has } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { TextControl, ExternalLink } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { hasBlockSupport } from '@wordpress/blocks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { InspectorAdvancedControls } from '../components';\n\n/**\n * Regular expression matching invalid anchor characters for replacement.\n *\n * @type {RegExp}\n */\nconst ANCHOR_REGEX = /[\\s#]/g;\n\n/**\n * Filters registered block settings, extending attributes with anchor using ID\n * of the first node.\n *\n * @param {Object} settings Original block settings.\n *\n * @return {Object} Filtered block settings.\n */\nexport function addAttribute( settings ) {\n\t// allow blocks to specify their own attribute definition with default values if needed.\n\tif ( has( settings.attributes, [ 'anchor', 'type' ] ) ) {\n\t\treturn settings;\n\t}\n\tif ( hasBlockSupport( settings, 'anchor' ) ) {\n\t\t// Gracefully handle if settings.attributes is undefined.\n\t\tsettings.attributes = {\n\t\t\t...settings.attributes,\n\t\t\tanchor: {\n\t\t\t\ttype: 'string',\n\t\t\t\tsource: 'attribute',\n\t\t\t\tattribute: 'id',\n\t\t\t\tselector: '*',\n\t\t\t},\n\t\t};\n\t}\n\n\treturn settings;\n}\n\n/**\n * Override the default edit UI to include a new block inspector control for\n * assigning the anchor ID, if block supports anchor.\n *\n * @param {WPComponent} BlockEdit Original component.\n *\n * @return {WPComponent} Wrapped component.\n */\nexport const withInspectorControl = createHigherOrderComponent(\n\t( BlockEdit ) => {\n\t\treturn ( props ) => {\n\t\t\tconst hasAnchor = hasBlockSupport( props.name, 'anchor' );\n\n\t\t\tif ( hasAnchor && props.isSelected ) {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t\t\t<InspectorAdvancedControls>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tclassName=\"html-anchor-control\"\n\t\t\t\t\t\t\t\tlabel={ __( 'HTML anchor' ) }\n\t\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'Enter a word or two — without spaces — to make a unique web address just for this heading, called an “anchor.” Then, you’ll be able to link directly to this section of your page.'\n\t\t\t\t\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/support/article/page-jumps/'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Learn more about anchors' ) }\n\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue={ props.attributes.anchor || '' }\n\t\t\t\t\t\t\t\tonChange={ ( nextValue ) => {\n\t\t\t\t\t\t\t\t\tnextValue = nextValue.replace(\n\t\t\t\t\t\t\t\t\t\tANCHOR_REGEX,\n\t\t\t\t\t\t\t\t\t\t'-'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tprops.setAttributes( {\n\t\t\t\t\t\t\t\t\t\tanchor: nextValue,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</InspectorAdvancedControls>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t};\n\t},\n\t'withInspectorControl'\n);\n\n/**\n * Override props assigned to save component to inject anchor ID, if block\n * supports anchor. This is only applied if the block's save result is an\n * element and not a markup string.\n *\n * @param {Object} extraProps Additional props applied to save element.\n * @param {Object} blockType  Block type.\n * @param {Object} attributes Current block attributes.\n *\n * @return {Object} Filtered props applied to save element.\n */\nexport function addSaveProps( extraProps, blockType, attributes ) {\n\tif ( hasBlockSupport( blockType, 'anchor' ) ) {\n\t\textraProps.id = attributes.anchor === '' ? null : attributes.anchor;\n\t}\n\n\treturn extraProps;\n}\n\naddFilter( 'blocks.registerBlockType', 'core/anchor/attribute', addAttribute );\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/anchor/with-inspector-control',\n\twithInspectorControl\n);\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/anchor/save-props',\n\taddSaveProps\n);\n","/**\n * External dependencies\n */\nimport { difference, omit } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { TextControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\thasBlockSupport,\n\tparseWithAttributeSchema,\n\tgetSaveContent,\n} from '@wordpress/blocks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { InspectorAdvancedControls } from '../components';\n\n/**\n * Filters registered block settings, extending attributes with anchor using ID\n * of the first node.\n *\n * @param {Object} settings Original block settings.\n *\n * @return {Object} Filtered block settings.\n */\nexport function addAttribute( settings ) {\n\tif ( hasBlockSupport( settings, 'customClassName', true ) ) {\n\t\t// Gracefully handle if settings.attributes is undefined.\n\t\tsettings.attributes = {\n\t\t\t...settings.attributes,\n\t\t\tclassName: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t};\n\t}\n\n\treturn settings;\n}\n\n/**\n * Override the default edit UI to include a new block inspector control for\n * assigning the custom class name, if block supports custom class name.\n *\n * @param {WPComponent} BlockEdit Original component.\n *\n * @return {WPComponent} Wrapped component.\n */\nexport const withInspectorControl = createHigherOrderComponent(\n\t( BlockEdit ) => {\n\t\treturn ( props ) => {\n\t\t\tconst hasCustomClassName = hasBlockSupport(\n\t\t\t\tprops.name,\n\t\t\t\t'customClassName',\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tif ( hasCustomClassName && props.isSelected ) {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t\t\t<InspectorAdvancedControls>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Additional CSS class(es)' ) }\n\t\t\t\t\t\t\t\tvalue={ props.attributes.className || '' }\n\t\t\t\t\t\t\t\tonChange={ ( nextValue ) => {\n\t\t\t\t\t\t\t\t\tprops.setAttributes( {\n\t\t\t\t\t\t\t\t\t\tclassName:\n\t\t\t\t\t\t\t\t\t\t\tnextValue !== ''\n\t\t\t\t\t\t\t\t\t\t\t\t? nextValue\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Separate multiple classes with spaces.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</InspectorAdvancedControls>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t};\n\t},\n\t'withInspectorControl'\n);\n\n/**\n * Override props assigned to save component to inject anchor ID, if block\n * supports anchor. This is only applied if the block's save result is an\n * element and not a markup string.\n *\n * @param {Object} extraProps Additional props applied to save element.\n * @param {Object} blockType  Block type.\n * @param {Object} attributes Current block attributes.\n *\n * @return {Object} Filtered props applied to save element.\n */\nexport function addSaveProps( extraProps, blockType, attributes ) {\n\tif (\n\t\thasBlockSupport( blockType, 'customClassName', true ) &&\n\t\tattributes.className\n\t) {\n\t\textraProps.className = classnames(\n\t\t\textraProps.className,\n\t\t\tattributes.className\n\t\t);\n\t}\n\n\treturn extraProps;\n}\n\n/**\n * Given an HTML string, returns an array of class names assigned to the root\n * element in the markup.\n *\n * @param {string} innerHTML Markup string from which to extract classes.\n *\n * @return {string[]} Array of class names assigned to the root element.\n */\nexport function getHTMLRootElementClasses( innerHTML ) {\n\tinnerHTML = `<div data-custom-class-name>${ innerHTML }</div>`;\n\n\tconst parsed = parseWithAttributeSchema( innerHTML, {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tselector: '[data-custom-class-name] > *',\n\t\tattribute: 'class',\n\t} );\n\n\treturn parsed ? parsed.trim().split( /\\s+/ ) : [];\n}\n\n/**\n * Given a parsed set of block attributes, if the block supports custom class\n * names and an unknown class (per the block's serialization behavior) is\n * found, the unknown classes are treated as custom classes. This prevents the\n * block from being considered as invalid.\n *\n * @param {Object} blockAttributes Original block attributes.\n * @param {Object} blockType       Block type settings.\n * @param {string} innerHTML       Original block markup.\n *\n * @return {Object} Filtered block attributes.\n */\nexport function addParsedDifference( blockAttributes, blockType, innerHTML ) {\n\tif ( hasBlockSupport( blockType, 'customClassName', true ) ) {\n\t\t// To determine difference, serialize block given the known set of\n\t\t// attributes, with the exception of `className`. This will determine\n\t\t// the default set of classes. From there, any difference in innerHTML\n\t\t// can be considered as custom classes.\n\t\tconst attributesSansClassName = omit( blockAttributes, [\n\t\t\t'className',\n\t\t] );\n\t\tconst serialized = getSaveContent( blockType, attributesSansClassName );\n\t\tconst defaultClasses = getHTMLRootElementClasses( serialized );\n\t\tconst actualClasses = getHTMLRootElementClasses( innerHTML );\n\t\tconst customClasses = difference( actualClasses, defaultClasses );\n\n\t\tif ( customClasses.length ) {\n\t\t\tblockAttributes.className = customClasses.join( ' ' );\n\t\t} else if ( serialized ) {\n\t\t\tdelete blockAttributes.className;\n\t\t}\n\t}\n\n\treturn blockAttributes;\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/custom-class-name/attribute',\n\taddAttribute\n);\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/custom-class-name/with-inspector-control',\n\twithInspectorControl\n);\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/custom-class-name/save-props',\n\taddSaveProps\n);\naddFilter(\n\t'blocks.getBlockAttributes',\n\t'core/custom-class-name/addParsedDifference',\n\taddParsedDifference\n);\n","/**\n * External dependencies\n */\nimport { uniq } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { hasBlockSupport, getBlockDefaultClassName } from '@wordpress/blocks';\n\n/**\n * Override props assigned to save component to inject generated className if\n * block supports it. This is only applied if the block's save result is an\n * element and not a markup string.\n *\n * @param {Object} extraProps Additional props applied to save element.\n * @param {Object} blockType  Block type.\n *\n * @return {Object} Filtered props applied to save element.\n */\nexport function addGeneratedClassName( extraProps, blockType ) {\n\t// Adding the generated className\n\tif ( hasBlockSupport( blockType, 'className', true ) ) {\n\t\tif ( typeof extraProps.className === 'string' ) {\n\t\t\t// We have some extra classes and want to add the default classname\n\t\t\t// We use uniq to prevent duplicate classnames\n\n\t\t\textraProps.className = uniq( [\n\t\t\t\tgetBlockDefaultClassName( blockType.name ),\n\t\t\t\t...extraProps.className.split( ' ' ),\n\t\t\t] )\n\t\t\t\t.join( ' ' )\n\t\t\t\t.trim();\n\t\t} else {\n\t\t\t// There is no string in the className variable,\n\t\t\t// so we just dump the default name in there\n\t\t\textraProps.className = getBlockDefaultClassName( blockType.name );\n\t\t}\n\t}\n\treturn extraProps;\n}\n\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/generated-class-name/save-props',\n\taddGeneratedClassName\n);\n","/**\n * External dependencies\n */\nimport { pickBy, isEqual, isObject, identity, mapValues } from 'lodash';\n\n/**\n * Removed undefined values from nested object.\n *\n * @param {*} object\n * @return {*} Object cleaned from undefined values\n */\nexport const cleanEmptyObject = ( object ) => {\n\tif ( ! isObject( object ) ) {\n\t\treturn object;\n\t}\n\tconst cleanedNestedObjects = pickBy(\n\t\tmapValues( object, cleanEmptyObject ),\n\t\tidentity\n\t);\n\treturn isEqual( cleanedNestedObjects, {} )\n\t\t? undefined\n\t\t: cleanedNestedObjects;\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport PanelColorGradientSettings from '../components/colors-gradients/panel-color-gradient-settings';\nimport ContrastChecker from '../components/contrast-checker';\nimport InspectorControls from '../components/inspector-controls';\nimport { getBlockDOMNode } from '../utils/dom';\n\nexport default function ColorPanel( {\n\tsettings,\n\tclientId,\n\tenableContrastChecking = true,\n} ) {\n\tconst { getComputedStyle, Node } = window;\n\n\tconst [ detectedBackgroundColor, setDetectedBackgroundColor ] = useState();\n\tconst [ detectedColor, setDetectedColor ] = useState();\n\n\tuseEffect( () => {\n\t\tif ( ! enableContrastChecking ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst colorsDetectionElement = getBlockDOMNode( clientId );\n\t\tif ( ! colorsDetectionElement ) {\n\t\t\treturn;\n\t\t}\n\t\tsetDetectedColor( getComputedStyle( colorsDetectionElement ).color );\n\n\t\tlet backgroundColorNode = colorsDetectionElement;\n\t\tlet backgroundColor = getComputedStyle( backgroundColorNode )\n\t\t\t.backgroundColor;\n\t\twhile (\n\t\t\tbackgroundColor === 'rgba(0, 0, 0, 0)' &&\n\t\t\tbackgroundColorNode.parentNode &&\n\t\t\tbackgroundColorNode.parentNode.nodeType === Node.ELEMENT_NODE\n\t\t) {\n\t\t\tbackgroundColorNode = backgroundColorNode.parentNode;\n\t\t\tbackgroundColor = getComputedStyle( backgroundColorNode )\n\t\t\t\t.backgroundColor;\n\t\t}\n\n\t\tsetDetectedBackgroundColor( backgroundColor );\n\t} );\n\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<PanelColorGradientSettings\n\t\t\t\ttitle={ __( 'Color settings' ) }\n\t\t\t\tinitialOpen={ false }\n\t\t\t\tsettings={ settings }\n\t\t\t>\n\t\t\t\t{ enableContrastChecking && (\n\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\tbackgroundColor={ detectedBackgroundColor }\n\t\t\t\t\t\ttextColor={ detectedColor }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</PanelColorGradientSettings>\n\t\t</InspectorControls>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isObject } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { hasBlockSupport, getBlockSupport } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useRef, useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetColorClassName,\n\tgetColorObjectByColorValue,\n\tgetColorObjectByAttributeValues,\n} from '../components/colors';\nimport {\n\t__experimentalGetGradientClass,\n\tgetGradientValueBySlug,\n\tgetGradientSlugByValue,\n} from '../components/gradients';\nimport { cleanEmptyObject } from './utils';\nimport ColorPanel from './color-panel';\n\nexport const COLOR_SUPPORT_KEY = '__experimentalColor';\n\nconst hasColorSupport = ( blockType ) =>\n\thasBlockSupport( blockType, COLOR_SUPPORT_KEY );\n\nconst hasGradientSupport = ( blockType ) => {\n\tconst colorSupport = getBlockSupport( blockType, COLOR_SUPPORT_KEY );\n\n\treturn isObject( colorSupport ) && !! colorSupport.gradients;\n};\n\n/**\n * Filters registered block settings, extending attributes to include\n * `backgroundColor` and `textColor` attribute.\n *\n * @param  {Object} settings Original block settings\n * @return {Object}          Filtered block settings\n */\nfunction addAttributes( settings ) {\n\tif ( ! hasColorSupport( settings ) ) {\n\t\treturn settings;\n\t}\n\n\t// allow blocks to specify their own attribute definition with default values if needed.\n\tif ( ! settings.attributes.backgroundColor ) {\n\t\tObject.assign( settings.attributes, {\n\t\t\tbackgroundColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t} );\n\t}\n\tif ( ! settings.attributes.textColor ) {\n\t\tObject.assign( settings.attributes, {\n\t\t\ttextColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t} );\n\t}\n\n\tif ( hasGradientSupport( settings ) && ! settings.attributes.gradient ) {\n\t\tObject.assign( settings.attributes, {\n\t\t\tgradient: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn settings;\n}\n\n/**\n * Override props assigned to save component to inject colors classnames.\n *\n * @param  {Object} props      Additional props applied to save element\n * @param  {Object} blockType  Block type\n * @param  {Object} attributes Block attributes\n * @return {Object}            Filtered props applied to save element\n */\nexport function addSaveProps( props, blockType, attributes ) {\n\tif ( ! hasColorSupport( blockType ) ) {\n\t\treturn props;\n\t}\n\n\tconst hasGradient = hasGradientSupport( blockType );\n\n\t// I'd have prefered to avoid the \"style\" attribute usage here\n\tconst { backgroundColor, textColor, gradient, style } = attributes;\n\n\tconst backgroundClass = getColorClassName(\n\t\t'background-color',\n\t\tbackgroundColor\n\t);\n\tconst gradientClass = __experimentalGetGradientClass( gradient );\n\tconst textClass = getColorClassName( 'color', textColor );\n\tconst newClassName = classnames(\n\t\tprops.className,\n\t\ttextClass,\n\t\tgradientClass,\n\t\t{\n\t\t\t// Don't apply the background class if there's a custom gradient\n\t\t\t[ backgroundClass ]:\n\t\t\t\t( ! hasGradient || ! style?.color?.gradient ) &&\n\t\t\t\t!! backgroundClass,\n\t\t\t'has-text-color': textColor || style?.color?.text,\n\t\t\t'has-background':\n\t\t\t\tbackgroundColor ||\n\t\t\t\tstyle?.color?.background ||\n\t\t\t\t( hasGradient && ( gradient || style?.color?.gradient ) ),\n\t\t}\n\t);\n\tprops.className = newClassName ? newClassName : undefined;\n\n\treturn props;\n}\n\n/**\n * Filters registered block settings to extand the block edit wrapper\n * to apply the desired styles and classnames properly.\n *\n * @param  {Object} settings Original block settings\n * @return {Object}          Filtered block settings\n */\nexport function addEditProps( settings ) {\n\tif ( ! hasColorSupport( settings ) ) {\n\t\treturn settings;\n\t}\n\tconst existingGetEditWrapperProps = settings.getEditWrapperProps;\n\tsettings.getEditWrapperProps = ( attributes ) => {\n\t\tlet props = {};\n\t\tif ( existingGetEditWrapperProps ) {\n\t\t\tprops = existingGetEditWrapperProps( attributes );\n\t\t}\n\t\treturn addSaveProps( props, settings, attributes );\n\t};\n\n\treturn settings;\n}\n\n/**\n * Inspector control panel containing the color related configuration\n *\n * @param {Object} props\n *\n * @return {WPElement} Color edit element.\n */\nexport function ColorEdit( props ) {\n\tconst { name: blockName, attributes } = props;\n\tconst { colors, gradients } = useSelect( ( select ) => {\n\t\treturn select( 'core/block-editor' ).getSettings();\n\t}, [] );\n\t// Shouldn't be needed but right now the ColorGradientsPanel\n\t// can trigger both onChangeColor and onChangeBackground\n\t// synchronously causing our two callbacks to override changes\n\t// from each other.\n\tconst localAttributes = useRef( attributes );\n\tuseEffect( () => {\n\t\tlocalAttributes.current = attributes;\n\t}, [ attributes ] );\n\n\tif ( ! hasColorSupport( blockName ) ) {\n\t\treturn null;\n\t}\n\n\tconst hasGradient = hasGradientSupport( blockName );\n\n\tconst { style, textColor, backgroundColor, gradient } = attributes;\n\tlet gradientValue;\n\tif ( hasGradient && gradient ) {\n\t\tgradientValue = getGradientValueBySlug( gradients, gradient );\n\t} else if ( hasGradient ) {\n\t\tgradientValue = style?.color?.gradient;\n\t}\n\n\tconst onChangeColor = ( name ) => ( value ) => {\n\t\tconst colorObject = getColorObjectByColorValue( colors, value );\n\t\tconst attributeName = name + 'Color';\n\t\tconst newStyle = {\n\t\t\t...localAttributes.current.style,\n\t\t\tcolor: {\n\t\t\t\t...localAttributes.current?.style?.color,\n\t\t\t\t[ name ]: colorObject?.slug ? undefined : value,\n\t\t\t},\n\t\t};\n\n\t\tconst newNamedColor = colorObject?.slug ? colorObject.slug : undefined;\n\t\tconst newAttributes = {\n\t\t\tstyle: cleanEmptyObject( newStyle ),\n\t\t\t[ attributeName ]: newNamedColor,\n\t\t};\n\n\t\tprops.setAttributes( newAttributes );\n\t\tlocalAttributes.current = {\n\t\t\t...localAttributes.current,\n\t\t\t...newAttributes,\n\t\t};\n\t};\n\n\tconst onChangeGradient = ( value ) => {\n\t\tconst slug = getGradientSlugByValue( gradients, value );\n\t\tlet newAttributes;\n\t\tif ( slug ) {\n\t\t\tconst newStyle = {\n\t\t\t\t...localAttributes.current?.style,\n\t\t\t\tcolor: {\n\t\t\t\t\t...localAttributes.current?.style?.color,\n\t\t\t\t\tgradient: undefined,\n\t\t\t\t},\n\t\t\t};\n\t\t\tnewAttributes = {\n\t\t\t\tstyle: cleanEmptyObject( newStyle ),\n\t\t\t\tgradient: slug,\n\t\t\t};\n\t\t} else {\n\t\t\tconst newStyle = {\n\t\t\t\t...localAttributes.current?.style,\n\t\t\t\tcolor: {\n\t\t\t\t\t...localAttributes.current?.style?.color,\n\t\t\t\t\tgradient: value,\n\t\t\t\t},\n\t\t\t};\n\t\t\tnewAttributes = {\n\t\t\t\tstyle: cleanEmptyObject( newStyle ),\n\t\t\t\tgradient: undefined,\n\t\t\t};\n\t\t}\n\t\tprops.setAttributes( newAttributes );\n\t\tlocalAttributes.current = {\n\t\t\t...localAttributes.current,\n\t\t\t...newAttributes,\n\t\t};\n\t};\n\n\treturn (\n\t\t<ColorPanel\n\t\t\tenableContrastChecking={ ! gradient && ! style?.color?.gradient }\n\t\t\tclientId={ props.clientId }\n\t\t\tsettings={ [\n\t\t\t\t{\n\t\t\t\t\tlabel: __( 'Text Color' ),\n\t\t\t\t\tonColorChange: onChangeColor( 'text' ),\n\t\t\t\t\tcolorValue: getColorObjectByAttributeValues(\n\t\t\t\t\t\tcolors,\n\t\t\t\t\t\ttextColor,\n\t\t\t\t\t\tstyle?.color?.text\n\t\t\t\t\t).color,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: __( 'Background Color' ),\n\t\t\t\t\tonColorChange: onChangeColor( 'background' ),\n\t\t\t\t\tcolorValue: getColorObjectByAttributeValues(\n\t\t\t\t\t\tcolors,\n\t\t\t\t\t\tbackgroundColor,\n\t\t\t\t\t\tstyle?.color?.background\n\t\t\t\t\t).color,\n\t\t\t\t\tgradientValue,\n\t\t\t\t\tonGradientChange: hasGradient\n\t\t\t\t\t\t? onChangeGradient\n\t\t\t\t\t\t: undefined,\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/color/addAttribute',\n\taddAttributes\n);\n\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/color/addSaveProps',\n\taddSaveProps\n);\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/color/addEditProps',\n\taddEditProps\n);\n","/**\n * WordPress dependencies\n */\nimport { hasBlockSupport } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport LineHeightControl from '../components/line-height-control';\nimport { cleanEmptyObject } from './utils';\n\nexport const LINE_HEIGHT_SUPPORT_KEY = '__experimentalLineHeight';\n\n/**\n * Inspector control panel containing the line height related configuration\n *\n * @param {Object} props\n *\n * @return {WPElement} Line height edit element.\n */\nexport function LineHeightEdit( props ) {\n\tconst {\n\t\tname: blockName,\n\t\tattributes: { style },\n\t} = props;\n\n\tif ( ! hasBlockSupport( blockName, LINE_HEIGHT_SUPPORT_KEY ) ) {\n\t\treturn null;\n\t}\n\n\tconst onChange = ( newLineHeightValue ) => {\n\t\tconst newStyle = {\n\t\t\t...style,\n\t\t\ttypography: {\n\t\t\t\t...style?.typography,\n\t\t\t\tlineHeight: newLineHeightValue,\n\t\t\t},\n\t\t};\n\t\tprops.setAttributes( {\n\t\t\tstyle: cleanEmptyObject( newStyle ),\n\t\t} );\n\t};\n\treturn (\n\t\t<LineHeightControl\n\t\t\tvalue={ style?.typography?.lineHeight }\n\t\t\tonChange={ onChange }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { hasBlockSupport } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport TokenList from '@wordpress/token-list';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetFontSize,\n\tgetFontSizeClass,\n\tgetFontSizeObjectByValue,\n\tFontSizePicker,\n} from '../components/font-sizes';\nimport { cleanEmptyObject } from './utils';\n\nexport const FONT_SIZE_SUPPORT_KEY = '__experimentalFontSize';\n\n/**\n * Filters registered block settings, extending attributes to include\n * `fontSize` and `fontWeight` attributes.\n *\n * @param  {Object} settings Original block settings\n * @return {Object}          Filtered block settings\n */\nfunction addAttributes( settings ) {\n\tif ( ! hasBlockSupport( settings, FONT_SIZE_SUPPORT_KEY ) ) {\n\t\treturn settings;\n\t}\n\n\t// Allow blocks to specify a default value if needed.\n\tif ( ! settings.attributes.fontSize ) {\n\t\tObject.assign( settings.attributes, {\n\t\t\tfontSize: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn settings;\n}\n\n/**\n * Override props assigned to save component to inject font size.\n *\n * @param  {Object} props      Additional props applied to save element\n * @param  {Object} blockType  Block type\n * @param  {Object} attributes Block attributes\n * @return {Object}            Filtered props applied to save element\n */\nfunction addSaveProps( props, blockType, attributes ) {\n\tif ( ! hasBlockSupport( blockType, FONT_SIZE_SUPPORT_KEY ) ) {\n\t\treturn props;\n\t}\n\n\t// Use TokenList to dedupe classes.\n\tconst classes = new TokenList( props.className );\n\tclasses.add( getFontSizeClass( attributes.fontSize ) );\n\tconst newClassName = classes.value;\n\tprops.className = newClassName ? newClassName : undefined;\n\n\treturn props;\n}\n\n/**\n * Filters registered block settings to expand the block edit wrapper\n * by applying the desired styles and classnames.\n *\n * @param  {Object} settings Original block settings\n * @return {Object}          Filtered block settings\n */\nfunction addEditProps( settings ) {\n\tif ( ! hasBlockSupport( settings, FONT_SIZE_SUPPORT_KEY ) ) {\n\t\treturn settings;\n\t}\n\n\tconst existingGetEditWrapperProps = settings.getEditWrapperProps;\n\tsettings.getEditWrapperProps = ( attributes ) => {\n\t\tlet props = {};\n\t\tif ( existingGetEditWrapperProps ) {\n\t\t\tprops = existingGetEditWrapperProps( attributes );\n\t\t}\n\t\treturn addSaveProps( props, settings, attributes );\n\t};\n\n\treturn settings;\n}\n\n/**\n * Inspector control panel containing the font size related configuration\n *\n * @param {Object} props\n *\n * @return {WPElement} Font size edit element.\n */\nexport function FontSizeEdit( props ) {\n\tconst {\n\t\tname: blockName,\n\t\tattributes: { fontSize, style },\n\t\tsetAttributes,\n\t} = props;\n\n\tconst { fontSizes } = useSelect( ( select ) =>\n\t\tselect( 'core/block-editor' ).getSettings()\n\t);\n\n\tif ( ! hasBlockSupport( blockName, FONT_SIZE_SUPPORT_KEY ) ) {\n\t\treturn null;\n\t}\n\n\tconst fontSizeObject = getFontSize(\n\t\tfontSizes,\n\t\tfontSize,\n\t\tstyle?.typography?.fontSize\n\t);\n\tconst onChange = ( value ) => {\n\t\tconst fontSizeSlug = getFontSizeObjectByValue( fontSizes, value ).slug;\n\n\t\tsetAttributes( {\n\t\t\tstyle: cleanEmptyObject( {\n\t\t\t\t...style,\n\t\t\t\ttypography: {\n\t\t\t\t\t...style?.typography,\n\t\t\t\t\tfontSize: fontSizeSlug ? undefined : value,\n\t\t\t\t},\n\t\t\t} ),\n\t\t\tfontSize: fontSizeSlug,\n\t\t} );\n\t};\n\n\treturn (\n\t\t<FontSizePicker value={ fontSizeObject.size } onChange={ onChange } />\n\t);\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/font/addAttribute',\n\taddAttributes\n);\n\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/font/addSaveProps',\n\taddSaveProps\n);\n\naddFilter( 'blocks.registerBlockType', 'core/font/addEditProps', addEditProps );\n","/**\n * External dependencies\n */\nimport { has, get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { hasBlockSupport } from '@wordpress/blocks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { Platform } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport InspectorControls from '../components/inspector-controls';\nimport { COLOR_SUPPORT_KEY, ColorEdit } from './color';\nimport { LINE_HEIGHT_SUPPORT_KEY, LineHeightEdit } from './line-height';\nimport { FONT_SIZE_SUPPORT_KEY, FontSizeEdit } from './font-size';\n\nconst styleSupportKeys = [\n\tCOLOR_SUPPORT_KEY,\n\tLINE_HEIGHT_SUPPORT_KEY,\n\tFONT_SIZE_SUPPORT_KEY,\n];\n\nconst typographySupportKeys = [\n\tLINE_HEIGHT_SUPPORT_KEY,\n\tFONT_SIZE_SUPPORT_KEY,\n];\n\nconst hasStyleSupport = ( blockType ) =>\n\tstyleSupportKeys.some( ( key ) => hasBlockSupport( blockType, key ) );\n\n/**\n * Returns the inline styles to add depending on the style object\n *\n * @param  {Object} styles Styles configuration\n * @return {Object}        Flattened CSS variables declaration\n */\nexport function getInlineStyles( styles = {} ) {\n\tconst mappings = {\n\t\tlineHeight: [ 'typography', 'lineHeight' ],\n\t\tfontSize: [ 'typography', 'fontSize' ],\n\t\tbackground: [ 'color', 'gradient' ],\n\t\tbackgroundColor: [ 'color', 'background' ],\n\t\tcolor: [ 'color', 'text' ],\n\t};\n\n\tconst output = {};\n\tObject.entries( mappings ).forEach( ( [ styleKey, objectKey ] ) => {\n\t\tif ( has( styles, objectKey ) ) {\n\t\t\toutput[ styleKey ] = get( styles, objectKey );\n\t\t}\n\t} );\n\n\treturn output;\n}\n\n/**\n * Filters registered block settings, extending attributes to include `style` attribute.\n *\n * @param  {Object} settings Original block settings\n * @return {Object}          Filtered block settings\n */\nfunction addAttribute( settings ) {\n\tif ( ! hasStyleSupport( settings ) ) {\n\t\treturn settings;\n\t}\n\n\t// allow blocks to specify their own attribute definition with default values if needed.\n\tif ( ! settings.attributes.style ) {\n\t\tObject.assign( settings.attributes, {\n\t\t\tstyle: {\n\t\t\t\ttype: 'object',\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn settings;\n}\n\n/**\n * Override props assigned to save component to inject the CSS variables definition.\n *\n * @param  {Object} props      Additional props applied to save element\n * @param  {Object} blockType  Block type\n * @param  {Object} attributes Block attributes\n * @return {Object}            Filtered props applied to save element\n */\nexport function addSaveProps( props, blockType, attributes ) {\n\tif ( ! hasStyleSupport( blockType ) ) {\n\t\treturn props;\n\t}\n\n\tconst { style } = attributes;\n\tprops.style = {\n\t\t...getInlineStyles( style ),\n\t\t...props.style,\n\t};\n\n\treturn props;\n}\n\n/**\n * Filters registered block settings to extand the block edit wrapper\n * to apply the desired styles and classnames properly.\n *\n * @param  {Object} settings Original block settings\n * @return {Object}          Filtered block settings\n */\nexport function addEditProps( settings ) {\n\tif ( ! hasStyleSupport( settings ) ) {\n\t\treturn settings;\n\t}\n\n\tconst existingGetEditWrapperProps = settings.getEditWrapperProps;\n\tsettings.getEditWrapperProps = ( attributes ) => {\n\t\tlet props = {};\n\t\tif ( existingGetEditWrapperProps ) {\n\t\t\tprops = existingGetEditWrapperProps( attributes );\n\t\t}\n\n\t\treturn addSaveProps( props, settings, attributes );\n\t};\n\n\treturn settings;\n}\n\n/**\n * Override the default edit UI to include new inspector controls for\n * all the custom styles configs.\n *\n * @param  {Function} BlockEdit Original component\n * @return {Function}           Wrapped component\n */\nexport const withBlockControls = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst { name: blockName } = props;\n\t\tconst hasTypographySupport = typographySupportKeys.some( ( key ) =>\n\t\t\thasBlockSupport( blockName, key )\n\t\t);\n\n\t\treturn [\n\t\t\tPlatform.OS === 'web' && hasTypographySupport && (\n\t\t\t\t<InspectorControls key=\"typography\">\n\t\t\t\t\t<PanelBody title={ __( 'Typography' ) }>\n\t\t\t\t\t\t<FontSizeEdit { ...props } />\n\t\t\t\t\t\t<LineHeightEdit { ...props } />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t),\n\t\t\t<ColorEdit key=\"colors\" { ...props } />,\n\t\t\t<BlockEdit key=\"edit\" { ...props } />,\n\t\t];\n\t},\n\t'withToolbarControls'\n);\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/style/addAttribute',\n\taddAttribute\n);\n\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'core/style/addSaveProps',\n\taddSaveProps\n);\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/style/addEditProps',\n\taddEditProps\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/style/with-block-controls',\n\twithBlockControls\n);\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanel,\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tTextControl,\n\tColorPicker,\n\tSelectControl,\n\tToolbar,\n\t__experimentalNumberControl as NumberControl,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\nimport { RichText } from \"@wordpress/block-editor\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nimport { getIntVal } from \"../functions/helper-functions\";\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function HeaderText({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Header text\", \"wp-html-mail\");\n\tconst elementName = \"headertext\";\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody title={__(\"Color\", \"wp-html-mail\")} initialOpen={false}>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.headercolor}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headercolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody title={__(\"Font\", \"wp-html-mail\")} initialOpen={false}>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.headerfont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerfont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<NumberControl\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerfontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerfontsize)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.headeralign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeralign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive: settings.headeralign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeralign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.headeralign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeralign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.headerbold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerbold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headerbold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.headeritalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeritalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headeritalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.headertexttransform ===\n\t\t\t\t\t\t\t\t\t\"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headertexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.headertexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\treturn (\n\t\t<EditableElement\n\t\t\telementTitle={elementTitle}\n\t\t\telementName={elementName}\n\t\t\tframeSize=\"s\"\n\t\t\thandleAlign=\"right\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={elementName}\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: settings.headercolor,\n\t\t\t\t\ttextAlign: settings.headeralign,\n\t\t\t\t\tfontSize: getIntVal(settings.headerfontsize),\n\t\t\t\t\tfontFamily: settings.headerfont,\n\t\t\t\t\tfontStyle:\n\t\t\t\t\t\tgetIntVal(settings.headeritalic) === 1\n\t\t\t\t\t\t\t? \"italic\"\n\t\t\t\t\t\t\t: \"normal\",\n\t\t\t\t\tfontWeight:\n\t\t\t\t\t\tgetIntVal(settings.headerbold) === 1\n\t\t\t\t\t\t\t? \"bold\"\n\t\t\t\t\t\t\t: \"normal\",\n\t\t\t\t\ttextTransform: settings.headertexttransform,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\tvalue={settings.headertext}\n\t\t\t\t\tallowedFormats={[]}\n\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\"headertext\",\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tplaceholder={__(\"Header text\", \"wp-html-mail\")}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { Resizable } from 're-resizable';\n\nfunction ResizableBox( { className, showHandle = false, ...props } ) {\n\t// Removes the inline styles in the drag handles.\n\tconst handleStylesOverrides = {\n\t\twidth: null,\n\t\theight: null,\n\t\ttop: null,\n\t\tright: null,\n\t\tbottom: null,\n\t\tleft: null,\n\t};\n\n\tconst handleClassName = 'components-resizable-box__handle';\n\tconst sideHandleClassName = 'components-resizable-box__side-handle';\n\tconst cornerHandleClassName = 'components-resizable-box__corner-handle';\n\n\treturn (\n\t\t<Resizable\n\t\t\tclassName={ classnames(\n\t\t\t\t'components-resizable-box__container',\n\t\t\t\tshowHandle && 'has-show-handle',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\thandleClasses={ {\n\t\t\t\ttop: classnames(\n\t\t\t\t\thandleClassName,\n\t\t\t\t\tsideHandleClassName,\n\t\t\t\t\t'components-resizable-box__handle-top'\n\t\t\t\t),\n\t\t\t\tright: classnames(\n\t\t\t\t\thandleClassName,\n\t\t\t\t\tsideHandleClassName,\n\t\t\t\t\t'components-resizable-box__handle-right'\n\t\t\t\t),\n\t\t\t\tbottom: classnames(\n\t\t\t\t\thandleClassName,\n\t\t\t\t\tsideHandleClassName,\n\t\t\t\t\t'components-resizable-box__handle-bottom'\n\t\t\t\t),\n\t\t\t\tleft: classnames(\n\t\t\t\t\thandleClassName,\n\t\t\t\t\tsideHandleClassName,\n\t\t\t\t\t'components-resizable-box__handle-left'\n\t\t\t\t),\n\t\t\t\ttopLeft: classnames(\n\t\t\t\t\thandleClassName,\n\t\t\t\t\tcornerHandleClassName,\n\t\t\t\t\t'components-resizable-box__handle-top',\n\t\t\t\t\t'components-resizable-box__handle-left'\n\t\t\t\t),\n\t\t\t\ttopRight: classnames(\n\t\t\t\t\thandleClassName,\n\t\t\t\t\tcornerHandleClassName,\n\t\t\t\t\t'components-resizable-box__handle-top',\n\t\t\t\t\t'components-resizable-box__handle-right'\n\t\t\t\t),\n\t\t\t\tbottomRight: classnames(\n\t\t\t\t\thandleClassName,\n\t\t\t\t\tcornerHandleClassName,\n\t\t\t\t\t'components-resizable-box__handle-bottom',\n\t\t\t\t\t'components-resizable-box__handle-right'\n\t\t\t\t),\n\t\t\t\tbottomLeft: classnames(\n\t\t\t\t\thandleClassName,\n\t\t\t\t\tcornerHandleClassName,\n\t\t\t\t\t'components-resizable-box__handle-bottom',\n\t\t\t\t\t'components-resizable-box__handle-left'\n\t\t\t\t),\n\t\t\t} }\n\t\t\thandleStyles={ {\n\t\t\t\ttop: handleStylesOverrides,\n\t\t\t\tright: handleStylesOverrides,\n\t\t\t\tbottom: handleStylesOverrides,\n\t\t\t\tleft: handleStylesOverrides,\n\t\t\t\ttopLeft: handleStylesOverrides,\n\t\t\t\ttopRight: handleStylesOverrides,\n\t\t\t\tbottomRight: handleStylesOverrides,\n\t\t\t\tbottomLeft: handleStylesOverrides,\n\t\t\t} }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n\nexport default ResizableBox;\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanel,\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tTextControl,\n\tButton,\n\tToolbar,\n\tResizableBox,\n\t__experimentalNumberControl as NumberControl,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { arrowUp } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nimport { getIntVal } from \"../functions/helper-functions\";\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function HeaderImage({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Header image\", \"wp-html-mail\");\n\tconst elementName = \"headerimage\";\n\tconst [fileFrame, setFileFrame] = useState();\n\tconst instructions = (\n\t\t<p>{__(\"Select you logo or header image\", \"wp-html-mail\")}</p>\n\t);\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody title={__(\"Image\", \"wp-html-mail\")} initialOpen={true}>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName={\"editor-post-featured-image__toggle\"}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tsettings.headerimg\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tbackgroundImage:\n\t\t\t\t\t\t\t\t\t\t\t\"url(\" + settings.headerimg + \")\",\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t// If the media frame already exists, reopen it.\n\t\t\t\t\t\t\tif (fileFrame) {\n\t\t\t\t\t\t\t\tfileFrame.open();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Create the media frame.\n\t\t\t\t\t\t\tconst file_frame = (wp.media.frames.file_frame = wp.media(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmultiple: false, // Set to true to allow multiple files to be selected\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t// When an image is selected, run a callback.\n\t\t\t\t\t\t\tfile_frame.on(\"select\", function () {\n\t\t\t\t\t\t\t\t// We set multiple to false so only get one image from the uploader\n\t\t\t\t\t\t\t\tconst attachment = file_frame\n\t\t\t\t\t\t\t\t\t.state()\n\t\t\t\t\t\t\t\t\t.get(\"selection\")\n\t\t\t\t\t\t\t\t\t.first()\n\t\t\t\t\t\t\t\t\t.toJSON();\n\n\t\t\t\t\t\t\t\tconst height =\n\t\t\t\t\t\t\t\t\tattachment.width > 600\n\t\t\t\t\t\t\t\t\t\t? Math.round(\n\t\t\t\t\t\t\t\t\t\t\t\t(attachment.height /\n\t\t\t\t\t\t\t\t\t\t\t\t\tattachment.width) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t600\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: attachment.height;\n\t\t\t\t\t\t\t\tconst width =\n\t\t\t\t\t\t\t\t\tattachment.width > 600\n\t\t\t\t\t\t\t\t\t\t? 600\n\t\t\t\t\t\t\t\t\t\t: attachment.width;\n\t\t\t\t\t\t\t\ttemplateDesignerContext.setSettings({\n\t\t\t\t\t\t\t\t\t...settings,\n\t\t\t\t\t\t\t\t\theaderimg: attachment.url,\n\t\t\t\t\t\t\t\t\theaderimg_width: width,\n\t\t\t\t\t\t\t\t\theaderimg_height: height,\n\t\t\t\t\t\t\t\t\theaderimg_alt: attachment.alt,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// Finally, open the modal\n\t\t\t\t\t\t\tfile_frame.open();\n\t\t\t\t\t\t\tsetFileFrame(file_frame);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{__(\"Select image\", \"wp-html-mail\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tname=\"headerimg\"\n\t\t\t\t\t\tvalue={settings.headerimg}\n\t\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\t\"You can use this field to add an external image url.\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headertext\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Size & Align\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<NumberControl\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerimg_width\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerimg_width)}\n\t\t\t\t\t\tstyle={{ width: 70 }}\n\t\t\t\t\t/>\n\t\t\t\t\t<NumberControl\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerimg_height\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerimg_height)}\n\t\t\t\t\t\tstyle={{ width: 70 }}\n\t\t\t\t\t/>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"align-left\",\n\t\t\t\t\t\t\t\tisActive: settings.headerimg_align === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerimg_align\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"align-center\",\n\t\t\t\t\t\t\t\tisActive: settings.headerimg_align === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerimg_align\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"align-right\",\n\t\t\t\t\t\t\t\tisActive: settings.headerimg_align === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerimg_align\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t{(settings.headerimg_placement === \"above_text\" ||\n\t\t\t\t\tsettings.headerimg_placement === \"below_text\") && (\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t\"Spacing between image and text\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tbeforeIcon={\"sort\"}\n\t\t\t\t\t\t\tvalue={getIntVal(settings.header_spacer, 10)}\n\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\"header_spacer\",\n\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t)}\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\"If you would like to provide the header image in retina quality, upload an image with a higher resultion, such as for example 1200px x 400px and enter only half the size values in the input fields on the left (600 x 200).\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</p>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\treturn (\n\t\t<EditableElement\n\t\t\telementTitle={elementTitle}\n\t\t\telementName={elementName}\n\t\t\tframeSize=\"s\"\n\t\t\thandleAlign=\"right\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={elementName}\n\t\t\t\tstyle={{\n\t\t\t\t\ttextAlign: settings.headerimg_align,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{settings.headerimg ? (\n\t\t\t\t\t<ResizableBox\n\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\theight: parseInt(settings.headerimg_height),\n\t\t\t\t\t\t\twidth: parseInt(settings.headerimg_width),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlockAspectRatio={\n\t\t\t\t\t\t\tparseInt(settings.headerimg_width) /\n\t\t\t\t\t\t\tparseInt(settings.headerimg_height)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tminHeight=\"20\"\n\t\t\t\t\t\tminWidth=\"50\"\n\t\t\t\t\t\tshowHandle={\n\t\t\t\t\t\t\ttemplateDesignerContext.editingElement ===\n\t\t\t\t\t\t\telementName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"below_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t\tmarginBottom:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"above_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tenable={{\n\t\t\t\t\t\t\ttop: false,\n\t\t\t\t\t\t\tright: false,\n\t\t\t\t\t\t\tbottom: false,\n\t\t\t\t\t\t\tleft: false,\n\t\t\t\t\t\t\ttopRight: true,\n\t\t\t\t\t\t\tbottomRight: true,\n\t\t\t\t\t\t\tbottomLeft: true,\n\t\t\t\t\t\t\ttopLeft: true,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonResizeStop={(event, direction, elt, delta) => {\n\t\t\t\t\t\t\tconsole.log(settings.headerimg_width, delta.width);\n\t\t\t\t\t\t\ttemplateDesignerContext.setSettings({\n\t\t\t\t\t\t\t\t...settings,\n\t\t\t\t\t\t\t\theaderimg_width:\n\t\t\t\t\t\t\t\t\tparseInt(settings.headerimg_width) +\n\t\t\t\t\t\t\t\t\tdelta.width,\n\t\t\t\t\t\t\t\theaderimg_height:\n\t\t\t\t\t\t\t\t\tparseInt(settings.headerimg_height) +\n\t\t\t\t\t\t\t\t\tdelta.height,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src={settings.headerimg} />\n\t\t\t\t\t</ResizableBox>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"header-image-placeholder\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: settings.headerimg_width\n\t\t\t\t\t\t\t\t? settings.headerimg_width + \"px\"\n\t\t\t\t\t\t\t\t: \"600px\",\n\t\t\t\t\t\t\theight: settings.headerimg_height\n\t\t\t\t\t\t\t\t? settings.headerimg_height + \"px\"\n\t\t\t\t\t\t\t\t: \"200px\",\n\t\t\t\t\t\t\tmarginTop:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"below_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t\tmarginBottom:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"above_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tRadioControl,\n\tColorPicker,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { arrowUp, arrowLeft, arrowRight, arrowDown } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\nimport { getIntVal } from \"../functions/helper-functions\";\n\nimport EditableElement from \"./EditableElement.js\";\nimport HeaderText from \"./HeaderText.js\";\nimport HeaderImage from \"./HeaderImage.js\";\n\nexport default function MailHeader({}) {\n\tconst [rerenderKey, setRerenderKey] = useState(1);\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Email header\", \"wp-html-mail\");\n\tconst elementName = \"header\";\n\n\tlet headerimg_placement = settings.headerimg_placement;\n\tif (!headerimg_placement) {\n\t\tif (settings.headerimg) headerimg_placement = \"replace_text\";\n\t\telse headerimg_placement = \"just_text\";\n\t}\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Image and text placement\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={true}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RadioControl\n\t\t\t\t\t\tselected={headerimg_placement}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"just_text\",\n\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\"Show just a text header\",\n\t\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"replace_text\",\n\t\t\t\t\t\t\t\tlabel: __(\"Show image only\", \"wp-html-mail\"),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"above_text\",\n\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\"Show image above text\",\n\t\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"below_text\",\n\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\"Show image below text\",\n\t\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\tconsole.log(value, settings.headerimg_placement);\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerimg_placement\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.headerbackground}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerbackground\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Padding\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowDown}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingtop, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingtop\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowLeft}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingright, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingright\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowUp}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingbottom, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingbottom\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowRight}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingleft, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingleft\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tconst forceRerender = () => {\n\t\tsetRerenderKey(\n\t\t\tMath.random()\n\t\t\t\t.toString(36)\n\t\t\t\t.replace(/[^a-z]+/g, \"\")\n\t\t\t\t.substr(0, 5)\n\t\t);\n\t};\n\n\treturn (\n\t\t<EditableElement\n\t\t\telementTitle={elementTitle}\n\t\t\telementName={elementName}\n\t\t\tkey={rerenderKey}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"mail-header\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: settings.headerbackground,\n\t\t\t\t\tpaddingTop: getIntVal(settings.headerpaddingtop),\n\t\t\t\t\tpaddingRight: getIntVal(settings.headerpaddingright),\n\t\t\t\t\tpaddingBottom: getIntVal(settings.headerpaddingbottom),\n\t\t\t\t\tpaddingLeft: getIntVal(settings.headerpaddingleft),\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{headerimg_placement === \"replace_text\" && <HeaderImage />}\n\t\t\t\t{headerimg_placement === \"above_text\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<HeaderImage />\n\t\t\t\t\t\t<HeaderText />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{headerimg_placement === \"below_text\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<HeaderText />\n\t\t\t\t\t\t<HeaderImage />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{headerimg_placement === \"just_text\" && <HeaderText />}\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tSelectControl,\n\tColorPicker,\n\tToolbar,\n\t__experimentalNumberControl as NumberControl,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { arrowUp, arrowLeft, arrowRight, arrowDown } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\nimport { getIntVal } from \"../functions/helper-functions\";\n\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function MailContent({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Email content\", \"wp-html-mail\");\n\tconst elementName = \"content\";\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.contentbackground}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"contentbackground\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Headline Font\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.headlinecolor}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headlinecolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.headlinefont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headlinefont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<NumberControl\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headlinefontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headlinefontsize)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.headlinealign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive: settings.headlinealign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.headlinealign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlinebold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinebold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlinebold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlineitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlineitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlineitalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.headlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinetexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.headlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Subheadline Font\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.subheadlinecolor}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"subheadlinecolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.subheadlinefont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"subheadlinefont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<NumberControl\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"subheadlinefontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.subheadlinefontsize)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.subheadlinealign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.subheadlinealign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.subheadlinealign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.subheadlinebold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinebold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.subheadlinebold) ===\n\t\t\t\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.subheadlineitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlineitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(\n\t\t\t\t\t\t\t\t\t\t\tsettings.subheadlineitalic\n\t\t\t\t\t\t\t\t\t\t) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.subheadlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinetexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.subheadlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Content Font\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.textcolor}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"textcolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.textfont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"textfont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<NumberControl\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"textfontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.textfontsize)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.textalign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textalign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive: settings.textalign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textalign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.textalign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textalign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.textbold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textbold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.textbold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.textitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.textitalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Link styling\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.linkcolor}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"linkcolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.linkbold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linkbold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkbold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.linkitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linkitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkitalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-underline\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkunderline) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linkunderline\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkunderline) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.linktexttransform === \"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linktexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.linktexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tconst h1Styles = {\n\t\tfontSize: getIntVal(settings.headlinefontsize),\n\t\tfontFamily: settings.headlinefont,\n\t\tfontStyle:\n\t\t\tgetIntVal(settings.headlineitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight: getIntVal(settings.headlinebold) === 1 ? \"bold\" : \"normal\",\n\t\ttextTransform: settings.headlinetexttransform,\n\t\tcolor: settings.headlinecolor,\n\t\ttextAlign: settings.headlinealign,\n\t\tlineHeight: 1.5,\n\t\tmarginTop: \"0.67em\",\n\t\tmarginBottom: \"0.67em\",\n\t};\n\n\tconst h2Styles = {\n\t\tfontSize: getIntVal(settings.subheadlinefontsize),\n\t\tfontFamily: settings.subheadlinefont,\n\t\tfontStyle:\n\t\t\tgetIntVal(settings.subheadlineitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight:\n\t\t\tgetIntVal(settings.subheadlinebold) === 1 ? \"bold\" : \"normal\",\n\t\ttextTransform: settings.subheadlinetexttransform,\n\t\tcolor: settings.subheadlinecolor,\n\t\ttextAlign: settings.subheadlinealign,\n\t\tlineHeight: 1.5,\n\t\tmarginTop: \"0.83em\",\n\t\tmarginBottom: \"0.83em\",\n\t};\n\n\tconst pStyles = {\n\t\tfontSize: getIntVal(settings.textfontsize),\n\t\tfontFamily: settings.textfont,\n\t\tfontStyle: getIntVal(settings.textitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight: getIntVal(settings.textbold) === 1 ? \"bold\" : \"normal\",\n\t\tcolor: settings.textcolor,\n\t\ttextAlign: settings.textalign,\n\t\tlineHeight: 1.5,\n\t\tmarginTop: \"0.83em\",\n\t\tmarginBottom: \"0.83em\",\n\t};\n\n\tconst aStyles = {\n\t\tfontStyle: getIntVal(settings.linkitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight: getIntVal(settings.linkbold) === 1 ? \"bold\" : \"normal\",\n\t\ttextDecoration:\n\t\t\tgetIntVal(settings.linkunderline) === 1 ? \"underline\" : \"none\",\n\t\ttextTransform: settings.linktexttransform,\n\t\tcolor: settings.linkcolor,\n\t};\n\n\treturn (\n\t\t<EditableElement elementTitle={elementTitle} elementName={elementName}>\n\t\t\t<div\n\t\t\t\tclassName=\"mail-content clearfix\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: settings.contentbackground,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<h1 style={h1Styles}>Lorem ipsum dolor sit amet</h1>\n\t\t\t\t<p style={pStyles}>\n\t\t\t\t\tLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed{\" \"}\n\t\t\t\t\t<a href=\"#\" style={aStyles}>\n\t\t\t\t\t\tdiam nonumy\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\teirmod tempor invidunt ut labore et dolore magna aliquyam\n\t\t\t\t\terat, sed diam voluptua. At vero eos et accusam et justo duo\n\t\t\t\t\tdolores et ea rebum.\n\t\t\t\t\t<br />\n\t\t\t\t\tStet clita kasd gubergren, no sea takimata sanctus est Lorem\n\t\t\t\t\tipsum dolor sit amet.\n\t\t\t\t</p>\n\t\t\t\t<h2 style={h2Styles}>Sed diam nonumy eirmod tempor</h2>\n\t\t\t\t<p style={pStyles}>\n\t\t\t\t\tLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed\n\t\t\t\t\tdiam nonumy eirmod tempor invidunt ut labore et dolore magna\n\t\t\t\t\taliquyam erat, sed diam voluptua.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tRadioControl,\n\tColorPicker,\n} from \"@wordpress/components\";\nimport { RichText } from \"@wordpress/block-editor\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { arrowUp, arrowLeft, arrowRight, arrowDown } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\nimport { getIntVal } from \"../functions/helper-functions\";\n\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function MailFooter({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst [editor, setEditor] = useState(false);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Email footer\", \"wp-html-mail\");\n\tconst elementName = \"footer\";\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.footerbackground}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"footerbackground\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t{/* <PanelBody\n\t\t\t\ttitle={__(\"Padding\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowDown}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingtop, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingtop\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowLeft}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingright, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingright\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowUp}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingbottom, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingbottom\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowRight}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingleft, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingleft\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody> */}\n\t\t</React.Fragment>\n\t);\n\n\tconst onEditorSetup = (newEditor) => {\n\t\tsetEditor(newEditor);\n\t\tif (settings.footer) {\n\t\t\tnewEditor.on(\"loadContent\", () =>\n\t\t\t\tnewEditor.setContent(settings.footer)\n\t\t\t);\n\t\t}\n\n\t\tnewEditor.on(\"blur\", () => {\n\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\"footer\",\n\t\t\t\tnewEditor.getContent()\n\t\t\t);\n\n\t\t\treturn false;\n\t\t});\n\n\t\t// editor.on(\"mousedown touchstart\", () => {\n\t\t// \tbookmark = null;\n\t\t// });\n\n\t\t// editor.on(\"init\", () => {\n\t\t// \tconst rootNode = editor.getBody();\n\n\t\t// \t// Create the toolbar by refocussing the editor.\n\t\t// \tif (document.activeElement === rootNode) {\n\t\t// \t\trootNode.blur();\n\t\t// \t\tthis.editor.focus();\n\t\t// \t}\n\t\t// });\n\t};\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tlet availableFonts = \"\";\n\t\t\t\twindow.mailTemplateDesigner.fonts.forEach((font) => {\n\t\t\t\t\tavailableFonts += font.label + \"=\" + font.value + \";\";\n\t\t\t\t});\n\t\t\t\twp.oldEditor.initialize(\"footer-html\", {\n\t\t\t\t\ttinymce: {\n\t\t\t\t\t\tinline: true,\n\t\t\t\t\t\tcontent_css: false,\n\t\t\t\t\t\tfixed_toolbar_container: \"footer-editor-toolbar\",\n\t\t\t\t\t\ttoolbar1: \"fontselect,fontsizeselect,|,undo,redo\",\n\t\t\t\t\t\ttoolbar2:\n\t\t\t\t\t\t\t\"forecolor,|,bold,italic,|,alignleft,aligncenter,alignright,|,pastetext,|,link,unlink\",\n\t\t\t\t\t\tfont_formats: availableFonts,\n\t\t\t\t\t\tfontsize_formats:\n\t\t\t\t\t\t\t\"10px 11px 12px 13px 14px 15px 16px 17px 18px 20px 22px 24px 26px 28px 30px 35px 40px\",\n\t\t\t\t\t\tsetup: onEditorSetup,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}, 1000);\n\t\t} else {\n\t\t\twp.oldEditor.remove(\"footer-html\");\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\treturn (\n\t\t<EditableElement elementTitle={elementTitle} elementName={elementName}>\n\t\t\t<div\n\t\t\t\tclassName=\"mail-footer\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: settings.footerbackground,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"toolbar\"\n\t\t\t\t\tid=\"footer-editor-toolbar\"\n\t\t\t\t\t//ref={(ref) => (this.ref = ref)}\n\t\t\t\t\tclassName=\"block-library-classic__toolbar\"\n\t\t\t\t\t//onClick={this.focus}\n\t\t\t\t\tdata-placeholder={__(\"Classic\")}\n\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t// Prevent WritingFlow from kicking in and allow arrows navigation on the toolbar.\n\t\t\t\t\t\telementName.stopPropagation();\n\t\t\t\t\t\t// Prevent Mousetrap from moving focus to the top toolbar when pressing `alt+f10` on this block toolbar.\n\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"editor\"\n\t\t\t\t\tid=\"footer-html\"\n\t\t\t\t\tclassName=\"wp-block-freeform block-library-rich-text__tinymce\"\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: settings.footer,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tButton,\n\tPanelBody,\n\tPanelRow,\n\tColorPicker,\n\tSpinner,\n\tNotice,\n\tAnimate,\n} from \"@wordpress/components\";\nimport { __ } from \"@wordpress/i18n\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nimport OptionsPanel from \"./OptionsPanel\";\nimport MailHeader from \"./MailHeader\";\nimport MailContent from \"./MailContent\";\nimport MailFooter from \"./MailFooter\";\nimport EditableElement from \"./EditableElement\";\n\nexport default function MailTemplate() {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst [isSaving, setIsSaving] = useState(false);\n\tconst [showSaveSuccess, setShowSaveSuccess] = useState(false);\n\tconst elementTitle = __(\"Email Container\", \"wp-html-mail\");\n\tconst elementName = \"container\";\n\tconst options = (\n\t\t<PanelBody\n\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\tinitialOpen={true}\n\t\t>\n\t\t\t<PanelRow>\n\t\t\t\t<ColorPicker\n\t\t\t\t\tcolor={settings.background}\n\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\"background\",\n\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t\tdisableAlpha\n\t\t\t\t/>\n\t\t\t</PanelRow>\n\t\t</PanelBody>\n\t);\n\n\tconst loadSettings = () => {\n\t\tfetch(window.mailTemplateDesigner.restUrl + \"themesettings\")\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((data) => {\n\t\t\t\ttemplateDesignerContext.setSettings(data);\n\t\t\t\ttemplateDesignerContext.setIsLoading(false);\n\t\t\t});\n\t};\n\n\tconst saveSettings = () => {\n\t\tsetIsSaving(true);\n\t\tvar request = new Request(\n\t\t\twindow.mailTemplateDesigner.restUrl + \"themesettings\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(settings),\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t}\n\t\t);\n\t\tfetch(request)\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((data) => {\n\t\t\t\tsetIsSaving(false);\n\t\t\t\tsetShowSaveSuccess(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetShowSaveSuccess(false);\n\t\t\t\t}, 4000);\n\t\t\t\tif (data.preview) {\n\t\t\t\t\thaet_mail.previewMail(data.preview);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tloadSettings();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tif (templateDesignerContext.isLoading || !templateDesignerContext.settings)\n\t\treturn (\n\t\t\t<div className=\"mail-loader\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t);\n\telse\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"mail-container\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: settings.background,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{showSaveSuccess && (\n\t\t\t\t\t\t<Notice status=\"success\" isDismissible={false}>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\t\"Your settings have been saved. Check the preview of your email at the bottom of the page.\",\n\t\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</Notice>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div className=\"save-button-pane components-panel__header\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\twindow.mailTemplateDesigner.templateLibraryUrl\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstyle={{ marginRight: 10 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__(\"Browse our template library\", \"wp-html-mail\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\tisBusy={isSaving}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsaveSettings();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__(\"Save and Preview\", \"wp-html-mail\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<EditableElement\n\t\t\t\t\t\telementTitle={elementTitle}\n\t\t\t\t\t\telementName={elementName}\n\t\t\t\t\t\tframeSize=\"xs\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"mail-content-wrap\">\n\t\t\t\t\t\t\t<MailHeader />\n\t\t\t\t\t\t\t<MailContent />\n\t\t\t\t\t\t\t<MailFooter />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</EditableElement>\n\t\t\t\t</div>\n\t\t\t\t<OptionsPanel />\n\t\t\t</React.Fragment>\n\t\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport MailTemplate from \"../components/MailTemplate\";\n\nimport TemplateDesignerContextProvider from \"../contexts/TemplateDesignerContext\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tReactDOM.render(\n\t\t<TemplateDesignerContextProvider>\n\t\t\t<MailTemplate />\n\t\t</TemplateDesignerContextProvider>,\n\t\tdocument.getElementById(\"wp-html-mail-template-designer\")\n\t);\n});\n","import { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport '../Box/Box.js';\nimport { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-959e870d.js';\nimport { useState, useCallback } from 'react';\nimport 'reakit-utils/useForkRef';\nimport { isButton } from 'reakit-utils/isButton';\nimport 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport 'reakit-utils/tabbable';\nimport 'reakit-utils/hasFocusWithin';\nimport { useTabbable } from '../Tabbable/Tabbable.js';\n\nfunction isNativeClick(event) {\n  var self = event.currentTarget;\n  if (!event.isTrusted) return false; // istanbul ignore next: can't test trusted events yet\n\n  return isButton(self) || self.tagName === \"INPUT\" || self.tagName === \"TEXTAREA\" || self.tagName === \"A\" || self.tagName === \"SELECT\";\n}\n\nvar useClickable = createHook({\n  name: \"Clickable\",\n  compose: useTabbable,\n  keys: [\"unstable_clickOnEnter\", \"unstable_clickOnSpace\"],\n  useOptions: function useOptions(_ref) {\n    var _ref$unstable_clickOn = _ref.unstable_clickOnEnter,\n        unstable_clickOnEnter = _ref$unstable_clickOn === void 0 ? true : _ref$unstable_clickOn,\n        _ref$unstable_clickOn2 = _ref.unstable_clickOnSpace,\n        unstable_clickOnSpace = _ref$unstable_clickOn2 === void 0 ? true : _ref$unstable_clickOn2,\n        options = _objectWithoutPropertiesLoose(_ref, [\"unstable_clickOnEnter\", \"unstable_clickOnSpace\"]);\n\n    return _objectSpread2({\n      unstable_clickOnEnter: unstable_clickOnEnter,\n      unstable_clickOnSpace: unstable_clickOnSpace\n    }, options);\n  },\n  useProps: function useProps(options, _ref2) {\n    var htmlOnKeyDown = _ref2.onKeyDown,\n        htmlOnKeyUp = _ref2.onKeyUp,\n        htmlProps = _objectWithoutPropertiesLoose(_ref2, [\"onKeyDown\", \"onKeyUp\"]);\n\n    var _React$useState = useState(false),\n        active = _React$useState[0],\n        setActive = _React$useState[1];\n\n    var onKeyDownRef = useLiveRef(htmlOnKeyDown);\n    var onKeyUpRef = useLiveRef(htmlOnKeyUp);\n    var onKeyDown = useCallback(function (event) {\n      var _onKeyDownRef$current;\n\n      (_onKeyDownRef$current = onKeyDownRef.current) === null || _onKeyDownRef$current === void 0 ? void 0 : _onKeyDownRef$current.call(onKeyDownRef, event);\n      if (event.defaultPrevented) return;\n      if (options.disabled) return;\n      if (event.metaKey) return;\n      var isEnter = options.unstable_clickOnEnter && event.key === \"Enter\";\n      var isSpace = options.unstable_clickOnSpace && event.key === \" \";\n\n      if (isEnter || isSpace) {\n        if (isNativeClick(event)) return;\n        event.preventDefault();\n\n        if (isEnter) {\n          event.currentTarget.click();\n        } else if (isSpace) {\n          setActive(true);\n        }\n      }\n    }, [options.disabled, options.unstable_clickOnEnter, options.unstable_clickOnSpace]);\n    var onKeyUp = useCallback(function (event) {\n      var _onKeyUpRef$current;\n\n      (_onKeyUpRef$current = onKeyUpRef.current) === null || _onKeyUpRef$current === void 0 ? void 0 : _onKeyUpRef$current.call(onKeyUpRef, event);\n      if (event.defaultPrevented) return;\n      if (options.disabled) return;\n      if (event.metaKey) return;\n      var isSpace = options.unstable_clickOnSpace && event.key === \" \";\n\n      if (active && isSpace) {\n        setActive(false);\n        event.currentTarget.click();\n      }\n    }, [options.disabled, options.unstable_clickOnSpace, active]);\n    return _objectSpread2({\n      \"data-active\": active || undefined,\n      onKeyDown: onKeyDown,\n      onKeyUp: onKeyUp\n    }, htmlProps);\n  }\n});\nvar Clickable = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useClickable\n});\n\nexport { Clickable, useClickable };\n","import { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport { a as _objectSpread2 } from '../_rollupPluginBabelHelpers-959e870d.js';\nimport { useContext, useState, useMemo } from 'react';\nimport 'reakit-utils/useSealedState';\nimport { unstable_IdContext } from './IdProvider.js';\nimport { unstable_useIdState } from './IdState.js';\n\nvar unstable_useId = createHook({\n  useState: unstable_useIdState,\n  keys: [\"id\"],\n  useOptions: function useOptions(options, htmlProps) {\n    var generateId = useContext(unstable_IdContext);\n\n    var _React$useState = useState(function () {\n      // This comes from useIdState\n      if (options.unstable_idCountRef) {\n        options.unstable_idCountRef.current += 1;\n        return \"-\" + options.unstable_idCountRef.current;\n      } // If there's no useIdState, we check if `baseId` was passed (as a prop,\n      // not from useIdState).\n\n\n      if (options.baseId) {\n        return \"-\" + generateId(\"\");\n      }\n\n      return \"\";\n    }),\n        suffix = _React$useState[0]; // `baseId` will be the prop passed directly as a prop or via useIdState.\n    // If there's neither, then it'll fallback to Context's generateId.\n    // This generateId can result in a sequential ID (if there's a Provider)\n    // or a random string (without Provider).\n\n\n    var baseId = useMemo(function () {\n      return options.baseId || generateId();\n    }, [options.baseId, generateId]);\n    var id = htmlProps.id || options.id || \"\" + baseId + suffix;\n    return _objectSpread2({}, options, {\n      id: id\n    });\n  },\n  useProps: function useProps(options, htmlProps) {\n    return _objectSpread2({\n      id: options.id\n    }, htmlProps);\n  }\n});\nvar unstable_Id = createComponent({\n  as: \"div\",\n  useHook: unstable_useId\n});\n\nexport { unstable_Id, unstable_useId };\n","/**\n * Check whether the given element is a text field, where text field is defined\n * by the ability to select within the input, or that it is contenteditable.\n */\nfunction isTextField(element) {\n  try {\n    var isTextInput = element instanceof HTMLInputElement && element.selectionStart !== null;\n    var isTextArea = element.tagName === \"TEXTAREA\";\n    var isContentEditable = element.contentEditable === \"true\";\n    return isTextInput || isTextArea || isContentEditable || false;\n  } catch (error) {\n    // Safari throws an exception when trying to get `selectionStart`\n    // on non-text <input> elements (which, understandably, don't\n    // have the text selection API). We catch this via a try/catch\n    // block, as opposed to a more explicit check of the element's\n    // input types, because of Safari's non-standard behavior. This\n    // also means we don't have to worry about the list of input\n    // types that support `selectionStart` changing as the HTML spec\n    // evolves over time.\n    return false;\n  }\n}\n\nexport { isTextField };\n","function setTextFieldValue(element, value) {\n  element.value = value;\n}\n\nexport { setTextFieldValue as s };\n","import { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport '../Box/Box.js';\nimport { a as _objectSpread2, _ as _objectWithoutPropertiesLoose } from '../_rollupPluginBabelHelpers-959e870d.js';\nimport { useRef, useMemo, useEffect, useCallback } from 'react';\nimport { useForkRef } from 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport { useWarning, warning } from 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport 'reakit-utils/tabbable';\nimport { hasFocusWithin } from 'reakit-utils/hasFocusWithin';\nimport '../Tabbable/Tabbable.js';\nimport { useClickable } from '../Clickable/Clickable.js';\nimport 'reakit-utils/useSealedState';\nimport { createOnKeyDown } from 'reakit-utils/createOnKeyDown';\nimport { getDocument } from 'reakit-utils/getDocument';\nimport { isSelfTarget } from 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/applyState';\nimport '../Id/IdProvider.js';\nimport '../Id/IdState.js';\nimport { u as unstable_useCompositeState, g as getCurrentId } from '../CompositeState-de01a7f3.js';\nimport { unstable_useId } from '../Id/Id.js';\nimport { isTextField } from 'reakit-utils/isTextField';\nimport { isPortalEvent } from 'reakit-utils/isPortalEvent';\nimport { s as setTextFieldValue } from '../setTextFieldValue-78ab5d56.js';\n\nfunction getWidget(item) {\n  return item.querySelector(\"[data-composite-item-widget]\");\n}\n\nfunction useItem(options) {\n  return useMemo(function () {\n    var _options$items;\n\n    return (_options$items = options.items) === null || _options$items === void 0 ? void 0 : _options$items.find(function (item) {\n      return options.id && item.id === options.id;\n    });\n  }, [options.items, options.id]);\n}\n\nvar unstable_useCompositeItem = createHook({\n  name: \"CompositeItem\",\n  compose: [useClickable, unstable_useId],\n  useState: unstable_useCompositeState,\n  keys: [\"stopId\"],\n  useOptions: function useOptions(options) {\n    return _objectSpread2({}, options, {\n      id: options.stopId || options.id,\n      currentId: getCurrentId(options),\n      unstable_clickOnSpace: options.unstable_hasActiveWidget ? false : options.unstable_clickOnSpace\n    });\n  },\n  useProps: function useProps(options, _ref) {\n    var htmlRef = _ref.ref,\n        _ref$tabIndex = _ref.tabIndex,\n        htmlTabIndex = _ref$tabIndex === void 0 ? 0 : _ref$tabIndex,\n        htmlOnFocus = _ref.onFocus,\n        htmlOnBlur = _ref.onBlur,\n        htmlOnKeyDown = _ref.onKeyDown,\n        htmlOnClick = _ref.onClick,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"ref\", \"tabIndex\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"onClick\"]);\n\n    var ref = useRef(null);\n    var id = options.id;\n    var trulyDisabled = options.disabled && !options.focusable;\n    var isCurrentItem = options.currentId === id;\n    var isCurrentItemRef = useLiveRef(isCurrentItem);\n    var hasFocusedComposite = useRef(false);\n    var item = useItem(options);\n    var onFocusRef = useLiveRef(htmlOnFocus);\n    var onBlurRef = useLiveRef(htmlOnBlur);\n    var onKeyDownRef = useLiveRef(htmlOnKeyDown);\n    var onClickRef = useLiveRef(htmlOnClick);\n    var shouldTabIndex = !options.unstable_virtual && !options.unstable_hasActiveWidget && isCurrentItem || // We don't want to set tabIndex=\"-1\" when using CompositeItem as a\n    // standalone component, without state props.\n    !options.items;\n    process.env.NODE_ENV !== \"production\" ? useWarning(!!options.stopId, \"The `stopId` prop has been deprecated. Please, use the `id` prop instead.\", ref) : void 0;\n    useEffect(function () {\n      var _options$registerItem;\n\n      if (!id) return undefined;\n      (_options$registerItem = options.registerItem) === null || _options$registerItem === void 0 ? void 0 : _options$registerItem.call(options, {\n        id: id,\n        ref: ref,\n        disabled: !!trulyDisabled\n      });\n      return function () {\n        var _options$unregisterIt;\n\n        (_options$unregisterIt = options.unregisterItem) === null || _options$unregisterIt === void 0 ? void 0 : _options$unregisterIt.call(options, id);\n      };\n    }, [id, trulyDisabled, options.registerItem, options.unregisterItem]);\n    useEffect(function () {\n      var self = ref.current;\n\n      if (!self) {\n        process.env.NODE_ENV !== \"production\" ? warning(true, \"Can't focus composite item component because `ref` wasn't passed to component.\", \"See https://reakit.io/docs/composite\") : void 0;\n        return;\n      } // `moves` will be incremented whenever next, previous, up, down, first,\n      // last or move have been called. This means that the composite item will\n      // be focused whenever some of these functions are called. We're using\n      // isCurrentItemRef instead of isCurrentItem because we don't want to\n      // focus the item if isCurrentItem changes (and options.moves doesn't).\n\n\n      if (options.unstable_moves && isCurrentItemRef.current) {\n        self.focus();\n      }\n    }, [options.unstable_moves]);\n    var onFocus = useCallback(function (event) {\n      var _onFocusRef$current, _options$setCurrentId;\n\n      (_onFocusRef$current = onFocusRef.current) === null || _onFocusRef$current === void 0 ? void 0 : _onFocusRef$current.call(onFocusRef, event);\n      if (event.defaultPrevented) return;\n      if (isPortalEvent(event)) return;\n      if (!id) return; // Using originalCurrentId because currentId may be different due to\n      // getCurrentId call. If it's already set as the current id, we don't\n      // want to call setCurrentId again, which would cause an additional\n      // render.\n\n      (_options$setCurrentId = options.setCurrentId) === null || _options$setCurrentId === void 0 ? void 0 : _options$setCurrentId.call(options, id); // When using aria-activedescendant, we want to make sure that the\n      // composite container receives focus, not the composite item.\n      // But we don't want to do this if the target is another focusable\n      // element inside the composite item, such as CompositeItemWidget.\n\n      if (isSelfTarget(event) && options.unstable_virtual && options.baseId) {\n        var target = event.target;\n        var composite = getDocument(target).getElementById(options.baseId);\n\n        if (composite) {\n          hasFocusedComposite.current = true;\n          composite.focus();\n        }\n      }\n    }, [id, options.setCurrentId, options.unstable_virtual, options.baseId]);\n    var onBlur = useCallback(function (event) {\n      var _onBlurRef$current;\n\n      if (options.unstable_virtual) {\n        if (hasFocusedComposite.current) {\n          // When hasFocusedComposite is true, composite has been focused\n          // right after focusing this item. This is an intermediate blur\n          // event, so we ignore it.\n          hasFocusedComposite.current = false;\n          event.stopPropagation();\n          return;\n        }\n      }\n\n      (_onBlurRef$current = onBlurRef.current) === null || _onBlurRef$current === void 0 ? void 0 : _onBlurRef$current.call(onBlurRef, event);\n    }, [options.unstable_virtual]);\n    var onCharacterKeyDown = useCallback(function (event) {\n      var _onKeyDownRef$current;\n\n      (_onKeyDownRef$current = onKeyDownRef.current) === null || _onKeyDownRef$current === void 0 ? void 0 : _onKeyDownRef$current.call(onKeyDownRef, event);\n      if (!isSelfTarget(event)) return;\n\n      if (event.key.length === 1 && event.key !== \" \") {\n        var widget = getWidget(event.currentTarget);\n\n        if (widget && isTextField(widget)) {\n          widget.focus();\n          var key = event.key; // Using RAF here because otherwise the key will be added twice\n          // to the input when using roving tabindex\n\n          window.requestAnimationFrame(function () {\n            setTextFieldValue(widget, key);\n          });\n        }\n      }\n    }, []);\n    var onKeyDown = useMemo(function () {\n      return createOnKeyDown({\n        onKeyDown: onCharacterKeyDown,\n        stopPropagation: true,\n        // We don't want to listen to focusable elements inside the composite\n        // item, such as a CompositeItemWidget.\n        shouldKeyDown: isSelfTarget,\n        keyMap: function keyMap() {\n          // `options.orientation` can also be undefined, which means that\n          // both `isVertical` and `isHorizontal` will be `true`.\n          var isVertical = options.orientation !== \"horizontal\";\n          var isHorizontal = options.orientation !== \"vertical\";\n          var isGrid = !!(item === null || item === void 0 ? void 0 : item.groupId);\n\n          var Delete = function Delete(event) {\n            var widget = getWidget(event.currentTarget);\n\n            if (widget && isTextField(widget)) {\n              setTextFieldValue(widget, \"\");\n            }\n          };\n\n          var up = options.up && function () {\n            return options.up();\n          };\n\n          var next = options.next && function () {\n            return options.next();\n          };\n\n          var down = options.down && function () {\n            return options.down();\n          };\n\n          var previous = options.previous && function () {\n            return options.previous();\n          };\n\n          return {\n            Delete: Delete,\n            Backspace: Delete,\n            ArrowUp: (isGrid || isVertical) && up,\n            ArrowRight: (isGrid || isHorizontal) && next,\n            ArrowDown: (isGrid || isVertical) && down,\n            ArrowLeft: (isGrid || isHorizontal) && previous,\n            Home: function Home(event) {\n              if (!isGrid || event.ctrlKey) {\n                var _options$first;\n\n                (_options$first = options.first) === null || _options$first === void 0 ? void 0 : _options$first.call(options);\n              } else {\n                var _options$previous;\n\n                (_options$previous = options.previous) === null || _options$previous === void 0 ? void 0 : _options$previous.call(options, true);\n              }\n            },\n            End: function End(event) {\n              if (!isGrid || event.ctrlKey) {\n                var _options$last;\n\n                (_options$last = options.last) === null || _options$last === void 0 ? void 0 : _options$last.call(options);\n              } else {\n                var _options$next;\n\n                (_options$next = options.next) === null || _options$next === void 0 ? void 0 : _options$next.call(options, true);\n              }\n            },\n            PageUp: function PageUp() {\n              if (isGrid) {\n                var _options$up;\n\n                (_options$up = options.up) === null || _options$up === void 0 ? void 0 : _options$up.call(options, true);\n              } else {\n                var _options$first2;\n\n                (_options$first2 = options.first) === null || _options$first2 === void 0 ? void 0 : _options$first2.call(options);\n              }\n            },\n            PageDown: function PageDown() {\n              if (isGrid) {\n                var _options$down;\n\n                (_options$down = options.down) === null || _options$down === void 0 ? void 0 : _options$down.call(options, true);\n              } else {\n                var _options$last2;\n\n                (_options$last2 = options.last) === null || _options$last2 === void 0 ? void 0 : _options$last2.call(options);\n              }\n            }\n          };\n        }\n      });\n    }, [onCharacterKeyDown, options.orientation, item, options.up, options.next, options.down, options.previous, options.first, options.last]);\n    var onClick = useCallback(function (event) {\n      var _onClickRef$current;\n\n      (_onClickRef$current = onClickRef.current) === null || _onClickRef$current === void 0 ? void 0 : _onClickRef$current.call(onClickRef, event);\n      if (event.defaultPrevented) return;\n      var widget = getWidget(event.currentTarget);\n\n      if (widget && !hasFocusWithin(widget)) {\n        // If there's a widget inside the composite item, we make sure it's\n        // focused when pressing enter, space or clicking on the composite item.\n        widget.focus();\n      } else if (isSelfTarget(event) && !hasFocusWithin(event.currentTarget)) {\n        // VoiceOver doesn't automatically focus the composite item when it's not\n        // a button, so we force focus here.\n        self.focus();\n      }\n    }, []);\n    return _objectSpread2({\n      ref: useForkRef(ref, htmlRef),\n      id: id,\n      tabIndex: shouldTabIndex ? htmlTabIndex : -1,\n      \"aria-selected\": options.unstable_virtual && isCurrentItem ? true : undefined,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onKeyDown: onKeyDown,\n      onClick: onClick\n    }, htmlProps);\n  }\n});\nvar unstable_CompositeItem = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: unstable_useCompositeItem\n});\n\nexport { unstable_CompositeItem, unstable_useCompositeItem };\n","import { contains } from './contains.js';\n\n/**\n * Returns `true` if `event` has been fired within a React Portal element.\n */\n\nfunction isPortalEvent(event) {\n  return !contains(event.currentTarget, event.target);\n}\n\nexport { isPortalEvent };\n","/**\n * Similar to `Element.prototype.contains`.\n */\nfunction contains(parent, child) {\n  return parent === child || parent.contains(child);\n}\n\nexport { contains };\n","import { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport '../Box/Box.js';\nimport '../_rollupPluginBabelHelpers-959e870d.js';\nimport 'react';\nimport 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport 'reakit-warning';\nimport 'reakit-utils/useLiveRef';\nimport 'reakit-utils/tabbable';\nimport 'reakit-utils/hasFocusWithin';\nimport '../Tabbable/Tabbable.js';\nimport '../Clickable/Clickable.js';\nimport 'reakit-utils/useSealedState';\nimport 'reakit-utils/createOnKeyDown';\nimport 'reakit-utils/getDocument';\nimport 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/applyState';\nimport '../Id/IdProvider.js';\nimport '../Id/IdState.js';\nimport '../CompositeState-de01a7f3.js';\nimport '../Id/Id.js';\nimport 'reakit-utils/isTextField';\nimport 'reakit-utils/isPortalEvent';\nimport '../setTextFieldValue-78ab5d56.js';\nimport { unstable_useCompositeItem } from '../Composite/CompositeItem.js';\nimport { useToolbarState } from './ToolbarState.js';\n\nvar useToolbarItem = createHook({\n  name: \"ToolbarItem\",\n  compose: unstable_useCompositeItem,\n  useState: useToolbarState\n});\nvar ToolbarItem = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useToolbarItem\n});\n\nexport { ToolbarItem, useToolbarItem };\n"],"sourceRoot":""}